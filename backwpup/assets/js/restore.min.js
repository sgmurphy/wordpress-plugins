window.BWU=window.BWU||{},function(l,d,u,w,y,p,g){p(window).load(function(){var e=u("?step")?u("?step"):1,o=document.querySelector("#restore_step"),t=o?o.getAttribute("data-nonce"):"",o=l.Restore.FactoryStrategy(d,t),r=l.Restore.FactoryMigrate(d,t),s=l.DecrypterFactory(d,document.querySelector("#decrypt_key"),document.querySelector("#decryption_key")),n=l.Restore.FactoryDatabaseRestore(d,t,{onMessageCallback:function(e){p("#restore_progress").text(g.restoringPrefix+e.message)},onSuccessCallback:function(){l.Restore.Functions.loadNextStep(6,t)}}),c=l.Restore.FactoryFilesRestore(d,t,{onMessageCallback:function(e){p("#restore_progress").text(g.restoringPrefix+e.message)},onSuccessCallback:function(){n.init().restore()}}),a=l.Restore.FactoryDecompress(d,t,u("?restore_file")),i=l.Restore.FactoryDownload(d,t,u("?file"),u("?service"),u("?jobid"),u("?restore_file")),o=l.Restore.FactoryController(d,t,u,w,document.querySelector("#drag-drop-area"),o,n,c,a,i,s,r);o&&(o.init(),y.isFunction(o["step"+e]))&&o["step"+e]()})}(window.BWU,window.ajaxurl,window.url,window.plupload,window._,window.jQuery,window.backwpupRestoreLocalized);