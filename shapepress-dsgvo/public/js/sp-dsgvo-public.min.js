const CATEGORY_SLUG_STATISTICS="statistics";const CATEGORY_SLUG_TARGETING="targeting";const CATEGORY_SLUG_EMBEDDINGS="embeddings";const CATEGORY_SLUG_LIVECHAT="live-chat";const CATEGORY_SLUG_CHATBOTS="chat-bots";const CATEGORY_SLUG_PLUGINS="plugins";const CATEGORY_SLUG_MANDATORY="necessary";(function(n){n(document).ready(function(){n(document).on("click","#popup_accept_button",function(e){e.preventDefault();var t=n("select[name='google-fonts'] option:selected").text();if(t==="Yes"){var o=n(document).find("link[data-href]");n.each(o,function(){n(this).attr("href",n(this).attr("data-href")).removeAttr("data-href")})}});n(window).scroll(function(){if(n("#cookie-notice").is(":visible")==false)return;var e=parseInt(n("#cookie-notice").css("height"));if(n(window).scrollTop()+n(window).height()>n(document).height()-(e+20)){n(document.body).css("padding-bottom",e+"px")}else{n(document.body).css("padding-bottom","inherit")}});var e=n(".sp-dsgvo-iframe-button-create");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();n("<iframe />",{src:"https://www.youtube.com/embed/ApvLgliq_lY?feature=oembed"}).appendTo("#iframeContainer")});var e=n(".sp-dsgvo-iframe-button-unblock");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();unblock(n(this).attr("data-slug"))})})})(jQuery);(function(g){"use strict";var n=null;var o=null;function e(){var e=g(".sp-dsgvo-lang-active"),t=g(".sp-dsgvo-lang-dropdown"),o=g(".sp-dsgvo-popup-language-switcher");e.on("click tap touchstart",function(){t.toggleClass("active")});g(document).on("click tap touchstart ",function(e){if(!o.is(e.target)&&o.has(e.target).length===0){t.removeClass("active")}})}function t(){var e=g("#sp-dsgvo-privacy-content-category-content");if(e.length>0){n=new SimpleBar(g("#sp-dsgvo-privacy-content-category-content")[0],{autoHide:false})}var t=g(".sp-dsgvo-popup-more-information-content");if(t.length>0){o=new SimpleBar(g(".sp-dsgvo-popup-more-information-content")[0],{autoHide:false})}}function a(){var e=g(".dsgvo-terms-toggle");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();var t=g(this),o=g("#terms_content_"+t.attr("data-id"));o.addClass("active");if(n!=null)n.recalculate();g(window).resize()})}function i(){var e=g(".sp-dsgvo-show-privacy-popup");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();u()});e=g(".lwb-ppsp");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();u()});e=g(".sp-dsgvo-navigate-privacy-policy");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();window.location=spDsgvoGeneralConfig.privacyPolicyPageUrl});e=g(".sp-dsgvo-direct-enable-popup");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();var t=g(this).data("slug");if(t==null||t=="")return;I(t)})}function r(){g(".sp-dsgvo-popup-overlay").on("click tap touchstart",function(e){var t=g(e.target);if(t.is(".sp-dsgvo-privacy-popup")||t.parents().is(".sp-dsgvo-privacy-popup")){return}else{if(P()==false){k("dismissAll");l(true)}else{l(false)}}})}function s(){var e=g(".sp-dsgvo-popup-close");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();if(P()==false){k("dismissAll");l(true)}else{l(false)}});var t=g(".sp-dsgvo-privacy-btn-accept-nothing");t.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();k("dismissAll");l(false)});var o=g(".sp-dsgvo-privacy-btn-accept-selection");o.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();k("acceptSelected");l(false)});var n=g(".sp-dsgvo-privacy-btn-accept-all");n.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();k("acceptAll");l(false)})}function c(){g(".sp-dsgvo-switch-integration").not(":disabled").prop("checked",false);g(".sp-dsgvo-switch-integration").change(function(){p()});var e=R();e.forEach(function(e){g("#sp-dsgvo-switch-integration-"+e).prop("checked",true)})}function p(){var e=R();var o=g(".sp-dsgvo-switch-integration:checked").map(function(){return g(this).data("slug")}).get();var t=e.length===o.length&&e.every(function(e,t){return e===o[t]});if(t==false){g(".sp-dsgvo-privacy-btn-accept-selection").addClass("green");g(".sp-dsgvo-privacy-btn-accept-selection").removeClass("grey")}else{g(".sp-dsgvo-privacy-btn-accept-selection").removeClass("green");g(".sp-dsgvo-privacy-btn-accept-selection").addClass("grey")}}function l(e){var t=g(".sp-dsgvo-popup-overlay");if(t.length>0){t.fadeOut();t.addClass("sp-dsgvo-overlay-hidden");if(spDsgvoGeneralConfig.showNoticeOnClose==1&&e){d()}}}function u(){c();var e=g(".sp-dsgvo-popup-overlay");if(e.length>0){f();e.fadeIn();e.removeClass("sp-dsgvo-overlay-hidden")}}function d(){var e=g("#cookie-notice");if(spDsgvoGeneralConfig.noticeHideEffect==="fade"){e.fadeIn()}else if(spDsgvoGeneralConfig.noticeHideEffect==="slide"){e.slideDown()}else{e.css("display","flex")}g("body").addClass("cookies-not-accepted")}function f(){var e=g("#cookie-notice");if(e.is(":visible")==false)return;if(spDsgvoGeneralConfig.noticeHideEffect==="fade"){e.fadeOut(function(){g("#cookie-notice").hide();g("#cookie-notice-blocker").hide();g("body").removeClass("cookies-not-accepted")})}else if(spDsgvoGeneralConfig.noticeHideEffect==="slide"){e.slideUp(function(){g("#cookie-notice").hide();g("#cookie-notice-blocker").hide();g("body").removeClass("cookies-not-accepted")})}else{g("#cookie-notice").hide();g("#cookie-notice-blocker").hide();g("body").removeClass("cookies-not-accepted")}}function v(){if(spDsgvoIntegrationConfig==null)return;if(x(spDsgvoIntegrationConfig).length==0&&spDsgvoGeneralConfig.forceCookieInfo==0)return;if(spDsgvoGeneralConfig.currentPageId==spDsgvoGeneralConfig.privacyPolicyPageId||spDsgvoGeneralConfig.currentPageId==spDsgvoGeneralConfig.imprintPageId){return}if(P()==false){if(spDsgvoGeneralConfig.initialDisplayType=="cookie_notice"){d()}else if(spDsgvoGeneralConfig.initialDisplayType=="policy_popup"){u()}}}function h(t,e,o){g("#sp-dsgvo-popup-more-information-title").html(t);g("#sp-dsgvo-popup-more-information-progress").show();g(".sp-dsgvo-privacy-popup-title-general").hide();g("#sp-dsgvo-privacy-content-category-content").hide();g("#sp-dsgvo-privacy-footer").hide();g(".sp-dsgvo-header-description-text").hide();g("#sp-dsgvo-more-information-switch-cb").attr("data-slug",e);g("#sp-dsgvo-more-information-switch-cb").prop("checked",g("#sp-dsgvo-switch-integration-"+e).prop("checked"));g("#sp-dsgvo-more-information-switch-cb").prop("disabled",g("#sp-dsgvo-switch-integration-"+e).prop("disabled"));g(".sp-dsgvo-privacy-popup-title-details").show();g("#sp-dsgvo-popup-more-information").show();var n=U(e);g.get(spDsgvoGeneralConfig.wpJsonUrl+"lwTextEndpoint",{slug:e,textId:"popup",locale:o,includeTagManager:n.usedTagmanager},function(e){g("#sp-dsgvo-popup-more-information-title").html(t);g("#sp-dsgvo-popup-more-information-content").html(e);g("#sp-dsgvo-popup-more-information-progress").hide();g(".sp-dsgvo-privacy-popup-title-details").show();g("#sp-dsgvo-popup-more-information").show()}).fail(function(){m()})}function m(){g("#sp-dsgvo-popup-more-information").hide();g(".sp-dsgvo-privacy-popup-title-details").hide();g("#sp-dsgvo-popup-more-information-progress").hide();g("#sp-dsgvo-popup-more-information-content").html("");g("#sp-dsgvo-more-information-switch-cb").attr("data-slug","");g("#sp-dsgvo-more-information-switch-cb").prop("checked",false);g(".sp-dsgvo-privacy-popup-title-general").show();g(".sp-dsgvo-header-description-text").show();g("#sp-dsgvo-privacy-content-category-content").show();g("#sp-dsgvo-privacy-footer").show()}function y(){var e=g(".sp-dsgvo-more-information-link");e.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();var t=g(this);var o=t.attr("data-title");var n=t.attr("data-slug");h(o,n,spDsgvoGeneralConfig.locale)});var t=g(".sp-dsgvo-popup-more-information-close");t.on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();m()});g("#sp-dsgvo-more-information-switch-cb").change(function(){var e=g(this);var t=e.attr("data-slug");if(t=="")return;if(g(this).prop("disabled"))return;g("#sp-dsgvo-switch-integration-"+t).prop("checked",e.prop("checked"));p()})}function C(){g('input[name="sp-dsgvo-switch-category"]').change(function(){var e=g(this);var t=e.attr("data-slug");g('input[data-category="'+t+'"]').each(function(){if(g(this).prop("disabled"))return;var e=g(this).attr("data-category");g(this).prop("checked",g("#sp-dsgvo-switch-category-"+e).prop("checked"))});p()})}function b(){g("#cn-btn-settings").on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();f();u()})}function k(e){if(e==null||e=="")return;var t=spDsgvoGeneralConfig.allIntegrationSlugs;var o=g(".sp-dsgvo-switch-integration:checkbox:checked");var n=[];switch(e){case"acceptAll":n=t;break;case"acceptSelected":g(".sp-dsgvo-switch-integration:checkbox:checked").each(function(){n.push(g(this).data("slug"))});break;case"dismissAll":n=[];break}var a=R();var i=0;var r=0;n.forEach(function(e){var t=U(e);if(t==null)return;if(t.usedTagmanager=="google-analytics"){i++}if(t.usedTagmanager=="matomo-analytics"){r++}});if(i>0)n.push("google-tagmanager");if(r>0)n.push("matomo-tagmanager");w(n);T();_(a)}function w(e){var t=0;if(e!=null&&e.length>0){t=spDsgvoGeneralConfig.cookieLifeTime}else{t=spDsgvoGeneralConfig.cookieLifeTimeDismiss}var o={};o.version=spDsgvoGeneralConfig.cookieVersion;o.lifeTime=t;o.integrations=e;o.lastChangeOn=(new Date).getTime();var n=location.protocol!=="https:"?"":";Secure;";var a=encodeURIComponent(JSON.stringify(o));var i=new Date;i.setTime(i.getTime()+parseInt(t)*1e3);var r="expires="+i.toUTCString();document.cookie=spDsgvoGeneralConfig.cookieName+"="+a+";"+r+";path=/"+n}function D(){return window.google_tag_manager!=null}function E(){return window._mtm!=null}function T(){var e=R();var o=0;var n=0;e.forEach(function(e){var t=U(e);if(t==null)return;if(t.usedTagmanager=="google-tagmanager"){o++}if(t.usedTagmanager=="matomo-tagmanager"){n++}});if(o>0&&D()==false){var t=U("google-tagmanager");if(t==null)return;try{g("head").append(atob(t.jsCode))}catch(e){console.log("could not activate "+t.slug)}}if(n>0&&E()==false){var t=U("matomo-tagmanager");if(t==null)return;try{g("head").append(atob(t.jsCode))}catch(e){console.log("could not activate "+t.slug)}}e.forEach(function(e){if(e=="google-tagmanager")return;if(e=="matomo-tagmanager")return;var t=U(e);if(t==null)return;switch(t.category){case CATEGORY_SLUG_STATISTICS:G(t);break;case CATEGORY_SLUG_TARGETING:G(t);break;case CATEGORY_SLUG_CHATBOTS:G(t);break;case CATEGORY_SLUG_EMBEDDINGS:A(t);break}var o=new CustomEvent("lw-optinout",{detail:{integrationId:t.slug,integrationCategory:t.category,integrationCode:t.jsCode,mode:"optin",time:new Date},bubbles:true,cancelable:false});document.querySelector(".sp-dsgvo-privacy-popup").dispatchEvent(o)})}function G(t){if(t.insertLocation=="head"){var e=g("head").html().indexOf("sp-dsgvo-script-container-"+t.slug);var o=g("head").html().lastIndexOf("sp-dsgvo-script-container-"+t.slug);if(e==o){try{g("head").append(atob(t.jsCode))}catch(e){console.log("could not activate "+t.slug)}}}else{var n=g(".sp-dsgvo-script-container-"+t.slug);var a=n.length;if(a==false){n=g("<div/>",{class:"sp-dsgvo-script-container sp-dsgvo-script-container-"+t.slug}).appendTo(t.insertLocation);a=true}var i=g.trim(n.html())=="";if(a&&i){try{n.append(atob(t.jsCode))}catch(e){console.log("could not activate "+t.slug)}}}}function A(u){var e=g(".sp-dsgvo-embedding-"+u.slug);e.each(function(){var t=g(this);var e=t.find(".sp-dsgvo-hidden-embedding-content");if(e==null||e.html()==null||e.html()=="")return;try{var o=atob(e.html());var n=document.createElement("textarea");n.innerHTML=o;var a=g.parseHTML(n.value);t.empty();if(Array.isArray(a)){a.forEach(e=>{if(e.nodeType===1){t.append(e)}})}else{t.append(a)}var i=(new DOMParser).parseFromString(n.value,"text/html");var r=i.getElementsByTagName("script");if(r.length>0){var s=[];var c=[];for(var p=0;p<r.length;p++){var l=document.createElement("script");l.innerHTML=r[p].innerHTML;l.async=false;l.defer=false;l.setAttribute("defer","");if(r[p].src!=null&&r[p].src!="")l.src=r[p].src;if(r[p].type!=null&&r[p].type!="")l.type=r[p].type;if(r[p].src!=null&&r[p].src!="")s.push(l);else c.push(l)}let t=[];s.forEach(function(e){t.push(S(e))});Promise.all(t).then(function(){for(var e=0;e<c.length;e++){document.body.appendChild(c[e])}console.log("all scripts loaded")}).catch(function(e){console.log(e+" failed to load")})}}catch(e){console.log("could not enable embedding: "+u.slug)}})}function S(o){return new Promise(function(e,t){o.onload=function(){e(o.src)};o.onerror=function(){t(o.src)};document.body.appendChild(o)})}function I(e){var t=R();var o=U(e);if(o==null)return;A(o);t.push(e);w(t);var n=new CustomEvent("lw-optinout",{detail:{integrationId:o.slug,integrationCategory:o.category,integrationCode:o.jsCode,mode:"optin",time:new Date},bubbles:true,cancelable:false});document.querySelector(".sp-dsgvo-privacy-popup").dispatchEvent(n)}function _(a){var i=0;var r=R();if(r.length==0&&a.length==0)return;if(r==null||r==""||r==""||Array.isArray(r)==false){g(".sp-dsgvo-script-container").each(function(){g(this).empty()});spDsgvoIntegrationConfig.forEach(function(e){var t=e.cookieNames;if(t!=null||t!=""){var o=t.split(";");if(o!=null&&o.length>0){o.forEach(function(e){N(e)})}}if(a.includes(e.slug)){var n=new CustomEvent("lw-optinout",{detail:{integrationId:e.slug,integrationCategory:e.category,integrationCode:e.jsCode,mode:"optout",time:new Date},bubbles:true,cancelable:false});document.querySelector(".sp-dsgvo-privacy-popup").dispatchEvent(n)}});location.reload();return}spDsgvoIntegrationConfig.forEach(function(e){if(r.includes(e.slug)==false){if(a.includes(e.slug))i++;var t=new CustomEvent("lw-optinout",{detail:{integrationId:e.slug,integrationCategory:e.category,integrationCode:e.jsCode,mode:"optout",time:new Date},bubbles:true,cancelable:false});document.querySelector(".sp-dsgvo-privacy-popup").dispatchEvent(t);var o=e.cookieNames;if(o!=null||o!=""){var n=o.split(";");if(n!=null&&n.length>0){n.forEach(function(e){N(e)})}}}});if(i>0){location.reload()}}function L(e){var t=e+"=";var o=decodeURIComponent(document.cookie);var n=o.split(";");for(var a=0;a<n.length;a++){var i=n[a];while(i.charAt(0)==" "){i=i.substring(1)}if(i.indexOf(t)==0){return i.substring(t.length,i.length)}}return""}function O(e){if(e==null||e=="")return false;var t={};try{t=JSON.parse(decodeURIComponent(e))}catch(e){return false}if(t.version<spDsgvoGeneralConfig.cookieVersion){return false}return true}function P(){var e=L(spDsgvoGeneralConfig.cookieName);return O(e)}function R(){var t=[];var e=L(spDsgvoGeneralConfig.cookieName);if(e!=""){try{var o=JSON.parse(decodeURIComponent(e));t=o.integrations}catch(e){t=[]}}return t}function N(e){if(e=="")return;var t=new RegExp("^"+e,"g");if(t.test(document.cookie)==false)return;var o=document.cookie.split(/=[^;]*(?:;\s*|$)/);for(var n=0;n<o.length;n++){if(t.test(o[n])){document.cookie=o[n]+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT;"}}}function U(t){var o=null;spDsgvoIntegrationConfig.forEach(function(e){if(e.slug==t){o=e;return}});return o}function x(e){var t=[];e.forEach(function(e){if(e.category!=CATEGORY_SLUG_MANDATORY){t.push(e)}});return t}function Y(t){var o=false;var e=R();e.forEach(function(e){if(e==t){o=true;return}});return o}g(document).ready(function(){T();e();y();a();s();C();c();t();b();i();r();v()});const H="iframe/blocked";const M={blacklisted:[]};function j(e,t){var o=B(e.toLowerCase());if(o==null)return false;var n=Y(o.slug)==false;return n}function B(n){if(spDsgvoIntegrationConfig==null)return null;var a=null;var i=false;spDsgvoIntegrationConfig.forEach(function(e){if(i)return;var t=e.hosts;if(t!=null&&t!=""){var o=t.split(";");if(o!=null&&o.length>0){o.forEach(function(e){if(n.indexOf(e.toLowerCase())>=0){i=true;return}});if(i){a=e;return}}}});return a}const q={characterData:true,characterDataOldValue:true,childList:true,subtree:true};function J(t){for(let e=0;e<t.length;e++){const i=t[e].addedNodes;for(let e=0;e<i.length;e++){const r=i[e];if(r.nodeType===1&&r.tagName==="IFRAME"){const s=r.src;const c=r.type;if(j(s,c)){M.blacklisted.push(r.cloneNode());r.type=H;var o=V(r);const p=function(e){if(r.getAttribute("type")===H)e.preventDefault();r.removeEventListener("beforescriptexecute",p)};r.addEventListener("beforescriptexecute",p);var n=r.parentElement;r.parentElement&&r.parentElement.removeChild(r);var a=document.createElement("div");a.innerHTML=o;n.appendChild(a);Q()}}}}}function V(e){var t=F(e);var o=B(e.src);var n=btoa(t);var a=o.placeholder;a=a.replace("{encodedContent}",n);return a}function F(e){var t=document.createElement("div");t.appendChild(e.cloneNode(true));return t.innerHTML}function Q(){g(".sp-dsgvo-direct-enable-popup").on("click tap touchstart",function(e){e.preventDefault();e.stopPropagation();var t=g(this).data("slug");if(t==null||t=="")return;I(t)})}const z=new MutationObserver(J);var $=document.documentElement||document.body;if(spDsgvoGeneralConfig.clientSideBlocking=="1"){z.observe($,q)}})(jQuery);