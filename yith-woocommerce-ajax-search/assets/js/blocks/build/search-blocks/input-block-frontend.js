"use strict";(self.webpackChunkwebpackYWCASBlocksJsonp=self.webpackChunkwebpackYWCASBlocksJsonp||[]).push([[179],{223:(e,t,o)=>{o.d(t,{z6:()=>m,cM:()=>w,Lw:()=>i});var a=o(609),r=o(427),s=o(828),c=o(939);const l=({submitStyle:e,buttonLabel:t,iconType:o,onClick:l,wrapperStyle:n})=>{switch(e){case"text":return(0,a.createElement)(c.Button,{className:"ywcas-submit-button",color:"secondary",size:"sm",onClick:l},t);case"icon":return"icon-right"===o&&(0,a.createElement)(c.Box,{className:"ywcas-submit-wrapper",sx:n},(0,a.createElement)(r.Icon,{className:"ywcas-submit-icon",onClick:l,icon:(0,s.$p)()}));case"iconText":return(0,a.createElement)(c.Button,{className:"ywcas-submit-button",color:"secondary",size:"sm",onClick:l},(0,a.createElement)(r.Icon,{className:"ywcas-submit-icon",icon:(0,s.$p)()})," ",t)}};var n=o(315);const i=({queryString:e,placeholder:t,placeholderTextColor:o,inputTextColor:i,inputBgColor:u,inputBgFocusColor:m,inputBorderColor:p,inputBorderFocusColor:d,inputBorderSize:y,inputBorderRadius:b,submitContentColor:f,submitContentHoverColor:h,submitBgColor:g,submitBgHoverColor:w,submitBorderColor:C,submitBorderHoverColor:_,submitStyle:E,size:S,setSearchQuery:k,iconType:B,buttonLabel:x,buttonBorderRadius:v,onFocus:L=null,onBlur:N=null,onCloseMobile:$=null,isSmallDevice:A=!1})=>{const T=()=>({borderRadius:"50%",backgroundColor:`${g}!important`,border:"1px solid",borderColor:`${C||"#FFF"} !important`,svg:{height:""!==g&&"#fff"!==g.toLowerCase()&&"#ffffff"!==g.toLowerCase()?"20px":"24px"},"&:hover, & > sgv:hover":{backgroundColor:`${w}!important`,borderColor:`${_||"#FFF"} !important`}}),F=()=>{if(""!==e){const t=n.YWCAS_SITE_URL+"?ywcas=1&post_type=product&lang="+n.YWCAS_LANG+"&s="+e;window.location.href=t}};return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(c.Box,{className:"ywcas-block-components-search-field",sx:{"& .ywcas-input-field-wrapper":{flex:1,borderRadius:`${b.topLeft} ${b.topRight} ${b.bottomRight} ${b.bottomLeft}`,borderColor:`${p||"#7C7C7C"}!important`,borderWidth:`${y.topLeft} ${y.topRight}  ${y.bottomLeft} ${y.bottomRight}`,backgroundColor:`${u||"#FFF"}!important`,borderStyle:"solid",overflow:"hidden","&:focus-within":{backgroundColor:`${m||"#FFF"}!important`,borderColor:`${d||"#5B5B5B"}!important`},"& >div":{width:"100%",padding:0,input:{flex:1}}},"& .ywcas-input-field input":{color:`${i||"#000"} !important`,fontSize:"1rem!important"},"& .ywcas-input-field input::placeholder":{color:`${o||"#000"}`,opacity:1},"& .ywcas-submit-button":{color:`${f||"#fff"} !important`,backgroundColor:`${g||"#a7ab06"} !important`,borderColor:`${C||"#FFF"} !important`,borderRadius:`${v.topLeft} ${v.topRight} ${v.bottomRight} ${v.bottomLeft}`},"& .ywcas-submit-button:hover":{color:`${h||"#fff"} !important`,backgroundColor:`${w||"#a7ab06"} !important`,borderColor:`${_||"#FFF"} !important`},"& .ywcas-submit-icon":{color:`${f||"#000"} !important`},"&:hover .ywcas-submit-icon, & .ywcas-submit-icon:hover":{color:`${h||"#000"} !important`},"& .lapilliUI-Input__backdrop":{display:"none"}}},A&&(0,a.createElement)("div",{className:"mobile-search-close",onClick:$},(0,a.createElement)(r.Icon,{icon:(0,s.US)()})),(0,a.createElement)(c.Stack,{direction:"row",spacing:0},(0,a.createElement)(c.Stack,{className:"ywcas-input-field-wrapper"},(0,a.createElement)(c.Input,{className:"ywcas-input-field",placeholder:t,autoComplete:"off",size:S,value:e,onChange:k,onFocus:L,onBlur:N,onKeyDown:e=>{"Enter"===e.key&&F()},startAdornment:"icon"===E&&"icon-left"===B?(0,a.createElement)(c.Box,{className:"ywcas-submit-wrapper",sx:T()},(0,a.createElement)(r.Icon,{className:"ywcas-submit-icon",icon:(0,s.$p)()})):null,endAdornment:(0,a.createElement)(l,{submitStyle:E,buttonLabel:x,submitBgColor:g,iconType:B,onClick:F,wrapperStyle:T()})})))))};var u=o(572);const m=({children:e,...t})=>{const o=(0,u.Ub)(`(max-width: ${n.YWCAS_MOBILE_BREAKPOINT})`);return(0,a.createElement)(a.Fragment,null,!o&&(0,a.createElement)(c.Popover,{...t},(0,a.createElement)(c.Box,{className:"popover-content"},e)),o&&(0,a.createElement)(c.Box,{className:"mobile-search-content"},e))};var p=o(232),d=o(87);const y=({className:e,label:t,backgroundColor:o,color:r,top:s})=>(0,a.createElement)(c.Box,{className:`ywcas-badge ${e}`,sx:{top:`${s}px`,backgroundColor:o,color:r}},t),b=({imageSize:e,marginLeft:t,item:o,showSaleBadge:r,showOutOfStockBadge:s,showFeaturedBadge:l,hideFeaturedIfOnSale:i})=>{const u=Boolean(parseInt(o.instock)),m=r&&Boolean(parseInt(o.onsale)),d=(!i||!m)&&l&&Boolean(parseInt(o.featured)),b=s&&!u,{saleBadgeLabel:f,saleFeaturedLabel:h,saleOutOfStockLabel:g,saleBadgeColors:w,featuredBadgeColors:C,outOfStockBadgeColors:_}=n.ywcasDefaultSettings,E=m?30:5,S=d?E+25:m?30:5;return(0,a.createElement)(c.Stack,{className:"search-result-item__thumbnail",sx:{width:e,marginLeft:t}},m&&(0,a.createElement)(y,{className:"ywcas-onsale-badge",top:5,label:(0,p.Ay)(f),backgroundColor:w.bgcolor,color:w.color}),d&&(0,a.createElement)(y,{className:"ywcas-featured-badge",top:E,label:h,backgroundColor:C.bgcolor,color:C.color}),b&&(0,a.createElement)(y,{className:"ywcas-outofstock-badge",top:S,label:g,backgroundColor:_.bgcolor,color:_.color}),(0,a.createElement)("img",{src:"string"==typeof o.thumbnail.small?o.thumbnail.small:n.ywcas_wc_data.placeholderImageSrc,alt:o.name,width:e}))},f=function(e){const{item:t,searchQuery:o,onClick:s,showName:l,showImage:i,showPrice:m,showCategories:y,showStock:f,showSKU:h,showSummary:g,showAddToCart:w,layout:C,imageSize:_,imagePosition:E,summaryMaxWord:S,productNameColor:k,priceLabel:B,categoryResults:x,results:v}=e,L=(0,u.Ub)("(max-width: 600px)"),N="grid"===C?"column":"row",$="list"===C&&"right"===E?"auto":0,[A,T]=(0,d.useState)(!1),F=e=>{let t=x.find((t=>parseInt(t.term_id)===e.parent));return t&&0!==t.parent&&(t=F(t)),t},R=e=>{const t=e.name;return(0,a.createElement)("a",{href:e.url},(0,p.Ay)(t))},I=e=>{e.stopPropagation(),e.target.classList.contains("search-result-add-to-cart")&&(s(e,t,!1),T(!0),jQuery.ajax({url:n.YWCAS_AJAX_URL.toString().replace("%%endpoint%%","add_to_cart"),data:{quantity:1,product_id:t.post_id,product_sku:t.sku},type:"POST",success:function(e){T(!1)}}))};return(0,a.createElement)(c.Box,{className:`search-result-item ${C}`},(0,a.createElement)(c.Stack,{align:"center",direction:N,spacing:2,className:"search-result-item__content","data-id":t.post_id,"data-name":t.name,onClick:e=>s(e,t)},i&&("grid"===C||"list"===C&&"right"!==E)&&(0,a.createElement)(b,{marginLeft:$,item:t,...e}),(0,a.createElement)((()=>{if(!i&&(0,u.Im)(t.thumbnail))return"";const e=parseInt(t.instock)>0?"in-stock":"out-of-stock";return(0,a.createElement)(c.Stack,{className:"search-result-item_name",sx:{flex:1,alignItems:"left"},onClick:e=>s(e,t,v.totalResults)},l&&(0,a.createElement)(c.Typography,{sx:{color:k,fontSize:"0.9em"},className:"search-result-item__name"},(0,p.Ay)(t.name)),m&&(0,a.createElement)(c.Typography,{className:"search-result-item__price",sx:{fontSize:"0.9em",fontWeight:"600"}},B," ",(0,u.y8)(t)),(0,a.createElement)(c.Box,{className:"search-result-item__inline_group",direction:"row",sx:{display:"block"}},h&&(0,a.createElement)(c.Typography,{className:"search-result-item__sku"},(0,a.createElement)("strong",null,n.YWCAS_SKU_LABEL)," ",t.sku),h&&f&&(0,a.createElement)("span",null,"-"),f&&(0,a.createElement)(c.Typography,{className:`search-result-item__stock stock ${e}`},parseInt(t.instock)?n.YWCAS_IN_STOCK_LABEL:n.YWCAS_OUT_OF_STOCK_LABEL)),y&&(0,a.createElement)(c.Box,{className:"search-result-item__category",sx:{fontSize:"0.7em"}},(e=>{if(x){const t=x.find((t=>parseInt(t.term_id)===e[0]));if(!t)return"";const o=0!==t.parent&&F(t);return o?(0,a.createElement)(c.Box,null,R(o)," ",(0,a.createElement)("span",null," > "),"  ",R(t)):R(t)}return""})(t.parent_category)),g&&"grid"===C&&(0,a.createElement)(c.Typography,{className:"search-result-item__summary",sx:{fontSize:"0.8em"}},(0,u.GH)(t.summary,S)))}),null),L&&g&&"grid"!==C&&(0,a.createElement)(c.Typography,{className:"search-result-item__summary",sx:{fontSize:"0.8em"}},(0,p.Ay)((0,u.GH)(t.summary,S))),w&&(A?(0,a.createElement)(c.Spinner,{color:"default",size:"sm",thickness:3.6}):(0,a.createElement)("div",{className:"wp-block-button"},(0,a.createElement)((()=>{const e=parseInt(t.instock),o="wp-element-button wp-block-button__link wp-block-woocommerce-product-button search-result-add-to-cart";return parseInt(t.is_purchasable)&&e&&("simple"===t.product_type||"variation"===t.product_type)&&0<parseFloat(null==t?void 0:t.max_price)?(0,a.createElement)(r.Button,{className:o,onClick:I},n.YWCAS_ADD_TO_CART_LABEL):e&&"variable"===t.product_type&&0<parseFloat(null==t?void 0:t.max_price)?(0,a.createElement)(r.Button,{size:"sm",className:o,onClick:e=>s(e,t)},n.YWCAS_SELECT_OPTIONS):(0,a.createElement)(r.Button,{size:"sm",className:o,onClick:e=>s(e,t)},n.YWCAS_READ_MORE)}),null))),i&&"list"===C&&"right"===E&&(0,a.createElement)(b,{marginLeft:$,item:t,...e})),!L&&g&&"grid"!==C&&(0,a.createElement)(c.Typography,{className:"search-result-item__summary",sx:{fontSize:"0.8em"}},(0,p.Ay)((0,u.GH)(t.summary,S))))};var h=o(455),g=o.n(h);const w=e=>{const{searchQuery:t,layout:o,results:r,categoryList:s,noResults:l,showViewAll:i,showViewAllText:u,maxResultsToShow:m}=e,p=(e,o,a=!0)=>{e.stopPropagation();const s="/ywcas/v1/register?itemID="+o.post_id+"&queryString="+t+"&totalResults="+r.totalResults+"&lang="+n.YWCAS_LANG;g()({path:s}).then((()=>{a&&d(o)})).catch((e=>{console.log(e)}))},d=e=>{e.url&&(window.location.href=e.url)},y=u.replace("{total}",r.totalResults),b=r.results;return(0,a.createElement)(a.Fragment,null,b&&b.length&&(0,a.createElement)(c.Grid,{className:`ywcas-search-results-grid ${o}`,columns:1},b.map(((t,o)=>(0,a.createElement)(f,{key:o,item:t,onClick:p,results:r,categoryResults:s,...e})))),!b&&(0,a.createElement)(c.Typography,null,l),b&&i&&m<r.totalResults&&(0,a.createElement)("div",{className:"ywcas-total-results"}," > ",(0,a.createElement)("a",{className:"total-results-link",href:"#",onClick:()=>{const e=!1!==r.fuzzyToken&&""!==r.fuzzyToken?r.fuzzyToken:t,o=n.YWCAS_SITE_URL+"?ywcas=1&post_type=product&lang="+n.YWCAS_LANG+"&s="+e;window.location.href=o}},y)))};o(89)},572:(e,t,o)=>{o.d(t,{GH:()=>i,Im:()=>s,Ub:()=>u,y8:()=>n}),o(232);var a=o(315),r=o(609);const s=e=>void 0===e||("object"==typeof e?0===Object.keys(e).length:e.hasOwnProperty(length)?0===e.length:"undefined"),c=e=>accounting.formatMoney(e,{symbol:a.ywcas_wc_data.currency.symbol,decimal:a.ywcas_wc_data.currency.decimal_sep,thousand:a.ywcas_wc_data.currency.thousand_sep,precision:a.ywcas_wc_data.currency.decimals,format:a.ywcas_wc_data.currency.format}),l=(e,t=0)=>{const o=c(e);return parseFloat(t)&&t!==e?`${c(t)} - ${o}`:o},n=e=>"variable"===e.product_type?l(e.max_price,e.min_price):parseInt(e.onsale)?l(e.min_price):l(e.max_price),i=(e,t)=>e.split(" ").slice(0,t).join(" "),u=e=>{const t=(0,r.useMemo)((()=>window.matchMedia(e)),[e]),[o,a]=(0,r.useState)(t.matches);return(0,r.useEffect)((()=>{const e=()=>a(t.matches);return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}),[t]),o}},797:(e,t,o)=>{o.r(t),o.d(t,{default:()=>d});var a=o(956),r=o(609),s=o(87),c=o(939),l=o(223),n=o(106),i=o(572),u=o(315);var m=o(723);const p={placeholder:{type:"string",default:(0,m.__)("Search products...","yith-woocommerce-ajax-search")},placeholderTextColor:{type:"string",default:"#000"},iconType:{type:"string",default:"icon-right"},inputTextColor:{type:"string",default:"#000"},inputBgColor:{type:"string",default:"#fff"},inputBgFocusColor:{type:"string",default:"#fff"},inputBorderColor:{type:"string",default:"#7C7C7C"},inputBorderFocusColor:{type:"string",default:"#5B5B5B"},inputBorderSize:{type:"object",default:{topLeft:"1px",topRight:"1px",bottomLeft:"1px",bottomRight:"1px"}},inputBorderRadius:{type:"object",default:{topLeft:"20px",topRight:"20px",bottomLeft:"20px",bottomRight:"20px"}},submitContentColor:{type:"string",default:"#000"},submitContentHoverColor:{type:"string",default:"#000"},submitBorderColor:{type:"string",default:"#fff"},submitBorderHoverColor:{type:"string",default:"#fff"},submitBgColor:{type:"string",default:"#fff"},submitBgHoverColor:{type:"string",default:"#fff"},submitStyle:{type:"string",default:"icon"},className:{type:"string",default:"ywcas-input-block"},buttonLabel:{type:"string",default:(0,m.__)("Search","yith-woocommerce-ajax-search-premium")},buttonBorderRadius:{type:"object",default:{topLeft:"10px",topRight:"10px",bottomLeft:"10px",bottomRight:"10px"}},lock:{type:"object",default:{remove:!1,move:!1}}},d=(0,a.n)(p)((e=>{const{placeholder:t=""}=e,{query:o,setQuery:a,inputFocused:m,setInputFocused:p,size:d}=(0,n.$A)(),y=(0,s.useRef)(null),b=(0,i.Ub)(`(max-width: ${u.YWCAS_MOBILE_BREAKPOINT})`),[f,h]=(0,s.useState)(!1),[g,w]=(0,s.useState)(o);(0,s.useEffect)((()=>{w(o)}),[o]),(0,s.useEffect)((()=>{const e=setTimeout((()=>{a(g)}),1e3);return()=>clearTimeout(e)}),[g]),(0,s.useEffect)((()=>{m&&(b?!f&&C():_())}),[b,m]);const C=()=>{const e=document.querySelector("#wpadminbar"),t=document.querySelector("#ywtenv-banner");let o=document.querySelector(".ywcas-search-mobile");if(!o){o=document.createElement("div"),o.classList.add("ywcas-search-mobile"),(e||t)&&o.classList.add("with-wp-admin-toolbar");const a=m.closest(".wp-block-yith-search-block"),r=Array.prototype.indexOf.call(a.parentNode.childNodes,a);a.parentNode.classList.add("ywcas-block-mounted"),a.parentNode.dataset.ywcasTarget=r,o.append(a),document.body.append(o),document.body.classList.add("ywcas-disable-overflow"),document.documentElement.style.overflow="hidden",h(!0)}},_=()=>{const e=document.querySelector(".ywcas-search-mobile");if(e){const t=e.querySelector(".wp-block-yith-search-block"),o=document.querySelector(".ywcas-block-mounted"),a=o.dataset.ywcasTarget;a<o.childNodes.length-1?o.insertBefore(t,o.childNodes[a]):o.append(t),e.remove(),o.classList.remove("ywcas-block-mounted"),document.body.classList.remove("ywcas-disable-overflow"),document.documentElement.style.overflow=""}h(!1)};return(0,r.createElement)(c.Box,{ref:y},(0,r.createElement)(l.Lw,{placeholder:t,setSearchQuery:(e,t)=>{e?(e.stopPropagation(),m||p(null==y?void 0:y.current),g!==e.target.value&&w(e.target.value)):w(t)},queryString:g,onFocus:()=>{p(null==y?void 0:y.current)},onCloseMobile:()=>{_(),w(""),p(null);const e=new CustomEvent("ywcas-close-mobile",{detail:{},bubbles:!0,cancelable:!0,composed:!1});document.dispatchEvent(e)},size:d,isSmallDevice:b,...e}))}))},956:(e,t,o)=>{o.d(t,{n:()=>s});var a=o(609),r=o(486);const s=e=>t=>o=>{const s=(0,r.N)(e,o);return(0,a.createElement)(t,{...o,...s})}}}]);