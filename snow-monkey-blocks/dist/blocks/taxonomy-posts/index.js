(()=>{"use strict";var e={n:l=>{var t=l&&l.__esModule?()=>l.default:()=>l;return e.d(t,{a:t}),t},d:(l,t)=>{for(var o in t)e.o(t,o)&&!e.o(l,o)&&Object.defineProperty(l,o,{enumerable:!0,get:t[o]})},o:(e,l)=>Object.prototype.hasOwnProperty.call(e,l)};const l=window.wp.blocks,t=window.wp.i18n,o=JSON.parse('{"UU":"snow-monkey-blocks/taxonomy-posts","uK":{"taxonomy":{"type":"string","default":null},"termId":{"type":"number","default":0},"postsPerPage":{"type":"number","default":6},"layout":{"type":"string","default":"rich-media"},"gap":{"type":"string","default":""},"ignoreStickyPosts":{"type":"boolean","default":true},"smCols":{"type":"number","default":0},"noPostsText":{"type":"string","default":""},"itemTitleTagName":{"type":"string","default":"h3"},"itemThumbnailSizeSlug":{"type":"string","default":"full"},"forceDisplayItemMeta":{"type":"boolean","default":false},"forceDisplayItemTerms":{"type":"boolean","default":false},"displayItemAuthor":{"type":"boolean"},"displayItemPublished":{"type":"boolean","default":true},"displayItemExcerpt":{"type":"boolean"},"categoryLabelTaxonomy":{"type":"string","default":""},"arrows":{"type":"boolean","default":false},"dots":{"type":"boolean","default":true},"interval":{"type":"number","default":0},"autoplayButton":{"type":"boolean","default":false},"anchor":{"type":"string","default":""},"clientId":{"type":"string","default":""}}}'),a=window.React,n=(0,a.createElement)("svg",{viewBox:"0 0 24 24"},(0,a.createElement)("rect",{x:"3",y:"6.5",width:"4",height:"1"}),(0,a.createElement)("rect",{x:"9",y:"6.5",width:"13",height:"1"}),(0,a.createElement)("rect",{x:"3",y:"11.5",width:"4",height:"1"}),(0,a.createElement)("rect",{x:"9",y:"11.5",width:"13",height:"1"}),(0,a.createElement)("rect",{x:"3",y:"16.5",width:"4",height:"1"}),(0,a.createElement)("rect",{x:"9",y:"16.5",width:"13",height:"1"})),s=window.lodash,m=window.wp.components,r=window.wp.blockEditor,c=window.wp.data,i=window.wp.element,u=window.wp.serverSideRender;var y=e.n(u);const d=(e,l=0,t=null)=>(e=Number(e),(isNaN(e)||e<l)&&(e=l),null!==t&&e>t&&(e=t),e),p=e=>{const l=e.map((e=>({children:[],parent:null,...e}))),t=(0,s.groupBy)(l,"parent");if(t.null&&t.null.length)return l;const o=e=>e.map((e=>{const l=t[e.id];return{...e,children:l&&l.length?o(l):[]}}));return o(t[0]||[])},b=[{attributes:{...o.uK,myAnchor:{type:"string",default:""}},migrate:e=>(e.anchor=e.myAnchor,e),save:()=>null}];(0,l.registerBlockType)(o.UU,{icon:{foreground:"#cd162c",src:n},keywords:[(0,t.__)("Posts list","snow-monkey-blocks"),(0,t.__)("Recent posts","snow-monkey-blocks"),(0,t.__)("Latest posts","snow-monkey-blocks")],edit:function({attributes:e,setAttributes:l,clientId:n}){const{taxonomy:u,termId:b,postsPerPage:_,layout:k,gap:h,ignoreStickyPosts:g,smCols:f,noPostsText:w,itemTitleTagName:x,itemThumbnailSizeSlug:T,forceDisplayItemMeta:E,displayItemAuthor:I,displayItemPublished:D,forceDisplayItemTerms:P,displayItemExcerpt:S,categoryLabelTaxonomy:v,arrows:C,dots:K,interval:B,autoplayButton:V}=e;(0,i.useEffect)((()=>{let e,t;e=null==I?!["text","text2"].includes(k):I,t=null==S?["rich-media","simple","caroucel"].includes(k):S,l({displayItemAuthor:e,displayItemExcerpt:t})}),[k]),(0,i.useEffect)((()=>{l({clientId:e.clientId||n})}),[]);const{taxonomiesTerms:N,taxonomies:L}=(0,c.useSelect)((e=>{const{getTaxonomies:l,getEntityRecords:t}=e("core"),o=(l({per_page:-1})||[]).filter((e=>e.visibility.show_ui)),a=o.map((e=>{const l=t("taxonomy",e.slug,{per_page:-1})||[];return 0<l.length?{taxonomy:e.slug,terms:l}:{}})).filter((e=>e));return{taxonomiesTerms:a,taxonomies:o}}),[]),A=(0,c.useSelect)((e=>{const{getSettings:l}=e("core/block-editor"),{imageSizes:t}=l();return t.map((e=>({value:e.slug,label:e.name})))}),[]),M=(0,i.useMemo)((()=>{const e=L.map((e=>({value:e.slug,label:e.name})));return e.unshift({value:"",label:(0,t.__)("Default (Taxonomy selected in this block)","snow-monkey-blocks")}),e}),[L]),z=(0,s.find)(N,{taxonomy:u}),R=z?(0,s.find)(z.terms,["id",d(b)]):[],F=["h2","h3","h4"];return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(r.InspectorControls,null,(0,a.createElement)(m.__experimentalToolsPanel,{label:(0,t.__)("Block settings","snow-monkey-blocks")},N.length?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>u!==o.uK.taxonomy.default||b!==o.uK.termId.default,isShownByDefault:!0,label:(0,t.__)("Taxonomy","snow-monkey-blocks"),onDeselect:()=>l({taxonomy:o.uK.taxonomy.default,termId:o.uK.termId.default})},N.map((e=>{const t=(0,s.find)(L,["slug",e.taxonomy]);return!!t&&(0,a.createElement)(m.TreeSelect,{key:`${t.slug}-${b}`,label:t.name,noOptionLabel:"-",onChange:e=>{l({taxonomy:t.slug,termId:d(e)})},selectedId:b,tree:p(e.terms)})}))),(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>_!==o.uK.postsPerPage.default,isShownByDefault:!0,label:(0,t.__)("Number of posts","snow-monkey-blocks"),onDeselect:()=>l({postsPerPage:o.uK.postsPerPage.default})},(0,a.createElement)(m.RangeControl,{label:(0,t.__)("Number of posts","snow-monkey-blocks"),value:_,onChange:e=>l({postsPerPage:d(e,1,12)}),min:"1",max:"12"})),(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>k!==o.uK.layout.default,isShownByDefault:!0,label:(0,t.__)("Layout","snow-monkey-blocks"),onDeselect:()=>l({layout:o.uK.layout.default})},(0,a.createElement)(m.SelectControl,{label:(0,t.__)("Layout","snow-monkey-blocks"),value:k,onChange:e=>{l({layout:e})},options:[{value:"rich-media",label:(0,t.__)("Rich media","snow-monkey-blocks")},{value:"simple",label:(0,t.__)("Simple","snow-monkey-blocks")},{value:"text",label:(0,t.__)("Text","snow-monkey-blocks")},{value:"text2",label:(0,t.__)("Text 2","snow-monkey-blocks")},{value:"panel",label:(0,t.__)("Panels","snow-monkey-blocks")},{value:"carousel",label:(0,t.sprintf)(
// translators: %1$s: Layout
// translators: %1$s: Layout
(0,t.__)("Carousel (%1$s)","snow-monkey-blocks"),(0,t.__)("Rich media","snow-monkey-blocks"))},{value:"large-image",label:(0,t.__)("Large image","snow-monkey-blocks")}]}))):(0,a.createElement)("div",{style:{gridColumn:"1/-1"}},(0,a.createElement)(m.BaseControl,{label:(0,t.__)("Loading taxonomiesâ€¦","snow-monkey-blocks"),id:"snow-monkey-blocks/taxonomy-posts/taxonomies"},(0,a.createElement)(m.Spinner,null))),"carousel"===k&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>C!==o.uK.arrows.default,isShownByDefault:!0,label:(0,t.__)("Display arrows","snow-monkey-blocks"),onDeselect:()=>l({arrows:o.uK.arrows.default})},(0,a.createElement)(m.ToggleControl,{label:(0,t.__)("Display arrows","snow-monkey-blocks"),checked:C,onChange:e=>l({arrows:e})})),(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>K!==o.uK.dots.default,isShownByDefault:!0,label:(0,t.__)("Display dots","snow-monkey-blocks"),onDeselect:()=>l({dots:o.uK.dots.default})},(0,a.createElement)(m.ToggleControl,{label:(0,t.__)("Display dots","snow-monkey-blocks"),checked:K,onChange:e=>l({dots:e})})),(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>B!==o.uK.interval.default,isShownByDefault:!0,label:(0,t.__)("Autoplay Speed in seconds","snow-monkey-blocks"),onDeselect:()=>l({interval:o.uK.interval.default})},(0,a.createElement)(m.RangeControl,{label:(0,t.__)("Autoplay Speed in seconds","snow-monkey-blocks"),help:(0,t.__)('If "0", no scroll.',"snow-monkey-blocks"),value:B,onChange:e=>l({interval:d(e,0,10)}),min:"0",max:"10"})),0<B&&(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>V!==o.uK.autoplayButton.default,isShownByDefault:!0,label:(0,t.__)("Autoplay Speed in seconds","snow-monkey-blocks"),onDeselect:()=>l({autoplayButton:o.uK.autoplayButton.default})},(0,a.createElement)(m.ToggleControl,{label:(0,t.__)("Display pause button for autoplay","snow-monkey-blocks"),checked:V,onChange:e=>l({autoplayButton:e})}))),(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>h!==o.uK.gap.default,isShownByDefault:!0,label:(0,t.__)("The gap between each item","snow-monkey-blocks"),onDeselect:()=>l({gap:o.uK.gap.default})},(0,a.createElement)(m.SelectControl,{label:(0,t.__)("The gap between each item","snow-monkey-blocks"),value:h,onChange:e=>l({gap:e}),options:[{value:"",label:(0,t.__)("Default","snow-monkey-blocks")},{value:"s",label:(0,t.__)("S","snow-monkey-blocks")},{value:"m",label:(0,t.__)("M","snow-monkey-blocks")},{value:"l",label:(0,t.__)("L","snow-monkey-blocks")}]})),(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>x!==o.uK.itemTitleTagName.default,isShownByDefault:!0,label:(0,t.__)("Title tag of each items","snow-monkey-blocks"),onDeselect:()=>l({itemTitleTagName:o.uK.itemTitleTagName.default})},(0,a.createElement)(m.BaseControl,{label:(0,t.__)("Title tag of each items","snow-monkey-blocks"),id:"snow-monkey-blocks/taxonomy-posts/item-title-tag-name"},(0,a.createElement)("div",{className:"smb-list-icon-selector"},(0,s.times)(F.length,(e=>(0,a.createElement)(m.Button,{variant:x===F[e]?"primary":"secondary",onClick:()=>l({itemTitleTagName:F[e]}),key:e},F[e])))))),(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>T!==o.uK.itemThumbnailSizeSlug.default,isShownByDefault:!0,label:(0,t.__)("Images size of each items","snow-monkey-blocks"),onDeselect:()=>l({itemThumbnailSizeSlug:o.uK.itemThumbnailSizeSlug.default})},(0,a.createElement)(m.SelectControl,{label:(0,t.__)("Images size of each items","snow-monkey-blocks"),value:T,options:A,onChange:e=>l({itemThumbnailSizeSlug:e})})),"category"!==u&&"post_tag"!==u&&(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>E!==o.uK.forceDisplayItemMeta.default,isShownByDefault:!0,label:(0,t.__)("Force display meta of each items","snow-monkey-blocks"),onDeselect:()=>l({forceDisplayItemMeta:o.uK.forceDisplayItemMeta.default})},(0,a.createElement)(m.ToggleControl,{label:(0,t.__)("Force display meta of each items","snow-monkey-blocks"),help:(0,t.__)("If it's already displayed, this setting will be ignored.","snow-monkey-blocks"),checked:E,onChange:e=>l({forceDisplayItemMeta:e})})),("category"===u||"post_tag"===u||E)&&"text"!==k&&(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>I!==!["text","text2"].includes(k),isShownByDefault:!0,label:(0,t.__)("Display author of each items","snow-monkey-blocks"),onDeselect:()=>l({displayItemAuthor:!["text","text2"].includes(k)})},(0,a.createElement)(m.ToggleControl,{label:(0,t.__)("Display author of each items","snow-monkey-blocks"),checked:I,onChange:e=>l({displayItemAuthor:e})})),("category"===u||"post_tag"===u||E)&&(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>D!==o.uK.displayItemPublished.default,isShownByDefault:!0,label:(0,t.__)("Display published date of each items","snow-monkey-blocks"),onDeselect:()=>l({displayItemPublished:o.uK.displayItemPublished.default})},(0,a.createElement)(m.ToggleControl,{label:(0,t.__)("Display published date of each items","snow-monkey-blocks"),checked:D,onChange:e=>l({displayItemPublished:e})})),["rich-media","simple","panel","carousel"].includes(k)&&(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>S===["rich-media","simple","panel","carousel"].includes(k),isShownByDefault:!0,label:(0,t.__)("Display excerpt of each items","snow-monkey-blocks"),onDeselect:()=>{l({displayItemExcerpt:["rich-media","simple","panel","carousel"].includes(k)})}},(0,a.createElement)(m.ToggleControl,{label:(0,t.__)("Display excerpt of each items","snow-monkey-blocks"),checked:S,onChange:e=>l({displayItemExcerpt:e})})),"category"!==u&&"post_tag"!==u&&(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>P!==o.uK.forceDisplayItemTerms.default,isShownByDefault:!0,label:(0,t.__)("Force display category label of each items","snow-monkey-blocks"),onDeselect:()=>l({forceDisplayItemTerms:o.uK.forceDisplayItemTerms.default})},(0,a.createElement)(m.ToggleControl,{label:(0,t.__)("Force display category label of each items","snow-monkey-blocks"),help:(0,t.__)("If it's already displayed, this setting will be ignored.","snow-monkey-blocks"),checked:P,onChange:e=>l({forceDisplayItemTerms:e})})),(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>v!==o.uK.categoryLabelTaxonomy.default,isShownByDefault:!0,label:(0,t.__)("Taxonomy to use for the category label","snow-monkey-blocks"),onDeselect:()=>l({categoryLabelTaxonomy:o.uK.categoryLabelTaxonomy.default})},(0,a.createElement)(m.SelectControl,{label:(0,t.__)("Taxonomy to use for the category label","snow-monkey-blocks"),help:(0,t.__)("If no category labels are displayed, this setting will be ignored.","snow-monkey-blocks"),value:v,options:M,onChange:e=>l({categoryLabelTaxonomy:e})})),("rich-media"===k||"panel"===k)&&(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>f!==o.uK.smCols.default,isShownByDefault:!0,label:(0,t.__)("Number of columns displayed on mobile device","snow-monkey-blocks"),onDeselect:()=>l({smCols:o.uK.smCols.default})},(0,a.createElement)(m.SelectControl,{label:(0,t.__)("Number of columns displayed on mobile device","snow-monkey-blocks"),value:f,onChange:e=>l({smCols:d(e)}),options:[{value:0,label:(0,t.__)("Default","snow-monkey-blocks")},{value:1,label:(0,t.__)("1 column","snow-monkey-blocks")},{value:2,label:(0,t.__)("2 columns","snow-monkey-blocks")}]})),(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>g!==o.uK.ignoreStickyPosts.default,isShownByDefault:!0,label:(0,t.__)("Ignore sticky posts","snow-monkey-blocks"),onDeselect:()=>l({ignoreStickyPosts:o.uK.ignoreStickyPosts.default})},(0,a.createElement)(m.ToggleControl,{label:(0,t.__)("Ignore sticky posts","snow-monkey-blocks"),checked:g,onChange:e=>l({ignoreStickyPosts:e})})),(0,a.createElement)(m.__experimentalToolsPanelItem,{hasValue:()=>w!==o.uK.noPostsText.default,isShownByDefault:!0,label:(0,t.__)("Text if no posts matched","snow-monkey-blocks"),onDeselect:()=>l({noPostsText:o.uK.noPostsText.default})},(0,a.createElement)(m.TextareaControl,{label:(0,t.__)("Text if no posts matched","snow-monkey-blocks"),help:(0,t.__)("Allow HTML","snow-monkey-blocks"),value:w||"",onChange:e=>l({noPostsText:e})})))),(0,a.createElement)("div",{...(0,r.useBlockProps)()},R&&z?(0,a.createElement)(m.Disabled,null,(0,a.createElement)(y(),{block:"snow-monkey-blocks/taxonomy-posts",attributes:e})):(0,a.createElement)(m.Placeholder,{icon:"editor-ul",label:(0,t.__)("Taxonomy posts","snow-monkey-blocks")},(0,a.createElement)(m.Spinner,null))))},save:function(){return(0,a.createElement)("div",{...r.useBlockProps.save(),"data-dynamic-block":"snow-monkey-blocks/taxonomy-posts","data-version":"2"})},deprecated:b})})();