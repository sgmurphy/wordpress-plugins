(()=>{var t=function(t){var e="#hcaptcha-message",a=t(e),n=t("#wpwrap"),i=t("#adminmenuwrap"),o=t("#hcaptcha-integrations-search");function c(e,o){a.removeClass(),a.addClass(o+" notice settings-error is-dismissible"),a.html("<p>".concat(e,"</p>")),t(document).trigger("wp-updates-notice-added");var c=a.clone();a.css("visibility","hidden"),c.css("margin","0px"),c.css("top",n.position().top),c.css("z-index","999999");var s="block"===i.css("display")?i.width():0;c.css("left",s),c.width(t(window).width()-s),c.css("position","fixed"),t("body").append(c),setTimeout((function(){a.css("visibility","unset"),c.remove()}),3e3)}function s(t){c(t,"notice-error")}function r(e,a,n){var i=!1,o=a.toLowerCase(),c=!function(t){return t.is(jQuery(".form-table").eq(0))}(e),s=n.find("fieldset");s.attr("disabled",c),s.find("input").attr("disabled",c),e.find("tbody").children().each((function(e,a){var c=t(a).find(".hcaptcha-integrations-logo img").attr("alt");if((c=(c=c||"").replace(" Logo","")).toLowerCase()>o)return n.insertBefore(t(a)),i=!0,!1})),i||e.find("tbody").append(n)}t(".form-table img").on("click",(function(i){function o(){var e,i,o=u?"on":"off",l=(i=document.querySelector(".kagg-dialog select"))&&null!==(e=i.value)&&void 0!==e?e:"",f={action:HCaptchaIntegrationsObject.action,nonce:HCaptchaIntegrationsObject.nonce,activate:u,entity:d,status:g,newTheme:l};p.addClass(o),t.post({url:HCaptchaIntegrationsObject.ajaxUrl,data:f}).done((function(e){if(void 0!==e.success)if(void 0!==e.data.themes&&(window.HCaptchaIntegrationsObject.themes=e.data.themes,window.HCaptchaIntegrationsObject.defaultTheme=e.data.defaultTheme),e.success){var i=t(".form-table").eq(u?0:1),o=n.position().top;!function(e,a,n){if("theme"===a){var i=t(".form-table"),o=e?"":'[data-label="'+n+'"]',c=i.eq(e?0:1).find('.hcaptcha-integrations-logo img[data-entity="theme"]'+o);if(c.length){var s=i.eq(e?1:0),l=c.closest("tr");r(s,c.attr("data-label"),l)}}}(u,d,l),r(i,h,p),function(t){c(t,"notice-success")}(e.data.message),t("html, body").animate({scrollTop:p.offset().top-o-a.outerHeight()},1e3)}else{var g,f;s(null!==(g=null===(f=e.data)||void 0===f?void 0:f.message)&&void 0!==g?g:e.data)}else c(HCaptchaIntegrationsObject.unexpectedErrorMsg,"notice-error")})).fail((function(t){s(t.statusText)})).always((function(){p.removeClass("on off")}))}i.preventDefault(),a.remove(),t('<div id="hcaptcha-message"></div>').insertAfter("#hcaptcha-options h2"),a=t(e);var l=t(i.target),d=l.data("entity");if(d=d||"",-1!==t.inArray(d,["core","theme","plugin"])&&-1===t.inArray(d,["core"])){var h=l.attr("alt");h=(h=h||"").replace(" Logo","");var p=l.closest("tr"),g=p.attr("class");g=g.replace("hcaptcha-integrations-","");var f,u,m="";if(p.find("fieldset").attr("disabled"))f="plugin"===d?HCaptchaIntegrationsObject.activateMsg:HCaptchaIntegrationsObject.activateThemeMsg,u=!0;else{if("plugin"===d)f=HCaptchaIntegrationsObject.deactivateMsg;else{for(var v in f=HCaptchaIntegrationsObject.deactivateThemeMsg,m="<p>"+HCaptchaIntegrationsObject.selectThemeMsg+"</p>",m+="<select>",HCaptchaIntegrationsObject.themes){var b=v===HCaptchaIntegrationsObject.defaultTheme?' selected="selected"':"";m+='<option value="'.concat(v,'"').concat(b,">").concat(HCaptchaIntegrationsObject.themes[v],"</option>")}m+="</select>"}u=!1}-1===t.inArray(d,["theme"])||u||0!==Object.keys(HCaptchaIntegrationsObject.themes).length?(f=f.replace("%s",h),i.ctrlKey?o():kaggDialog.confirm({title:f,content:m,type:u?"activate":"deactivate",buttons:{ok:{text:HCaptchaIntegrationsObject.OKBtnText},cancel:{text:HCaptchaIntegrationsObject.CancelBtnText}},onAction:function(t){t&&o()}})):kaggDialog.confirm({title:HCaptchaIntegrationsObject.onlyOneThemeMsg,content:"",type:"info",buttons:{ok:{text:HCaptchaIntegrationsObject.OKBtnText}}})}}));var l,d,h;o.on("input",(l=function(){var e=o.val().trim().toLowerCase();t(".hcaptcha-integrations-logo img").each((function(a,n){var i=t(n);if("core"!==i.data("entity")){var o=i.closest("tr");i.data("label").toLowerCase().includes(e)?o.show():o.hide()}}))},d=100,function(){var t=this,e=arguments;clearTimeout(h),h=setTimeout((function(){return l.apply(t,e)}),d)})),t("#hcaptcha-options").keydown((function(e){t(e.target).is(o)&&13===e.which&&e.preventDefault()}))};window.hCaptchaIntegrations=t,jQuery(document).ready(t)})();