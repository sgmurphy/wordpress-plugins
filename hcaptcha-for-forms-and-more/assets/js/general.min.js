(()=>{var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var t=function(t){var a="#hcaptcha-message",n=t(a),c=t("form.hcaptcha-general"),o=t('[name="hcaptcha_settings[site_key]"]'),r=t('[name="hcaptcha_settings[secret_key]"]'),i=t('[name="hcaptcha_settings[theme]"]'),s=t('[name="hcaptcha_settings[size]"]'),h=t('[name="hcaptcha_settings[language]"]'),l=t('[name="hcaptcha_settings[mode]"]'),p=t('[name="hcaptcha_settings[custom_themes][]"]'),d=t('[name="hcaptcha_settings[config_params]"]'),u=t(".hcaptcha-section-enterprise + table input"),f=t('[name="hcaptcha_settings[recaptcha_compat_off][]"]'),g=c.find("#submit"),m={},v=o.val(),b=r.val(),C=G();m[HCaptchaGeneralObject.modeLive]=HCaptchaGeneralObject.siteKey,m[HCaptchaGeneralObject.modeTestPublisher]=HCaptchaGeneralObject.modeTestPublisherSiteKey,m[HCaptchaGeneralObject.modeTestEnterpriseSafeEndUser]=HCaptchaGeneralObject.modeTestEnterpriseSafeEndUserSiteKey,m[HCaptchaGeneralObject.modeTestEnterpriseBotDetected]=HCaptchaGeneralObject.modeTestEnterpriseBotDetectedSiteKey;var y=!1,j=!1,O=[];function H(e){var a={};return e.each((function(){var e=t(this),n=e.attr("name").replace(/hcaptcha_settings\[(.+)]/,"$1");a[n]=e.val()})),a}function G(){return H(u)}function k(){n.remove(),t('<div id="hcaptcha-message"></div>').insertAfter("#hcaptcha-options h2"),n=t(a)}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e=void 0===e?"":String(e),e=(e+="\n"+function(){for(var e=[],t=0;t<O.length;t++){for(var a=O[t],n=a[0],c=a[1],o=Object.keys(c),r=[],i=0;i<o.length;i++)"string"==typeof c[i]&&r.push([n,c[i]].join(" "));e.push(r.join("\n"))}return O=[],e.join("\n")}()).trim()){n.removeClass(),n.addClass(a+" notice is-dismissible");var c=e.split("\n").map((function(e){return"<p>".concat(e,"</p>")}));n.html(c.join("")),t(document).trigger("wp-updates-notice-added");var o=t("#wpwrap").position().top;t("html, body").animate({scrollTop:n.offset().top-o-parseInt(n.css("margin-bottom"))},1e3)}}function w(){_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","notice-success")}function T(){_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","notice-error")}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign(hCaptcha.getParams(),e);hCaptcha.setParams(t);var a=document.querySelector("#hcaptcha-options .h-captcha");for(var n in a.innerHTML="",e)a.setAttribute("data-".concat(n),"".concat(e[n]));hCaptcha.bindEvents()}function E(){var e,t=d.val().trim();t=t||null;try{e=JSON.parse(t)}catch(e){return d.css("background-color","#ffabaf"),g.attr("disabled",!0),void T("Bad JSON!")}p.prop("checked")||(e={sitekey:o.val(),theme:i.val(),size:s.val(),hl:h.val()}),S(e)}function x(){o.val()===v&&r.val()===b?(y=!1,k(),g.attr("disabled",!1)):y||(y=!0,T(HCaptchaGeneralObject.checkConfigNotice),g.attr("disabled",!0))}function L(e){return e=e.replace(/(http|https):\/\//,""),"https://"+new URL("https://"+e).host}!function(){O=[];var e=console.log,t=console.warn,a=console.info,n=console.error,c=console.clear;console.log=function(t){O.push(["Console log:",arguments]),e.apply(console,arguments)},console.warn=function(e){O.push(["Console warn:",arguments]),t.apply(console,arguments)},console.info=function(e){O.push(["Console info:",arguments]),a.apply(console,arguments)},console.error=function(e){O.push(["Console error:",arguments]),n.apply(console,arguments)},console.clear=function(){O=[],c()}}(),document.addEventListener("hCaptchaLoaded",(function(){T()})),t("#check_config").on("click",(function(e){e.preventDefault(),""!==t(".hcaptcha-general-sample-hcaptcha iframe").attr("data-hcaptcha-response")?function(){k(),g.attr("disabled",!0);var e={action:HCaptchaGeneralObject.checkConfigAction,nonce:HCaptchaGeneralObject.checkConfigNonce,mode:l.val(),siteKey:o.val(),secretKey:r.val(),"h-captcha-response":t('textarea[name="h-captcha-response"]').val()};t.post({url:HCaptchaGeneralObject.ajaxUrl,data:e,beforeSend:function(){return w(HCaptchaGeneralObject.checkingConfigMsg)}}).done((function(e){e.success?(v=o.val(),b=r.val(),C=H(u),j=!1,w(e.data),g.attr("disabled",!1)):T(e.data)})).fail((function(e){T(e.statusText)})).always((function(){S()}))}():kaggDialog.confirm({title:HCaptchaGeneralObject.completeHCaptchaTitle,content:HCaptchaGeneralObject.completeHCaptchaContent,type:"info",buttons:{ok:{text:HCaptchaGeneralObject.OKBtnText}},onAction:function(){return window.hCaptchaReset(document.querySelector(".hcaptcha-general-sample-hcaptcha"))}})})),o.on("change",(function(e){S({sitekey:t(e.target).val()}),x()})),r.on("change",(function(){x()})),i.on("change",(function(e){S({theme:t(e.target).val()})})),s.on("change",(function(e){var a=t("#hcaptcha-invisible-notice"),n=t(e.target).val();"invisible"===n?a.show():a.hide(),S({size:n})})),h.on("change",(function(e){S({hl:t(e.target).val()})})),l.on("change",(function(e){var a=t(e.target).val();m.hasOwnProperty(a)&&(a===HCaptchaGeneralObject.modeLive?(o.attr("disabled",!1),r.attr("disabled",!1)):(o.attr("disabled",!0),r.attr("disabled",!0)),S({sitekey:m[a]}))})),p.on("change",(function(){E()})),d.on("blur",(function(){E()})),d.on("focus",(function(){d.css("background-color","unset"),g.attr("disabled",!1)})),u.on("change",(function(){!function(){var t={onload:"hCaptchaOnLoad",render:"explicit"};f.prop("checked")&&(t.recaptchacompat="off"),p.prop("checked")&&(t.custom="true");var a={asset_host:"assethost",endpoint:"endpoint",host:"host",image_host:"imghost",report_api:"reportapi",sentry:"sentry"},n=G();for(var c in a){var o=n[c].trim();o&&(t[a[c]]=encodeURIComponent(L(o)))}var r=n.api_host.trim();r=L(r=r||"js.hcaptcha.com")+"/1/api.js";var i=new URL(r);for(var s in t)i.searchParams.append(s,t[s]);document.getElementById("hcaptcha-api").remove(),delete e.g.hcaptcha,document.querySelector("#hcaptcha-options .h-captcha").innerHTML="";var h=document.getElementsByTagName("head")[0],l=document.createElement("script");l.type="text/javascript",l.id="hcaptcha-api",l.src=i.href,h.appendChild(l)}(),JSON.stringify(G())===JSON.stringify(C)?(j=!1,k(),g.attr("disabled",!1)):j||(j=!0,T(HCaptchaGeneralObject.checkConfigNotice),g.attr("disabled",!0))})),t(".hcaptcha-general h3").on("click",(function(e){var a=t(e.currentTarget);a.toggleClass("closed");var n={action:HCaptchaGeneralObject.toggleSectionAction,nonce:HCaptchaGeneralObject.toggleSectionNonce,section:a.attr("class").replaceAll(/(hcaptcha-section-|closed)/g,"").trim(),status:!a.hasClass("closed")};t.post({url:HCaptchaGeneralObject.ajaxUrl,data:n}).done((function(e){e.success||T(e.data)})).fail((function(e){T(e.statusText)}))}))};window.hCaptchaGeneral=t,jQuery(document).ready(t)})();