(()=>{var e={};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();var a=function(a){var n="#hcaptcha-message",c=a(n),o=a("form.hcaptcha-general"),r=a('[name="hcaptcha_settings[site_key]"]'),i=a('[name="hcaptcha_settings[secret_key]"]'),s=a("#check_config"),l=a("#reset_notifications"),h=a('[name="hcaptcha_settings[theme]"]'),p=a('[name="hcaptcha_settings[size]"]'),u=a('[name="hcaptcha_settings[language]"]'),d=a('[name="hcaptcha_settings[mode]"]'),f=a('[name="hcaptcha_settings[custom_themes][]"]'),v=a(".hcaptcha-general-custom-prop select"),m=a(".hcaptcha-general-custom-value input"),g=a('[name="hcaptcha_settings[config_params]"]'),b=a(".hcaptcha-section-enterprise + table input"),y=a('[name="hcaptcha_settings[recaptcha_compat_off][]"]'),C=o.find("#submit"),j={},O=r.val(),H=i.val(),k=T();j[HCaptchaGeneralObject.modeLive]=HCaptchaGeneralObject.siteKey,j[HCaptchaGeneralObject.modeTestPublisher]=HCaptchaGeneralObject.modeTestPublisherSiteKey,j[HCaptchaGeneralObject.modeTestEnterpriseSafeEndUser]=HCaptchaGeneralObject.modeTestEnterpriseSafeEndUserSiteKey,j[HCaptchaGeneralObject.modeTestEnterpriseBotDetected]=HCaptchaGeneralObject.modeTestEnterpriseBotDetectedSiteKey;var G=!1,S=!1,_=[];function w(e){var t={};return e.each((function(){var e=a(this),n=e.attr("name").replace(/hcaptcha_settings\[(.+)]/,"$1");t[n]=e.val()})),t}function T(){return w(b)}function A(){c.remove(),a('<div id="hcaptcha-message"></div>').insertAfter("#hcaptcha-options h2"),c=a(n)}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e=void 0===e?"":String(e),e=(e+="\n"+function(){for(var e=["recaptchacompat disabled","Missing sitekey - https://hcaptcha.com/docs/configuration#jsapi"],t=[],a=0;a<_.length;a++){for(var n=_[a],c=n[0],o=n[1],r=Object.keys(o),i=[],s=0;s<r.length;s++){var l=o[s];"string"==typeof l&&-1===e.indexOf(l)&&i.push([c,l].join(" "))}t.push(i.join("\n"))}return _=[],t.join("\n")}()).trim()){c.removeClass(),c.addClass(t+" notice is-dismissible");var n=e.split("\n").map((function(e){return"<p>".concat(e,"</p>")}));c.html(n.join("")),a(document).trigger("wp-updates-notice-added");var o=a("#wpwrap").position().top;a("html, body").animate({scrollTop:c.offset().top-o-parseInt(c.css("margin-bottom"))},1e3)}}function x(){E(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","notice-success")}function N(){E(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"","notice-error")}function L(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object.assign(hCaptcha.getParams(),t);hCaptcha.setParams(a);var n=document.querySelector("#hcaptcha-options .h-captcha");for(var c in n.innerHTML="",t.theme=null==t||null===(e=t.theme)||void 0===e||null===(e=e.palette)||void 0===e?void 0:e.mode,t.theme||delete t.theme,t)n.setAttribute("data-".concat(c),"".concat(t[c]));hCaptcha.bindEvents()}function K(e,a){var n=function(e){return e&&"object"===t(e)};return n(e)&&n(a)?(Object.keys(a).forEach((function(t){var c=e[t],o=a[t];Array.isArray(c)&&Array.isArray(o)?e[t]=c.concat(o):n(c)&&n(o)?e[t]=K(Object.assign({},c),o):e[t]=o})),e):a}function U(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";for(var n in e){var c=a?"".concat(a,"--").concat(n):n;if("object"===t(e[n])&&null!==e[n])U(e[n],c);else{var o=e[n],r=c.replace(/theme--/g,""),i="".concat(r,"=").concat(o),s=v.find('option[value*="'.concat(r,'="]'));1===s.length&&(s.attr("value",i),s.is(":selected")&&m.val(o))}}}function B(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=g.val().trim();a=a||null;try{e=JSON.parse(a)}catch(e){return g.css("background-color","#ffabaf"),C.attr("disabled",!0),void N("Bad JSON!")}e=K(e,t),g.val(JSON.stringify(e,null,2)),U(e),f.prop("checked")||(e={sitekey:r.val(),theme:h.val(),size:p.val(),hl:u.val()}),L(e)}function P(){r.val()===O&&i.val()===H?(G=!1,A(),C.attr("disabled",!1)):G||(G=!0,N(HCaptchaGeneralObject.checkConfigNotice),C.attr("disabled",!0))}function J(e){return e=e.replace(/(http|https):\/\//,""),"https://"+new URL("https://"+e).host}!function(){_=[];var e=console.log,t=console.warn,a=console.info,n=console.error,c=console.clear;console.log=function(t){_.push(["Console log:",arguments]),e.apply(console,arguments)},console.warn=function(e){_.push(["Console warn:",arguments]),t.apply(console,arguments)},console.info=function(e){_.push(["Console info:",arguments]),a.apply(console,arguments)},console.error=function(e){_.push(["Console error:",arguments]),n.apply(console,arguments)},console.clear=function(){_=[],c()}}(),document.addEventListener("hCaptchaLoaded",(function(){N()})),s.on("click",(function(e){e.preventDefault(),""!==a(".hcaptcha-general-sample-hcaptcha iframe").attr("data-hcaptcha-response")?function(){A(),C.attr("disabled",!0);var e={action:HCaptchaGeneralObject.checkConfigAction,nonce:HCaptchaGeneralObject.checkConfigNonce,mode:d.val(),siteKey:r.val(),secretKey:i.val(),"h-captcha-response":a('textarea[name="h-captcha-response"]').val()};a.post({url:HCaptchaGeneralObject.ajaxUrl,data:e,beforeSend:function(){return x(HCaptchaGeneralObject.checkingConfigMsg)}}).done((function(e){e.success?(O=r.val(),H=i.val(),k=w(b),S=!1,x(e.data),C.attr("disabled",!1)):N(e.data)})).fail((function(e){N(e.statusText)})).always((function(){L()}))}():kaggDialog.confirm({title:HCaptchaGeneralObject.completeHCaptchaTitle,content:HCaptchaGeneralObject.completeHCaptchaContent,type:"info",buttons:{ok:{text:HCaptchaGeneralObject.OKBtnText}},onAction:function(){return window.hCaptchaReset(document.querySelector(".hcaptcha-general-sample-hcaptcha"))}})})),r.on("change",(function(e){L({sitekey:a(e.target).val()}),P()})),i.on("change",(function(){P()})),h.on("change",(function(e){L({theme:a(e.target).val()})})),p.on("change",(function(e){var t=a("#hcaptcha-invisible-notice"),n=a(e.target).val();"invisible"===n?t.show():t.hide(),L({size:n})})),u.on("change",(function(e){L({hl:a(e.target).val()})})),d.on("change",(function(e){var t=a(e.target).val();j.hasOwnProperty(t)&&(t===HCaptchaGeneralObject.modeLive?(r.attr("disabled",!1),i.attr("disabled",!1)):(r.attr("disabled",!0),i.attr("disabled",!0)),L({sitekey:j[t]}))})),f.on("change",(function(){B()})),g.on("blur",(function(){B()})),g.on("focus",(function(){g.css("background-color","unset"),C.attr("disabled",!1)})),b.on("change",(function(){!function(){var t={onload:"hCaptchaOnLoad",render:"explicit"};y.prop("checked")&&(t.recaptchacompat="off"),f.prop("checked")&&(t.custom="true");var a={asset_host:"assethost",endpoint:"endpoint",host:"host",image_host:"imghost",report_api:"reportapi",sentry:"sentry"},n=T();for(var c in a){var o=n[c].trim();o&&(t[a[c]]=encodeURIComponent(J(o)))}var r=n.api_host.trim();r=J(r=r||"js.hcaptcha.com")+"/1/api.js";var i=new URL(r);for(var s in t)i.searchParams.append(s,t[s]);document.getElementById("hcaptcha-api").remove(),delete e.g.hcaptcha,document.querySelector("#hcaptcha-options .h-captcha").innerHTML="";var l=document.getElementsByTagName("head")[0],h=document.createElement("script");h.type="text/javascript",h.id="hcaptcha-api",h.src=i.href,l.appendChild(h)}(),JSON.stringify(T())===JSON.stringify(k)?(S=!1,A(),C.attr("disabled",!1)):S||(S=!0,N(HCaptchaGeneralObject.checkConfigNotice),C.attr("disabled",!0))})),a(".hcaptcha-general h3").on("click",(function(e){var t=a(e.currentTarget);t.toggleClass("closed");var n={action:HCaptchaGeneralObject.toggleSectionAction,nonce:HCaptchaGeneralObject.toggleSectionNonce,section:t.attr("class").replaceAll(/(hcaptcha-section-|closed)/g,"").trim(),status:!t.hasClass("closed")};a.post({url:HCaptchaGeneralObject.ajaxUrl,data:n}).done((function(e){e.success||N(e.data)})).fail((function(e){N(e.statusText)}))})),s.removeAttr("name"),l.removeAttr("name"),v.removeAttr("name"),m.removeAttr("name"),v.find("option").each((function(){var e=a(this);e.val().split("=")[1]||e.attr("disabled",!0)})),m.val(""),v.on("change",(function(){var e=a(this).find("option:selected").val().split("="),t=e[0],n=e[1];"palette--mode"===t?(m.attr("type","text"),m.val(n)):(m.val(n),m.attr("type","color"))})),m.on("change",(function(e){var t=a(e.target).val(),n=v.find("option:selected"),c=n.val().split("="),o=c[0],r=t;n.val(o+"="+t),B(r=(o="theme--"+c[0]).split("--").reverse().reduce((function(e,t){var a={};return a[t]=e,a}),r))}))};window.hCaptchaGeneral=a,jQuery(document).ready(a)})();