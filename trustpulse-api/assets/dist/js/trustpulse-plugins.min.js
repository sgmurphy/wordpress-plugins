window.TPAPI_PLUGINS=window.TPAPI_PLUGINS||{},function(t,e,n,s){const a=n(".plugin-button-action");a.click((t=>{t.preventDefault();const e=n(t.target);if(e.hasClass("disabled"))return;n(".tp-plugin-error").hide();const i=e.attr("id"),o=e.text();!function(t,e){a.addClass("disabled");const n="Install Plugin"===e?"Installing...":"Activating...";t.text(n)}(e,o),n.ajax({type:"POST",beforeSend:function(t){t.setRequestHeader("X-WP-Nonce",s.restNonce)},url:s.restUrl+"tpapp/v1/plugins/",data:{id:t.target.id,actionNonce:s.actionNonce},success:function(t){!function(t){const e=n(`[data-status="${t}"]`);e.removeClass("tp-plugin-status__inactive"),e.addClass("tp-plugin-status__active"),e.text("Active")}(i),e.remove(),a.removeClass("disabled")},error:function(t){!function(t,e,s,a){const i=n(`[data-error="${e}"]`);i.find(".tp-plugin-error__response").text(a),i.show(),t.text(s)}(e,i,o,t.responseJSON.message),a.removeClass("disabled")}})}))}(window,document,jQuery,window.TPAPI_PLUGINS);