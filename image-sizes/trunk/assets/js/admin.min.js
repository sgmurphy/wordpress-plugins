let thumbpress_modal=(e=!0)=>{e?jQuery("#image-sizes-modal").show():jQuery("#image-sizes-modal").hide()};jQuery((function(e){e("#image-sizes_report-copy").click((function(s){s.preventDefault(),e("#image-sizes_tools-report").select();try{document.execCommand("copy")&&e(this).html('<span class="dashicons dashicons-saved"></span>')}catch(e){console.log("Oops, unable to copy!")}})),e(".image-sizes-help-heading").click((function(s){var t=e(this).data("target");e(".image-sizes-help-text:not("+t+")").slideUp(),e(t).is(":hidden")?e(t).slideDown():e(t).slideUp()}));var s=e(".check-all"),t=e(".check-all-default"),a=e(".check-all-custom");s.change((function(){e(".check-all-default,.check-all-custom").prop("checked",this.checked).change()})),t.change((function(){e(".check-default").prop("checked",this.checked),e(".check-this").change()})),a.change((function(){e(".check-custom").prop("checked",this.checked),e(".check-this").change()})),e(".check-this").change((function(s){e(".check-this").length;var t=e(".check-this:not(:checked)").length,a=e(".check-this:checked").length;e("#disabled-counter .counter").text(a),e("#enabled-counter .counter").text(t)})).change();var i=e("#image-sizes_regenerate-thumbs-limit").val();e("#image-sizes_regenerate-thumbs-limit").bind("keyup mouseup",(function(){i=e(this).val()}));function l(s,t,a,i){e.ajax({url:THUMBPRESS.ajaxurl,type:"POST",data:{action:"image_sizes-regen-thumbs",offset:t,limit:s,thumbs_deleteds:a,thumbs_createds:i,_nonce:THUMBPRESS.nonce},success:function(t){if(t.has_image){var a=t.offset/t.total_images_count*100;e(".image-sizes-progress-content").text(Math.ceil(a)+"%").css({width:a+"%"}),l(s,t.offset,t.thumbs_deleted,t.thumbs_created)}else e("#image_sizes-regen-thumbs").text(THUMBPRESS.regen).attr("disabled",!1),e(".image-sizes-progress-panel .image-sizes-progress-content").addClass("progress-full");e("#image_sizes-message").html(t.message).show()},error:function(s){e("#image_sizes-regen-thumbs").text(THUMBPRESS.regen).attr("disabled",!1)}})}function n(s){s.draggable({connectToSortable:"#sortable2",stack:".draggable-item",revert:!0,revertDuration:200,start:function(s,t){e("#sortable1").sortable("disable")}})}e("#image_sizes-regen-thumbs").click((function(s){e("#image_sizes-regen-thumbs").text(THUMBPRESS.regening).attr("disabled",!0),e("#image_sizes-message").html("").hide(),e(".image-sizes-progress-panel").hide(),l(i,0,0,0),e("#image_sizes-message").before('<div class="image-sizes-progress-panel"><div class="image-sizes-progress-content" style="width:0%"><span>0%</span></div></div></div>')})),e(".image_sizes-dismiss").click((function(s){var t=e(this);t.parent().slideToggle(),e.ajax({url:THUMBPRESS.ajaxurl,data:{action:"image_sizes-dismiss",meta_key:t.data("meta_key"),_nonce:THUMBPRESS.nonce},type:"GET",success:function(e){console.log(e)},error:function(e){console.log(e)}})})),e("#image_sizes-regen-wrap span").click((function(s){alert(e(this).attr("title"))})),e(document).on("click","#cx-optimized",(function(s){e("#cx-nav-label-image-sizes_optimize").trigger("click")})),n(e(".draggable-item")),e("#sortable2").sortable({connectWith:"#sortable1, #sortable2",items:".draggable-item, .sortable-item",start:function(s,t){e("#sortable1").sortable("enable"),e("ul.image_sizes-sortable.disable li input").attr("name","disables[]");var a=e("ul.image_sizes-sortable.disable li").length-1;e(".image_sizes-default-thumbnails-panel h4 .disables-count").text(a);a=e("ul.image_sizes-sortable.enable li").length;e(".image_sizes-default-thumbnails-panel h4 .enables-count").text(a)},receive:function(e,s){s.item.hasClass("ui-draggable")&&s.item.draggable("destroy")}}),e("#sortable1").sortable({connectWith:"#sortable1, #sortable2",items:".draggable-item, .sortable-item",receive:function(s,t){e("#sortable1").sortable("disable"),n(t.item),e("ul.image_sizes-sortable.enable li input").attr("name","");var a=e("ul.image_sizes-sortable.disable li").length;e(".image_sizes-default-thumbnails-panel h4 .disables-count").text(a);a=e("ul.image_sizes-sortable.enable li").length;e(".image_sizes-default-thumbnails-panel h4 .enables-count").text(a)}})}));