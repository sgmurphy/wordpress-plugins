"use strict";(self.webpackChunkgravity_pdf=self.webpackChunkgravity_pdf||[]).push([[602],{7569:(e,t,r)=>{r.d(t,{A:()=>p});r(6280),r(3792),r(2953);var n=r(1669),a=r.n(n),i=r(6540),s=r(5556),o=r.n(s);function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}
/**
 * Renders a message or error, with the option to self-clear itself
 *
 * @package     Gravity PDF
 * @copyright   Copyright (c) 2024, Blue Liquid Designs
 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 * @since       4.1
 */(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class c extends i.Component{constructor(){super(...arguments),l(this,"state",{visible:!0}),l(this,"shouldSetTimer",(()=>{this.props.dismissable&&this.setTimer()})),l(this,"setTimer",(()=>{this._timer=null!==this._timer?clearTimeout(this._timer):null,this._timer=setTimeout((()=>{a()(this._message).removeClass("inline").slideUp(400,(()=>{a()(this._message).removeAttr("style"),this.setState({visible:!1}),this._timer=null,this.props.dismissableCallback&&this.props.dismissableCallback()}))}),this.props.delay)})),l(this,"resetState",(()=>{this.setState({visible:!0}),this.shouldSetTimer()}))}componentDidMount(){this.shouldSetTimer()}componentDidUpdate(e,t){t.visible||this.resetState()}componentWillUnmount(){this.props.dismissable&&clearTimeout(this._timer)}render(){var{text:e,error:t}=this.props,r="notice inline";return t&&(r+=" error"),this.state.visible?i.createElement("div",{ref:e=>this._message=e,className:r},i.createElement("p",null,e)):i.createElement("div",null)}}l(c,"defaultProps",{delay:4e3,dismissable:!1}),l(c,"propTypes",{text:o().string.isRequired,error:o().bool,delay:o().number,dismissable:o().bool,dismissableCallback:o().func});const p=c},4333:(e,t,r)=>{r.d(t,{Ay:()=>u});r(6280),r(3792),r(4114),r(2953);var n=r(6540),a=r(5556),i=r.n(a),s=r(9733),o=r(6347),l=r(1627);function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}
/**
 * Renders the button used to trigger the current active PDF template
 * On click it triggers our Redux action.
 *
 * @package     Gravity PDF
 * @copyright   Copyright (c) 2024, Blue Liquid Designs
 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 * @since       4.1
 */(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p extends n.Component{constructor(){super(...arguments),c(this,"handleSelectTemplate",(e=>{e.preventDefault(),e.stopPropagation(),this.props.history.push(""),this.props.onTemplateSelect(this.props.template.id)}))}render(){return n.createElement("a",{onClick:this.handleSelectTemplate,href:"#",tabIndex:"150",className:"button activate","aria-label":this.props.buttonText+" "+GFPDF.template},this.props.buttonText)}}c(p,"propTypes",{history:i().object,onTemplateSelect:i().func,template:i().object,buttonText:i().string});const u=(0,o.y)((0,s.Ng)(null,(e=>({onTemplateSelect:t=>e((0,l.H0)(t))})))(p))},810:(e,t,r)=>{r.d(t,{A:()=>u});r(6280);var n,a,i,s=r(6540),o=r(5556),l=r.n(o),c=r(5981);
/**
 * Renders our Advanced Template Selector container which is shared amongst the components
 *
 * @package     Gravity PDF
 * @copyright   Copyright (c) 2024, Blue Liquid Designs
 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 * @since       4.1
 */
class p extends s.Component{constructor(e){super(e),this.handleFocus=this.handleFocus.bind(this)}componentDidMount(){document.addEventListener("focus",this.handleFocus,!0),document.activeElement&&"wp-filter-search"!==document.activeElement.className&&this.container.focus()}componentWillUnmount(){document.removeEventListener("focus",this.handleFocus,!0)}handleFocus(e){this.container.contains(e.target)||(e.stopPropagation(),this.container.focus())}render(){var e=this.props.header,t=this.props.footer,r=this.props.children,n=this.props.closeRoute;return s.createElement("div",{ref:e=>this.container=e,tabIndex:"140"},s.createElement("div",{className:"backdrop theme-backdrop"}),s.createElement("div",{className:"container theme-wrap"},s.createElement("div",{className:"theme-header"},e,s.createElement(c.A,{closeRoute:n})),s.createElement("div",{id:"gfpdf-template-container",className:"theme-about wp-clearfix theme-browser rendered"},r),t))}}n=p,a="propTypes",i={header:l().oneOfType([l().string,l().element]),footer:l().oneOfType([l().string,l().element]),children:l().node.isRequired,closeRoute:l().string},(a=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(a))in n?Object.defineProperty(n,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[a]=i;const u=p},4368:(e,t,r)=>{r.d(t,{SX:()=>o,UM:()=>c,VY:()=>u,YD:()=>m,YJ:()=>p,oX:()=>s});var n=r(6540),a=r(5556),i=r.n(a),s=e=>{var{isCurrentTemplate:t,label:r}=e;return t?n.createElement("span",{className:"current-label"},r):n.createElement("span",null)};s.propTypes={isCurrentTemplate:i().bool,label:i().string};var o=e=>{var{name:t,version:r,versionLabel:a}=e;return n.createElement("h2",{className:"theme-name"},t,n.createElement(l,{version:r,label:a}))};o.propTypes={name:i().string,version:i().string,versionLabel:i().string};var l=e=>{var{label:t,version:r}=e;return r?n.createElement("span",{className:"theme-version"},t,": ",r):n.createElement("span",null)};l.propTypes={label:i().string,version:i().string};var c=e=>{var{author:t,uri:r}=e;return r?n.createElement("p",{className:"theme-author"},n.createElement("a",{href:r},t)):n.createElement("p",{className:"theme-author"},t)};c.propTypes={author:i().string,uri:i().string};var p=e=>{var{label:t,group:r}=e;return n.createElement("p",{className:"theme-author"},n.createElement("strong",null,t,": ",r))};p.propTypes={label:i().string,group:i().string};var u=e=>{var{desc:t}=e;return n.createElement("p",{className:"theme-description"},t)};u.propTypes={desc:i().string};var m=e=>{var{label:t,tags:r}=e;return r?n.createElement("p",{className:"theme-tags"},n.createElement("span",null,t,":")," ",r):n.createElement("span",null)};m.propTypes={label:i().string,tags:i().string}},9081:(e,t,r)=>{r.d(t,{Ay:()=>l});r(9463),r(6280),r(4114),r(6910),r(4864),r(7465),r(7495),r(906),r(8781),r(5440),r(5746);var n=r(2325);r(6559);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}
/**
 * Uses the Redux Reselect library to sort, filter and search our templates.
 * It also checks if the PDF templates are compatible with the current version of Gravity PDF
 *
 * @package     Gravity PDF
 * @copyright   Copyright (c) 2024, Blue Liquid Designs
 * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License
 * @since       4.1
 */(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e=>e.map((e=>{var t=e.required_pdf_version;return((e,t,r)=>{var n,a,i=0,s={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},o=function(e){return(e=(e=(""+e).replace(/[_\-+]/g,".")).replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".")).length?e.split("."):[-8]},l=function(e){return e?isNaN(e)?s[e]||-7:parseInt(e,10):0};for(e=o(e),t=o(t),a=Math.max(e.length,t.length),n=0;n<a;n++)if(e[n]!==t[n]){if(e[n]=l(e[n]),t[n]=l(t[n]),e[n]<t[n]){i=-1;break}if(e[n]>t[n]){i=1;break}}if(!r)return i;switch(r){case">":case"gt":return i>0;case">=":case"ge":return i>=0;case"<=":case"le":return i<=0;case"===":case"=":case"eq":return 0===i;case"<>":case"!==":case"ne":return 0!==i;case"":case"<":case"lt":return i<0;default:return null}})(t,GFPDF.currentVersion,">")?i(i({},e),{},{compatible:!1,error:GFPDF.requiresGravityPdfVersion.replace(/%s/g,t),long_error:GFPDF.templateNotCompatibleWithGravityPdfVersion.replace(/%s/g,t)}):i(i({},e),{},{compatible:!0})}));const l=(0,n.Mz)([e=>e.template.list,e=>e.template.search,e=>e.template.activeTemplate],((e,t,r)=>(e=o(e),t&&(e=((e,t)=>{e=(e=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")).replace(/ /g,")(?=.*");var r=new RegExp("^(?=.*"+e+").+","i");return t.filter((e=>{var t=e.template.replace(/(<([^>]+)>)/gi,""),n=e.description.replace(/(<([^>]+)>)/gi,""),a=e.author.replace(/(<([^>]+)>)/gi,""),i=e.group.replace(/(<([^>]+)>)/gi,"");return r.test([t,e.id,i,n,a].toString())}))})(t,e)),((e,t)=>e.sort(((e,r)=>!0===e.new&&!0===e.new?0:!0===e.new?1:!0===r.new||t===e.id?-1:t===r.id?1:e.group<r.group?-1:e.group>r.group?1:e.template<r.template?-1:e.template>r.template?1:0)))(e,r))))}}]);