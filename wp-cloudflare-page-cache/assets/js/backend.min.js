"use strict";let e=0,t=null;function c(e){parseInt(e.value)>0?(document.querySelectorAll(`.${e.dataset.mainoption}`).forEach((e=>{e.classList.remove("swcfpc_hide")})),document.querySelectorAll(`.${e.dataset.mainoption}_not`).forEach((e=>{e.classList.add("swcfpc_hide")}))):(document.querySelectorAll(`.${e.dataset.mainoption}`).forEach((e=>{e.classList.add("swcfpc_hide")})),document.querySelectorAll(`.${e.dataset.mainoption}_not`).forEach((e=>{e.classList.contains("swcfpc_hide")&&e.classList.remove("swcfpc_hide")})))}function s(){if(!document.querySelector(".swcfpc_please_wait")){const e=document.querySelectorAll("input[type=submit]"),t=document.querySelectorAll("input[type=submit]"),c=document.querySelectorAll("a");e.forEach((e=>{e.classList.add("swcfpc_hide")})),t.forEach((e=>{e.classList.add("swcfpc_hide")})),c.forEach((e=>{e.classList.add("swcfpc_hide")}));const s=document.createElement("div");s.classList.add("swcfpc_please_wait"),document.body.prepend(s)}}function r(){const e=document.querySelectorAll("input[type=submit]"),t=document.querySelectorAll("input[type=submit]"),c=document.querySelectorAll("a");e.forEach((e=>{e.classList.remove("swcfpc_hide")})),t.forEach((e=>{e.classList.remove("swcfpc_hide")})),c.forEach((e=>{e.classList.remove("swcfpc_hide")})),document.querySelector(".swcfpc_please_wait").remove()}function n(e){window.location=e}function o(){window.location.reload()}function a(e,t,c,s,r,n,o,a,l){c=void 0===c||null==c?350:parseInt(c),s=void 0===s||null==s?300:parseInt(s),n=void 0===n?null:n,o=void 0===o?"Close":o,l=void 0===l?null:l;let u="success";"warning"===(r=void 0===r?null:r)?u="warning":"error"===r?u="error":"info"===r?u="info":"question"===r&&(u="question"),null==(a=void 0===a?null:a)?Swal.fire({title:null!==n?n:"",html:t,icon:u,confirmButtonText:o}):Swal.fire({title:null!==n?n:"",html:t,icon:u,confirmButtonText:o,willClose:()=>{null!=l?a(l):a()}}).then((e=>{e.isConfirmed&&(null!=l?a(l):a())}))}async function l(){try{const e=document.getElementById("swcfpc-ajax-nonce").innerText;s();const t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_purge_varnish_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(t.ok){const e=await t.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success"):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function u(){try{const e=document.getElementById("swcfpc-ajax-nonce").innerText;s();const t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_purge_fallback_page_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(t.ok){const e=await t.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success"):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function i(){try{const e=document.getElementById("swcfpc-ajax-nonce").innerText;s();const t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_purge_everything&security=${e}`,credentials:"same-origin",timeout:1e4});if(t.ok){const e=await t.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success"):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function d(){try{const e=document.getElementById("swcfpc-ajax-nonce").innerText;s();const t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_purge_whole_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(t.ok){const e=await t.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success"):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function f(e){try{const t=document.getElementById("swcfpc-ajax-nonce").innerText,c=encodeURIComponent(JSON.stringify({config_file:e}));s();const n=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_import_config_file&security=${t}&data=${c}`,credentials:"same-origin",timeout:1e4});if(n.ok){const e=await n.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success",null,"Ok",o):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${n.status} ${n.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function m(e){try{const t=document.getElementById("swcfpc-ajax-nonce").innerText,c=encodeURIComponent(JSON.stringify({post_id:e}));s();const n=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_purge_single_post_cache&security=${t}&data=${c}`,credentials:"same-origin",timeout:1e4});if(n.ok){const e=await n.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success"):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${n.status} ${n.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function p(){try{const e=document.getElementById("swcfpc-ajax-nonce").innerText;s();const t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_test_page_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(t.ok){const e=await t.json();r(),"ok"===e.status?a("Success",`${e.html}`,null,null,"success"):a("Error",`${e.html}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function _(){try{const e=document.getElementById("swcfpc-ajax-nonce").innerText;s();const t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_enable_page_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(t.ok){const e=await t.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success",null,"Ok",o):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function w(){try{const e=document.getElementById("swcfpc-ajax-nonce").innerText;s();const t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_disable_page_cache&security=${e}`,credentials:"same-origin",timeout:1e4});if(t.ok){const e=await t.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success",null,"Ok",o):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function h(){try{const e=document.getElementById("swcfpc-ajax-nonce").innerText;s();const t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_reset_all&security=${e}`,credentials:"same-origin",timeout:1e4});if(t.ok){const e=await t.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success",null,"Ok",o):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function y(){try{const e=document.getElementById("swcfpc-ajax-nonce").innerText;s();const t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_clear_logs&security=${e}`,credentials:"same-origin",timeout:1e4});if(t.ok){const e=await t.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success"):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function g(){try{const e=document.getElementById("swcfpc-ajax-nonce").innerText;s();const t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_preloader_start&security=${e}`,credentials:"same-origin",timeout:1e4});if(t.ok){const e=await t.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success"):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}async function E(){try{const e=document.getElementById("swcfpc-ajax-nonce").innerText;s();const t=await fetch(swcfpc_ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},body:`action=swcfpc_preloader_unlock&security=${e}`,credentials:"same-origin",timeout:1e4});if(t.ok){const e=await t.json();r(),"ok"===e.status?a("Success",`${e.success_msg}`,null,null,"success"):a("Error",`${e.error}`,null,null,"error")}else console.error(`Error: ${t.status} ${t.statusText}`),r()}catch(e){alert(`Error: ${e.status} ${e.message}`),console.error(e),r()}}const $=document.querySelectorAll("#swcfpc_tab_links .nav-tab:not(.swcfpc-external)");function v(){const e=document.getElementsByClassName("swcfpc_faq_question");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){this.classList.toggle("active");const e=this.nextElementSibling;"block"===e.style.display?e.style.display="none":e.style.display="block"}))}function x(){const c=document.getElementById("wp-admin-bar-wp-cloudflare-super-page-cache-toolbar-container");c?(0==swcfpc_cache_enabled?(c.classList.remove("bullet-green"),c.classList.add("bullet-red")):(c.classList.remove("bullet-red"),c.classList.add("bullet-green")),clearInterval(t)):e++}$?.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.dataset.tab;if(void 0===typeof t)return!0;$.forEach((e=>{e.classList.remove("nav-tab-active")})),e.target.classList.add("nav-tab-active"),document.querySelectorAll(".swcfpc_tab").forEach((e=>{e.classList.remove("active")})),document.getElementById(t).classList.add("active");const c=document.querySelector("input[name=swcfpc_submit_general]");"faq"===t?c.classList.add("swcfpc_hide"):c.classList.contains("swcfpc_hide")&&c.classList.remove("swcfpc_hide"),document.querySelector("input[name=swcfpc_tab]").value=t}))})),document.addEventListener("DOMContentLoaded",(e=>{if("undefined"==typeof swcfpc_cache_enabled){}null!==document.getElementById("swcfpc_main_content")&&(swcfpc_cache_enabled=parseInt(document.getElementById("swcfpc_main_content").getAttribute("data-cache_enabled")),(null==swcfpc_cache_enabled||isNaN(swcfpc_cache_enabled))&&(swcfpc_cache_enabled=0)),document.getElementById("swcfpc_clear_logs")?.addEventListener("click",(e=>{e.preventDefault(),y()})),document.getElementById("swcfpc_start_preloader")?.addEventListener("click",(e=>{e.preventDefault(),g()})),document.getElementById("swcfpc_unlock_preloader")?.addEventListener("click",(e=>{e.preventDefault(),E()})),document.querySelector("#swcfpc_import_config_start")?.addEventListener("click",(e=>{e.preventDefault();f(document.querySelector("#swcfpc_import_config_content").value)})),document.getElementById("swcfpc_fallback_page_cache_purge")?.addEventListener("click",(e=>{e.preventDefault(),u()})),document.querySelector("#wp-admin-bar-wp-cloudflare-super-page-cache-toolbar-purge-all a")?.addEventListener("click",(e=>{e.preventDefault(),d()})),document.querySelector("#wp-admin-bar-wp-cloudflare-super-page-cache-toolbar-purge-single a")?.addEventListener("click",(e=>{e.preventDefault();m(e.target.hash.replace("#",""))})),document.querySelectorAll(".swcfpc_action_row_single_post_cache_purge").forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault();m(e.target.dataset.post_id)}))})),document.getElementById("swcfpc_varnish_cache_purge")?.addEventListener("click",(e=>{e.preventDefault(),l()})),document.getElementById("swcfpc_form_purge_cache")?.addEventListener("submit",(e=>{e.preventDefault(),d()})),document.getElementById("swcfpc_purge_cache_everything")?.addEventListener("click",(e=>{e.preventDefault(),i()})),document.querySelector("#wp-admin-bar-wp-cloudflare-super-page-cache-toolbar-force-purge-everything a")?.addEventListener("click",(e=>{e.preventDefault(),i()})),document.getElementById("swcfpc_form_test_cache")?.addEventListener("submit",(e=>{e.preventDefault(),p()})),document.getElementById("swcfpc_form_enable_cache")?.addEventListener("submit",(e=>{e.preventDefault(),_()})),document.getElementById("swcfpc_form_disable_cache")?.addEventListener("submit",(e=>{e.preventDefault(),w()})),document.getElementById("swcfpc_form_reset_all")?.addEventListener("click",(e=>{e.preventDefault(),confirm("Are you sure you want reset all?")&&h()})),document.querySelector("select[name=swcfpc_cf_auth_mode]")?.addEventListener("change",(e=>{e.preventDefault();"0"===e.target.value?(document.querySelectorAll(".api_token_method").forEach((e=>{e.classList.add("swcfpc_hide")})),document.querySelectorAll(".api_key_method").forEach((e=>{e.classList.remove("swcfpc_hide")}))):(document.querySelectorAll(".api_token_method").forEach((e=>{e.classList.remove("swcfpc_hide")})),document.querySelectorAll(".api_key_method").forEach((e=>{e.classList.add("swcfpc_hide")})))})),document.querySelectorAll(".conditional_item").forEach((e=>{e.checked&&c(e),e.addEventListener("click",(e=>{c(e.target)}))})),document.querySelector(".swcfpc_faq_accordion")&&v();const r=document?.querySelector("#swcfpc_tab_links .nav-tab-active")?.dataset?.tab;void 0!==typeof r&&(document.querySelector("input[name=swcfpc_tab]").value=r),document.querySelector("#swcfpc_options")?.addEventListener("submit",(e=>{s()})),t=window.setInterval(x,2e3)}));