(()=>{"use strict";var e={n:l=>{var o=l&&l.__esModule?()=>l.default:()=>l;return e.d(o,{a:o}),o},d:(l,o)=>{for(var t in o)e.o(o,t)&&!e.o(l,t)&&Object.defineProperty(l,t,{enumerable:!0,get:o[t]})},o:(e,l)=>Object.prototype.hasOwnProperty.call(e,l)};const l=window.wp.blocks,o=window.React,t=window.wp.serverSideRender;var a=e.n(t);const n=window.wp.blockEditor,i=window.wp.components,r=window.wp.data;function c(e,l=[],o=""){for(var t=0;t<e.length;t+=1)l.push({label:o+e[t].name,value:e[t].id}),e[t].children.length>0&&c(e[t].children,l,o.trim()+"—");return l}const s=JSON.parse('{"UU":"aiovg/categories"}');(0,l.registerBlockType)(s.UU,{attributes:{template:{type:"string",default:aiovg_blocks.categories.template},id:{type:"number",default:aiovg_blocks.categories.id},columns:{type:"number",default:aiovg_blocks.categories.columns},limit:{type:"limit",default:aiovg_blocks.categories.limit},orderby:{type:"string",default:aiovg_blocks.categories.orderby},order:{type:"string",default:aiovg_blocks.categories.order},hierarchical:{type:"boolean",default:aiovg_blocks.categories.hierarchical},show_description:{type:"boolean",default:aiovg_blocks.categories.show_description},show_count:{type:"boolean",default:aiovg_blocks.categories.show_count},hide_empty:{type:"boolean",default:aiovg_blocks.categories.hide_empty},show_pagination:{type:"boolean",default:aiovg_blocks.categories.show_pagination}},edit:function({attributes:e,setAttributes:l}){const{template:t,id:s,columns:g,limit:d,orderby:u,order:b,hierarchical:_,show_description:m,show_count:v,hide_empty:p,show_pagination:h}=e,w=(0,r.useSelect)((e=>{const l=e("core").getEntityRecords("taxonomy","aiovg_categories",{per_page:-1});let o=[{label:"— "+aiovg_blocks.i18n.select_parent+" —",value:0}];if(l&&l.length>0){let e=c(function(e){for(var l,o={},t=[],a=0;a<e.length;a+=1)o[e[a].id]=a,e[a].children=[];for(a=0;a<e.length;a+=1)0==(l=e[a]).parent?t.push(l):o.hasOwnProperty(l.parent)&&e[o[l.parent]].children.push(l);return t}(l));o=[...o,...e]}return o}));return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n.InspectorControls,null,(0,o.createElement)(i.PanelBody,{title:aiovg_blocks.i18n.general_settings},(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.SelectControl,{label:aiovg_blocks.i18n.select_template,value:t,options:[{label:aiovg_blocks.i18n.grid,value:"grid"},{label:aiovg_blocks.i18n.list,value:"list"},{label:aiovg_blocks.i18n.dropdown,value:"dropdown"}],onChange:e=>l({template:e})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.SelectControl,{label:aiovg_blocks.i18n.select_parent,value:s,options:w,onChange:e=>l({id:Number(e)})})),"grid"==t&&(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.RangeControl,{label:aiovg_blocks.i18n.columns,value:g,min:1,max:12,onChange:e=>l({columns:e})})),"grid"==t&&(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.RangeControl,{label:aiovg_blocks.i18n.limit,value:d,min:0,max:500,onChange:e=>l({limit:e})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.SelectControl,{label:aiovg_blocks.i18n.order_by,value:u,options:[{label:aiovg_blocks.i18n.id,value:"id"},{label:aiovg_blocks.i18n.count,value:"count"},{label:aiovg_blocks.i18n.name,value:"name"},{label:aiovg_blocks.i18n.slug,value:"slug"},{label:aiovg_blocks.i18n.menu_order,value:"menu_order"}],onChange:e=>l({orderby:e})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.SelectControl,{label:aiovg_blocks.i18n.order,value:b,options:[{label:aiovg_blocks.i18n.asc,value:"asc"},{label:aiovg_blocks.i18n.desc,value:"desc"}],onChange:e=>l({order:e})})),("list"==t||"dropdown"==t)&&(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.ToggleControl,{label:aiovg_blocks.i18n.show_hierarchy,checked:_,onChange:()=>l({hierarchical:!_})})),"grid"==t&&(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.ToggleControl,{label:aiovg_blocks.i18n.show_description,checked:m,onChange:()=>l({show_description:!m})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.ToggleControl,{label:aiovg_blocks.i18n.show_videos_count,checked:v,onChange:()=>l({show_count:!v})})),(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.ToggleControl,{label:aiovg_blocks.i18n.hide_empty_categories,checked:p,onChange:()=>l({hide_empty:!p})})),"grid"==t&&(0,o.createElement)(i.PanelRow,null,(0,o.createElement)(i.ToggleControl,{label:aiovg_blocks.i18n.show_pagination,checked:h,onChange:()=>l({show_pagination:!h})})))),(0,o.createElement)("div",{...(0,n.useBlockProps)()},(0,o.createElement)(i.Disabled,null,(0,o.createElement)(a(),{block:"aiovg/categories",attributes:e}))))}})})();