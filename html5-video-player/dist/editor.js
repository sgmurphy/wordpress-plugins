!function(){"use strict";var e={n:function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,{a:a}),a},d:function(t,a){for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=Symbol.for("immer-nothing"),a=Symbol.for("immer-draftable"),l=Symbol.for("immer-state");function n(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var r=Object.getPrototypeOf;function o(e){return!!e&&!!e[l]}function s(e){return!!e&&(c(e)||Array.isArray(e)||!!e[a]||!!e.constructor?.[a]||h(e)||y(e))}var i=Object.prototype.constructor.toString();function c(e){if(!e||"object"!=typeof e)return!1;const t=r(e);if(null===t)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return a===Object||"function"==typeof a&&Function.toString.call(a)===i}function p(e,t){0===u(e)?Object.entries(e).forEach((([a,l])=>{t(a,l,e)})):e.forEach(((a,l)=>t(l,a,e)))}function u(e){const t=e[l];return t?t.type_:Array.isArray(e)?1:h(e)?2:y(e)?3:0}function d(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function m(e,t,a){const l=u(e);2===l?e.set(t,a):3===l?e.add(a):e[t]=a}function h(e){return e instanceof Map}function y(e){return e instanceof Set}function f(e){return e.copy_||e.base_}function b(e,t){if(h(e))return new Map(e);if(y(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&c(e)){if(!r(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const a=Object.getOwnPropertyDescriptors(e);delete a[l];let n=Reflect.ownKeys(a);for(let t=0;t<n.length;t++){const l=n[t],r=a[l];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(a[l]={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[l]})}return Object.create(r(e),a)}function g(e,t=!1){return E(e)||o(e)||!s(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&p(e,((e,t)=>g(t,!0)))),e}function v(){n(2)}function E(e){return Object.isFrozen(e)}var w,R={};function _(e){const t=R[e];return t||n(0),t}function C(){return w}function k(e,t){t&&(_("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function x(e){P(e),e.drafts_.forEach(T),e.drafts_=null}function P(e){e===w&&(w=e.parent_)}function S(e){return w=function(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}(w,e)}function T(e){const t=e[l];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function O(e,a){a.unfinalizedDrafts_=a.drafts_.length;const r=a.drafts_[0];return void 0!==e&&e!==r?(r[l].modified_&&(x(a),n(4)),s(e)&&(e=B(a,e),a.parent_||N(a,e)),a.patches_&&_("Patches").generateReplacementPatches_(r[l].base_,e,a.patches_,a.inversePatches_)):e=B(a,r,[]),x(a),a.patches_&&a.patchListener_(a.patches_,a.inversePatches_),e!==t?e:void 0}function B(e,t,a){if(E(t))return t;const n=t[l];if(!n)return p(t,((l,r)=>L(e,n,t,l,r,a))),t;if(n.scope_!==e)return t;if(!n.modified_)return N(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const t=n.copy_;let l=t,r=!1;3===n.type_&&(l=new Set(t),t.clear(),r=!0),p(l,((l,o)=>L(e,n,t,l,o,a,r))),N(e,t,!1),a&&e.patches_&&_("Patches").generatePatches_(n,a,e.patches_,e.inversePatches_)}return n.copy_}function L(e,t,a,l,n,r,i){if(o(n)){const s=B(e,n,r&&t&&3!==t.type_&&!d(t.assigned_,l)?r.concat(l):void 0);if(m(a,l,s),!o(s))return;e.canAutoFreeze_=!1}else i&&a.add(n);if(s(n)&&!E(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;B(e,n),t&&t.scope_.parent_||N(e,n)}}function N(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&g(t,a)}var j={get(e,t){if(t===l)return e;const a=f(e);if(!d(a,t))return function(e,t,a){const l=A(t,a);return l?"value"in l?l.value:l.get?.call(e.draft_):void 0}(e,a,t);const n=a[t];return e.finalized_||!s(n)?n:n===F(e.base_,t)?(M(e),e.copy_[t]=U(n,e)):n},has(e,t){return t in f(e)},ownKeys(e){return Reflect.ownKeys(f(e))},set(e,t,a){const n=A(f(e),t);if(n?.set)return n.set.call(e.draft_,a),!0;if(!e.modified_){const n=F(f(e),t),r=n?.[l];if(r&&r.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(a,n)&&(void 0!==a||d(e.base_,t)))return!0;M(e),z(e)}return e.copy_[t]===a&&(void 0!==a||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return void 0!==F(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,M(e),z(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=f(e),l=Reflect.getOwnPropertyDescriptor(a,t);return l?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:l.enumerable,value:a[t]}:l},defineProperty(){n(11)},getPrototypeOf(e){return r(e.base_)},setPrototypeOf(){n(12)}},I={};function F(e,t){const a=e[l];return(a?f(a):e)[t]}function A(e,t){if(!(t in e))return;let a=r(e);for(;a;){const e=Object.getOwnPropertyDescriptor(a,t);if(e)return e;a=r(a)}}function z(e){e.modified_||(e.modified_=!0,e.parent_&&z(e.parent_))}function M(e){e.copy_||(e.copy_=b(e.base_,e.scope_.immer_.useStrictShallowCopy_))}p(j,((e,t)=>{I[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),I.deleteProperty=function(e,t){return I.set.call(this,e,t,void 0)},I.set=function(e,t,a){return j.set.call(this,e[0],t,a,e[0])};function U(e,t){const a=h(e)?_("MapSet").proxyMap_(e,t):y(e)?_("MapSet").proxySet_(e,t):function(e,t){const a=Array.isArray(e),l={type_:a?1:0,scope_:t?t.scope_:C(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=l,r=j;a&&(n=[l],r=I);const{revoke:o,proxy:s}=Proxy.revocable(n,r);return l.draft_=s,l.revoke_=o,s}(e,t);return(t?t.scope_:C()).drafts_.push(a),a}function $(e){if(!s(e)||E(e))return e;const t=e[l];let a;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=b(e,t.scope_.immer_.useStrictShallowCopy_)}else a=b(e,!0);return p(a,((e,t)=>{m(a,e,$(t))})),t&&(t.finalized_=!1),a}var V=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,a,l)=>{if("function"==typeof e&&"function"!=typeof a){const t=a;a=e;const l=this;return function(e=t,...n){return l.produce(e,(e=>a.call(this,e,...n)))}}let r;if("function"!=typeof a&&n(6),void 0!==l&&"function"!=typeof l&&n(7),s(e)){const t=S(this),n=U(e,void 0);let o=!0;try{r=a(n),o=!1}finally{o?x(t):P(t)}return k(t,l),O(r,t)}if(!e||"object"!=typeof e){if(r=a(e),void 0===r&&(r=e),r===t&&(r=void 0),this.autoFreeze_&&g(r,!0),l){const t=[],a=[];_("Patches").generateReplacementPatches_(e,r,t,a),l(t,a)}return r}n(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...a)=>this.produceWithPatches(t,(t=>e(t,...a)));let a,l;const n=this.produce(e,t,((e,t)=>{a=e,l=t}));return[n,a,l]},"boolean"==typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){s(e)||n(8),o(e)&&(e=function(e){o(e)||n(10);return $(e)}(e));const t=S(this),a=U(e,void 0);return a[l].isManual_=!0,P(t),a}finishDraft(e,t){const a=e&&e[l];a&&a.isManual_||n(9);const{scope_:r}=a;return k(r,t),O(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const l=t[a];if(0===l.path.length&&"replace"===l.op){e=l.value;break}}a>-1&&(t=t.slice(a+1));const l=_("Patches").applyPatches_;return o(e)?l(e,t):this.produce(e,(e=>l(e,t)))}},W=V.produce;V.produceWithPatches.bind(V),V.setAutoFreeze.bind(V),V.setUseStrictShallowCopy.bind(V),V.applyPatches.bind(V),V.createDraft.bind(V),V.finishDraft.bind(V);const{__:q}=wp.i18n,{PanelBody:D,PanelRow:H,FormToggle:Y}=wp.components;var G=e=>{let{attributes:{options:t},updateOption:a}=e;const{controls:l}=t,n=[{label:"Play Large",control:"play-large"},{label:"Restart",control:"restart"},{label:"Rewind",control:"rewind"},{label:"Play",control:"play"},{label:"Fast Forward",control:"fast-forward"},{label:"Progress",control:"progress"},{label:"Current Time",control:"current-time"},{label:"Duration",control:"duration"},{label:"Mute",control:"mute"},{label:"Volume",control:"volume"},{label:"PIP",control:"pip"},{label:"Airplay",control:"airplay"},{label:"Captions",control:"captions"},{label:"Settings",control:"settings"},{label:"Download",control:"download"},{label:"Fullscreen",control:"fullscreen"}];return React.createElement(D,null,n.map((e=>{let{label:t,control:r}=e;return React.createElement(H,{key:r},React.createElement("label",{htmlFor:r,className:"label"},q(t,"h5vp")),React.createElement(Y,{id:r,checked:l.includes(r),onChange:()=>(e=>{const t=n.map((e=>e.control));let r;r=l.includes(e)?l.filter((t=>t!==e)):t.filter((t=>{if(l.includes(t)||t===e)return!0})),a({controls:r})})(r)}))})))},X=wp.components;const{__:J}=wp.i18n,{Fragment:Z}=wp.element,{MediaUpload:K,MediaUploadCheck:Q}=wp.blockEditor,{Button:ee,PanelRow:te,TextControl:ae}=wp.components;var le=function(e){let{value:t,type:a=[],onSelect:l,placeholder:n}=e;return React.createElement("div",{className:"bMediaUpload"},React.createElement(Z,null,React.createElement(Q,null,React.createElement(K,{type:a,onSelect:e=>l(e.url),render:e=>{let{open:t}=e;return React.createElement(ee,{className:"button button-primary",onClick:t,icon:"upload"})}})),React.createElement(te,{className:"width-100"},React.createElement(ae,{value:t,onChange:e=>l(e),placeholder:n}))))},ne=React,re=e.n(ne);var oe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const[l,n]=(0,ne.useState)(!a),[r,o]=(0,ne.useState)(!1),[s,i]=(0,ne.useState)(null),[c,p]=(0,ne.useState)(null);if(!wp.ajax)return void console.error("Please use wp-util as a dependency");const u=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(!0),o(!1),i(null),wp.ajax.post(e,{...t,...a}).done((e=>{p(e),n(!1)})).fail((e=>{o(!0),i(e),n(!1)}))},d=async function(){u(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})};return(0,ne.useEffect)((()=>{a||u(t)}),[]),{data:c,saveData:d,refetch:d,isLoading:l,isError:r,error:s}};var se=function(e){let t=document.createElement("template");return t.innerHTML=e,t.content.firstChild};var ie=function(e){return/^(?:(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?([a-zA-Z0-9_-]+))$/.test(e)?e:!!/^[a-zA-Z0-9_-]{11}$/.test(e)&&`https://www.youtube.com/watch?v=${e}`},ce=wp.i18n;function pe(){return pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},pe.apply(this,arguments)}var ue=e=>{let{label:t,className:a,onChange:l,isPremium:n=!1,Component:r,setOpen:o=(()=>{}),...s}=e;return React.createElement(r,pe({className:`${a} ${n?"":"bplProIdentifier"}`,label:(e=>n?e:React.createElement(React.Fragment,null,React.createElement("span",{className:"bplOpacity75"},e)," ",React.createElement("span",{className:"labelPro"},(0,ce.__)("Pro","text-domain"))))(t),onChange:e=>{n?l(e):o(!0)},isPremium:n},s))};const{Fragment:de,useEffect:me,useState:he}=wp.element,{PanelBody:ye,PanelRow:fe,Button:be,__experimentalNumberControl:ge,TextControl:ve,SelectControl:Ee,TextareaControl:we,ButtonGroup:Re}=wp.components,{__:_e}=wp.i18n;var Ce=e=>{let{attributes:t,setAttributes:a,handleOptions:l,handleFeatures:n,isPremium:r}=e;const{source:o,poster:s,options:i,features:c}=t,{autoplay:p,muted:u,hideControls:d,seekTime:m,preload:h,ratio:y,ads:f,playsinline:b,resetOnEnd:g,loop:v,urls:E}=i,{hideYoutubeUI:w,playWhenVisible:R,disablePause:_,thumbInPause:C,sticky:k,startTime:x,hideLoadingPlaceholder:P}=c;return me((()=>{ie(o)&&a({library:"youtube"})}),[o]),React.createElement(ye,{title:_e("Settings","h5vp"),initialOpen:!1},React.createElement(le,{type:["video"],onSelect:e=>a({source:e}),value:o,placeholder:"video source"}),React.createElement(le,{type:["image"],onSelect:e=>{a({poster:e})},value:s,placeholder:"video Thumbnails",help:"thumbnail will show on frontend"}),React.createElement(ue,{Component:X.ToggleControl,isPremium:r,label:_e("Custom Downlaod URL?","h5vp"),id:"isCDURL",checked:E.enabled,onChange:()=>l({enabled:!E.enabled},"urls")}),E.enabled&&React.createElement(ve,{value:E.download,onChange:e=>l({download:e},"urls")}),React.createElement(ue,{Component:X.ToggleControl,isPremium:!0,help:p?_e("muted should be enabled","h5vp"):"",label:_e("Autoplay","h5vp"),id:"autoplay",checked:p,onChange:()=>l({autoplay:!p})}),React.createElement(X.ToggleControl,{label:_e("Muted","h5vp"),id:"muted",checked:u,onChange:()=>l({muted:!u})}),React.createElement(X.ToggleControl,{label:_e("Repeat","h5vp"),id:"repeat",checked:v.active,onChange:()=>l({loop:{...v,active:!v.active}})}),!v.active&&React.createElement(X.ToggleControl,{label:_e("Reset On End","h5vp"),id:"resetOnEnd",checked:g,onChange:()=>l({resetOnEnd:!g})}),React.createElement(X.ToggleControl,{label:_e("Auto Hide Control","h5vp"),id:"autoHideControl",checked:d,onChange:()=>l({hideControls:!d})}),React.createElement(X.ToggleControl,{label:_e("Hide loading placeholder","h5vp"),id:"hideLoadingPlaceholder",checked:P,onChange:()=>n({hideLoadingPlaceholder:!P})}),React.createElement(ue,{isPremium:r,Component:X.ToggleControl,label:_e("Autoplay When Visible on Screen","h5vp"),id:"playWhenVisible",checked:R,onChange:()=>n({playWhenVisible:!R})}),React.createElement(ue,{isPremium:r,Component:X.ToggleControl,label:_e("Disable Pause","h5vp"),id:"disablePause",checked:_,onChange:()=>n({disablePause:!_})}),React.createElement(ue,{isPremium:r,Component:X.ToggleControl,label:_e("Allow inline playback on iOS","h5vp"),checked:b,onChange:()=>l({playsinline:!b})}),React.createElement(ue,{isPremium:r,Component:X.ToggleControl,label:_e("Show thumbnail on pause","h5vp"),id:"thumbInPause",checked:C.enabled,onChange:()=>n({enabled:!C.enabled},"thumbInPause")}),C.enabled&&s&&React.createElement(fe,null,React.createElement("label",{htmlFor:"thumbInPause",className:"label"},_e("Thumb Style","h5vp")),React.createElement(Re,null,React.createElement(be,{onClick:()=>n({type:"default"},"thumbInPause"),className:"button "+("default"==C.type?"button-primary":"")},_e("Default","h5vp")),React.createElement(be,{onClick:()=>n({type:"custom"},"thumbInPause"),className:"button "+("custom"==C.type?"button-primary":"")},_e("Custom","h5vp")))),React.createElement(ue,{isPremium:r,Component:X.ToggleControl,label:_e("Sticky On Scroll","h5vp"),id:"sticky",checked:k.enabled,onChange:()=>n({enabled:!k.enabled},"sticky")}),k.enabled&&React.createElement(Ee,{labelPosition:"side",label:_e("Sticky Position","h5vp"),value:k.position,options:[{label:"Top Right",value:"top_right"},{label:"Bottom Right",value:"bottom_right"}],onChange:e=>{n({position:e},"sticky")}}),React.createElement(ue,{isPremium:r,Component:ge,label:_e("Seek Time","h5vp"),labelPosition:"edge",isShiftStepEnabled:!0,onChange:e=>l({seekTime:parseInt(e)}),shiftStep:1,value:m}),React.createElement(ue,{isPremium:r,Component:ge,label:_e("Start Time","h5vp"),isShiftStepEnabled:!0,onChange:e=>n({startTime:parseFloat(e)}),shiftStep:1,step:1,labelPosition:"side",value:parseFloat(x)}),React.createElement(ue,{isPremium:r,Component:Ee,labelPosition:"side",value:h,label:_e("Preload","h5vp"),options:[{label:"none",value:"none"},{label:"metadata",value:"metadata"},{label:"auto",value:"auto"}],onChange:e=>{l({preload:e})}}),React.createElement(ve,{label:_e("Video Ratio","h5vp"),onChange:e=>l({ratio:e}),value:y,placeholder:"16:9",autoComplete:!1}),React.createElement(ue,{isPremium:r,Component:we,label:_e("Google VAST TagURL","h5vp"),id:"vastTag",value:f.tagUrl,onChange:e=>l({ads:{...f,tagUrl:e}})}),ie(o)&&React.createElement(X.ToggleControl,{BControlPro:!0,isPremium:r,Component:X.ToggleControl,label:_e("Hide Youtube UI (Experimental, check it's working or not for you)","h5vp"),id:"hideYoutubeUI",checked:w,onChange:()=>n({hideYoutubeUI:!w})}))};const{useState:ke,Fragment:xe}=wp.element,{Dropdown:Pe,ColorPicker:Se,Button:Te,PanelRow:Oe}=wp.components,{__:Be}=wp.i18n;var Le=e=>{const{value:t,title:a="",defaultColor:l,label:n,onChange:r,className:o,disableAlpha:s,boxPosition:i="top left",globalColors:c=[]}=e,[p,u]=ke(t);return React.createElement(Oe,null,n&&React.createElement("label",{htmlFor:"",className:"display-block"},n),React.createElement(Pe,{position:i,renderToggle:e=>{let{isOpen:n,onToggle:o}=e;return React.createElement("div",{style:{display:"flex"}},l&&l!=p&&React.createElement(Te,{icon:"image-rotate",className:"bColorReset",onClick:()=>{r(l),u(l)}}),React.createElement("div",{className:"BColorButtonContainer"},React.createElement("button",{className:"BColorButton",title:a,onClick:o,"aria-expanded":n,style:t?{backgroundColor:t}:{backgroundColor:"transparent"}})))},renderContent:e=>{let{isOpen:a,onToggle:l,onClose:n}=e;return React.createElement(xe,null,React.createElement(Se,{color:t||"",onChangeComplete:e=>{r(`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`),u(e.hex)},disableAlpha:s||!1}),c.length>0&&React.createElement("div",{style:{display:"flex"},className:"globalColors"},c.map(((e,l)=>React.createElement("div",{key:l,className:"BColorButtonContainer"},React.createElement("button",{className:"BColorButton",onClick:()=>{r(e.color),u(e)},"aria-expanded":a,style:t?{backgroundColor:e.color}:{backgroundColor:"transparent"}}))))))}}))};const{__:Ne}=wp.i18n;var je=e=>{let{attributes:t,handleFeatures:a,isPremium:l}=e;const{enabled:n,items:r}=t.features.overlay,[o]=(0,ne.useState)(0),{color:s,backgroundColor:i,fontSize:c,link:p,logo:u,text:d,position:m,type:h,opacity:y}=r[o]||{},f=e=>{a(W(t.features.overlay,(t=>{t.enabled=n,Object.keys(e).map((a=>{t.items[o][a]=e[a]}))})),"overlay")};return React.createElement(X.PanelBody,{title:Ne("Overlay","h5vp"),initialOpen:!1},React.createElement(ue,{isPremium:l,Component:X.ToggleControl,id:"overlay",label:Ne("Overlay","h5vp"),checked:n,onChange:()=>a({enabled:!n},"overlay")}),n&&React.createElement(ne.Fragment,null,React.createElement(X.SelectControl,{label:Ne("Type","h5vp"),value:h,options:[{label:"Text",value:"text"},{label:"Logo",value:"logo"}],onChange:e=>f({type:e}),labelPosition:"side"}),React.createElement(X.SelectControl,{label:Ne("Overlay Position","h5vp"),value:m,options:[{label:"Top Right",value:"top_right"},{label:"Top Left",value:"top_left"}],onChange:e=>f({position:e}),labelPosition:"side"}),"text"===h&&React.createElement(X.TextControl,{label:Ne("Text","h5vp"),value:d,onChange:e=>f({text:e})}),"logo"===h&&React.createElement(React.Fragment,null,React.createElement("label",null,Ne("Logo","h5vp")),React.createElement(le,{label:Ne("Logo","h5vp"),type:["image/jpeg"],onSelect:e=>f({logo:e}),value:u})),React.createElement(X.TextControl,{label:Ne("Link","h5vp"),value:p,onChange:e=>f({link:e})}),"text"===h&&React.createElement(ne.Fragment,null,React.createElement(X.__experimentalUnitControl,{label:Ne("Font Size","h5vp"),value:c,onChange:e=>f({fontSize:e})}),React.createElement(Le,{label:Ne("Color","h5vp"),defaultColor:"#ffffff",value:s,onChange:e=>f({color:e})}),React.createElement(Le,{label:Ne("Background Color","h5vp"),defaultColor:"#333",value:i,onChange:e=>f({backgroundColor:e})})),React.createElement(X.RangeControl,{label:"Opacity",value:y,onChange:e=>f({opacity:parseFloat(e)}),min:.01,max:1,step:.01})))};var Ie=e=>{let{isPremium:t}=e;return t?re().createElement(re().Fragment,null):re().createElement(X.PanelRow,null,re().createElement("p",{className:"text-danger"},"Premium Feature"))};const{PanelBody:Fe,PanelRow:Ae,Button:ze,ToggleControl:Me,TextControl:Ue}=wp.components,{__:$e}=wp.i18n;var Ve=e=>{let{setAttributes:t,attributes:a,isPremium:l,updateOption:n}=e;const{captionEnabled:r,subtitle:o,options:s}=a,i=(e,a,l)=>{const n=[...o];n[l]={...n[l],[e]:a},t({subtitle:n})};return React.createElement(Fe,{className:"subtitlePanel",title:$e("Subtitle/Caption","h5vp"),initialOpen:!1},React.createElement(Ie,{isPremium:l}),l&&o.map(((e,a)=>React.createElement(Fe,{key:a,title:e.label,initialOpen:!1,className:"subtitleItem"},React.createElement(Ue,{value:e?.label,onChange:e=>i("label",e,a),placeholder:"Caption Label"}),React.createElement(le,{onSelect:e=>i("caption_file",e,a),value:e?.caption_file,placeholder:"Subtitle File"}),React.createElement(Ae,null,React.createElement("span",null),React.createElement(ze,{className:"button button-danger button-small",onClick:()=>(e=>{const a=[...o];a.splice(e,1),t({subtitle:a})})(a)},$e("Remove","h5vp")))))),React.createElement(Ae,null,React.createElement("span",null),React.createElement(ze,{isPrimary:!0,className:"button button-small",onClick:()=>{t({subtitle:[...o,{label:"label"}]})}},$e("Add More","h5vp"))),o&&React.createElement(ue,{isPremium:l,Component:Me,label:$e("Enable caption by default (Experimental)","h5vp"),id:"captionEnabled",checked:s.captions.enabled,onChange:()=>n({captions:{...s.captions,enabled:!s.captions.enabled}})}))};const{PanelBody:We,PanelRow:qe,Button:De,TextControl:He}=wp.components,{__:Ye}=wp.i18n;var Ge=e=>{let{attributes:t,setAttributes:a,isPremium:l}=e;const{quality:n}=t,r=(e,t,l)=>{const r=[...n];r[l]={...r[l],[e]:t},a({quality:r})};return React.createElement(We,{className:"",title:Ye("Quality","h5vp"),initialOpen:!1},React.createElement(Ie,{isPremium:l}),l&&n.map(((e,t)=>React.createElement(We,{key:t,title:e.size||"Resulation",initialOpen:!1,className:"subtitleItem"},React.createElement(qe,{className:"width-100"},React.createElement(He,{help:Ye("ex: 720, 1080, 1440","h5vp"),placeholder:"ex: 720, 1080, 1440",value:e?.size,onChange:e=>r("size",e,t)})),React.createElement(le,{onSelect:e=>r("video_file",e,t),value:e?.video_file,placeholder:"Video Source"}),React.createElement(qe,null,React.createElement("span",null),React.createElement(De,{className:"button button-danger button-small",onClick:()=>(e=>{const t=[...n];t.splice(e,1),a({quality:t})})(t)},Ye("Remove","h5vp")))))),React.createElement(qe,null,React.createElement("span",null," "),React.createElement(De,{isPrimary:!0,className:"button button-small",onClick:()=>{a({quality:[...n,{size:"size"}]})}},Ye("Add More","h5vp"))))};const{Fragment:Xe}=wp.element,{PanelBody:Je,PanelRow:Ze,TextControl:Ke,ToggleControl:Qe,SelectControl:et}=wp.components,{__:tt}=wp.i18n;var at=e=>{let{attributes:t,handleFeatures:a,isPremium:l}=e;const{type:n,enabled:r,text:o,color:s}=t.features.watermark||{},i=(e,l)=>{a({...t.features.watermark,[e]:l},"watermark")};return React.createElement(Je,{title:tt("Watermark","h5vp"),initialOpen:!1},React.createElement(ue,{isPremium:l,Component:Qe,label:tt("Watermark","h5vp"),id:"watermark",checked:r,onChange:()=>i("enabled",!r),help:tt("autoplay will not work if enabled","h5vp")}),r&&React.createElement(Xe,null,React.createElement(et,{className:"m-0",style:{marginBottom:0},value:n,labelPosition:"side",label:tt("Type","h5ap"),options:[{label:"Uesr Email",value:"email"},{label:"User Name",value:"name"},{label:"Custom Text",value:"text"}],onChange:e=>{i("type",e)},__nextHasNoMarginBottom:!0,help:["email","name"].includes(n)&&React.createElement("span",null,tt("only logged in user can see his/her ","bpm"),n)}),"text"===n&&React.createElement(Ke,{value:o,onChange:e=>i("text",e)}),React.createElement(Ze,null,React.createElement("label",{htmlFor:"",className:"label display-block"},tt("Text Color","h5vp")),React.createElement(Le,{defaultColor:"#f00",value:s,onChange:e=>i("color",e)}))))};const{PanelBody:lt,PanelRow:nt,Button:rt,TextControl:ot,FormToggle:st,SelectControl:it,ButtonGroup:ct,__experimentalUnitControl:pt,ToggleControl:ut}=wp.components,{__:dt}=wp.i18n;var mt=e=>{let{attributes:t,updateFeatures:a,isPremium:l}=e;const{popupBtnStyle:n,features:r}=t,{enabled:o,type:s,selector:i,hasBtn:c,btnText:p,align:u,btnStyle:d}=r.popup||{},{color:m,backgroundColor:h,fontSize:y,padding:f}=d,b=e=>{const[l]=Object.keys(e);a({...t.features.popup,[l]:e[l]},"popup")};return React.createElement(lt,{title:dt("Popup","h5vp"),initialOpen:!1},React.createElement(ue,{isPremium:l,Component:ut,label:dt("Enable Popup","h5vp"),id:"popup",checked:o,onChange:()=>b({enabled:!o})}),o&&React.createElement(React.Fragment,null,React.createElement(it,{value:s,options:[{label:"poster",value:"poster"},{label:"Button",value:"button"}],onChange:e=>{b({type:e})}}),"button"===s&&React.createElement(nt,null,React.createElement("label",{className:"label"},dt("Use Exists Button","h5vp")),React.createElement(st,{id:"popupBtnExists",checked:c,onChange:()=>b({hasBtn:!c})})),"button"===s&&c&&React.createElement(React.Fragment,null,React.createElement(nt,null,React.createElement("label",{className:"label"},dt("Button Class","h5vp"))),React.createElement(ot,{value:i,onChange:e=>b({selector:e})})),"button"===s&&!c&&React.createElement(lt,{title:"Button Style"},React.createElement(React.Fragment,null,React.createElement(nt,null,React.createElement("label",{className:"label"},dt("Color","h5vp")),React.createElement(Le,{value:m,onChange:e=>b({btnStyle:{...d,color:e}})})),React.createElement(nt,null,React.createElement("label",{className:"label"},dt("Background Color","h5vp")),React.createElement(Le,{value:h,onChange:e=>b({btnStyle:{...d,backgroundColor:e}})})),React.createElement(nt,null,React.createElement("label",{htmlFor:"",className:"label"},dt("Font Size","h5vp")),React.createElement(pt,{onChange:e=>b({btnStyle:{...d,fontSize:e}}),value:y,units:[{label:"px",value:"px",default:16},{label:"em",value:"1",default:1},{label:"rem",value:"1.6",default:1.6}]})),React.createElement(nt,null,React.createElement(X.__experimentalBoxControl,{label:dt("Padding","h5vp"),values:f,onChange:e=>b({btnStyle:{...d,padding:e}})})),React.createElement(nt,null,React.createElement("label",{htmlFor:"",className:"label"},dt("Button Align","h5vp")),React.createElement(ct,null,React.createElement(rt,{icon:"editor-alignleft",onClick:()=>b({align:"left"}),variant:"left"===u?"primary":"secondary"}),React.createElement(rt,{icon:"editor-aligncenter",onClick:()=>b({align:"center"}),variant:"center"===u?"primary":"secondary"}),React.createElement(rt,{icon:"editor-alignright",onClick:()=>b({align:"right"}),variant:"right"===u?"primary":"secondary"}))),React.createElement(ot,{label:dt("Button Text","h5vp"),value:p,onChange:e=>b({btnText:e})})))))};var ht=()=>{setTimeout((()=>{const e=document.querySelectorAll(".components-panel__body-title button");function t(){this.removeEventListener("click",t),e.forEach((e=>{"true"!==e.getAttribute("aria-expanded")||e.isEqualNode(this)||e.click()})),setTimeout((()=>{this.addEventListener("click",t)}),500)}e.forEach((e=>{e.addEventListener("click",t)}))}),500)};var yt=e=>{let{isPremium:t,attributes:a,panelRef:l,handleFeatures:n}=e;const{enabled:r,text:o,btnLink:s,btnText:i,btnStyle:c}=a.features.endScreen,p=e=>{console.log(e),n(W(a.features.endScreen,(t=>{t.enabled=r,Object.keys(e).map((a=>{t[a]=e[a]}))})),"endScreen")};return React.createElement(X.PanelBody,{ref:l,title:(0,ce.__)("End Screen","h5vp"),initialOpen:!1},React.createElement(ue,{isPremium:t,Component:X.ToggleControl,label:(0,ce.__)("Enabled","bpm"),id:"endscreen",checked:r,onChange:()=>p({enabled:!r}),help:(0,ce.__)("Repeat should be disabled","h5vp")}),r&&React.createElement(React.Fragment,null,React.createElement(X.TextareaControl,{label:(0,ce.__)("Text","h5vp"),value:o,onChange:e=>p({text:e})}),React.createElement(X.TextControl,{label:(0,ce.__)("Button Text","h5vp"),value:i,onChange:e=>p({btnText:e})}),React.createElement(X.TextControl,{label:(0,ce.__)("Button link","h5vp"),value:s,onChange:e=>p({btnLink:e})})))};var ft=e=>{let{setAttributes:t,attributes:a}=e;const{autoplay:l,autoHideControl:n,muted:r,options:o,playinline:s,preload:i,resetOnEnd:c,ratio:p,repeat:u,radius:d,styles:m,seekTime:h,speed:y,width:f,chapters:b,imported:g,controls:v}=a,{overlay:E,overlayBackground:w,overlayFontSize:R,overlayLink:_,overlayOpacity:C,overlayPosition:k,overlayText:x,overlayTextColor:P,overlayType:S,overlayLogo:T}=a,{captionEnabled:O,CDURL:B,isCDURL:L,endscreen:N,endscreenText:j,endscreenTextLink:I,endScreen:F,vastTag:A,features:z,overlayFontSize:M,thumbInPause:U,watermark:$,popup:V,popupBtnStyle:q,popupBtnText:D,popupBtnClass:H,popupBtnExists:Y,autoplayWhenVisible:G,popupType:X,disablePause:J,startTime:Z,hideYoutubeUI:K}=a,Q=()=>{let e={};return f.isDeprecated||(e=W(m,(e=>{e.plyr_wrapper={width:f.number+f.unit},e.plyr={borderRadius:d.number+d.unit}}))),e};return(0,ne.useEffect)((()=>{g||t({styles:{...m,...Q()},width:{...f,isDeprecated:!0},options:W(o,(e=>{e.preload=i,e.controls=Object.keys(v).filter((e=>v[e])),e.autoplay=l,e.playsinline=s,e.seekTime=h,e.muted=r,e.captions.active=O,e.ratio=p,e.resetOnEnd=c,e.hideControls=n,e.loop.active=u,e.speed.options=Object.keys(y),e.ads.enabled=!0,e.ads.tagUrl=A,e.urls.enabled=L,e.urls.download=B,e.markers={enabled:!0,points:b.map((e=>({time:e.time,label:e.name})))},e.imported=!0})),features:W(z,(e=>{e.popup={enabled:V,selector:H,hasBtn:Y,type:X,btnText:D,align:"center",btnStyle:{color:q.color,backgroundColor:q.backgroundColor,fontSize:q.fontSize,padding:q.padding}},e.overlay={enabled:E,items:[{color:P,backgroundColor:w,fontSize:M,link:_,logo:T,text:x,position:k,type:S?"text":"logo",opacity:C}]},e.endScreen={enabled:N,text:j,btnText:F.btnText,btnLink:I,btnStyle:F.btnStyle},e.thumbInPause={enabled:U,type:"default"},e.watermark={...$,color:"#f00",type:"email",text:""},e.sticky={enabled:!1,position:"top_right"},e.playWhenVisible=G,e.disablePause=J,e.hideYoutubeUI=K,e.startTime=Z})),imported:!0})}),[]),React.createElement(React.Fragment,null)};const{__:bt}=wp.i18n,{Flex:gt,FlexItem:vt,FlexBlock:Et,TextControl:wt,Button:Rt,PanelBody:_t,PanelRow:Ct}=wp.components,{useState:kt,useRef:xt}=wp.element;var Pt=e=>{let{attributes:t,panelRef:a,handleOptions:l,isPremium:n}=e;const{options:{markers:r}}=t,[o,s]=kt({});return re().createElement(_t,{ref:a,title:bt("Chapters","h5vp"),initialOpen:!1},re().createElement(Ie,{isPremium:n}),n&&re().createElement(re().Fragment,null,r.points.map(((e,t)=>re().createElement(ue,{isPremium:n,Component:St,Chapter:!0,key:t,onRemove:()=>(e=>{const t=[...r.points];l({points:t.filter(((t,a)=>a!==e))},"markers")})(t),chapter:e,onChange:e=>((e,t)=>{const a=[...r.points];a[t]=e,l({points:a},"markers")})(e,t)}))),re().createElement(St,{addNew:!0,onAdd:()=>{if(console.log(o),o.time&&o.label){const e=[...r.points];e.push(o),l({points:e},"markers"),s({})}},chapter:o,onChange:e=>s(e)})))};const St=e=>{let{chapter:t,key:a,onChange:l,onAdd:n,addNew:r=!1,onRemove:o}=e;const{time:s="",label:i=""}=t,c=xt(null);return re().createElement(gt,null,re().createElement(vt,null,re().createElement(wt,{style:{width:"55px"},value:s,placeholder:"00:00",onChange:e=>l({...t,time:e})})),re().createElement(vt,null,re().createElement(wt,{style:{marginLeft:"10px"},value:i,placeholder:"Label",onChange:e=>l({...t,label:e})})),re().createElement(vt,null,r?re().createElement(Rt,{icon:"plus-alt",style:{marginBottom:"10px"},onClick:n}):re().createElement("div",{ref:c,style:{opacity:"0"},onMouseEnter:()=>c.current.style.opacity=1,onMouseLeave:()=>c.current.style.opacity=0},re().createElement(Rt,{icon:"minus",style:{marginBottom:"10px"},onClick:o}))))};var Tt=function(e){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let a="";for(let l=0;l<e;l++){const e=Math.floor(52*Math.random());a+=t.charAt(e)}return a};const{withSelect:Ot}=wp.data;var Bt=Ot((e=>{const{isSavingPost:t}=e("core/editor");return{isSavingPost:t()}}))((e=>{let{attributes:t,isPremium:a,updateFeatures:l,isSavingPost:n}=e;const{data:r,isLoading:o,error:s,saveData:i}=oe("save_password",{nonce:h5vpAdmin?.nonce,model:"Block",method:"save_password"}),{enabled:c,password:p,heading:u,key:d,errorMessage:m,button:h={}}=t.features.passwordProtected||{},[y,f]=(0,ne.useState)(!1),b=e=>{l(W(t.features.passwordProtected||{},(t=>{Object.keys(e).map((a=>{t[a]=e[a]}))})),"passwordProtected")};return(0,ne.useEffect)((()=>{d||b({key:"h5vp_"+Tt("10")})}),[]),(0,ne.useEffect)((()=>{i({key:d,password:p,quality:t.quality,source:t.source})}),[n]),re().createElement(X.PanelBody,{title:(0,ce.__)("Password Protected","h5vp"),initialOpen:!1},re().createElement(ue,{isPremium:a,Component:X.ToggleControl,label:(0,ce.__)("Password Protected","h5vp"),checked:c,onChange:()=>b({enabled:!c})}),c&&re().createElement(re().Fragment,null,re().createElement("div",{style:{position:"relative"}},re().createElement(X.TextControl,{type:y?"text":"password",label:(0,ce.__)("Password","h5vp"),value:p,onChange:e=>b({password:e})}),re().createElement("svg",{onClick:()=>f(!y),fill:"#000000",width:"20px",className:"password_visible_icon",height:"20px",viewBox:"0 0 36 36",preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},re().createElement("title",null,"eye-solid"),re().createElement("path",{d:"M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z",className:"clr-i-solid clr-i-solid-path-1"}),re().createElement("circle",{cx:18.09,cy:18.03,r:6.86,className:"clr-i-solid clr-i-solid-path-2"}),re().createElement("rect",{x:0,y:0,width:36,height:36,fillOpacity:0}))),re().createElement(X.TextareaControl,{label:(0,ce.__)("Heading","h5vp"),value:u,onChange:e=>b({heading:e})}),re().createElement(X.TextControl,{type:"text",label:(0,ce.__)("Password Incorrect message","h5vp"),value:m,onChange:e=>b({errorMessage:e})}),re().createElement(X.TextControl,{type:"text",label:(0,ce.__)("Button Text","h5vp"),value:h?.text,onChange:e=>b({button:{...h,text:e}})})))}));const{__:Lt}=wp.i18n,{Fragment:Nt,useState:jt,useRef:It,useEffect:Ft}=wp.element,{select:At}=wp.data,{TabPanel:zt,Panel:Mt,PanelBody:Ut,PanelRow:$t,TextControl:Vt,TextareaControl:Wt,__experimentalUnitControl:qt}=wp.components,{InspectorControls:Dt}=wp.blockEditor,{getCurrentPostId:Ht}=At("core/editor");var Yt=e=>{let{attributes:t,setAttributes:a,clientId:l,isPremium:n,name:r}=e;const{styles:o,source:s}=t,{plyr_wrapper:i}=o;Ft((()=>{a({uniqueId:`h5vp${l.substr(0,8)}`})}),[]);const c=Ht(),{additionalCSS:p,additionalID:u,options:d}=t,{speed:m}=d,h=At("core/editor").getCurrentPostType(),y=It(null),f=function(e){v(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,"options")},b=function(e){v(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,"features")},g=function(e){v(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,"styles")},v=(e,l,n)=>{a({[n]:W(t[n],(t=>{Object.keys(e).map((a=>{l?t[l]?t[l][a]=e[a]:t[l]={[a]:e}:t[a]=e[a]}))}))})},E=e=>{"%"===e&&g({width:"100%"},"plyr_wrapper"),"px"===e&&g({width:"500px"},"plyr_wrapper"),["rem","vh","hw"].includes(e)&&g({width:100+e},"plyr_wrapper")};return React.createElement(Nt,null,React.createElement(Dt,{style:{marginBottom:"40px"}},"videoplayer"===h&&React.createElement(Ut,null,React.createElement($t,null,React.createElement("div",{className:"h5vp_front_shortcode"},React.createElement("input",{value:`[html5_video id=${c}]`}),React.createElement("span",{className:"htooltip"},Lt("Copy To Clipboard","h5vp"))))),React.createElement(zt,{className:"bPSS",activeClass:"active-tab",onSelect:ht,tabs:[{name:"general",title:"General",className:"general btTab"},{name:"controls",title:"Controls",className:"slider btTab"},{name:"style",title:"Style",className:"style btTab"}]},(e=>React.createElement("span",null,React.createElement(ft,{attributes:t,setAttributes:a}),"general"==e.name&&React.createElement("span",null,React.createElement(Mt,null,React.createElement(Ce,{name:r,isPremium:n,attributes:t,setAttributes:a,handleOptions:f,handleFeatures:b}),React.createElement(Pt,{isPremium:n,attributes:t,setAttributes:a,panelRef:y,handleOptions:f}),React.createElement(je,{isPremium:n,attributes:t,setAttributes:a,handleFeatures:b}),React.createElement(yt,{isPremium:n,attributes:t,setAttributes:a,panelRef:y,handleFeatures:b}),React.createElement(Bt,{isPremium:n,attributes:t,setAttributes:a,panelRef:y,updateFeatures:b}),"html5-player/video"==r&&React.createElement(Nt,null,!s.includes(".mpd")&&!s.includes(".m3u8")&&React.createElement(Nt,null,React.createElement(Ve,{updateOption:f,isPremium:n,attributes:t,setAttributes:a}),React.createElement(Ge,{isPremium:n,attributes:t,setAttributes:a})),React.createElement(Ut,{title:Lt("Speed","h5vp"),initialOpen:!1},React.createElement(Vt,{label:Lt("Speed","h5vp"),value:m.options,onChange:e=>f({...m,options:e.split(",")},"speed")}))),React.createElement(mt,{isPremium:n,attributes:t,setAttributes:a,updateFeatures:b}),React.createElement(at,{isPremium:n,attributes:t,setAttributes:a,handleFeatures:b}),React.createElement(Ut,{title:Lt("Additional","h5vp"),initialOpen:!1},React.createElement(ue,{isPremium:n,Component:Vt,label:"Additional ID",value:u,onChange:e=>a({additionalID:e})}),React.createElement(ue,{isPremium:n,Component:Wt,label:Lt("Additional CSS","h5vp"),value:p,onChange:e=>a({additionalCSS:e})})))),"controls"==e.name&&React.createElement(G,{attributes:t,setAttributes:a,updateOption:f}),"style"==e.name&&React.createElement("span",null,React.createElement(Mt,null,React.createElement(Ut,{ref:y},React.createElement(qt,{label:Lt("Width","h5vp"),step:1,value:i.width,onChange:e=>g({width:e},"plyr_wrapper"),isResetValueOnUnitChange:!0,default:"100",onUnitChange:E}),React.createElement(qt,{label:Lt("Round Corner","h5vp"),value:i.borderRadius,onChange:e=>g({borderRadius:e},"plyr_wrapper")})))))))))};var Gt=class{constructor(){this.callbacks={}}addEventListener(e,t){"function"==typeof t&&(void 0===this.callbacks[e]&&(this.callbacks[e]=[void 0]),this.callbacks[e].push(t))}dispatchEvent(e,t){if(void 0===this.callbacks[e])return;let a=new Gt.Event;a.type=e,a.target=this,a.data=t,this.callbacks[e].forEach((e=>{"function"==typeof e&&e(a)}))}},Xt=Gt;Xt.Event=class{constructor(){this.type="",this.target={},this.data={}}};const Jt=e=>{const t=e.split("/");return t[t.length-1].replace(/\.[^/.]+$/,"")};var Zt=class extends Xt{constructor(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super(),this.media=e,this.isPremium=l,this.features=a,this.options=W(t,(e=>{e.markers.enabled=!0,e.speed.options=t.speed.options.map((e=>parseFloat(e))),e.fullscreen={container:".plyr_wrapper",iosNative:!0}})),this.local=window.h5vpBlock||{},t.urls.enabled||(this.options=W(this.options,(e=>{e.urls.download=null}))),this.media.closest(".plyr_wrapper")?.offsetWidth<=425&&(this.options=W(this.options,(e=>{e.controls=this.options.controls.filter((e=>!["fast-forward","restart","rewind"].includes(e)))}))),this.options.muted?this.options=W(this.options,(e=>{e.volume=0,e.storage.enabled=!1})):this.options=W(this.options,(e=>{e.volume=.5,e.storage.enabled=!0})),this.player=new Plyr(this.media,{...this.options,i18n:window.h5vpI18n||{}}),"m3u8"===this.media.src?.split(".").pop()&&this.videoHls(),"mpd"===this.media.src?.split(".").pop()&&this.videoDash(),this.features.passwordProtected?.enabled||this.init(),this.player.on("pause",(()=>{this.features.disablePause&&this.player.play()})),this.player.elements?.buttons?.mute?.addEventListener("click",(()=>{0===this.player.volume&&(this.player.volume=.4)})),this.addEventListener("update-source",(e=>{let{data:t}=e;this.setSource(t.source,t.qualities,t.captions)}))}setIsPremium(e){this.isPremium=e}setSource(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=t||this.features.qualities;const a=t?.map((e=>({type:`video/${e?.video_file?.split(".").pop()}`,size:parseInt(e.size),src:e.video_file})))||[],l=this.features.captions?.map(((e,t)=>{if(e.caption_file){const t=e.label.split("/");return{kind:"captions",size:e.size,label:t[0],srclang:t[1],src:e.caption_file}}}))||[];this.player.download=this.player.source,(this.player.source||e)&&a.push({src:this.player.source||e,type:"video/mp4",size:720}),this.player.source={type:"video",title:"",sources:a,poster:this.player.poster&&"false"!==this.player.poster?this.player.poster:""},l?.map((e=>{if(e?.src){const t=document.createElement("track");Object.assign(t,e),this.player.media.appendChild(t)}}))}reInit(){this.init()}init(){if(!this.player)return void console.error("something went wrong!");const e=this.features.qualities?.map((e=>({type:`video/${e?.video_file?.split(".").pop()}`,size:parseInt(e.size),src:e.video_file})))||[],t=this.features.captions?.map(((e,t)=>{const a=e.label.split("/");return{kind:"captions",size:e.size,label:a[0],srclang:a[1],src:e.caption_file}}))||[];this.player.download=this.player.source,this.player.source&&e.push({src:this.player.source,type:"video/mp4",size:720}),this.player.source={type:"video",sources:e,poster:this.player.poster&&"false"!==this.player.poster?this.player.poster:""},t?.map((e=>{if(e?.src){const t=document.createElement("track");Object.assign(t,e),this.player.media.appendChild(t)}})),this.player.on("play",(()=>{window.location.pathname.includes("/wp-admin")&&(this.player.pause(),this.player.currentTime=0)})),"object"==typeof this.features&&(this.makeElementSticky(this.features.sticky),this.createChapter(),this.watermark(this.features.watermark),this.thumbInPause(this.features?.thumbInPause),this.autoplayWhenVisible(),this.pauseOther(),this.createView()),this.player.on("play",(()=>{this.disabled&&(this.player.currentTime=0,this.player.pause())})),this.player.on("ready",(()=>{this.media.plyr=this.player,this.features.startTime&&setTimeout((()=>{this.player.currentTime=parseInt(this.features.startTime)}),200),this.options.autoplay&&this.player?.play(),this.controlTouchAction()}))}createView(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.player.on("pause",(()=>{if(!this.videoId||!this.isPremium)return;let t=!1;const a=this.player?.currentTime;let l=localStorage.getItem(`video-progress-max-${this.videoId}`),n=new Date;l?l=JSON.parse(l):localStorage.setItem(`video-progress-max-${this.videoId}`,JSON.stringify({currentTime:a,created_at:n}));const r=(n-new Date(l?.created_at))/6e4;let o=!1;o=e?this.player.playing&&(a>=l?.currentTime||r>1440):a>=l?.currentTime||r>1440,o&&(r>1440&&(l.created_at=n),l.currentTime=this.player.currentTime,localStorage.setItem(`video-progress-max-${this.videoId}`,JSON.stringify(l)),t||(t=!0,wp.ajax.post("h5vp_ajax_handler",{nonce:this.nonce,model:"View",method:"createOrUpdate",video_id:this.videoId,duration:parseInt(this.player.currentTime)}).done((e=>{console.log(e)})).fail((e=>{console.log(e)}))))}))}autoplayWhenVisible(){if(this.features.playWhenVisible){let e=!1;this.player.on("ready",(()=>{window.addEventListener("scroll",(()=>{if(!this.isPremium)return!1;this.player.elements?.container?.offsetParent?.offsetTop<window.scrollY&&!e&&(this.player.muted=!0,this.player.play(),e=!0)}))}))}}makeElementSticky(e){if(!e?.enabled)return!1;const t=this.player.elements.fullscreen;if(t&&this.player){const a=t.getBoundingClientRect().top,l=se("<span class='close'>&times;</span>");window.addEventListener("scroll",(()=>{if(!this.isPremium)return;const n=t.querySelector(".close");window.scrollY>=a&&this.player.playing?(t.classList.add(e.position),t.classList.add("sticky"),n||t.appendChild(l)):this.player.playing||(t.classList.remove("sticky"),t.classList.remove(e.position)),l.addEventListener("click",(()=>{t.classList.remove(e.position),t.classList.remove("sticky"),this.player.pause()}))}))}}createChapter(){const e=this.player?.elements?.container,t=this.options.markers.points?.map((e=>({...e,time:this.chapterTimeToSeconds(e.time)})));if(!Array.isArray(t)||!e)return!1;const a=e.querySelector(".h5vp-chapter-wrapper");if(!t||a||!t.length)return!1;const l=document.createElement("div"),n=document.createElement("div"),r=document.createElement("button"),o=document.createElement("div");r.classList="h5vp-chapter-button plyr__controls__item plyr__control",r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 487.3 487.3"> <path d="M487.2,69.7c0,12.9-10.5,23.4-23.4,23.4h-322c-12.9,0-23.4-10.5-23.4-23.4s10.5-23.4,23.4-23.4h322.1 C476.8,46.4,487.2,56.8,487.2,69.7z M463.9,162.3H141.8c-12.9,0-23.4,10.5-23.4,23.4s10.5,23.4,23.4,23.4h322.1 c12.9,0,23.4-10.5,23.4-23.4C487.2,172.8,476.8,162.3,463.9,162.3z M463.9,278.3H141.8c-12.9,0-23.4,10.5-23.4,23.4 s10.5,23.4,23.4,23.4h322.1c12.9,0,23.4-10.5,23.4-23.4C487.2,288.8,476.8,278.3,463.9,278.3z M463.9,394.3H141.8 c-12.9,0-23.4,10.5-23.4,23.4s10.5,23.4,23.4,23.4h322.1c12.9,0,23.4-10.5,23.4-23.4C487.2,404.8,476.8,394.3,463.9,394.3z M38.9,30.8C17.4,30.8,0,48.2,0,69.7s17.4,39,38.9,39s38.9-17.5,38.9-39S60.4,30.8,38.9,30.8z M38.9,146.8 C17.4,146.8,0,164.2,0,185.7s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9S60.4,146.8,38.9,146.8z M38.9,262.8 C17.4,262.8,0,280.2,0,301.7s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9S60.4,262.8,38.9,262.8z M38.9,378.7 C17.4,378.7,0,396.1,0,417.6s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9C77.8,396.2,60.4,378.7,38.9,378.7z"/> </svg><span class="plyr__tooltip">Chapter</span>',l.classList="h5vp-chapter-wrapper",n.classList="h5vp-chapter-list-wrapper",o.classList="h5vp-chapter-list",t.map((t=>{if(""!=(t?.label||t?.name)&&""!=t?.time){const a=this.chapterTimeToSeconds(t?.time),l=document.createElement("button");l.innerHTML=`<span>${t?.label}</span>`,o.appendChild(l),l.onclick=()=>{o.classList.remove("showing"),this.player.currentTime=a,this.player.play()},r.onclick=()=>{o.classList.contains("showing")?o.classList.remove("showing"):o.classList.add("showing")},e.addEventListener("click",(function(e){o.contains(e.target)||r.contains(e.target)||o.classList.contains("showing")&&o.classList.remove("showing")})),this.onClick(e.querySelector(".plyr__controls__item.plyr__menu button"),(function(){o.classList.contains("showing")&&o.classList.remove("showing")}))}})),n?.appendChild(o),this.player.on("ready",(()=>{const t=e.querySelector(".plyr__controls__item.plyr__volume"),a=e.querySelector(".plyr__controls__item.plyr__menu"),l=e.querySelector(".plyr__controls__item[data-plyr='fullscreen']"),o=e.querySelector(".plyr__controls__item.plyr__time--current.plyr__time");t?t.before(r):a?a.before(r):l?l.before(r):o&&o.before(r),e.querySelector(".plyr__controls")?.after(n)}))}watermark(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{enabled:t,type:a,text:l,color:n}=e,r=this.player.elements?.container;if(!r||!t)return!1;let o=l;setTimeout((async()=>{if(["email","name"].includes(a))try{this.disabled=!0,console.log(this.nonce);const e=await wp.ajax.post("watermark_data",{nonce:this.nonce||window.h5vpBlock?.nonce});o=e.user[a]||window.location.origin,this.disabled=!1}catch(e){this.disabled=!1}let e="watermark";this.player.on("play",(()=>{if(!this.isPremium)return!1;const t=setInterval((()=>{const t=document.querySelector(e);t&&r.removeChild(t),e="watermark"+Math.round(1e3*Math.random());const l=document.createElement(e);l.setAttribute("style","display: block !important"),"email"===a&&(l.innerText=o),r.appendChild(l),l.innerText=o,l.setAttribute("style",`position:absolute; display:block !important; opacity:1 !important;top: ${Math.round(90*Math.random())}% !important; left: ${Math.round(70*Math.random())}% !important; transform: none !important`),l.style.color=n,r.appendChild(l)}),2e3);this.player.on("pause",(()=>{setTimeout((()=>{clearInterval(t);const a=document.querySelector(e);a&&r.removeChild(a)}),0)}))}))}),100)}thumbInPause(){if(this.features?.thumbInPause?.enabled)if("custom"==this.features.thumbInPause?.type){const e=document.createElement("img");e.src=this.player.poster;const t=this.player?.elements?.buttons?.play?.[0];this.player.on("ready",(()=>{const t=this.player?.elements?.buttons?.play?.[0];t&&(t.classList.add("thumbInPause"),t.appendChild(e))})),this.player.on("play",(()=>{t.classList.remove("thumbInPause")})),this.player.on("pause",(()=>{t.classList.add("thumbInPause")}))}else this.player.on("pause",(()=>{this.player?.elements?.container&&this.player?.elements?.container.classList.add("plyr--stopped")}))}destroy(){console.log("destroyed"),this.player?.destroy()}chapterTimeToSeconds(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.toString().match(/(\d+):(\d+)/);return null==t?parseInt(e):60*parseInt(t[1])+parseInt(t[2])}getTTT(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e/100*t-e/100*(100-t)}onClick(e,t){e&&e.addEventListener("click",t)}setNonce(e){this.nonce=e}setVideoId(e){this.videoId=e}videoHls(){const e=()=>{if(window.Hls?.isSupported()){const e=new window.Hls;e.loadSource(this.media.src),this.player.on("ready",(()=>{e.attachMedia(this.player.media)})),this.player.ready&&e.attachMedia(this.player.media),e.on(Hls.Events.MANIFEST_PARSED,(()=>{["metadata","none"].includes(this.options.preload)&&setTimeout((()=>{e.stopLoad()}),1e3),this.player.on("play",(function(){e.startLoad()}))})),window.player=this.player,this.player?.on("languagechange",(()=>{setTimeout((()=>e.subtitleTrack=this.player.currentTrack),50)}))}else console.warn("Hls does not support")};let t=document.getElementById("h5vp-hls-js");t?e():(t=document.createElement("script"),t.setAttribute("id","h5vp-hls-js"),t.src=this.local?.hls,document.getElementsByTagName("head")[0]?.prepend(t),t?.addEventListener("load",(()=>e())))}videoDash(){let e=document.getElementById("h5vp-dash-js");if(e){if(dashjs){dashjs.MediaPlayer().create().initialize(this.player.media,this.media.src,!0),this.player=new Plyr(this.player.media)}}else e=document.createElement("script"),e.setAttribute("id","h5vp-dash-js"),e.src=this.local?.dash,document.getElementsByTagName("head")[0]?.prepend(e),e.addEventListener("load",(()=>{if(dashjs){dashjs.MediaPlayer().create().initialize(this.media,this.media.src,!0)}}))}controlTouchAction(){if(document.body.offsetWidth>992)return!1;const e=this.player.elements?.container;if(!e)return!1;const t=this.player,a=e.querySelector(".plyr__video-wrapper"),l=document.createElement("span");l.classList.add("seekSecond"),a.appendChild(l),t.eventListeners.forEach((t=>{"dblclick"===t.type&&e.removeEventListener(t.type,t.callback,t.options)})),a.parentNode.addEventListener("dblclick",(e=>{let t=e.target.getBoundingClientRect(),n=e.clientX-t.left;this.player.fullscreen.active&&(a.offsetWidth-150<n&&a.offsetWidth/2<n?(this.player.forward(this.options.seekTime),l.innerText=this.options.seekTime+" sec"):a.offsetWidth/2>n&&n<150&&(this.player.rewind(this.options.seekTime),l.innerText="-"+this.options.seekTime+" sec"),setTimeout((()=>{l.innerText=""}),1e3)),n>150&&n<a.offsetWidth-150&&this.player.fullscreen.toggle()})),e.addEventListener("touchstart",(e=>{this.player.fullscreen.active&&(this.touchClientX=e.touches[0].clientX,this.touchClientY=e.touches[0].clientY)}),!1),e.addEventListener("touchend",(e=>{if(!this.player.fullscreen.active)return;let a,n;a=e.changedTouches[0].clientX-this.touchClientX,n=e.changedTouches[0].clientY-this.touchClientX,a>5?(t.forward(parseInt(a)/10),l.innerText=parseInt(a/10)+" sec"):a<-5&&(t.rewind(Math.abs(a)/10),l.innerText=parseInt(a/10)+" sec"),setTimeout((()=>{l.innerText=""}),1e3)}),!1)}pauseOther(){if(location.pathname.includes("wp-admin"))return!1;window.hpublic?.pauseOther&&this.player.on("play",(()=>{const e=this.player.elements.fullscreen?.dataset?.uniqueId;document.querySelectorAll(`video:not([data-unique-id="${e}"] video, a video)`).forEach((e=>e.pause()))}))}domAttributesToObjectList(e){const t=[];return e.forEach((e=>{const a=e.attributes,l={};for(let e=0;e<a.length;e++){const t=a[e];l[t.name]=t.value}t.push(l)})),t}getStoredSettings(){return JSON.parse(window.localStorage.getItem("plyr"))}};var Kt=e=>{let{enabled:t,items:a}=e;return t?React.createElement(React.Fragment,null,a.map(((e,t)=>React.createElement(React.Fragment,null,React.createElement("style",null,`\n              .overlay_item_${t} p{\n                padding: 5px 12px;\n              }\n              .overlay_item_${t} p,\n              .overlay_item_${t} img,\n              .overlay_item_${t} a {\n              color: ${e.color};\n              font-size: ${e.fontSize};\n              background-color: ${e.backgroundColor};\n              border-radius: 3px px;\n              opacity: ${e.opacity}\n            }\n            .overlay_item_${t} a:hover,\n            .overlay_item_${t} p:hover {\n              color: ${e.hoverColor};\n            }\n            `.replace(/\s+/g," ")),React.createElement("div",{key:t,className:`h5vp_overlay ${e.position} overlay_item_${t}`},"text"===e.type?React.createElement("p",null,e.link?React.createElement("a",{href:e.link,rel:"noreferrer",target:"_blank"},e.text):React.createElement(React.Fragment,null,e.text)):e.link?React.createElement("a",{className:"background-transparent",href:e.link,rel:"noreferrer",target:"_blank"},React.createElement("img",{src:e.logo})):React.createElement("img",{src:e.logo})))))):React.createElement(React.Fragment,null)};var Qt=e=>{let{setOpen:t,popup:a,poster:l}=e;const{align:n,enabled:r,btnStyle:o,hasBtn:s,selector:i,type:c,btnText:p}=a,{padding:u,...d}=o||{};return(0,ne.useEffect)((()=>{"button"===c&&s&&i&&r&&document.querySelector([".","#","["].includes(i)?`${i}`:`.${i}`)?.addEventListener("click",(()=>{t(!0)}))}),[]),React.createElement(React.Fragment,null,r&&React.createElement("div",{className:"button"===c?`flex justify-${n}`:""},s&&"poster"!==c?React.createElement(React.Fragment,null):React.createElement(React.Fragment,null,"button"===c?React.createElement("button",{className:"popup_opener",onClick:()=>t(!0),style:{...d,padding:Object.values(u).join(" ")}},p):React.createElement(React.Fragment,null,l?React.createElement("div",{className:"popup_opener"},React.createElement("svg",{"aria-hidden":"true",focusable:"false",className:"popup_play",onClick:()=>t(!0)},React.createElement("use",{xlinkHref:"#plyr-play"})),React.createElement("img",{src:l,width:"100%"})):React.createElement("h3",null,"Poster missing"))),React.createElement("span",{onClick:()=>t(!1),className:"close"},"")))};function ea(){return ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ea.apply(this,arguments)}var ta=e=>{let{captions:t,poster:a,source:l,qualities:n,isPremium:r,className:o="",reference:s,...i}=e;return re().createElement(re().Fragment,null,re().createElement("video",ea({crossOrigin:!0,className:o,id:"player","data-poster":a||"",ref:s,src:l},i,{style:{width:"100%",maxWidth:"100%"}}),r&&re().createElement(re().Fragment,null,Array.isArray(t)&&t.map(((e,t)=>{if(!e.caption_file)return;const a=e.label.split("/");return re().createElement("track",{key:t,kind:"captions",srcLang:a[1]||" ",label:a[0]||"no label",src:e.caption_file})})),!["m3u8","mpd"].includes(l?.split(".").pop())&&re().createElement(re().Fragment,null,re().createElement("source",{src:l,size:720,type:`video/${l?.split(".").pop()}`}),Array.isArray(n)&&n.map(((e,t)=>{}))))),i["data-poster"]&&re().createElement("div",{className:"preload_poster",style:{background:`url(${i["data-poster"]})`}}))};function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},aa.apply(this,arguments)}var la=e=>{let{source:t="https://www.youtube.com/watch?v=MLpWrANjFbI",className:a="",...l}=e;return React.createElement("div",aa({className:`plyr__video-embed ${a}`,id:"player"},l),React.createElement("iframe",{src:`${t}?origin=${window.location.origin}&iv_load_policy=3&amp;modestbranding=1&amp;playsinline=1&amp;showinfo=0&amp;rel=0&amp;enablejsapi=1`,allowfullscreen:!0,allowtransparency:!0,allow:"autoplay"}),l["data-poster"]&&React.createElement("div",{className:"preload_poster",style:{background:`url(${l["data-poster"]})`}}))};var na=function(e){if(!e)return!1;const t=/^(https?:\/\/)?(www\.)?(player\.)?vimeo\.com\/(video\/)?(\d+)(\/[^\s]*)?$/,a=e?.match(t)?.[5];return a?`https://player.vimeo.com/video/${a}`:isNaN(e)?t.test(e):`https://player.vimeo.com/video/${e}`};var ra=e=>{let{endScreen:t,player:a}=e;const{enabled:l,text:n,btnText:r,btnLink:o}=t,s=(0,ne.useRef)(null);(0,ne.useEffect)((()=>{a?.player?.on("ended",(()=>{console.log("ended"),l&&(a.player.stop(),s.current.style.display="block",console.log("workign"))}))}),[a]);return React.createElement(React.Fragment,null,l&&React.createElement(React.Fragment,null,React.createElement("div",{ref:s,className:"h5vp_end_screen"},React.createElement("span",{className:"close",onClick:()=>{s.current.style.display="none"}},""),React.createElement("div",{className:"content"},React.createElement("p",null,n),r&&React.createElement("a",{target:"_blank",rel:"noreferrer",href:o},r)))))};var oa=function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()};var sa=e=>{let{styles:t={},uniqueId:a}=e;const[l,n]=(0,ne.useState)(null);return(0,ne.useEffect)((()=>{let e="";"object"==typeof t&&Object.keys(t).map((l=>{if("object"==typeof t[l]){let n="";Object.keys(t[l]).map((e=>{n+=`${oa(e)}: ${t[l][e]};`})),e+=`#${a} ${[".","#"].includes(l[0])?"":"."}${l}{${n}} `}})),n(e)}),[t,a]),React.createElement("style",{dangerouslySetInnerHTML:{__html:l}})};function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ia.apply(this,arguments)}var ca=e=>{let{source:t="https://player.vimeo.com/video/76979871",className:a="",...l}=e;return re().createElement("div",ia({className:`plyr__video-embed ${a}`,id:"player"},l),re().createElement("iframe",{src:`${t}?loop=false&amp;byline=false&amp;portrait=false&amp;title=false&amp;speed=true&amp;transparent=0&amp;gesture=media`,allowfullscreen:!0,allowtransparency:!0,allow:"autoplay"}),l["data-poster"]&&re().createElement("div",{className:"preload_poster",style:{background:`url(${l["data-poster"]})`}}))};var pa=e=>{let{height:t="10px",width:a="10px",color:l="#3498db",className:n="",style:r={}}=e;return React.createElement("div",{className:`simple-loader ${n}`,style:{height:t,width:a,borderTopColor:l,...r}})};var ua=e=>{let{passwordProtected:t,setSrc:a,nonce:l,src:n,source:r,setQualities:o}=e;const{enabled:s,heading:i,button:c,key:p,errorMessage:u}=t,{data:d,refetch:m,isLoading:h}=oe("h5vp_ajax_handler",{nonce:l,method:"check_password",model:"Video",key:p},!0),[y,f]=(0,ne.useState)(null),[b,g]=(0,ne.useState)(null),{text:v="Access"}=c||{};(0,ne.useEffect)((()=>{f(null),h||(d?(a(d.source),o(d.quality)):null!==d&&f(u||"Password didn't matched"))}),[h]);return re().createElement(re().Fragment,null,s&&!n&&re().createElement(re().Fragment,null,re().createElement("div",{className:"password_form_overlay"}),re().createElement("div",{className:"password_form"},re().createElement("form",{onSubmit:e=>{e.preventDefault(),m({key:p,password:b})}},i&&re().createElement("h3",{className:"password_form_heading",dangerouslySetInnerHTML:{__html:i}}),re().createElement("input",{type:"password",className:"password_form_input",placeholder:"Password",onChange:e=>g(e.target.value)}),re().createElement("button",{className:"password_form_button",disabled:h},h&&re().createElement(pa,{style:{borderWidth:"2px"}})," ",v),y&&re().createElement("p",{className:"password_form_error",dangerouslySetInnerHTML:{__html:y}})))))};function da(){return da=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},da.apply(this,arguments)}var ma=e=>{let{attributes:t,nonce:a=window.h5vpBlock?.nonce}=e;const{additionalCSS:l,additionalID:n,source:r,poster:o,provider:s,qualities:i,captions:c,options:p,features:u,uniqueId:d,styles:m}=t;window.attributes=t;const{popup:h,overlay:y,endScreen:f,passwordProtected:b={},hideYoutubeUI:g}=u,[v,E]=(0,ne.useState)(b.enabled?"":r),[w,R]=(0,ne.useState)(null),[_,C]=(0,ne.useState)(!1),[k,x]=(0,ne.useState)("library"===s?"self-hosted":s),{autoplay:P,muted:S,loop:T}=p,{data:O,isLoading:B}=oe("pipe_handler",{nonce:a}),{data:L,refetch:N}=oe("h5vp_ajax_handler",{nonce:a,method:"create",model:"Video"},!0),[j,I]=(0,ne.useState)(i),F=(0,ne.useRef)(null);return(0,ne.useEffect)((()=>{_?w?.player.play():w?.player.pause()}),[_]),(0,ne.useEffect)((()=>{F.media=F.current?.querySelector("#player")}),[F]),(0,ne.useEffect)((()=>{const e=setInterval((()=>{const t=F.current?.querySelector("#player");if(t){const a=new Zt(t,p,{...u,qualities:j,captions:c});R(a),clearInterval(e)}}),100);return()=>{w?.destroy()}}),[p,u,j,c]),(0,ne.useEffect)((()=>{w&&!w?.nonce&&w.setNonce(a),w&&!w?.videoId&&w.setVideoId(L)}),[a,L]),(0,ne.useEffect)((()=>{w&&w.setIsPremium(O),B||O||"self-hosted"===k||w?.destroy()}),[O,B,k]),(0,ne.useEffect)((()=>{k||(ie(r)?x("youtube"):na(r)?x("vimeo"):x("self-hosted"))}),[r]),(0,ne.useEffect)((()=>{r&&k&&N({src:r,type:k,title:Jt(r)})}),[r,k]),(0,ne.useEffect)((()=>{w?.player&&(w.player.poster=o)}),[v,o]),(0,ne.useEffect)((()=>{w?.player&&(w.setSource(),window.player=w,console.log("password "),w.dispatchEvent("update-source",{source:v,qualities:j}))}),[v]),(0,ne.useEffect)((()=>{window.sources?window.sources.push(r):window.sources=[r]}),[v,r]),(0,ne.useEffect)((()=>{E(b.enabled?"":r)}),[r]),r?React.createElement("div",{ref:F,id:d,className:`h5vp_player_temp  ${h.enabled?"h5vp_popup_enabled":""} ${_?"h5vp_popup_open":""}`},React.createElement(sa,{styles:m,uniqueId:d}),React.createElement("style",null,l),O&&React.createElement(Qt,{setOpen:C,popup:h,poster:o}),React.createElement(ua,{passwordProtected:b,nonce:a,src:v,setSrc:E,source:r,setQualities:I}),React.createElement("div",{className:"plyr_wrapper "+(g?"hideUI":""),id:n,"data-unique-id":Tt(5)},React.createElement(React.Fragment,null,"vimeo"===k&&React.createElement(ca,{source:na(v)}),"youtube"===k&&React.createElement(la,{source:ie(v)})),"self-hosted"===k&&React.createElement(ta,{qualities:v?j:[],captions:c,source:b.enabled?v:r,poster:o,autoPlay:P,muted:S,loop:T?.active,preload:p.preload,isPremium:O,playsInline:p.playsinline}),O&&React.createElement(React.Fragment,null,React.createElement(ra,{endScreen:f,player:w}),React.createElement(Kt,da({},y,{player:w?.player}))))):React.createElement("h3",null,"Video source missing")};function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},ha.apply(this,arguments)}const{Fragment:ya,useEffect:fa,useState:ba}=wp.element,{__:ga}=wp.i18n,{MediaUpload:va,MediaUploadCheck:Ea}=wp.blockEditor,{Button:wa,Placeholder:Ra}=wp.components;var _a=e=>{const[t,a]=ba(h5vpBlock?.isPipe),{attributes:l,setAttributes:n,isSelected:r}=e,{source:o}=l,[s,i]=ba(),[c,p]=ba(!0);fa((()=>{a(1==h5vpBlock?.isPipe)}),[]),fa((()=>{r&&wp.data.dispatch("core/edit-post").openGeneralSidebar("edit-post/block")}),[r]);const u=e=>!!new RegExp("https?","i").test(e);return React.createElement(ya,null,!r&&React.createElement("div",{className:"item_selected"}),o?React.createElement(ya,null,React.createElement(Yt,ha({},e,{isPremium:t})),React.createElement(ma,{attributes:l,isSelected:r})):React.createElement(ya,null,React.createElement(Ra,{icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"html5-block-icon"},React.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),React.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),instructions:ga("Upload a video or paste/write video url to get started.","h5vp"),label:ga("Upload a Video ","h5vp")},React.createElement(Ea,null,React.createElement(va,{type:["image"],onSelect:e=>n({source:e.url}),render:e=>{let{open:t}=e;return React.createElement(wa,{isPrimary:!0,onClick:t},ga("Upload","h5vp"))}})),React.createElement("div",{className:"h5vpUrlInput"},React.createElement("h3",{style:{fontSize:"15px"}}," Or "),React.createElement("input",{type:"url","aria-label":ga("URL","h5vp"),placeholder:ga("Paste or type a video URL","h5vp"),onChange:e=>{p(!0),i(e.target.value)},value:s}),React.createElement(wa,{label:ga("Apply","h5vp"),type:"submit",onClick:e=>{if(e.preventDefault(),!u(s))return p(!1),!1;p(!0),n({source:s}),i("")},isPrimary:!0},ga("Apply","h5vp"))),!c&&React.createElement("p",{style:{color:"#bd1818",width:"100%",margin:0}},ga("URL is not valid","h5vp")))))},Ca=JSON.parse('{"apiVersion":"1","name":"html5-player/video","title":"HTML5 Video Player","description":"Video Player","category":"media","icon":"video-alt2","keywords":["HTML5 Video Player","Media Player","Video"],"textdomain":"h5vp","attributes":{"provider":{"type":"string","default":"self-hosted"},"imported":{"type":"boolean","default":false},"clientId":{"type":"string"},"uniqueId":{"type":"string"},"source":{"type":"string"},"poster":{"type":"string"},"options":{"type":"object","default":{"controls":["play-large","play","progress","current-time","mute","volume","captions","settings","airplay","fullscreen"],"settings":["captions","quality","speed","loop"],"loadSprite":true,"autoplay":false,"playsinline":true,"seekTime":10,"volume":1,"muted":false,"hideControls":true,"resetOnEnd":false,"tooltips":{"controls":true,"seek":true},"captions":{"active":true,"language":"auto","update":true},"ratio":null,"storage":{"enabled":true,"key":"plyr"},"speed":{"options":[0.5,0.75,1,1.25,1.5,1.75,2,4]},"loop":{"active":false},"ads":{"enabled":true,"tagUrl":null},"urls":{"enabled":false,"download":null},"markers":{"enabled":false,"points":[]},"preload":"metadata"}},"features":{"type":"object","default":{"popup":{"enabled":false,"selector":null,"hasBtn":false,"type":"poster","btnText":"Watch Video","align":"center","btnStyle":{"color":"#fff","backgroundColor":"#006BA1","fontSize":"16px","padding":{"top":"10px","right":"20px","bottom":"10px","left":"20px"}}},"overlay":{"enabled":false,"items":[{"color":"#fff","backgroundColor":"#333","fontSize":"16px","link":"","logo":"","text":"Simple Text","position":"top_right","type":"text","opacity":1}]},"endScreen":{"enabled":false,"text":"Simple Text","btnText":"Watch Again","btnLink":"","btnStyle":{}},"thumbInPause":{"enabled":false,"type":"default"},"watermark":{"enabled":false,"type":"email","text":"","color":"#f00"},"passwordProtected":{"enabled":false,"errorMessage":"Password didn\'t matched","heading":"Please Entire the password to access the video","button":{"text":"Access","color":"#222","backgroundColor":"#ffffffe3"}},"sticky":{"enabled":false,"position":"top_right"},"playWhenVisible":false,"disablePause":false,"hideYoutubeUI":false,"startTime":null,"hideLoadingPlaceholder":false}},"quality":{"type":"array","default":[]},"subtitle":{"type":"array","default":[{"label":"label","caption_file":""}]},"thumbInPause":{"type":"boolean","default":false},"hideYoutubeUI":{"type":"boolean","default":false},"additionalCSS":{"type":"string"},"additionalID":{"type":"string"},"autoplayWhenVisible":{"type":"boolean","default":false},"styles":{"type":"object","default":{"plyr_wrapper":{"width":"100%","borderRadius":"0px","overflow":"hidden"}}},"CSS":{"type":"string","default":""},"ratio":{"type":"string","default":null},"isCDURL":{"type":"boolean","default":false},"CDURL":{"type":"string"},"posterTime":{"type":"number","default":20},"chapters":{"type":"array","default":[]},"controls":{"type":"object","default":{"play-large":true,"restart":false,"rewind":false,"play":true,"fast-forward":false,"progress":true,"current-time":true,"duration":false,"mute":true,"volume":true,"pip":false,"airplay":false,"settings":true,"downlaod":false,"fullscreen":true}},"brandColor":{"type":"string","default":"#00B3FF"},"width":{"type":"object","default":{"deprecated":true,"number":100,"unit":"%"}},"radius":{"type":"object","default":{"number":0,"unit":"px"}},"repeat":{"type":"boolean","default":false},"autoplay":{"type":"boolean","default":false},"muted":{"type":"boolean","default":false},"sticky":{"type":"boolean","default":false},"stickyPosition":{"type":"string","default":"top-right"},"popup":{"type":"boolean","default":false},"popupType":{"type":"string","default":"poster"},"playsinline":{"type":"boolean","default":false},"popupBtnStyle":{"type":"object","default":{"color":"#fff","backgroundColor":"#006BA1","fontSize":"16px","padding":{"top":"10px","right":"20px","bottom":"10px","left":"20px"},"align":"center"}},"popupBtnText":{"type":"string","default":"Watch Video"},"popupBtnExists":{"type":"boolean"},"popupBtnClass":{"type":"string"},"disablePause":{"type":"boolean","default":false},"thumbStyle":{"type":"string","default":"default"},"resetOnEnd":{"type":"boolean","default":false},"autoHideControl":{"type":"boolean","default":true},"protected":{"type":"boolean","default":false},"password":{"type":"string"},"protectedText":{"type":"string","default":"Please enter password to wath the video"},"seekTime":{"type":"number","default":10},"startTime":{"type":"number","default":0},"preload":{"type":"string","default":"metadata"},"overlay":{"type":"boolean","default":false},"overlayType":{"type":"boolean"},"overlayText":{"type":"string"},"overlayPosition":{"type":"string","default":"top_right"},"overlayBackground":{"type":"string","default":"#333"},"overlayOpacity":{"type":"number","default":0.8},"overlayLogo":{"type":"string"},"overlayLink":{"type":"string"},"overlayTextColor":{"type":"string","default":"#ffffff"},"overlayFontSize":{"type":"object","default":{"number":20,"unit":"px"}},"overlayTextHoverColor":{"type":"string","default":"#ffffff"},"endScreen":{"type":"object","default":{"enabled":false,"text":"Simple Text","btnText":"Watch Again","btnLink":"","btnStyle":{}}},"endscreen":{"type":"boolean","default":false},"endscreenText":{"type":"string","default":"Endscreen text"},"endscreenTextLink":{"type":"string","default":"#"},"streaming":{"type":"boolean","default":false},"streamingType":{"type":"string","default":"hls"},"speed":{"type":"object","default":{"1":true,"2":true,"3":true,"0.5":true,"0.75":true,"1.25":true,"1.5":true,"1.75":true,"2.5":true}},"captionEnabled":{"type":"boolean","default":false},"vastTag":{"type":"string"},"saveState":{"type":"boolean","default":true}},"supports":{"html":false,"lock":false,"reusable":false},"example":{"attributes":{"preview":true}},"style":"file:./../../dist/frontend.css"}');const{__:ka}=wp.i18n,{registerBlockType:xa}=wp.blocks;function Pa(){return Pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Pa.apply(this,arguments)}xa(Ca,{edit:_a,save:()=>null});const{Fragment:Sa,useEffect:Ta,useState:Oa}=wp.element,{__:Ba}=wp.i18n,{Button:La,Placeholder:Na}=wp.components;var ja=e=>{const[t,a]=Oa(h5vpBlock?.isPipe),{attributes:l,setAttributes:n,isSelected:r}=e,{source:o}=l,[s,i]=Oa(),[c,p]=Oa(!0);Ta((()=>{a(1==h5vpBlock?.isPipe)}),[]),Ta((()=>{r&&wp.data.dispatch("core/edit-post").openGeneralSidebar("edit-post/block")}),[r]);return React.createElement(Sa,null,!r&&React.createElement("div",{className:"item_selected"}),o?React.createElement(Sa,null,React.createElement(Yt,Pa({},e,{isPremium:t})),t?React.createElement(ma,{attributes:l,isSelected:r}):React.createElement("h2",{className:"text-danger"},Ba("sorry, it's a premium feature","h5vp"))):React.createElement(Sa,null,React.createElement(Na,{icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"html5-block-icon"},React.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),React.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),instructions:Ba("Upload a video or paste/write video url to get started.","h5vp"),label:Ba("Upload a Video ","h5vp")},React.createElement("div",{className:"h5vpUrlInput"},React.createElement("input",{type:"url","aria-label":Ba("URL","h5vp"),placeholder:Ba("Paste or type a youtube video URL","h5vp"),onChange:e=>{p(!0),i(e.target.value)},value:s}),React.createElement(La,{label:Ba("Apply","h5vp"),type:"submit",onClick:e=>{if(e.preventDefault(),!ie(s))return p(!1),!1;p(!0),n({source:s}),i("")},isPrimary:!0},Ba("Apply","h5vp"))),!c&&React.createElement("p",{style:{color:"#bd1818",width:"100%",margin:0}},Ba("URL is not valid","h5vp")))))},Ia=JSON.parse('{"apiVersion":"1","name":"html5-player/youtube","title":"Youtube Player","description":"Video Player","category":"media","icon":"video-alt2","keywords":["Youtube Player","Media Player","Youtube"],"textdomain":"h5vp","attributes":{"provider":{"type":"string","default":"youtube"},"imported":{"type":"boolean","default":false},"clientId":{"type":"string"},"uniqueId":{"type":"string"},"source":{"type":"string"},"poster":{"type":"string"},"options":{"type":"object","default":{"controls":["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],"settings":["captions","quality","speed","loop"],"loadSprite":true,"autoplay":false,"playsinline":true,"seekTime":10,"volume":1,"muted":false,"hideControls":true,"resetOnEnd":false,"captions":{"active":true,"language":"auto","update":true},"ratio":null,"storage":{"enabled":true,"key":"plyr"},"speed":{"options":[0.5,0.75,1,1.25,1.5,1.75,2,4]},"loop":{"active":false},"ads":{"enabled":false,"tagUrl":null},"urls":{"enabled":false,"download":null},"markers":{"enabled":false,"points":[]},"preload":"metadata"}},"features":{"type":"object","default":{"popup":{"enabled":false,"selector":null,"hasBtn":false,"type":"poster","btnText":"Watch Video","align":"center","btnStyle":{"color":"#fff","backgroundColor":"#006BA1","fontSize":"16px","padding":{"top":"10px","right":"20px","bottom":"10px","left":"20px"}}},"overlay":{"enabled":false,"items":[{"color":"#fff","backgroundColor":"#333","fontSize":"16px","link":"","logo":"","text":"Simple Text","position":"top_right","type":"text","opacity":1}]},"endScreen":{"enabled":false,"text":"Simple Text","btnText":"Watch Again","btnLink":"","btnStyle":{}},"thumbInPause":{"enabled":false,"type":"default"},"watermark":{"enabled":false,"type":"email","text":"","color":"#f00"},"sticky":{"enabled":false,"position":"top_right"},"playWhenVisible":false,"disablePause":false,"hideYoutubeUI":false,"startTime":null,"hideLoadingPlaceholder":false,"passwordProtected":{"enabled":false,"errorMessage":"Password didn\'t matched","heading":"Please Entire the password to access the video","button":{"text":"Access","color":"#222","backgroundColor":"#ffffffe3"}}}},"quality":{"type":"array","default":[{"size":"size","video_file":""}]},"subtitle":{"type":"array","default":[{"label":"label","caption_file":""}]},"thumbInPause":{"type":"boolean","default":false},"hideYoutubeUI":{"type":"boolean","default":false},"additionalCSS":{"type":"string"},"additionalID":{"type":"string"},"autoplayWhenVisible":{"type":"boolean","default":false},"styles":{"type":"object","default":{"plyr_wrapper":{"width":"100%","borderRadius":"0px","overflow":"hidden"}}},"CSS":{"type":"string","default":""},"ratio":{"type":"string","default":null},"isCDURL":{"type":"boolean","default":false},"CDURL":{"type":"string"},"posterTime":{"type":"number","default":20},"chapters":{"type":"array","default":[]},"controls":{"type":"object","default":{"play-large":true,"restart":false,"rewind":true,"play":true,"fast-forward":true,"progress":true,"current-time":true,"duration":false,"mute":true,"volume":true,"pip":false,"airplay":false,"settings":true,"downlaod":false,"fullscreen":true}},"brandColor":{"type":"string","default":"#00B3FF"},"width":{"type":"object","default":{"deprecated":true,"number":100,"unit":"%"}},"radius":{"type":"object","default":{"number":0,"unit":"px"}},"repeat":{"type":"boolean","default":false},"autoplay":{"type":"boolean","default":false},"muted":{"type":"boolean","default":false},"sticky":{"type":"boolean","default":false},"stickyPosition":{"type":"string","default":"top-right"},"popup":{"type":"boolean","default":false},"popupType":{"type":"string","default":"poster"},"playsinline":{"type":"boolean","default":false},"popupBtnStyle":{"type":"object","default":{"color":"#fff","backgroundColor":"#006BA1","fontSize":"16px","padding":{"top":"10px","right":"20px","bottom":"10px","left":"20px"},"align":"center"}},"popupBtnText":{"type":"string","default":"Watch Video"},"popupBtnExists":{"type":"boolean"},"popupBtnClass":{"type":"string"},"disablePause":{"type":"boolean","default":false},"thumbStyle":{"type":"string","default":"default"},"resetOnEnd":{"type":"boolean","default":false},"autoHideControl":{"type":"boolean","default":true},"protected":{"type":"boolean","default":false},"password":{"type":"string"},"protectedText":{"type":"string","default":"Please enter password to wath the video"},"seekTime":{"type":"number","default":10},"startTime":{"type":"number","default":0},"preload":{"type":"string","default":"metadata"},"overlay":{"type":"boolean","default":false},"overlayType":{"type":"boolean"},"overlayText":{"type":"string"},"overlayPosition":{"type":"string","default":"top_right"},"overlayBackground":{"type":"string","default":"#333"},"overlayOpacity":{"type":"number","default":0.8},"overlayLogo":{"type":"string"},"overlayLink":{"type":"string"},"overlayTextColor":{"type":"string","default":"#ffffff"},"overlayFontSize":{"type":"object","default":{"number":20,"unit":"px"}},"overlayTextHoverColor":{"type":"string","default":"#ffffff"},"endScreen":{"type":"object","default":{"enabled":false,"text":"Simple Text","btnText":"Watch Again","btnLink":"","btnStyle":{}}},"endscreen":{"type":"boolean","default":false},"endscreenText":{"type":"string","default":"Endscreen text"},"endscreenTextLink":{"type":"string","default":"#"},"streaming":{"type":"boolean","default":false},"streamingType":{"type":"string","default":"hls"},"speed":{"type":"object","default":{"1":true,"2":true,"3":true,"0.5":true,"0.75":true,"1.25":true,"1.5":true,"1.75":true,"2.5":true}},"captionEnabled":{"type":"boolean","default":false},"vastTag":{"type":"string"},"saveState":{"type":"boolean","default":true}},"supports":{"html":false,"lock":false,"reusable":false},"example":{"attributes":{"preview":true}}}');const{registerBlockType:Fa}=wp.blocks;function Aa(){return Aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},Aa.apply(this,arguments)}(window.h5vpBlock?.isPipe||void 0===window.h5vpBlock)&&Fa(Ia,{icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"682pt",height:"682pt",viewBox:"-21 -117 682.667 682"},React.createElement("path",{d:"M626.813 64.035c-7.375-27.418-28.993-49.031-56.407-56.414C520.324-6.082 319.992-6.082 319.992-6.082s-200.324 0-250.406 13.184c-26.887 7.375-49.031 29.52-56.406 56.933C0 114.113 0 217.97 0 217.97s0 104.379 13.18 153.933c7.382 27.414 28.992 49.028 56.41 56.41C120.195 442.02 320 442.02 320 442.02s200.324 0 250.406-13.184c27.418-7.379 49.032-28.992 56.414-56.406 13.176-50.082 13.176-153.934 13.176-153.934s.527-104.383-13.183-154.46zM256.21 313.915V122.022l166.586 95.946zm0 0"})),getEditWrapperProps:()=>{},edit:ja,save:()=>null,example:{attributes:!0}});const{Fragment:za,useEffect:Ma,useState:Ua}=wp.element,{__:$a}=wp.i18n,{MediaUpload:Va,MediaUploadCheck:Wa}=wp.blockEditor,{Button:qa,Placeholder:Da}=wp.components;var Ha=e=>{const[t,a]=Ua(h5vpBlock?.isPipe),{attributes:l,setAttributes:n,isSelected:r}=e;console.log(l);const{source:o}=l,[s,i]=Ua(),[c,p]=Ua(!0);Ma((()=>{a(1==h5vpBlock?.isPipe)}),[]),Ma((()=>{r&&wp.data.dispatch("core/edit-post").openGeneralSidebar("edit-post/block")}),[r]);return React.createElement(za,null,!r&&React.createElement("div",{className:"item_selected"}),o?React.createElement(za,null,React.createElement(Yt,Aa({},e,{isPremium:t})),t?React.createElement(ma,{attributes:l,isSelected:r}):React.createElement("h2",null,$a("sorry, it's a premium feature!","h5vp"))):React.createElement(za,null,React.createElement(Da,{icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"html5-block-icon"},React.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),React.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),instructions:$a("Upload a video or paste/write video url to get started.","h5vp"),label:$a("Upload a Video ","h5vp")},React.createElement("div",{className:"h5vpUrlInput"},React.createElement("input",{type:"url","aria-label":$a("URL","h5vp"),placeholder:$a("Paste or type a vimeo video URL/ID","h5vp"),onChange:e=>{p(!0),i(e.target.value)},value:s}),React.createElement(qa,{label:$a("Apply","h5vp"),type:"submit",onClick:e=>{if(e.preventDefault(),!na(s))return p(!1),!1;p(!0),n({source:s}),i("")},isPrimary:!0},$a("Apply","h5vp"))),!c&&React.createElement("p",{style:{color:"#bd1818",width:"100%",margin:0}},$a("URL is not valid","h5vp")))))},Ya=JSON.parse('{"apiVersion":"1","name":"html5-player/vimeo","title":"Vimeo Player","description":"Vimeo Player","category":"media","icon":"video-alt2","keywords":["Vimeo Player","Media Player","Vimeo"],"textdomain":"h5vp","attributes":{"provider":{"type":"string","default":"vimeo"},"imported":{"type":"boolean","default":false},"clientId":{"type":"string"},"uniqueId":{"type":"string"},"source":{"type":"string"},"poster":{"type":"string"},"options":{"type":"object","default":{"controls":["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],"settings":["captions","quality","speed","loop"],"loadSprite":true,"autoplay":false,"playsinline":true,"seekTime":10,"volume":1,"muted":false,"hideControls":true,"resetOnEnd":false,"captions":{"active":true,"language":"auto","update":true},"ratio":null,"storage":{"enabled":true,"key":"plyr"},"speed":{"options":[0.5,0.75,1,1.25,1.5,1.75,2,4]},"loop":{"active":false},"ads":{"enabled":false,"tagUrl":null},"urls":{"enabled":false,"download":null},"markers":{"enabled":false,"points":[]},"preload":"metadata"}},"features":{"type":"object","default":{"popup":{"enabled":false,"selector":null,"hasBtn":false,"type":"poster","btnText":"Watch Video","align":"center","btnStyle":{"color":"#fff","backgroundColor":"#006BA1","fontSize":"16px","padding":{"top":"10px","right":"20px","bottom":"10px","left":"20px"}}},"overlay":{"enabled":false,"items":[{"color":"#fff","backgroundColor":"#333","fontSize":"16px","link":"","logo":"","text":"Simple Text","position":"top_right","type":"text","opacity":1}]},"endScreen":{"enabled":false,"text":"Simple Text","btnText":"Watch Again","btnLink":"","btnStyle":{}},"thumbInPause":{"enabled":false,"type":"default"},"watermark":{"enabled":false,"type":"email","text":"","color":"#f00"},"sticky":{"enabled":false,"position":"top_right"},"playWhenVisible":false,"disablePause":false,"hideYoutubeUI":false,"startTime":null,"hideLoadingPlaceholder":false,"passwordProtected":{"enabled":false,"errorMessage":"Password didn\'t matched","heading":"Please Entire the password to access the video","button":{"text":"Access","color":"#222","backgroundColor":"#ffffffe3"}}}},"quality":{"type":"array","default":[{"size":"size","video_file":""}]},"subtitle":{"type":"array","default":[{"label":"label","caption_file":""}]},"thumbInPause":{"type":"boolean","default":false},"hideYoutubeUI":{"type":"boolean","default":false},"additionalCSS":{"type":"string"},"additionalID":{"type":"string"},"autoplayWhenVisible":{"type":"boolean","default":false},"styles":{"type":"object","default":{"plyr_wrapper":{"width":"100%","borderRadius":"0px","overflow":"hidden"}}},"CSS":{"type":"string","default":""},"ratio":{"type":"string","default":null},"isCDURL":{"type":"boolean","default":false},"CDURL":{"type":"string"},"posterTime":{"type":"number","default":20},"chapters":{"type":"array","default":[]},"controls":{"type":"object","default":{"play-large":true,"restart":false,"rewind":true,"play":true,"fast-forward":true,"progress":true,"current-time":true,"duration":false,"mute":true,"volume":true,"pip":false,"airplay":false,"settings":true,"downlaod":false,"fullscreen":true}},"brandColor":{"type":"string","default":"#00B3FF"},"width":{"type":"object","default":{"deprecated":true,"number":100,"unit":"%"}},"radius":{"type":"object","default":{"number":0,"unit":"px"}},"repeat":{"type":"boolean","default":false},"autoplay":{"type":"boolean","default":false},"muted":{"type":"boolean","default":false},"sticky":{"type":"boolean","default":false},"stickyPosition":{"type":"string","default":"top-right"},"popup":{"type":"boolean","default":false},"popupType":{"type":"string","default":"poster"},"playsinline":{"type":"boolean","default":false},"popupBtnStyle":{"type":"object","default":{"color":"#fff","backgroundColor":"#006BA1","fontSize":"16px","padding":{"top":"10px","right":"20px","bottom":"10px","left":"20px"},"align":"center"}},"popupBtnText":{"type":"string","default":"Watch Video"},"popupBtnExists":{"type":"boolean"},"popupBtnClass":{"type":"string"},"disablePause":{"type":"boolean","default":false},"thumbStyle":{"type":"string","default":"default"},"resetOnEnd":{"type":"boolean","default":false},"autoHideControl":{"type":"boolean","default":true},"protected":{"type":"boolean","default":false},"password":{"type":"string"},"protectedText":{"type":"string","default":"Please enter password to wath the video"},"seekTime":{"type":"number","default":10},"startTime":{"type":"number","default":0},"preload":{"type":"string","default":"metadata"},"overlay":{"type":"boolean","default":false},"overlayType":{"type":"boolean"},"overlayText":{"type":"string"},"overlayPosition":{"type":"string","default":"top_right"},"overlayBackground":{"type":"string","default":"#333"},"overlayOpacity":{"type":"number","default":0.8},"overlayLogo":{"type":"string"},"overlayLink":{"type":"string"},"overlayTextColor":{"type":"string","default":"#ffffff"},"overlayFontSize":{"type":"object","default":{"number":20,"unit":"px"}},"overlayTextHoverColor":{"type":"string","default":"#ffffff"},"endScreen":{"type":"object","default":{"enabled":false,"text":"Simple Text","btnText":"Watch Again","btnLink":"","btnStyle":{}}},"endscreen":{"type":"boolean","default":false},"endscreenText":{"type":"string","default":"Endscreen text"},"endscreenTextLink":{"type":"string","default":"#"},"streaming":{"type":"boolean","default":false},"streamingType":{"type":"string","default":"hls"},"speed":{"type":"object","default":{"1":true,"2":true,"3":true,"0.5":true,"0.75":true,"1.25":true,"1.5":true,"1.75":true,"2.5":true}},"captionEnabled":{"type":"boolean","default":false},"vastTag":{"type":"string"},"saveState":{"type":"boolean","default":true}},"supports":{"html":false,"lock":false,"reusable":false},"example":{"attributes":{"preview":true}}}');const{registerBlockType:Ga}=wp.blocks;(window.h5vpBlock?.isPipe||void 0===window.h5vpBlock)&&Ga(Ya,{icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"512",height:"512",viewBox:"0 0 24 24"},React.createElement("path",{d:"M20.497 1.505c-3.328-.121-5.576 1.787-6.762 5.694a4.312 4.312 0 011.777-.395c1.219 0 1.758.697 1.614 2.082-.072.839-.608 2.059-1.612 3.664-1.009 1.605-1.763 2.409-2.265 2.409-1.522 0-2.437-7.284-2.747-9.273-.431-2.765-1.58-4.058-3.447-3.877C5.341 1.972 2.35 5.058 0 7.15l1.129 1.472C2.204 7.86 2.831 7.478 3.01 7.478c1.871 0 2.777 6.367 4.23 11.102.975 2.613 2.144 3.92 3.553 3.92 2.264 0 5.022-2.144 8.29-6.434 3.155-4.107 4.789-7.344 4.894-9.705l.013-.01c.134-3.165-1.021-4.785-3.493-4.846z"})),getEditWrapperProps:()=>{},edit:Ha,save:()=>null});const{__:Xa}=wp.i18n,{InnerBlocks:Ja,useBlockProps:Za}=wp.blockEditor,{useSelect:Ka,dispatch:Qa}=wp.data,{Button:el,Placeholder:tl,Modal:al}=wp.components,{useEffect:ll}=wp.element,{registerBlockType:nl}=wp.blocks;nl("html5-player/parent",{title:Xa("HTML5 Video Player Form","h5vp"),icon:"format-video",category:"media",keywords:[Xa("HTML5 Video Player","h5vp"),Xa("Media Player","h5vp")],supports:{inserter:!1,reusable:!1,html:!1},edit:e=>{const t=Za(),{clientId:a,isSelected:l}=e,n=Ka((e=>e("core/block-editor").getBlock(a).innerBlocks)),[r,o]=(0,ne.useState)(h5vpBlock?.isPipe);ll((()=>{l&&wp.data.dispatch("core/edit-post").openGeneralSidebar("edit-post/block")}),[l]),Qa("core/block-editor").setTemplateValidity(!0);const s=e=>{const t=wp.blocks.createBlock(`html5-player/${e}`);return Qa("core/block-editor").insertBlock(t,0,a)};return n?.length?React.createElement("div",null,React.createElement("div",t,React.createElement(Ja,{templateLock:!1,allowedBlocks:["html5-player/video","html5-player/vimeo","html5-player/youtube"],renderAppender:()=>0===n.length&&React.createElement(Ja.ButtonBlockAppender,null)}))):React.createElement("div",null,React.createElement("div",t,React.createElement(tl,{icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"html5-block-icon"},React.createElement("polygon",{points:"23 7 16 12 23 17 23 7"}),React.createElement("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})),instructions:Xa("Choose a video type to get started.","h5vp"),label:Xa("Choose a Video Type","h5vp")},React.createElement(el,{isPrimary:!0,onClick:()=>{s("video")}},Xa("Video","h5vp")),React.createElement(el,{disabled:!r,isPrimary:!0,onClick:()=>{s("youtube")}},Xa("Youtube","h5vp")),React.createElement(el,{disabled:!r,isPrimary:!0,onClick:()=>{s("vimeo")}},Xa("Vimeo","h5vp")),!r&&React.createElement("p",{style:{marginTop:"8px",fontSize:"15px",color:"#d52525"}},Xa("Youtube and Vimeo is available on pro version!","h5vp"))),React.createElement(Ja,{templateLock:!1,allowedBlocks:["html5-player/video","html5-player/vimeo","html5-player/youtube"],renderAppender:()=>!1})))},save:()=>{const e=Za.save();return React.createElement("div",e,React.createElement(Ja.Content,null))}})}();
//# sourceMappingURL=editor.js.map