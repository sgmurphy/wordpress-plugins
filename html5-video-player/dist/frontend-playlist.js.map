{"version":3,"file":"frontend-playlist.js","mappings":"yBACA,IAAIA,EAAsB,CCA1BA,EAAwB,SAASC,GAChC,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,WAAa,OAAOF,EAAgB,OAAG,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,ECNAF,EAAwB,SAASM,EAASC,GACzC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAG3E,ECPAR,EAAwB,SAASc,EAAKC,GAAQ,OAAOL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,EAAO,GCAlG,EAA+BI,M,SCA/B,EAA+BC,SCUnC,MAVmBC,IACjB,IAAIC,EAAa,KACjB,IACEA,EAAaC,KAAKC,MAAMH,EAC1B,CAAE,MAAOI,GACPC,QAAQC,KAAKF,EAAMG,QACrB,CACA,OAAON,CAAU,ECOnB,MAdA,SAAsBO,GAKpB,MAHwB,6FAGJC,KAAKD,GAChBA,IAHc,sBAIGC,KAAKD,IACrB,mCAAkCA,GAI9C,ECMA,MAlBA,SAAqBE,GACnB,IAAKA,EAAQ,OAAO,EAEpB,MAAMC,EAAe,4EACfC,EAAKF,GAAQG,MAAMF,KAAgB,GAGzC,OAAIC,EACM,kCAAiCA,IAItCE,MAAMJ,GAGJC,EAAaF,KAAKC,GAFf,kCAAiCA,GAG7C,E,oOCqBA,MAnCcK,IAA6F,IAA5F,SAAEC,EAAQ,OAAEC,EAAM,OAAEP,EAAM,UAAEQ,EAAS,UAAEC,EAAS,UAAEC,EAAY,GAAE,UAAEC,KAAcC,GAAOP,EAEpG,OACEjB,IAAAA,cAAAA,IAAAA,SAAA,KACEA,IAAAA,cAAA,QAAAyB,EAAA,CAAOC,aAAW,EAACJ,UAAWA,EAAWR,GAAG,SAAS,cAAaK,GAAU,GAAIQ,IAAKJ,EAAWK,IAAKhB,GAAYY,EAAK,CAAEK,MAAO,CAAEC,MAAO,OAAQC,SAAU,UAEvJV,GACCrB,IAAAA,cAAAA,IAAAA,SAAA,KACGgC,MAAMC,QAAQf,IACbA,EAASgB,KAAI,CAACC,EAASC,KACrB,IAAKD,EAAQE,aACX,OAEF,MAAMC,EAAOH,EAAQI,MAAMC,MAAM,KACjC,OAAOxC,IAAAA,cAAA,SAAOX,IAAK+C,EAAOK,KAAK,WAAWC,QAASJ,EAAK,IAAM,IAAKC,MAAOD,EAAK,IAAM,WAAYV,IAAKO,EAAQE,cAAgB,KAIhI,CAAC,OAAQ,OAAOM,SAAS/B,GAAQ4B,MAAM,KAAKI,QAC5C5C,IAAAA,cAAAA,IAAAA,SAAA,KACEA,IAAAA,cAAA,UAAQ4B,IAAKhB,EAAQiC,KAAM,IAAKC,KAAO,SAAQlC,GAAQ4B,MAAM,KAAKI,UACjEZ,MAAMC,QAAQb,IACbA,EAAUc,KAAI,CAACa,EAAMX,KAAP,OAQzBZ,EAAM,gBAAkBxB,IAAAA,cAAA,OAAKsB,UAAU,iBAAiBO,MAAO,CAAEmB,WAAa,OAAMxB,EAAM,qBAC1F,E,oOChBP,MAfgBP,IAA0F,IAAzF,OAAEL,EAAS,8CAA6C,UAAEU,EAAY,MAAOE,GAAOP,EACnG,OACEjB,MAAAiD,cAAA,MAAAxB,EAAA,CAAKH,UAAY,qBAAoBA,IAAaR,GAAG,UAAaU,GAChExB,MAAAiD,cAAA,UACErB,IAAM,GAAEhB,YAAiBsC,OAAOC,SAASC,4GAEzCC,iBAAe,EACfC,mBAAiB,EACjBC,MAAM,aAEP/B,EAAM,gBAAkBxB,MAAAiD,cAAA,OAAK3B,UAAU,iBAAiBO,MAAO,CAAEmB,WAAa,OAAMxB,EAAM,qBACvF,E,oOCKV,MAhBcP,IAAsF,IAArF,OAAEL,EAAS,0CAAyC,UAAEU,EAAY,MAAOE,GAAOP,EAE7F,OACEjB,IAAAA,cAAA,MAAAyB,EAAA,CAAKH,UAAY,qBAAoBA,IAAaR,GAAG,UAAaU,GAChExB,IAAAA,cAAA,UACE4B,IAAM,GAAEhB,sHACRyC,iBAAe,EAEfC,mBAAiB,EACjBC,MAAM,aAEP/B,EAAM,gBAAkBxB,IAAAA,cAAA,OAAKsB,UAAU,iBAAiBO,MAAO,CAAEmB,WAAa,OAAMxB,EAAM,qBACvF,EC+EV,MAtF4BP,IAA2C,IAA1C,MAAEuC,EAAK,QAAEC,EAAO,OAAEC,EAAM,UAAEC,GAAW1C,EAChE,MAAM,aAAE2C,EAAY,kBAAEC,EAAiB,YAAEC,EAAW,YAAEC,EAAW,oBAAEC,GAAwBR,GACpFV,EAAMmB,IAAWC,EAAAA,EAAAA,UAAS,OAE1BC,EAAYC,IAAiBF,EAAAA,EAAAA,WAAS,GAEvCvC,GAAM0C,EAAAA,EAAAA,UA8CZ,OA5CAC,EAAAA,EAAAA,YAAU,KACR,GAAIZ,EAAQ,CAEV,MAAM9C,EAAS,CAAEgB,IAA6B,YAAxBoC,EAAoCJ,EAAeC,GAE7C,YAAxBG,EACFpD,EAAOkC,KAAO,YAEdlC,EAAO2D,SAAWP,EAEpBN,EAAO9C,OAAS,CACdkC,KAAM,QACN0B,QAAS,CAAC5D,IAERuD,GACFT,GAAQe,GAAG,SAAS,KAClBf,EAAOgB,MAAM,GAGnB,KAAO,CACgBC,SAASC,iBAAkB,mDACnCC,SAASnB,IACpBA,EAAOoB,UAAUC,IAAI,SAAS,IAEhC,MAAMC,EAAQrD,EAAIsD,SAASC,cAAe,WAAUlB,KACpD,GAAIgB,EAAO,CACTA,EAAMF,UAAUK,OAAO,UACvB,MAAMzB,EAAS,IAAI0B,KAAKJ,EAAOvB,GAC/BE,EAAUD,GACVU,GAAc,EAChB,CACF,CAEA7D,QAAQ8E,IAAI,CAAElB,cAAa,GAC1B,CAACX,KAEJc,EAAAA,EAAAA,YAAU,KACRZ,GAAQe,GAAG,SAAS,KAClB9C,EAAIsD,SAASK,YAAYA,YAAYR,UAAUC,IAAI,kBAAkB,GACrE,GACD,CAACrB,IAKF1D,MAAAiD,cAAA,OAAK3B,UAAU,cAAcK,IAAKA,GAChC3B,MAAAiD,cAAA,OAAK3B,UAAU,uCAIXtB,MAAAiD,cAACsC,EAAK,CACJ1D,MAAO,CAAE2D,YAAa,QACtB1E,GAAK,iBAEL,cAAagD,EACb1C,UAAW,GACXF,SAAU,GACVN,OAAQgD,EACRhC,IAAKgC,EACLvC,WAAW,IAGdrB,MAAAiD,cAACwC,EAAO,CAAC3E,GAAK,iBAAiBF,OAAQ8E,EAAa7B,GAAoB,cAAaC,IACrF9D,MAAAiD,cAAC0C,EAAK,CAAC7E,GAAK,eAAeF,OAAQgF,EAAY/B,GAAoB,cAAaC,KAW/E,ECrFV,MAJA,SAA0B+B,GACxB,OAAOA,EAAYC,QAAQ,kBAAmB,SAASC,aACzD,ECuBA,MAtBsB9E,IAA+B,IAA9B,OAAE+E,EAAS,CAAC,EAAC,SAAEC,GAAUhF,EAE9C,MAAOiF,EAAKC,IAAUjC,EAAAA,EAAAA,UAAS,MAiB/B,OAhBAI,EAAAA,EAAAA,YAAU,KACR,IAAI8B,EAAM,GACY,iBAAXJ,GACTzG,OAAO8G,KAAKL,GAAQ9D,KAAK7C,IACvB,GAA2B,iBAAhB2G,EAAO3G,GAAmB,CACnC,IAAIiH,EAAU,GACd/G,OAAO8G,KAAKL,EAAO3G,IAAM6C,KAAKqE,IAC5BD,GAAY,GAAEE,EAAiBD,OAAUP,EAAO3G,GAAKkH,IAAO,IAE9DH,GAAQ,IAAGH,KAAY,CAAC,IAAK,KAAKtD,SAAStD,EAAI,IAAM,GAAK,MAAMA,KAAOiH,KACzE,KAGJH,EAAOC,EAAI,GACV,CAACJ,EAAQC,IAELjG,MAAAiD,cAAA,SAAOwD,wBAAyB,CAAEC,OAAQR,IAAe,ECoElE,MAtFiBjF,IAA2B,IAA1B,WAAE0F,EAAU,MAAEC,GAAO3F,EACrC,MAAM,OAAE4F,EAAM,OAAEb,EAAM,QAAEvC,EAAO,SAAEwC,GAAaU,GACvCG,EAAcC,IAAmB7C,EAAAA,EAAAA,UAAS2C,IAAS,IAAM,CAAC,IAC1DG,EAAcC,IAAmB/C,EAAAA,EAAAA,UAAS,IAC1CR,EAAQC,IAAaO,EAAAA,EAAAA,UAAS,MAC/BvC,GAAM0C,EAAAA,EAAAA,UAmCZ,OAjCAC,EAAAA,EAAAA,YAAU,KACR4C,YAAW,KACLvF,EAAIsD,UACNtD,EAAIsD,QAAQC,cAAc,iBAAiBrD,MAAMsF,OAASxF,EAAIsD,QAAQC,cAAc,6BAA6BkC,aAAe,KAClI,GACC,IAAI,GACN,CAACN,KAEJxC,EAAAA,EAAAA,YAAU,KACJZ,GAAUD,EAAQ4D,mBACpB3D,EAAOe,GAAG,SAAS,KACjB,MAAMqC,EAAenC,SAASO,cAAe,gBAEvCoC,EAAYR,EAAaS,oBAAoBC,SAASpF,OAAS,EAEjEkF,GACFL,EAAgBK,EAClB,GAEJ,GACC,CAAC5D,KAEJY,EAAAA,EAAAA,YAAU,KACRpB,OAAO8D,aAAeA,EACtBD,EAAgBF,EAAOG,IAAiBH,EAAO,IAC/ClC,SAASC,iBAAkB,gBAAeC,SAAS9B,IACjDA,EAAK+B,UAAUK,OAAO,cAAc,IAEtCR,SAASO,cAAe,2BAA0B8B,QAAmBlC,UAAUC,IAAI,cAAc,GAChG,CAACiC,IAEJzG,QAAQ8E,IAAIsB,GAGV3G,IAAAA,cAAA,OAAKc,GAAImF,EAAU3E,UAAU,kBAAkBK,IAAKA,GAClD3B,IAAAA,cAACyH,EAAa,CAACzB,OAAQA,EAAQC,SAAUA,IACzCjG,IAAAA,cAAA,OAAKsB,UAAU,2BACbtB,IAAAA,cAAA,OAAKsB,UAAU,8BACbtB,IAAAA,cAAC0H,EAAmB,CAAClE,MAAOsD,EAAcrD,QAASA,EAASC,OAAQA,EAAQC,UAAWA,KAEzF3D,IAAAA,cAAA,OAAKsB,UAAU,8BAA8BO,MAAO,CAAE2D,YAAa,QAASmC,SAAU,WACnFd,EAAO3E,KAAI,CAACsB,EAAOpB,KAClB,MAAM,YAAE0B,EAAW,aAAEF,EAAY,YAAEG,EAAW,WAAE6D,EAAU,oBAAE5D,GAAwBR,EACpF,OACExD,IAAAA,cAAA,OACEX,IAAK+C,EACLd,UAAY,yBAAwBc,KAAS4E,IAAiB5E,EAAQ,cAAgB,KACtFyF,QAASA,KACPd,EAAgBvD,GAChByD,EAAgB7E,EAAM,EAExB,aAAYA,GAEZpC,IAAAA,cAAA,OAAKsB,UAAU,eACbtB,IAAAA,cAAA,OAAKsB,UAAU,2CACbtB,IAAAA,cAAA,OAAKsB,UAAU,oCACbtB,IAAAA,cAAA,OAAK4B,IAAKkC,EAAagE,IAAI,YAG/B9H,IAAAA,cAAA,OAAKsB,UAAU,wBACbtB,IAAAA,cAAA,MAAI+H,MAAOhE,EAAazC,UAAU,gDAC/ByC,GAMH/D,IAAAA,cAAA,KAAGsB,UAAU,4BAA4BsG,EAAW,OAGpD,MAKV,EC7EVjD,SAASqD,iBAAiB,oBAAoB,WAC5CC,GACF,IAEO,MAAMC,EAAY1G,IACvBjB,QAAQ8E,IAAI7D,GACLxB,IAAAA,cAACmI,EAAa3G,IAGVyG,EAAcA,KACzB,MAAMG,EAAUzD,SAASC,iBAAiB,kBAE1CwD,GAASvD,SAAS9B,IAChB,MAAM4D,EAAa0B,EAAUtF,EAAKyE,QAAQb,YAI1C,GAHA5D,EAAKuF,gBAAgB,mBACrBvF,EAAKuF,gBAAgB,cAEhB3B,EACH,OAAO,EAET,MAAMC,EAAQ7D,EAAKyE,QAAQZ,MAC3B,GAA0B,iBAAfD,GAA2B5D,EAAM,EAC7BwF,EAAAA,EAAAA,YAAWxF,GACnByF,OAAOxI,IAAAA,cAACkI,EAAQ,CAACvB,WAAYA,EAAYC,MAAOA,IACvD,IACA,C","sources":["webpack://html5-video-player-pro/webpack/bootstrap","webpack://html5-video-player-pro/webpack/runtime/compat get default export","webpack://html5-video-player-pro/webpack/runtime/define property getters","webpack://html5-video-player-pro/webpack/runtime/hasOwnProperty shorthand","webpack://html5-video-player-pro/external var [\"React\"]","webpack://html5-video-player-pro/external var [\"ReactDOM\"]","webpack://html5-video-player-pro/../wp-utils/v1/jsonParse.js","webpack://html5-video-player-pro/../wp-utils/v1/isYoutubeURL.js","webpack://html5-video-player-pro/./src/utils/isVimeoLink.js","webpack://html5-video-player-pro/./src/components/Video.js","webpack://html5-video-player-pro/./src/components/Youtube.js","webpack://html5-video-player-pro/./src/components/Vimeo.js","webpack://html5-video-player-pro/./src/components/PlaylistVideoPlayer.js","webpack://html5-video-player-pro/./src/utils/camelToKebabCase.js","webpack://html5-video-player-pro/./src/components/StyleRenderer.js","webpack://html5-video-player-pro/./src/components/Playlist.js","webpack://html5-video-player-pro/./src/components/frontend-playlist.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var __WEBPACK_NAMESPACE_OBJECT__ = React;","var __WEBPACK_NAMESPACE_OBJECT__ = ReactDOM;","const jsonParse = (json) => {\r\n  let parsedJson = null;\r\n  try {\r\n    parsedJson = JSON.parse(json);\r\n  } catch (error) {\r\n    console.warn(error.message);\r\n  }\r\n  return parsedJson;\r\n};\r\n\r\nexport default jsonParse;\r\n","function isYoutubeURL(input) {\r\n  // Regular expressions to check for YouTube URLs and extract the video ID\r\n  const youtubeURLRegex = /^(?:(?:https?:\\/\\/)?(?:www\\.)?(?:youtube\\.com|youtu\\.be)\\/(?:watch\\?v=)?([a-zA-Z0-9_-]+))$/;\r\n  const youtubeIDRegex = /^[a-zA-Z0-9_-]{11}$/;\r\n\r\n  if (youtubeURLRegex.test(input)) {\r\n    return input;\r\n  } else if (youtubeIDRegex.test(input)) {\r\n    return `https://www.youtube.com/watch?v=${input}`;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default isYoutubeURL;\r\n","function isVimeoLink(source) {\r\n  if (!source) return false;\r\n  // Regular expression pattern to match Vimeo video URLs\r\n  const vimeoPattern = /^(https?:\\/\\/)?(www\\.)?(player\\.)?vimeo\\.com\\/(video\\/)?(\\d+)(\\/[^\\s]*)?$/;\r\n  const id = source?.match(vimeoPattern)?.[5];\r\n  // console.log({ id });\r\n\r\n  if (id) {\r\n    return `https://player.vimeo.com/video/${id}`;\r\n    // https://vimeo.com/920314562\r\n  }\r\n\r\n  if (!isNaN(source)) {\r\n    return `https://player.vimeo.com/video/${source}`;\r\n  }\r\n  return vimeoPattern.test(source);\r\n}\r\n\r\nexport default isVimeoLink;\r\n","import React from \"react\";\r\n\r\nconst Video = ({ captions, poster, source, qualities, isPremium, className = \"\", reference, ...props }) => {\r\n  // console.log({ source });\r\n  return (\r\n    <>\r\n      <video crossOrigin className={className} id=\"player\" data-poster={poster || \"\"} ref={reference} src={source} {...props} style={{ width: \"100%\", maxWidth: \"100%\" }}>\r\n        {/* Captions / Subtitles */}\r\n        {isPremium && (\r\n          <>\r\n            {Array.isArray(captions) &&\r\n              captions.map((caption, index) => {\r\n                if (!caption.caption_file) {\r\n                  return;\r\n                }\r\n                const info = caption.label.split(\"/\");\r\n                return <track key={index} kind=\"captions\" srcLang={info[1] || \" \"} label={info[0] || \"no label\"} src={caption.caption_file} />;\r\n              })}\r\n\r\n            {/* Qualities */}\r\n            {![\"m3u8\", \"mpd\"].includes(source?.split(\".\").pop()) && (\r\n              <>\r\n                <source src={source} size={720} type={`video/${source?.split(\".\").pop()}`} />\r\n                {Array.isArray(qualities) &&\r\n                  qualities.map((item, index) => {\r\n                    // return <source key={index} src={item.video_file} size={item.size} type=\"video/mp4\" />;\r\n                  })}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </video>\r\n      {props[\"data-poster\"] && <div className=\"preload_poster\" style={{ background: `url(${props[\"data-poster\"]})` }}></div>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Video;\r\n","/* eslint-disable react/no-unknown-property */\r\n\r\nconst Youtube = ({ source = \"https://www.youtube.com/watch?v=MLpWrANjFbI\", className = \"\", ...props }) => {\r\n  return (\r\n    <div className={`plyr__video-embed ${className}`} id=\"player\" {...props}>\r\n      <iframe\r\n        src={`${source}?origin=${window.location.origin}&iv_load_policy=3&amp;modestbranding=1&amp;playsinline=1&amp;showinfo=0&amp;rel=0&amp;enablejsapi=1`}\r\n        // src={`${source}&feature=youtu.be`}\r\n        allowfullscreen\r\n        allowtransparency\r\n        allow=\"autoplay\"\r\n      ></iframe>\r\n      {props[\"data-poster\"] && <div className=\"preload_poster\" style={{ background: `url(${props[\"data-poster\"]})` }}></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Youtube;\r\n","import React from \"react\";\r\n\r\nconst Vimeo = ({ source = \"https://player.vimeo.com/video/76979871\", className = \"\", ...props }) => {\r\n  // console.log({ source });\r\n  return (\r\n    <div className={`plyr__video-embed ${className}`} id=\"player\" {...props}>\r\n      <iframe\r\n        src={`${source}?loop=false&amp;byline=false&amp;portrait=false&amp;title=false&amp;speed=true&amp;transparent=0&amp;gesture=media`}\r\n        allowfullscreen\r\n        // eslint-disable-next-line react/no-unknown-property\r\n        allowtransparency\r\n        allow=\"autoplay\"\r\n      ></iframe>\r\n      {props[\"data-poster\"] && <div className=\"preload_poster\" style={{ background: `url(${props[\"data-poster\"]})` }}></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Vimeo;\r\n","import { useEffect, useState, useRef } from \"react\";\r\nimport isVimeoLink from \"../utils/isVimeoLink\";\r\nimport { isYoutubeURL } from \"../../../wp-utils/v1\";\r\nimport Video from \"./Video\";\r\nimport Youtube from \"./Youtube\";\r\nimport Vimeo from \"./Vimeo\";\r\n\r\nconst PlaylistVideoPlayer = ({ video, options, player, setPlayer }) => {\r\n  const { video_source, h5vp_video_source, video_thumb, video_title, h5vp_video_provider } = video;\r\n  const [type, setType] = useState(null);\r\n  // const [player, setPlayer] = useState(null);\r\n  const [shouldPlay, setShouldPlay] = useState(false);\r\n\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    if (player) {\r\n      // if (type === h5vp_video_provider) {\r\n      const source = { src: h5vp_video_provider === \"library\" ? video_source : h5vp_video_source };\r\n\r\n      if (h5vp_video_provider === \"library\") {\r\n        source.type = \"video/mp4\";\r\n      } else {\r\n        source.provider = h5vp_video_provider;\r\n      }\r\n      player.source = {\r\n        type: \"video\",\r\n        sources: [source],\r\n      };\r\n      if (shouldPlay) {\r\n        player?.on(\"ready\", () => {\r\n          player.play();\r\n        });\r\n      }\r\n    } else {\r\n      const otherPlayers = document.querySelectorAll(`#player_library, #player_youtube, #player_vimeo`);\r\n      otherPlayers.forEach((player) => {\r\n        player.classList.add(\"hidden\");\r\n      });\r\n      const media = ref.current?.querySelector(`#player_${h5vp_video_provider}`);\r\n      if (media) {\r\n        media.classList.remove(\"hidden\");\r\n        const player = new Plyr(media, options);\r\n        setPlayer(player);\r\n        setShouldPlay(true);\r\n      }\r\n    }\r\n    // setType(h5vp_video_provider);\r\n    console.log({ shouldPlay });\r\n  }, [video]);\r\n\r\n  useEffect(() => {\r\n    player?.on(\"ready\", () => {\r\n      ref.current?.parentNode?.parentNode?.classList.add(\"playlist_loaded\");\r\n    });\r\n  }, [player]);\r\n\r\n  // console.log(video);\r\n\r\n  return (\r\n    <div className=\"video__main\" ref={ref}>\r\n      <div className=\"video__thumb video__thumb--big mb-1\">\r\n        {/* <img className=\"w-100\" src={video_thumb} alt=\"video\" /> */}\r\n\r\n        {\r\n          <Video\r\n            style={{ aspectRatio: \"16/9\" }}\r\n            id={`player_library`}\r\n            // className={h5vp_video_provider === \"library\" ? \"\" : \"hidden\"}\r\n            data-poster={video_thumb}\r\n            qualities={[]}\r\n            captions={[]}\r\n            source={video_source}\r\n            src={video_source}\r\n            isPremium={true}\r\n          />\r\n        }\r\n        {<Youtube id={`player_youtube`} source={isYoutubeURL(h5vp_video_source)} data-poster={video_thumb} />}\r\n        {<Vimeo id={`player_vimeo`} source={isVimeoLink(h5vp_video_source)} data-poster={video_thumb} />}\r\n      </div>\r\n      {/* <h2 className=\"video-block__title   mb-1\">{video_title}</h2>\r\n      <div className=\"video__uploader\">\r\n        <div className=\"video__uploader__image \">\r\n          <img src=\"http://localhost/freemius/wp-content/uploads/2023/11/image-analysis.png\" alt=\"user\" />\r\n        </div>\r\n        <div className=\"video__uploader__sub\">\r\n          <span>SOMOY TV Bulletin</span>\r\n        </div>\r\n      </div> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlaylistVideoPlayer;\r\n","function camelToKebabCase(inputString) {\r\n  return inputString.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\r\n}\r\n\r\nexport default camelToKebabCase;\r\n","import { useEffect, useState } from \"react\";\r\nimport camelToKebabCase from \"../utils/camelToKebabCase\";\r\n\r\nconst StyleRenderer = ({ styles = {}, uniqueId }) => {\r\n  // console.log({ uniqueId });\r\n  const [CSS, setCSS] = useState(null);\r\n  useEffect(() => {\r\n    let css = \"\";\r\n    if (typeof styles === \"object\") {\r\n      Object.keys(styles).map((key) => {\r\n        if (typeof styles[key] === \"object\") {\r\n          let itemCSS = \"\";\r\n          Object.keys(styles[key]).map((key2) => {\r\n            itemCSS += `${camelToKebabCase(key2)}: ${styles[key][key2]}`;\r\n          });\r\n          css += `#${uniqueId} ${[\".\", \"#\"].includes(key[0]) ? \"\" : \".\"}${key}{${itemCSS}} `;\r\n        }\r\n      });\r\n    }\r\n    setCSS(css);\r\n  }, [styles, uniqueId]);\r\n\r\n  return <style dangerouslySetInnerHTML={{ __html: CSS }}></style>;\r\n};\r\n\r\nexport default StyleRenderer;\r\n","import React, { useState, useEffect, useRef, useMemo } from \"react\";\r\nimport PlaylistVideoPlayer from \"./PlaylistVideoPlayer\";\r\nimport StyleRenderer from \"./StyleRenderer\";\r\n\r\nconst Playlist = ({ attributes, nonce }) => {\r\n  const { videos, styles, options, uniqueId } = attributes;\r\n  const [currentVideo, setCurrentVideo] = useState(videos?.[0] || {});\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [player, setPlayer] = useState(null);\r\n  const ref = useRef();\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      if (ref.current) {\r\n        ref.current.querySelector(\".video__right\").style.height = ref.current.querySelector(\".video__left .video__main\").offsetHeight + \"px\";\r\n      }\r\n    }, 100);\r\n  }, [currentVideo]);\r\n\r\n  useEffect(() => {\r\n    if (player && options.autoplayNextVideo) {\r\n      player.on(\"ended\", () => {\r\n        const currentVideo = document.querySelector(`.item-active`);\r\n        // window.currentVideo = currentVideo;\r\n        const nextIndex = currentVideo.nextElementSibling?.dataset?.index || 0;\r\n        // console.log({ nextIndex });\r\n        if (nextIndex) {\r\n          setCurrentIndex(nextIndex);\r\n        }\r\n      });\r\n    }\r\n  }, [player]);\r\n\r\n  useEffect(() => {\r\n    window.currentIndex = currentIndex;\r\n    setCurrentVideo(videos[currentIndex] || videos[0]);\r\n    document.querySelectorAll(`.item-active`).forEach((item) => {\r\n      item.classList.remove(\"item-active\");\r\n    });\r\n    document.querySelector(`.video-item[data-index=\"${currentIndex}\"]`)?.classList.add(\"item-active\");\r\n  }, [currentIndex]);\r\n\r\n  console.log(attributes);\r\n\r\n  return (\r\n    <div id={uniqueId} className=\"video video--bg\" ref={ref}>\r\n      <StyleRenderer styles={styles} uniqueId={uniqueId} />\r\n      <div className=\"h5vp_playlist_container\">\r\n        <div className=\"video__left video__wrapper\">\r\n          <PlaylistVideoPlayer video={currentVideo} options={options} player={player} setPlayer={setPlayer} />\r\n        </div>\r\n        <div className=\"video__right video__wrapper\" style={{ aspectRatio: \"4/4.3\", overflow: \"hidden\" }}>\r\n          {videos.map((video, index) => {\r\n            const { video_thumb, video_source, video_title, video_desc, h5vp_video_provider } = video;\r\n            return (\r\n              <div\r\n                key={index}\r\n                className={`video-item video-item-${index} ${currentIndex === index ? \"item-active\" : \"\"}`}\r\n                onClick={() => {\r\n                  setCurrentVideo(video);\r\n                  setCurrentIndex(index);\r\n                }}\r\n                data-index={index}\r\n              >\r\n                <div className=\"video-block\">\r\n                  <div className=\"video-block__container video__container\">\r\n                    <div className=\"video__thumb video__thumb--small\">\r\n                      <img src={video_thumb} alt=\"video\" />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"video-block__content\">\r\n                    <h2 title={video_title} className=\"video-block__title video-block__title--small\">\r\n                      {video_title}\r\n                    </h2>\r\n                    {/* <span className=\"video-block__user-name meta\">SOMOY TV Bulletin</span> */}\r\n                    {/* <span className=\"video-block__views meta\">\r\n                      6.5<span>M</span> views\r\n                    </span> */}\r\n                    <p className=\"video-block__description\">{video_desc} </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Playlist;\r\n","import React from \"react\";\r\nimport { createRoot } from \"react-dom\";\r\n\r\n// import VideoPlayer from \"../components/VideoPlayer\";\r\nimport { jsonParse } from \"./../../../wp-utils/v1\";\r\nimport Playlist from \"./Playlist\";\r\n\r\nimport \"./playlist.scss\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  renderVideo();\r\n});\r\n\r\nexport const FrontEnd = (props) => {\r\n  console.log(props);\r\n  return <Playlist {...props} />;\r\n};\r\n\r\nexport const renderVideo = () => {\r\n  const players = document.querySelectorAll(\".h5vp_playlist\");\r\n\r\n  players?.forEach((item) => {\r\n    const attributes = jsonParse(item.dataset.attributes);\r\n    item.removeAttribute(\"data-attributes\"); // remove\r\n    item.removeAttribute(\"data-data\"); // remove\r\n\r\n    if (!attributes) {\r\n      return false;\r\n    }\r\n    const nonce = item.dataset.nonce;\r\n    if (typeof attributes === \"object\" && item) {\r\n      const root = createRoot(item);\r\n      root.render(<FrontEnd attributes={attributes} nonce={nonce} />);\r\n    }\r\n  });\r\n};\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","React","ReactDOM","json","parsedJson","JSON","parse","error","console","warn","message","input","test","source","vimeoPattern","id","match","isNaN","_ref","captions","poster","qualities","isPremium","className","reference","props","_extends","crossOrigin","ref","src","style","width","maxWidth","Array","isArray","map","caption","index","caption_file","info","label","split","kind","srcLang","includes","pop","size","type","item","background","createElement","window","location","origin","allowfullscreen","allowtransparency","allow","video","options","player","setPlayer","video_source","h5vp_video_source","video_thumb","video_title","h5vp_video_provider","setType","useState","shouldPlay","setShouldPlay","useRef","useEffect","provider","sources","on","play","document","querySelectorAll","forEach","classList","add","media","current","querySelector","remove","Plyr","log","parentNode","Video","aspectRatio","Youtube","isYoutubeURL","Vimeo","isVimeoLink","inputString","replace","toLowerCase","styles","uniqueId","CSS","setCSS","css","keys","itemCSS","key2","camelToKebabCase","dangerouslySetInnerHTML","__html","attributes","nonce","videos","currentVideo","setCurrentVideo","currentIndex","setCurrentIndex","setTimeout","height","offsetHeight","autoplayNextVideo","nextIndex","nextElementSibling","dataset","StyleRenderer","PlaylistVideoPlayer","overflow","video_desc","onClick","alt","title","addEventListener","renderVideo","FrontEnd","Playlist","players","jsonParse","removeAttribute","createRoot","render"],"sourceRoot":""}