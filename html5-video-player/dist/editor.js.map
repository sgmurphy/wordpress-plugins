{"version":3,"file":"editor.js","mappings":"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","sources":["webpack://html5-video-player-pro/webpack/bootstrap","webpack://html5-video-player-pro/webpack/runtime/compat get default export","webpack://html5-video-player-pro/webpack/runtime/define property getters","webpack://html5-video-player-pro/webpack/runtime/hasOwnProperty shorthand","webpack://html5-video-player-pro/../../../../../../plugin-modules/node_modules/immer/dist/immer.mjs","webpack://html5-video-player-pro/./src/blocks/Components/BControls.js","webpack://html5-video-player-pro/external var [\"wp\",\"components\"]","webpack://html5-video-player-pro/./src/blocks/Components/BMediaUpload.js","webpack://html5-video-player-pro/external var [\"React\"]","webpack://html5-video-player-pro/../wp-utils/v1/hooks/useWPAjax.js","webpack://html5-video-player-pro/../wp-utils/v1/htmlToElement.js","webpack://html5-video-player-pro/../wp-utils/v1/isYoutubeURL.js","webpack://html5-video-player-pro/external var [\"wp\",\"i18n\"]","webpack://html5-video-player-pro/./src/components/BControlPro.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Settings.js","webpack://html5-video-player-pro/./src/blocks/Components/BColor.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Overlay.js","webpack://html5-video-player-pro/./src/blocks/Components/PremiumText.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Subtitle.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Quality.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Watermark.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Popup.js","webpack://html5-video-player-pro/../wp-utils/v1/panelBodyController.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/EndScreen.js","webpack://html5-video-player-pro/./src/blocks/Components/RefactorDataStructure.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/Markers.js","webpack://html5-video-player-pro/../wp-utils/v1/generateUniqueId.js","webpack://html5-video-player-pro/./src/blocks/Components/Tabs/General/PasswordProtected.js","webpack://html5-video-player-pro/./src/blocks/Components/BSettings.js","webpack://html5-video-player-pro/../../../../../../plugin-modules/node_modules/bp-utils/dist/index.mjs","webpack://html5-video-player-pro/./src/public/MyPlayer.js","webpack://html5-video-player-pro/./src/components/Overlay/Overlay.js","webpack://html5-video-player-pro/./src/components/PopupOpener/PopupOpener.js","webpack://html5-video-player-pro/./src/components/Video.js","webpack://html5-video-player-pro/./src/components/Youtube.js","webpack://html5-video-player-pro/./src/utils/isVimeoLink.js","webpack://html5-video-player-pro/./src/components/EndScreen/EndScreen.js","webpack://html5-video-player-pro/./src/utils/camelToKebabCase.js","webpack://html5-video-player-pro/./src/components/Style.js","webpack://html5-video-player-pro/./src/components/Vimeo.js","webpack://html5-video-player-pro/../wp-utils/v1/components/Loader/SimpleLoader.js","webpack://html5-video-player-pro/./src/components/PasswordForm.js","webpack://html5-video-player-pro/./src/components/VideoPlayer.js","webpack://html5-video-player-pro/./src/blocks/video/Edit.js","webpack://html5-video-player-pro/./src/blocks/video/index.js","webpack://html5-video-player-pro/./src/blocks/youtube/Edit.js","webpack://html5-video-player-pro/./src/blocks/youtube/index.js","webpack://html5-video-player-pro/./src/blocks/vimeo/Edit.js","webpack://html5-video-player-pro/./src/blocks/vimeo/index.js","webpack://html5-video-player-pro/./src/blocks/parent/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// src/utils/env.ts\nvar NOTHING = Symbol.for(\"immer-nothing\");\nvar DRAFTABLE = Symbol.for(\"immer-draftable\");\nvar DRAFT_STATE = Symbol.for(\"immer-state\");\n\n// src/utils/errors.ts\nvar errors = process.env.NODE_ENV !== \"production\" ? [\n  // All error codes, starting by 0:\n  function(plugin) {\n    return `The plugin for '${plugin}' has not been loaded into Immer. To enable the plugin, import and call \\`enable${plugin}()\\` when initializing your application.`;\n  },\n  function(thing) {\n    return `produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${thing}'`;\n  },\n  \"This object has been frozen and should not be mutated\",\n  function(data) {\n    return \"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + data;\n  },\n  \"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",\n  \"Immer forbids circular references\",\n  \"The first or second argument to `produce` must be a function\",\n  \"The third argument to `produce` must be a function or undefined\",\n  \"First argument to `createDraft` must be a plain object, an array, or an immerable object\",\n  \"First argument to `finishDraft` must be a draft returned by `createDraft`\",\n  function(thing) {\n    return `'current' expects a draft, got: ${thing}`;\n  },\n  \"Object.defineProperty() cannot be used on an Immer draft\",\n  \"Object.setPrototypeOf() cannot be used on an Immer draft\",\n  \"Immer only supports deleting array indices\",\n  \"Immer only supports setting array indices and the 'length' property\",\n  function(thing) {\n    return `'original' expects a draft, got: ${thing}`;\n  }\n  // Note: if more errors are added, the errorOffset in Patches.ts should be increased\n  // See Patches.ts for additional errors\n] : [];\nfunction die(error, ...args) {\n  if (process.env.NODE_ENV !== \"production\") {\n    const e = errors[error];\n    const msg = typeof e === \"function\" ? e.apply(null, args) : e;\n    throw new Error(`[Immer] ${msg}`);\n  }\n  throw new Error(\n    `[Immer] minified error nr: ${error}. Full error at: https://bit.ly/3cXEKWf`\n  );\n}\n\n// src/utils/common.ts\nvar getPrototypeOf = Object.getPrototypeOf;\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\nfunction isDraftable(value) {\n  if (!value)\n    return false;\n  return isPlainObject(value) || Array.isArray(value) || !!value[DRAFTABLE] || !!value.constructor?.[DRAFTABLE] || isMap(value) || isSet(value);\n}\nvar objectCtorString = Object.prototype.constructor.toString();\nfunction isPlainObject(value) {\n  if (!value || typeof value !== \"object\")\n    return false;\n  const proto = getPrototypeOf(value);\n  if (proto === null) {\n    return true;\n  }\n  const Ctor = Object.hasOwnProperty.call(proto, \"constructor\") && proto.constructor;\n  if (Ctor === Object)\n    return true;\n  return typeof Ctor == \"function\" && Function.toString.call(Ctor) === objectCtorString;\n}\nfunction original(value) {\n  if (!isDraft(value))\n    die(15, value);\n  return value[DRAFT_STATE].base_;\n}\nfunction each(obj, iter) {\n  if (getArchtype(obj) === 0 /* Object */) {\n    Object.entries(obj).forEach(([key, value]) => {\n      iter(key, value, obj);\n    });\n  } else {\n    obj.forEach((entry, index) => iter(index, entry, obj));\n  }\n}\nfunction getArchtype(thing) {\n  const state = thing[DRAFT_STATE];\n  return state ? state.type_ : Array.isArray(thing) ? 1 /* Array */ : isMap(thing) ? 2 /* Map */ : isSet(thing) ? 3 /* Set */ : 0 /* Object */;\n}\nfunction has(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.has(prop) : Object.prototype.hasOwnProperty.call(thing, prop);\n}\nfunction get(thing, prop) {\n  return getArchtype(thing) === 2 /* Map */ ? thing.get(prop) : thing[prop];\n}\nfunction set(thing, propOrOldValue, value) {\n  const t = getArchtype(thing);\n  if (t === 2 /* Map */)\n    thing.set(propOrOldValue, value);\n  else if (t === 3 /* Set */) {\n    thing.add(value);\n  } else\n    thing[propOrOldValue] = value;\n}\nfunction is(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction isMap(target) {\n  return target instanceof Map;\n}\nfunction isSet(target) {\n  return target instanceof Set;\n}\nfunction latest(state) {\n  return state.copy_ || state.base_;\n}\nfunction shallowCopy(base, strict) {\n  if (isMap(base)) {\n    return new Map(base);\n  }\n  if (isSet(base)) {\n    return new Set(base);\n  }\n  if (Array.isArray(base))\n    return Array.prototype.slice.call(base);\n  if (!strict && isPlainObject(base)) {\n    if (!getPrototypeOf(base)) {\n      const obj = /* @__PURE__ */ Object.create(null);\n      return Object.assign(obj, base);\n    }\n    return { ...base };\n  }\n  const descriptors = Object.getOwnPropertyDescriptors(base);\n  delete descriptors[DRAFT_STATE];\n  let keys = Reflect.ownKeys(descriptors);\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    const desc = descriptors[key];\n    if (desc.writable === false) {\n      desc.writable = true;\n      desc.configurable = true;\n    }\n    if (desc.get || desc.set)\n      descriptors[key] = {\n        configurable: true,\n        writable: true,\n        // could live with !!desc.set as well here...\n        enumerable: desc.enumerable,\n        value: base[key]\n      };\n  }\n  return Object.create(getPrototypeOf(base), descriptors);\n}\nfunction freeze(obj, deep = false) {\n  if (isFrozen(obj) || isDraft(obj) || !isDraftable(obj))\n    return obj;\n  if (getArchtype(obj) > 1) {\n    obj.set = obj.add = obj.clear = obj.delete = dontMutateFrozenCollections;\n  }\n  Object.freeze(obj);\n  if (deep)\n    each(obj, (_key, value) => freeze(value, true), true);\n  return obj;\n}\nfunction dontMutateFrozenCollections() {\n  die(2);\n}\nfunction isFrozen(obj) {\n  return Object.isFrozen(obj);\n}\n\n// src/utils/plugins.ts\nvar plugins = {};\nfunction getPlugin(pluginKey) {\n  const plugin = plugins[pluginKey];\n  if (!plugin) {\n    die(0, pluginKey);\n  }\n  return plugin;\n}\nfunction loadPlugin(pluginKey, implementation) {\n  if (!plugins[pluginKey])\n    plugins[pluginKey] = implementation;\n}\n\n// src/core/scope.ts\nvar currentScope;\nfunction getCurrentScope() {\n  return currentScope;\n}\nfunction createScope(parent_, immer_) {\n  return {\n    drafts_: [],\n    parent_,\n    immer_,\n    // Whenever the modified draft contains a draft from another scope, we\n    // need to prevent auto-freezing so the unowned draft can be finalized.\n    canAutoFreeze_: true,\n    unfinalizedDrafts_: 0\n  };\n}\nfunction usePatchesInScope(scope, patchListener) {\n  if (patchListener) {\n    getPlugin(\"Patches\");\n    scope.patches_ = [];\n    scope.inversePatches_ = [];\n    scope.patchListener_ = patchListener;\n  }\n}\nfunction revokeScope(scope) {\n  leaveScope(scope);\n  scope.drafts_.forEach(revokeDraft);\n  scope.drafts_ = null;\n}\nfunction leaveScope(scope) {\n  if (scope === currentScope) {\n    currentScope = scope.parent_;\n  }\n}\nfunction enterScope(immer2) {\n  return currentScope = createScope(currentScope, immer2);\n}\nfunction revokeDraft(draft) {\n  const state = draft[DRAFT_STATE];\n  if (state.type_ === 0 /* Object */ || state.type_ === 1 /* Array */)\n    state.revoke_();\n  else\n    state.revoked_ = true;\n}\n\n// src/core/finalize.ts\nfunction processResult(result, scope) {\n  scope.unfinalizedDrafts_ = scope.drafts_.length;\n  const baseDraft = scope.drafts_[0];\n  const isReplaced = result !== void 0 && result !== baseDraft;\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified_) {\n      revokeScope(scope);\n      die(4);\n    }\n    if (isDraftable(result)) {\n      result = finalize(scope, result);\n      if (!scope.parent_)\n        maybeFreeze(scope, result);\n    }\n    if (scope.patches_) {\n      getPlugin(\"Patches\").generateReplacementPatches_(\n        baseDraft[DRAFT_STATE].base_,\n        result,\n        scope.patches_,\n        scope.inversePatches_\n      );\n    }\n  } else {\n    result = finalize(scope, baseDraft, []);\n  }\n  revokeScope(scope);\n  if (scope.patches_) {\n    scope.patchListener_(scope.patches_, scope.inversePatches_);\n  }\n  return result !== NOTHING ? result : void 0;\n}\nfunction finalize(rootScope, value, path) {\n  if (isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  if (!state) {\n    each(\n      value,\n      (key, childValue) => finalizeProperty(rootScope, state, value, key, childValue, path),\n      true\n      // See #590, don't recurse into non-enumerable of non drafted objects\n    );\n    return value;\n  }\n  if (state.scope_ !== rootScope)\n    return value;\n  if (!state.modified_) {\n    maybeFreeze(rootScope, state.base_, true);\n    return state.base_;\n  }\n  if (!state.finalized_) {\n    state.finalized_ = true;\n    state.scope_.unfinalizedDrafts_--;\n    const result = state.copy_;\n    let resultEach = result;\n    let isSet2 = false;\n    if (state.type_ === 3 /* Set */) {\n      resultEach = new Set(result);\n      result.clear();\n      isSet2 = true;\n    }\n    each(\n      resultEach,\n      (key, childValue) => finalizeProperty(rootScope, state, result, key, childValue, path, isSet2)\n    );\n    maybeFreeze(rootScope, result, false);\n    if (path && rootScope.patches_) {\n      getPlugin(\"Patches\").generatePatches_(\n        state,\n        path,\n        rootScope.patches_,\n        rootScope.inversePatches_\n      );\n    }\n  }\n  return state.copy_;\n}\nfunction finalizeProperty(rootScope, parentState, targetObject, prop, childValue, rootPath, targetIsSet) {\n  if (process.env.NODE_ENV !== \"production\" && childValue === targetObject)\n    die(5);\n  if (isDraft(childValue)) {\n    const path = rootPath && parentState && parentState.type_ !== 3 /* Set */ && // Set objects are atomic since they have no keys.\n    !has(parentState.assigned_, prop) ? rootPath.concat(prop) : void 0;\n    const res = finalize(rootScope, childValue, path);\n    set(targetObject, prop, res);\n    if (isDraft(res)) {\n      rootScope.canAutoFreeze_ = false;\n    } else\n      return;\n  } else if (targetIsSet) {\n    targetObject.add(childValue);\n  }\n  if (isDraftable(childValue) && !isFrozen(childValue)) {\n    if (!rootScope.immer_.autoFreeze_ && rootScope.unfinalizedDrafts_ < 1) {\n      return;\n    }\n    finalize(rootScope, childValue);\n    if (!parentState || !parentState.scope_.parent_)\n      maybeFreeze(rootScope, childValue);\n  }\n}\nfunction maybeFreeze(scope, value, deep = false) {\n  if (!scope.parent_ && scope.immer_.autoFreeze_ && scope.canAutoFreeze_) {\n    freeze(value, deep);\n  }\n}\n\n// src/core/proxy.ts\nfunction createProxyProxy(base, parent) {\n  const isArray = Array.isArray(base);\n  const state = {\n    type_: isArray ? 1 /* Array */ : 0 /* Object */,\n    // Track which produce call this is associated with.\n    scope_: parent ? parent.scope_ : getCurrentScope(),\n    // True for both shallow and deep changes.\n    modified_: false,\n    // Used during finalization.\n    finalized_: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned_: {},\n    // The parent draft state.\n    parent_: parent,\n    // The base state.\n    base_: base,\n    // The base proxy.\n    draft_: null,\n    // set below\n    // The base copy with any updated values.\n    copy_: null,\n    // Called by the `produce` function.\n    revoke_: null,\n    isManual_: false\n  };\n  let target = state;\n  let traps = objectTraps;\n  if (isArray) {\n    target = [state];\n    traps = arrayTraps;\n  }\n  const { revoke, proxy } = Proxy.revocable(target, traps);\n  state.draft_ = proxy;\n  state.revoke_ = revoke;\n  return proxy;\n}\nvar objectTraps = {\n  get(state, prop) {\n    if (prop === DRAFT_STATE)\n      return state;\n    const source = latest(state);\n    if (!has(source, prop)) {\n      return readPropFromProto(state, source, prop);\n    }\n    const value = source[prop];\n    if (state.finalized_ || !isDraftable(value)) {\n      return value;\n    }\n    if (value === peek(state.base_, prop)) {\n      prepareCopy(state);\n      return state.copy_[prop] = createProxy(value, state);\n    }\n    return value;\n  },\n  has(state, prop) {\n    return prop in latest(state);\n  },\n  ownKeys(state) {\n    return Reflect.ownKeys(latest(state));\n  },\n  set(state, prop, value) {\n    const desc = getDescriptorFromProto(latest(state), prop);\n    if (desc?.set) {\n      desc.set.call(state.draft_, value);\n      return true;\n    }\n    if (!state.modified_) {\n      const current2 = peek(latest(state), prop);\n      const currentState = current2?.[DRAFT_STATE];\n      if (currentState && currentState.base_ === value) {\n        state.copy_[prop] = value;\n        state.assigned_[prop] = false;\n        return true;\n      }\n      if (is(value, current2) && (value !== void 0 || has(state.base_, prop)))\n        return true;\n      prepareCopy(state);\n      markChanged(state);\n    }\n    if (state.copy_[prop] === value && // special case: handle new props with value 'undefined'\n    (value !== void 0 || prop in state.copy_) || // special case: NaN\n    Number.isNaN(value) && Number.isNaN(state.copy_[prop]))\n      return true;\n    state.copy_[prop] = value;\n    state.assigned_[prop] = true;\n    return true;\n  },\n  deleteProperty(state, prop) {\n    if (peek(state.base_, prop) !== void 0 || prop in state.base_) {\n      state.assigned_[prop] = false;\n      prepareCopy(state);\n      markChanged(state);\n    } else {\n      delete state.assigned_[prop];\n    }\n    if (state.copy_) {\n      delete state.copy_[prop];\n    }\n    return true;\n  },\n  // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n  // the same guarantee in ES5 mode.\n  getOwnPropertyDescriptor(state, prop) {\n    const owner = latest(state);\n    const desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n    if (!desc)\n      return desc;\n    return {\n      writable: true,\n      configurable: state.type_ !== 1 /* Array */ || prop !== \"length\",\n      enumerable: desc.enumerable,\n      value: owner[prop]\n    };\n  },\n  defineProperty() {\n    die(11);\n  },\n  getPrototypeOf(state) {\n    return getPrototypeOf(state.base_);\n  },\n  setPrototypeOf() {\n    die(12);\n  }\n};\nvar arrayTraps = {};\neach(objectTraps, (key, fn) => {\n  arrayTraps[key] = function() {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\narrayTraps.deleteProperty = function(state, prop) {\n  if (process.env.NODE_ENV !== \"production\" && isNaN(parseInt(prop)))\n    die(13);\n  return arrayTraps.set.call(this, state, prop, void 0);\n};\narrayTraps.set = function(state, prop, value) {\n  if (process.env.NODE_ENV !== \"production\" && prop !== \"length\" && isNaN(parseInt(prop)))\n    die(14);\n  return objectTraps.set.call(this, state[0], prop, value, state[0]);\n};\nfunction peek(draft, prop) {\n  const state = draft[DRAFT_STATE];\n  const source = state ? latest(state) : draft;\n  return source[prop];\n}\nfunction readPropFromProto(state, source, prop) {\n  const desc = getDescriptorFromProto(source, prop);\n  return desc ? `value` in desc ? desc.value : (\n    // This is a very special case, if the prop is a getter defined by the\n    // prototype, we should invoke it with the draft as context!\n    desc.get?.call(state.draft_)\n  ) : void 0;\n}\nfunction getDescriptorFromProto(source, prop) {\n  if (!(prop in source))\n    return void 0;\n  let proto = getPrototypeOf(source);\n  while (proto) {\n    const desc = Object.getOwnPropertyDescriptor(proto, prop);\n    if (desc)\n      return desc;\n    proto = getPrototypeOf(proto);\n  }\n  return void 0;\n}\nfunction markChanged(state) {\n  if (!state.modified_) {\n    state.modified_ = true;\n    if (state.parent_) {\n      markChanged(state.parent_);\n    }\n  }\n}\nfunction prepareCopy(state) {\n  if (!state.copy_) {\n    state.copy_ = shallowCopy(\n      state.base_,\n      state.scope_.immer_.useStrictShallowCopy_\n    );\n  }\n}\n\n// src/core/immerClass.ts\nvar Immer2 = class {\n  constructor(config) {\n    this.autoFreeze_ = true;\n    this.useStrictShallowCopy_ = false;\n    /**\n     * The `produce` function takes a value and a \"recipe function\" (whose\n     * return value often depends on the base state). The recipe function is\n     * free to mutate its first argument however it wants. All mutations are\n     * only ever applied to a __copy__ of the base state.\n     *\n     * Pass only a function to create a \"curried producer\" which relieves you\n     * from passing the recipe function every time.\n     *\n     * Only plain objects and arrays are made mutable. All other objects are\n     * considered uncopyable.\n     *\n     * Note: This function is __bound__ to its `Immer` instance.\n     *\n     * @param {any} base - the initial state\n     * @param {Function} recipe - function that receives a proxy of the base state as first argument and which can be freely modified\n     * @param {Function} patchListener - optional function that will be called with all the patches produced here\n     * @returns {any} a new state, or the initial state if nothing was modified\n     */\n    this.produce = (base, recipe, patchListener) => {\n      if (typeof base === \"function\" && typeof recipe !== \"function\") {\n        const defaultBase = recipe;\n        recipe = base;\n        const self = this;\n        return function curriedProduce(base2 = defaultBase, ...args) {\n          return self.produce(base2, (draft) => recipe.call(this, draft, ...args));\n        };\n      }\n      if (typeof recipe !== \"function\")\n        die(6);\n      if (patchListener !== void 0 && typeof patchListener !== \"function\")\n        die(7);\n      let result;\n      if (isDraftable(base)) {\n        const scope = enterScope(this);\n        const proxy = createProxy(base, void 0);\n        let hasError = true;\n        try {\n          result = recipe(proxy);\n          hasError = false;\n        } finally {\n          if (hasError)\n            revokeScope(scope);\n          else\n            leaveScope(scope);\n        }\n        usePatchesInScope(scope, patchListener);\n        return processResult(result, scope);\n      } else if (!base || typeof base !== \"object\") {\n        result = recipe(base);\n        if (result === void 0)\n          result = base;\n        if (result === NOTHING)\n          result = void 0;\n        if (this.autoFreeze_)\n          freeze(result, true);\n        if (patchListener) {\n          const p = [];\n          const ip = [];\n          getPlugin(\"Patches\").generateReplacementPatches_(base, result, p, ip);\n          patchListener(p, ip);\n        }\n        return result;\n      } else\n        die(1, base);\n    };\n    this.produceWithPatches = (base, recipe) => {\n      if (typeof base === \"function\") {\n        return (state, ...args) => this.produceWithPatches(state, (draft) => base(draft, ...args));\n      }\n      let patches, inversePatches;\n      const result = this.produce(base, recipe, (p, ip) => {\n        patches = p;\n        inversePatches = ip;\n      });\n      return [result, patches, inversePatches];\n    };\n    if (typeof config?.autoFreeze === \"boolean\")\n      this.setAutoFreeze(config.autoFreeze);\n    if (typeof config?.useStrictShallowCopy === \"boolean\")\n      this.setUseStrictShallowCopy(config.useStrictShallowCopy);\n  }\n  createDraft(base) {\n    if (!isDraftable(base))\n      die(8);\n    if (isDraft(base))\n      base = current(base);\n    const scope = enterScope(this);\n    const proxy = createProxy(base, void 0);\n    proxy[DRAFT_STATE].isManual_ = true;\n    leaveScope(scope);\n    return proxy;\n  }\n  finishDraft(draft, patchListener) {\n    const state = draft && draft[DRAFT_STATE];\n    if (!state || !state.isManual_)\n      die(9);\n    const { scope_: scope } = state;\n    usePatchesInScope(scope, patchListener);\n    return processResult(void 0, scope);\n  }\n  /**\n   * Pass true to automatically freeze all copies created by Immer.\n   *\n   * By default, auto-freezing is enabled.\n   */\n  setAutoFreeze(value) {\n    this.autoFreeze_ = value;\n  }\n  /**\n   * Pass true to enable strict shallow copy.\n   *\n   * By default, immer does not copy the object descriptors such as getter, setter and non-enumrable properties.\n   */\n  setUseStrictShallowCopy(value) {\n    this.useStrictShallowCopy_ = value;\n  }\n  applyPatches(base, patches) {\n    let i;\n    for (i = patches.length - 1; i >= 0; i--) {\n      const patch = patches[i];\n      if (patch.path.length === 0 && patch.op === \"replace\") {\n        base = patch.value;\n        break;\n      }\n    }\n    if (i > -1) {\n      patches = patches.slice(i + 1);\n    }\n    const applyPatchesImpl = getPlugin(\"Patches\").applyPatches_;\n    if (isDraft(base)) {\n      return applyPatchesImpl(base, patches);\n    }\n    return this.produce(\n      base,\n      (draft) => applyPatchesImpl(draft, patches)\n    );\n  }\n};\nfunction createProxy(value, parent) {\n  const draft = isMap(value) ? getPlugin(\"MapSet\").proxyMap_(value, parent) : isSet(value) ? getPlugin(\"MapSet\").proxySet_(value, parent) : createProxyProxy(value, parent);\n  const scope = parent ? parent.scope_ : getCurrentScope();\n  scope.drafts_.push(draft);\n  return draft;\n}\n\n// src/core/current.ts\nfunction current(value) {\n  if (!isDraft(value))\n    die(10, value);\n  return currentImpl(value);\n}\nfunction currentImpl(value) {\n  if (!isDraftable(value) || isFrozen(value))\n    return value;\n  const state = value[DRAFT_STATE];\n  let copy;\n  if (state) {\n    if (!state.modified_)\n      return state.base_;\n    state.finalized_ = true;\n    copy = shallowCopy(value, state.scope_.immer_.useStrictShallowCopy_);\n  } else {\n    copy = shallowCopy(value, true);\n  }\n  each(copy, (key, childValue) => {\n    set(copy, key, currentImpl(childValue));\n  });\n  if (state) {\n    state.finalized_ = false;\n  }\n  return copy;\n}\n\n// src/plugins/patches.ts\nfunction enablePatches() {\n  const errorOffset = 16;\n  if (process.env.NODE_ENV !== \"production\") {\n    errors.push(\n      'Sets cannot have \"replace\" patches.',\n      function(op) {\n        return \"Unsupported patch operation: \" + op;\n      },\n      function(path) {\n        return \"Cannot apply patch, path doesn't resolve: \" + path;\n      },\n      \"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"\n    );\n  }\n  const REPLACE = \"replace\";\n  const ADD = \"add\";\n  const REMOVE = \"remove\";\n  function generatePatches_(state, basePath, patches, inversePatches) {\n    switch (state.type_) {\n      case 0 /* Object */:\n      case 2 /* Map */:\n        return generatePatchesFromAssigned(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n      case 1 /* Array */:\n        return generateArrayPatches(state, basePath, patches, inversePatches);\n      case 3 /* Set */:\n        return generateSetPatches(\n          state,\n          basePath,\n          patches,\n          inversePatches\n        );\n    }\n  }\n  function generateArrayPatches(state, basePath, patches, inversePatches) {\n    let { base_, assigned_ } = state;\n    let copy_ = state.copy_;\n    if (copy_.length < base_.length) {\n      ;\n      [base_, copy_] = [copy_, base_];\n      [patches, inversePatches] = [inversePatches, patches];\n    }\n    for (let i = 0; i < base_.length; i++) {\n      if (assigned_[i] && copy_[i] !== base_[i]) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REPLACE,\n          path,\n          // Need to maybe clone it, as it can in fact be the original value\n          // due to the base/copy inversion at the start of this function\n          value: clonePatchValueIfNeeded(copy_[i])\n        });\n        inversePatches.push({\n          op: REPLACE,\n          path,\n          value: clonePatchValueIfNeeded(base_[i])\n        });\n      }\n    }\n    for (let i = base_.length; i < copy_.length; i++) {\n      const path = basePath.concat([i]);\n      patches.push({\n        op: ADD,\n        path,\n        // Need to maybe clone it, as it can in fact be the original value\n        // due to the base/copy inversion at the start of this function\n        value: clonePatchValueIfNeeded(copy_[i])\n      });\n    }\n    for (let i = copy_.length - 1; base_.length <= i; --i) {\n      const path = basePath.concat([i]);\n      inversePatches.push({\n        op: REMOVE,\n        path\n      });\n    }\n  }\n  function generatePatchesFromAssigned(state, basePath, patches, inversePatches) {\n    const { base_, copy_ } = state;\n    each(state.assigned_, (key, assignedValue) => {\n      const origValue = get(base_, key);\n      const value = get(copy_, key);\n      const op = !assignedValue ? REMOVE : has(base_, key) ? REPLACE : ADD;\n      if (origValue === value && op === REPLACE)\n        return;\n      const path = basePath.concat(key);\n      patches.push(op === REMOVE ? { op, path } : { op, path, value });\n      inversePatches.push(\n        op === ADD ? { op: REMOVE, path } : op === REMOVE ? { op: ADD, path, value: clonePatchValueIfNeeded(origValue) } : { op: REPLACE, path, value: clonePatchValueIfNeeded(origValue) }\n      );\n    });\n  }\n  function generateSetPatches(state, basePath, patches, inversePatches) {\n    let { base_, copy_ } = state;\n    let i = 0;\n    base_.forEach((value) => {\n      if (!copy_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: REMOVE,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: ADD,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n    i = 0;\n    copy_.forEach((value) => {\n      if (!base_.has(value)) {\n        const path = basePath.concat([i]);\n        patches.push({\n          op: ADD,\n          path,\n          value\n        });\n        inversePatches.unshift({\n          op: REMOVE,\n          path,\n          value\n        });\n      }\n      i++;\n    });\n  }\n  function generateReplacementPatches_(baseValue, replacement, patches, inversePatches) {\n    patches.push({\n      op: REPLACE,\n      path: [],\n      value: replacement === NOTHING ? void 0 : replacement\n    });\n    inversePatches.push({\n      op: REPLACE,\n      path: [],\n      value: baseValue\n    });\n  }\n  function applyPatches_(draft, patches) {\n    patches.forEach((patch) => {\n      const { path, op } = patch;\n      let base = draft;\n      for (let i = 0; i < path.length - 1; i++) {\n        const parentType = getArchtype(base);\n        let p = path[i];\n        if (typeof p !== \"string\" && typeof p !== \"number\") {\n          p = \"\" + p;\n        }\n        if ((parentType === 0 /* Object */ || parentType === 1 /* Array */) && (p === \"__proto__\" || p === \"constructor\"))\n          die(errorOffset + 3);\n        if (typeof base === \"function\" && p === \"prototype\")\n          die(errorOffset + 3);\n        base = get(base, p);\n        if (typeof base !== \"object\")\n          die(errorOffset + 2, path.join(\"/\"));\n      }\n      const type = getArchtype(base);\n      const value = deepClonePatchValue(patch.value);\n      const key = path[path.length - 1];\n      switch (op) {\n        case REPLACE:\n          switch (type) {\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              die(errorOffset);\n            default:\n              return base[key] = value;\n          }\n        case ADD:\n          switch (type) {\n            case 1 /* Array */:\n              return key === \"-\" ? base.push(value) : base.splice(key, 0, value);\n            case 2 /* Map */:\n              return base.set(key, value);\n            case 3 /* Set */:\n              return base.add(value);\n            default:\n              return base[key] = value;\n          }\n        case REMOVE:\n          switch (type) {\n            case 1 /* Array */:\n              return base.splice(key, 1);\n            case 2 /* Map */:\n              return base.delete(key);\n            case 3 /* Set */:\n              return base.delete(patch.value);\n            default:\n              return delete base[key];\n          }\n        default:\n          die(errorOffset + 1, op);\n      }\n    });\n    return draft;\n  }\n  function deepClonePatchValue(obj) {\n    if (!isDraftable(obj))\n      return obj;\n    if (Array.isArray(obj))\n      return obj.map(deepClonePatchValue);\n    if (isMap(obj))\n      return new Map(\n        Array.from(obj.entries()).map(([k, v]) => [k, deepClonePatchValue(v)])\n      );\n    if (isSet(obj))\n      return new Set(Array.from(obj).map(deepClonePatchValue));\n    const cloned = Object.create(getPrototypeOf(obj));\n    for (const key in obj)\n      cloned[key] = deepClonePatchValue(obj[key]);\n    if (has(obj, DRAFTABLE))\n      cloned[DRAFTABLE] = obj[DRAFTABLE];\n    return cloned;\n  }\n  function clonePatchValueIfNeeded(obj) {\n    if (isDraft(obj)) {\n      return deepClonePatchValue(obj);\n    } else\n      return obj;\n  }\n  loadPlugin(\"Patches\", {\n    applyPatches_,\n    generatePatches_,\n    generateReplacementPatches_\n  });\n}\n\n// src/plugins/mapset.ts\nfunction enableMapSet() {\n  class DraftMap extends Map {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 2 /* Map */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        assigned_: void 0,\n        base_: target,\n        draft_: this,\n        isManual_: false,\n        revoked_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(key) {\n      return latest(this[DRAFT_STATE]).has(key);\n    }\n    set(key, value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!latest(state).has(key) || latest(state).get(key) !== value) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_.set(key, true);\n        state.copy_.set(key, value);\n        state.assigned_.set(key, true);\n      }\n      return this;\n    }\n    delete(key) {\n      if (!this.has(key)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareMapCopy(state);\n      markChanged(state);\n      if (state.base_.has(key)) {\n        state.assigned_.set(key, false);\n      } else {\n        state.assigned_.delete(key);\n      }\n      state.copy_.delete(key);\n      return true;\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareMapCopy(state);\n        markChanged(state);\n        state.assigned_ = /* @__PURE__ */ new Map();\n        each(state.base_, (key) => {\n          state.assigned_.set(key, false);\n        });\n        state.copy_.clear();\n      }\n    }\n    forEach(cb, thisArg) {\n      const state = this[DRAFT_STATE];\n      latest(state).forEach((_value, key, _map) => {\n        cb.call(thisArg, this.get(key), key, this);\n      });\n    }\n    get(key) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      const value = latest(state).get(key);\n      if (state.finalized_ || !isDraftable(value)) {\n        return value;\n      }\n      if (value !== state.base_.get(key)) {\n        return value;\n      }\n      const draft = createProxy(value, state);\n      prepareMapCopy(state);\n      state.copy_.set(key, draft);\n      return draft;\n    }\n    keys() {\n      return latest(this[DRAFT_STATE]).keys();\n    }\n    values() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.values(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value\n          };\n        }\n      };\n    }\n    entries() {\n      const iterator = this.keys();\n      return {\n        [Symbol.iterator]: () => this.entries(),\n        next: () => {\n          const r = iterator.next();\n          if (r.done)\n            return r;\n          const value = this.get(r.value);\n          return {\n            done: false,\n            value: [r.value, value]\n          };\n        }\n      };\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.entries();\n    }\n  }\n  function proxyMap_(target, parent) {\n    return new DraftMap(target, parent);\n  }\n  function prepareMapCopy(state) {\n    if (!state.copy_) {\n      state.assigned_ = /* @__PURE__ */ new Map();\n      state.copy_ = new Map(state.base_);\n    }\n  }\n  class DraftSet extends Set {\n    constructor(target, parent) {\n      super();\n      this[DRAFT_STATE] = {\n        type_: 3 /* Set */,\n        parent_: parent,\n        scope_: parent ? parent.scope_ : getCurrentScope(),\n        modified_: false,\n        finalized_: false,\n        copy_: void 0,\n        base_: target,\n        draft_: this,\n        drafts_: /* @__PURE__ */ new Map(),\n        revoked_: false,\n        isManual_: false\n      };\n    }\n    get size() {\n      return latest(this[DRAFT_STATE]).size;\n    }\n    has(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!state.copy_) {\n        return state.base_.has(value);\n      }\n      if (state.copy_.has(value))\n        return true;\n      if (state.drafts_.has(value) && state.copy_.has(state.drafts_.get(value)))\n        return true;\n      return false;\n    }\n    add(value) {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (!this.has(value)) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.add(value);\n      }\n      return this;\n    }\n    delete(value) {\n      if (!this.has(value)) {\n        return false;\n      }\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      markChanged(state);\n      return state.copy_.delete(value) || (state.drafts_.has(value) ? state.copy_.delete(state.drafts_.get(value)) : (\n        /* istanbul ignore next */\n        false\n      ));\n    }\n    clear() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      if (latest(state).size) {\n        prepareSetCopy(state);\n        markChanged(state);\n        state.copy_.clear();\n      }\n    }\n    values() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.values();\n    }\n    entries() {\n      const state = this[DRAFT_STATE];\n      assertUnrevoked(state);\n      prepareSetCopy(state);\n      return state.copy_.entries();\n    }\n    keys() {\n      return this.values();\n    }\n    [(DRAFT_STATE, Symbol.iterator)]() {\n      return this.values();\n    }\n    forEach(cb, thisArg) {\n      const iterator = this.values();\n      let result = iterator.next();\n      while (!result.done) {\n        cb.call(thisArg, result.value, result.value, this);\n        result = iterator.next();\n      }\n    }\n  }\n  function proxySet_(target, parent) {\n    return new DraftSet(target, parent);\n  }\n  function prepareSetCopy(state) {\n    if (!state.copy_) {\n      state.copy_ = /* @__PURE__ */ new Set();\n      state.base_.forEach((value) => {\n        if (isDraftable(value)) {\n          const draft = createProxy(value, state);\n          state.drafts_.set(value, draft);\n          state.copy_.add(draft);\n        } else {\n          state.copy_.add(value);\n        }\n      });\n    }\n  }\n  function assertUnrevoked(state) {\n    if (state.revoked_)\n      die(3, JSON.stringify(latest(state)));\n  }\n  loadPlugin(\"MapSet\", { proxyMap_, proxySet_ });\n}\n\n// src/immer.ts\nvar immer = new Immer2();\nvar produce = immer.produce;\nvar produceWithPatches = immer.produceWithPatches.bind(\n  immer\n);\nvar setAutoFreeze = immer.setAutoFreeze.bind(immer);\nvar setUseStrictShallowCopy = immer.setUseStrictShallowCopy.bind(immer);\nvar applyPatches = immer.applyPatches.bind(immer);\nvar createDraft = immer.createDraft.bind(immer);\nvar finishDraft = immer.finishDraft.bind(immer);\nfunction castDraft(value) {\n  return value;\n}\nfunction castImmutable(value) {\n  return value;\n}\nexport {\n  Immer2 as Immer,\n  applyPatches,\n  castDraft,\n  castImmutable,\n  createDraft,\n  current,\n  enableMapSet,\n  enablePatches,\n  finishDraft,\n  freeze,\n  DRAFTABLE as immerable,\n  isDraft,\n  isDraftable,\n  NOTHING as nothing,\n  original,\n  produce,\n  produceWithPatches,\n  setAutoFreeze,\n  setUseStrictShallowCopy\n};\n//# sourceMappingURL=immer.mjs.map","const { __ } = wp.i18n;\r\nconst { PanelBody, PanelRow, FormToggle } = wp.components;\r\nconst BControls = ({ attributes: { options }, updateOption }) => {\r\n  const { controls } = options;\r\n  const controlSettings = [\r\n    {\r\n      label: \"Play Large\",\r\n      control: \"play-large\",\r\n    },\r\n    {\r\n      label: \"Restart\",\r\n      control: \"restart\",\r\n    },\r\n    {\r\n      label: \"Rewind\",\r\n      control: \"rewind\",\r\n    },\r\n    {\r\n      label: \"Play\",\r\n      control: \"play\",\r\n    },\r\n    {\r\n      label: \"Fast Forward\",\r\n      control: \"fast-forward\",\r\n    },\r\n    {\r\n      label: \"Progress\",\r\n      control: \"progress\",\r\n    },\r\n    {\r\n      label: \"Current Time\",\r\n      control: \"current-time\",\r\n    },\r\n    {\r\n      label: \"Duration\",\r\n      control: \"duration\",\r\n    },\r\n    {\r\n      label: \"Mute\",\r\n      control: \"mute\",\r\n    },\r\n    {\r\n      label: \"Volume\",\r\n      control: \"volume\",\r\n    },\r\n    {\r\n      label: \"PIP\",\r\n      control: \"pip\",\r\n    },\r\n    {\r\n      label: \"Airplay\",\r\n      control: \"airplay\",\r\n    },\r\n    {\r\n      label: \"Captions\",\r\n      control: \"captions\",\r\n    },\r\n    {\r\n      label: \"Settings\",\r\n      control: \"settings\",\r\n    },\r\n    {\r\n      label: \"Download\",\r\n      control: \"download\",\r\n    },\r\n    {\r\n      label: \"Fullscreen\",\r\n      control: \"fullscreen\",\r\n    },\r\n  ];\r\n  const handleControl = (control) => {\r\n    const originalControls = controlSettings.map((item) => item.control);\r\n    let newControls;\r\n    if (controls.includes(control)) {\r\n      newControls = controls.filter((item) => item !== control);\r\n    } else {\r\n      newControls = originalControls.filter((item) => {\r\n        if (controls.includes(item) || item === control) {\r\n          return true;\r\n        }\r\n      });\r\n    }\r\n    updateOption({ controls: newControls });\r\n  };\r\n\r\n  return (\r\n    <PanelBody>\r\n      {controlSettings.map(({ label, control }) => {\r\n        return (\r\n          <PanelRow key={control}>\r\n            <label htmlFor={control} className=\"label\">\r\n              {__(label, \"h5vp\")}\r\n            </label>\r\n            <FormToggle id={control} checked={controls.includes(control)} onChange={() => handleControl(control)} />\r\n          </PanelRow>\r\n        );\r\n      })}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default BControls;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = wp.components;","const { __ } = wp.i18n;\r\nconst { Fragment } = wp.element;\r\nconst { MediaUpload, MediaUploadCheck } = wp.blockEditor;\r\nconst { Button, PanelRow, TextControl } = wp.components;\r\nfunction BMediaUpload({ value, type = [], onSelect, placeholder }) {\r\n  return (\r\n    <div className=\"bMediaUpload\">\r\n      <Fragment>\r\n        <MediaUploadCheck>\r\n          <MediaUpload\r\n            type={type}\r\n            onSelect={(image) => onSelect(image.url)}\r\n            render={({ open }) => <Button className=\"button button-primary\" onClick={open} icon={\"upload\"}></Button>}\r\n          />\r\n        </MediaUploadCheck>\r\n        <PanelRow className=\"width-100\">\r\n          <TextControl value={value} onChange={(fileUrl) => onSelect(fileUrl)} placeholder={placeholder} />\r\n        </PanelRow>\r\n      </Fragment>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BMediaUpload;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = React;","import { useState, useEffect } from \"react\";\r\n\r\nconst useWPAjax = (action, params = {}, set = false) => {\r\n  const [isLoading, setIsLoading] = useState(!set);\r\n  const [isError, setIsError] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [data, setData] = useState(null);\r\n\r\n  if (!wp.ajax) {\r\n    // eslint-disable-next-line no-console\r\n    console.error(\"Please use wp-util as a dependency\");\r\n    return;\r\n  }\r\n\r\n  const sendRequest = (payload = {}) => {\r\n    setIsLoading(true);\r\n    setIsError(false);\r\n    setError(null);\r\n    wp.ajax\r\n      .post(action, { ...params, ...payload })\r\n      .done((res) => {\r\n        setData(res);\r\n        setIsLoading(false);\r\n      })\r\n      .fail((error) => {\r\n        setIsError(true);\r\n        setError(error);\r\n        setIsLoading(false);\r\n      });\r\n  };\r\n\r\n  const request = async (payload = {}) => {\r\n    sendRequest(payload);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!set) {\r\n      sendRequest(params);\r\n    }\r\n  }, []);\r\n\r\n  return {\r\n    data,\r\n    saveData: request,\r\n    refetch: request,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n  };\r\n};\r\nexport default useWPAjax;\r\n","function htmlToElement(html) {\r\n  let temp = document.createElement(\"template\");\r\n  temp.innerHTML = html;\r\n  return temp.content.firstChild;\r\n}\r\n\r\nexport default htmlToElement;\r\n","function isYoutubeURL(input) {\r\n  // Regular expressions to check for YouTube URLs and extract the video ID\r\n  const youtubeURLRegex = /^(?:(?:https?:\\/\\/)?(?:www\\.)?(?:youtube\\.com|youtu\\.be)\\/(?:watch\\?v=)?([a-zA-Z0-9_-]+))$/;\r\n  const youtubeIDRegex = /^[a-zA-Z0-9_-]{11}$/;\r\n\r\n  if (youtubeURLRegex.test(input)) {\r\n    return input;\r\n  } else if (youtubeIDRegex.test(input)) {\r\n    return `https://www.youtube.com/watch?v=${input}`;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default isYoutubeURL;\r\n","var __WEBPACK_NAMESPACE_OBJECT__ = wp.i18n;","import { __ } from \"@wordpress/i18n\";\r\n\r\nconst BControlPro = ({ label, className, onChange, isPremium = false, Component, setOpen = () => {}, ...restProps }) => {\r\n  const labelMiddleWare = (label) => {\r\n    return isPremium ? (\r\n      label\r\n    ) : (\r\n      <>\r\n        <span className=\"bplOpacity75\">{label}</span> <span className=\"labelPro\">{__(\"Pro\", \"text-domain\")}</span>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Component\r\n      className={`${className} ${isPremium ? \"\" : \"bplProIdentifier\"}`}\r\n      label={labelMiddleWare(label)}\r\n      onChange={(val) => {\r\n        if (isPremium) {\r\n          onChange(val);\r\n        } else {\r\n          setOpen(true);\r\n        }\r\n      }}\r\n      isPremium={isPremium}\r\n      {...restProps}\r\n    />\r\n  );\r\n};\r\n\r\nexport default BControlPro;\r\n","const { Fragment, useEffect, useState } = wp.element;\r\nconst { PanelBody, PanelRow, Button, __experimentalNumberControl: NumberControl, TextControl, SelectControl, TextareaControl, ButtonGroup } = wp.components;\r\nimport { ToggleControl } from \"@wordpress/components\";\r\nconst { __ } = wp.i18n;\r\n\r\nimport BMediaUpload from \"../../BMediaUpload\";\r\nimport { isYoutubeURL } from \"../../../../../../wp-utils/v1\";\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\n\r\nconst Settings = ({ attributes, setAttributes, handleOptions, handleFeatures, isPremium }) => {\r\n  const { source, poster, options, features } = attributes;\r\n  const { autoplay, muted, hideControls, seekTime, preload, ratio, ads, playsinline, resetOnEnd, loop, urls } = options;\r\n  const { hideYoutubeUI, playWhenVisible, disablePause, thumbInPause, sticky, startTime, hideLoadingPlaceholder } = features;\r\n\r\n  // console.log(features, options);\r\n\r\n  useEffect(() => {\r\n    if (isYoutubeURL(source)) {\r\n      setAttributes({ library: \"youtube\" });\r\n    }\r\n  }, [source]);\r\n\r\n  return (\r\n    <PanelBody title={__(\"Settings\", \"h5vp\")} initialOpen={false}>\r\n      <BMediaUpload type={[\"video\"]} onSelect={(source) => setAttributes({ source })} value={source} placeholder=\"video source\" />\r\n      <BMediaUpload\r\n        type={[\"image\"]}\r\n        onSelect={(poster) => {\r\n          setAttributes({ poster });\r\n        }}\r\n        value={poster}\r\n        placeholder=\"video Thumbnails\"\r\n        help=\"thumbnail will show on frontend\"\r\n      />\r\n      {/* <ToggleControl disabled={!isPremium} /> */}\r\n      <BControlPro\r\n        Component={ToggleControl}\r\n        isPremium={isPremium}\r\n        label={__(\"Custom Downlaod URL?\", \"h5vp\")}\r\n        id=\"isCDURL\"\r\n        checked={urls.enabled}\r\n        onChange={() => handleOptions({ enabled: !urls.enabled }, \"urls\")}\r\n      />\r\n      {urls.enabled && <TextControl value={urls.download} onChange={(download) => handleOptions({ download }, \"urls\")} />}\r\n      <BControlPro\r\n        Component={ToggleControl}\r\n        isPremium={true}\r\n        help={autoplay ? __(\"muted should be enabled\", \"h5vp\") : \"\"}\r\n        label={__(\"Autoplay\", \"h5vp\")}\r\n        id=\"autoplay\"\r\n        checked={autoplay}\r\n        onChange={() => handleOptions({ autoplay: !autoplay })}\r\n      />\r\n      <ToggleControl label={__(\"Muted\", \"h5vp\")} id=\"muted\" checked={muted} onChange={() => handleOptions({ muted: !muted })} />\r\n      <ToggleControl label={__(\"Repeat\", \"h5vp\")} id=\"repeat\" checked={loop.active} onChange={() => handleOptions({ loop: { ...loop, active: !loop.active } })} />\r\n      {!loop.active && <ToggleControl label={__(\"Reset On End\", \"h5vp\")} id=\"resetOnEnd\" checked={resetOnEnd} onChange={() => handleOptions({ resetOnEnd: !resetOnEnd })} />}\r\n      <ToggleControl label={__(\"Auto Hide Control\", \"h5vp\")} id=\"autoHideControl\" checked={hideControls} onChange={() => handleOptions({ hideControls: !hideControls })} />\r\n      <ToggleControl\r\n        label={__(\"Hide loading placeholder\", \"h5vp\")}\r\n        id=\"hideLoadingPlaceholder\"\r\n        checked={hideLoadingPlaceholder}\r\n        onChange={() => handleFeatures({ hideLoadingPlaceholder: !hideLoadingPlaceholder })}\r\n      />\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Autoplay When Visible on Screen\", \"h5vp\")}\r\n        id=\"playWhenVisible\"\r\n        checked={playWhenVisible}\r\n        onChange={() => handleFeatures({ playWhenVisible: !playWhenVisible })}\r\n      />\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Disable Pause\", \"h5vp\")}\r\n        id=\"disablePause\"\r\n        checked={disablePause}\r\n        onChange={() => handleFeatures({ disablePause: !disablePause })}\r\n      />\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Allow inline playback on iOS\", \"h5vp\")}\r\n        checked={playsinline}\r\n        onChange={() => handleOptions({ playsinline: !playsinline })}\r\n      />\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Show thumbnail on pause\", \"h5vp\")}\r\n        id=\"thumbInPause\"\r\n        checked={thumbInPause.enabled}\r\n        onChange={() => handleFeatures({ enabled: !thumbInPause.enabled }, \"thumbInPause\")}\r\n      />\r\n      {thumbInPause.enabled && poster && (\r\n        <PanelRow>\r\n          <label htmlFor=\"thumbInPause\" className=\"label\">\r\n            {__(\"Thumb Style\", \"h5vp\")}\r\n          </label>\r\n          <ButtonGroup>\r\n            <Button onClick={() => handleFeatures({ type: \"default\" }, \"thumbInPause\")} className={`button ${thumbInPause.type == \"default\" ? \"button-primary\" : \"\"}`}>\r\n              {__(\"Default\", \"h5vp\")}\r\n            </Button>\r\n            <Button onClick={() => handleFeatures({ type: \"custom\" }, \"thumbInPause\")} className={`button ${thumbInPause.type == \"custom\" ? \"button-primary\" : \"\"}`}>\r\n              {__(\"Custom\", \"h5vp\")}\r\n            </Button>\r\n          </ButtonGroup>\r\n        </PanelRow>\r\n      )}\r\n\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Sticky On Scroll\", \"h5vp\")}\r\n        id=\"sticky\"\r\n        checked={sticky.enabled}\r\n        onChange={() => handleFeatures({ enabled: !sticky.enabled }, \"sticky\")}\r\n      />\r\n      {sticky.enabled && (\r\n        <SelectControl\r\n          labelPosition=\"side\"\r\n          label={__(\"Sticky Position\", \"h5vp\")}\r\n          value={sticky.position}\r\n          options={[\r\n            { label: \"Top Right\", value: \"top_right\" },\r\n            { label: \"Bottom Right\", value: \"bottom_right\" },\r\n          ]}\r\n          onChange={(position) => {\r\n            handleFeatures({ position }, \"sticky\");\r\n          }}\r\n        />\r\n      )}\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={NumberControl}\r\n        label={__(\"Seek Time\", \"h5vp\")}\r\n        labelPosition=\"edge\"\r\n        isShiftStepEnabled={true}\r\n        onChange={(seekTime) => handleOptions({ seekTime: parseInt(seekTime) })}\r\n        shiftStep={1}\r\n        value={seekTime}\r\n      />\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={NumberControl}\r\n        label={__(\"Start Time\", \"h5vp\")}\r\n        isShiftStepEnabled={true}\r\n        onChange={(startTime) => handleFeatures({ startTime: parseFloat(startTime) })}\r\n        shiftStep={1}\r\n        step={1}\r\n        labelPosition=\"side\"\r\n        value={parseFloat(startTime)}\r\n      />\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={SelectControl}\r\n        labelPosition=\"side\"\r\n        value={preload}\r\n        label={__(\"Preload\", \"h5vp\")}\r\n        options={[\r\n          { label: \"none\", value: \"none\" },\r\n          { label: \"metadata\", value: \"metadata\" },\r\n          { label: \"auto\", value: \"auto\" },\r\n        ]}\r\n        onChange={(preload) => {\r\n          handleOptions({ preload });\r\n        }}\r\n      />\r\n      <TextControl label={__(\"Video Ratio\", \"h5vp\")} onChange={(ratio) => handleOptions({ ratio })} value={ratio} placeholder={\"16:9\"} autoComplete={false} />\r\n\r\n      {/* <PanelRow>\r\n                          <label htmlFor=\"saveState\" className=\"label\">\r\n                            {__(\"Save State\", \"h5vp\")}\r\n                          </label>\r\n                          <FormToggle id=\"saveState\" checked={saveState} onChange={() => setAttributes({ saveState: !saveState })} />\r\n                        </PanelRow> */}\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={TextareaControl}\r\n        label={__(\"Google VAST TagURL\", \"h5vp\")}\r\n        id=\"vastTag\"\r\n        value={ads.tagUrl}\r\n        onChange={(tagUrl) => handleOptions({ ads: { ...ads, tagUrl } })}\r\n      />\r\n      {isYoutubeURL(source) && (\r\n        <ToggleControl\r\n          BControlPro\r\n          isPremium={isPremium}\r\n          Component={ToggleControl}\r\n          label={__(\"Hide Youtube UI (Experimental, check it's working or not for you)\", \"h5vp\")}\r\n          id=\"hideYoutubeUI\"\r\n          checked={hideYoutubeUI}\r\n          onChange={() => handleFeatures({ hideYoutubeUI: !hideYoutubeUI })}\r\n        />\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n","const { useState, Fragment } = wp.element;\nconst { Dropdown, ColorPicker, Button, PanelRow } = wp.components;\nconst { __ } = wp.i18n;\n// import styles from \"./styles.module.scss\";\n\n/**\n *\n * @props\n * value: (String) --required\n * defaultColor: (String)\n * onChange: (Function) required\n * className: (String)\n * disableAlpha: (Boolean)\n * @boxPosition: 'top left' (String)\n *\n * return rgba color code\n */\nconst BColor = (props) => {\n  const { value, title = \"\", defaultColor, label, onChange, className, disableAlpha, boxPosition = \"top left\", globalColors = [] } = props;\n  const [state, setState] = useState(value);\n  return (\n    <PanelRow>\n      {label && (\n        <label htmlFor=\"\" className=\"display-block\">\n          {label}\n        </label>\n      )}\n      <Dropdown\n        position={boxPosition}\n        renderToggle={({ isOpen, onToggle }) => {\n          return (\n            <div style={{ display: \"flex\" }}>\n              {defaultColor && defaultColor != state && (\n                <Button\n                  icon=\"image-rotate\"\n                  className={\"bColorReset\"}\n                  onClick={() => {\n                    onChange(defaultColor);\n                    setState(defaultColor);\n                  }}\n                />\n              )}\n              <div className={\"BColorButtonContainer\"}>\n                <button\n                  className={\"BColorButton\"}\n                  title={title}\n                  onClick={onToggle}\n                  aria-expanded={isOpen}\n                  style={value ? { backgroundColor: value } : { backgroundColor: \"transparent\" }}\n                />\n              </div>\n            </div>\n          );\n        }}\n        renderContent={({ isOpen, onToggle, onClose }) => (\n          <Fragment>\n            <ColorPicker\n              color={value || \"\"}\n              onChangeComplete={(c) => {\n                onChange(`rgba(${c.rgb.r}, ${c.rgb.g}, ${c.rgb.b}, ${c.rgb.a})`);\n                setState(c.hex);\n              }}\n              disableAlpha={disableAlpha ? disableAlpha : false}\n            />\n            {globalColors.length > 0 && (\n              <div style={{ display: \"flex\" }} className=\"globalColors\">\n                {globalColors.map((color, index) => {\n                  return (\n                    <div key={index} className={\"BColorButtonContainer\"}>\n                      <button\n                        className={\"BColorButton\"}\n                        onClick={() => {\n                          onChange(color.color);\n                          setState(color);\n                          onClose;\n                        }}\n                        aria-expanded={isOpen}\n                        style={value ? { backgroundColor: color.color } : { backgroundColor: \"transparent\" }}\n                      />\n                    </div>\n                  );\n                })}\n              </div>\n            )}\n          </Fragment>\n        )}\n      />\n    </PanelRow>\n  );\n};\n\nexport default BColor;\n","import { Fragment, useState, useEffect } from \"react\";\r\nimport { PanelBody, PanelRow, TextControl, RadioControl, RangeControl, SelectControl, ToggleControl, __experimentalUnitControl as UnitControl } from \"@wordpress/components\";\r\nconst { __ } = wp.i18n;\r\nimport { produce } from \"immer\";\r\n\r\nimport BColor from \"../../BColor\";\r\nimport BMediaUpload from \"../../BMediaUpload\";\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\n\r\nconst Overlay = ({ attributes, handleFeatures, isPremium }) => {\r\n  const { enabled, items } = attributes.features.overlay;\r\n  const [index] = useState(0);\r\n  const { color, backgroundColor, fontSize, link, logo, text, position, type, opacity } = items[index] || {};\r\n\r\n  const handleOverlay = (value) => {\r\n    handleFeatures(\r\n      produce(attributes.features.overlay, (draft) => {\r\n        draft.enabled = enabled;\r\n        Object.keys(value).map((key) => {\r\n          draft.items[index][key] = value[key];\r\n        });\r\n      }),\r\n      \"overlay\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <PanelBody title={__(\"Overlay\", \"h5vp\")} initialOpen={false}>\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        id=\"overlay\"\r\n        label={__(\"Overlay\", \"h5vp\")}\r\n        checked={enabled}\r\n        onChange={() => handleFeatures({ enabled: !enabled }, \"overlay\")}\r\n      />\r\n\r\n      {enabled && (\r\n        <Fragment>\r\n          {/* <ToggleControl id=\"overlayTypeText\" label={__(\"Text\", \"h5vp\")} checked={type === \"text\"} onChange={() => handleOverlay({ type: \"text\" })} />\r\n\r\n          <ToggleControl label={__(\"Logo\", \"h5vp\")} id=\"overlayTypeLogo\" checked={type === \"logo\"} onChange={() => handleOverlay({ type: \"logo\" })} /> */}\r\n\r\n          <SelectControl\r\n            label={__(\"Type\", \"h5vp\")}\r\n            value={type}\r\n            options={[\r\n              { label: \"Text\", value: \"text\" },\r\n              { label: \"Logo\", value: \"logo\" },\r\n            ]}\r\n            onChange={(type) => handleOverlay({ type })}\r\n            labelPosition=\"side\"\r\n          />\r\n\r\n          <SelectControl\r\n            label={__(\"Overlay Position\", \"h5vp\")}\r\n            value={position}\r\n            options={[\r\n              { label: \"Top Right\", value: \"top_right\" },\r\n              { label: \"Top Left\", value: \"top_left\" },\r\n            ]}\r\n            onChange={(value) => handleOverlay({ position: value })}\r\n            labelPosition=\"side\"\r\n          />\r\n\r\n          {type === \"text\" && <TextControl label={__(\"Text\", \"h5vp\")} value={text} onChange={(text) => handleOverlay({ text })} />}\r\n\r\n          {type === \"logo\" && (\r\n            <>\r\n              <label>{__(\"Logo\", \"h5vp\")}</label>\r\n              <BMediaUpload label={__(\"Logo\", \"h5vp\")} type={[\"image/jpeg\"]} onSelect={(logo) => handleOverlay({ logo })} value={logo} />\r\n            </>\r\n          )}\r\n\r\n          <TextControl label={__(\"Link\", \"h5vp\")} value={link} onChange={(link) => handleOverlay({ link })} />\r\n\r\n          {type === \"text\" && (\r\n            <Fragment>\r\n              <UnitControl label={__(\"Font Size\", \"h5vp\")} value={fontSize} onChange={(fontSize) => handleOverlay({ fontSize })} />\r\n\r\n              <BColor label={__(\"Color\", \"h5vp\")} defaultColor=\"#ffffff\" value={color} onChange={(color) => handleOverlay({ color })} />\r\n\r\n              <BColor label={__(\"Background Color\", \"h5vp\")} defaultColor=\"#333\" value={backgroundColor} onChange={(c) => handleOverlay({ backgroundColor: c })} />\r\n            </Fragment>\r\n          )}\r\n          <RangeControl label=\"Opacity\" value={opacity} onChange={(value) => handleOverlay({ opacity: parseFloat(value) })} min={0.01} max={1} step={0.01} />\r\n        </Fragment>\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Overlay;\r\n","import React from \"react\";\r\nimport { PanelRow } from \"@wordpress/components\";\r\n\r\nconst PremiumText = ({ isPremium }) => {\r\n  return isPremium ? (\r\n    <></>\r\n  ) : (\r\n    <PanelRow>\r\n      <p className=\"text-danger\">Premium Feature</p>\r\n    </PanelRow>\r\n  );\r\n};\r\n\r\nexport default PremiumText;\r\n","const { PanelBody, PanelRow, Button, ToggleControl, TextControl } = wp.components;\r\nconst { __ } = wp.i18n;\r\n\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\nimport BMediaUpload from \"../../BMediaUpload\";\r\nimport PremiumText from \"../../PremiumText\";\r\n\r\nconst Subtitle = ({ setAttributes, attributes, isPremium, updateOption }) => {\r\n  const { captionEnabled, subtitle, options } = attributes;\r\n\r\n  const handleSubtitle = (property, value, index) => {\r\n    const newSubtitle = [...subtitle];\r\n    newSubtitle[index] = { ...newSubtitle[index], [property]: value };\r\n    setAttributes({ subtitle: newSubtitle });\r\n  };\r\n\r\n  const removSubtitle = (index) => {\r\n    const newSubtitle = [...subtitle];\r\n    newSubtitle.splice(index, 1);\r\n    setAttributes({ subtitle: newSubtitle });\r\n  };\r\n\r\n  return (\r\n    <PanelBody className=\"subtitlePanel\" title={__(\"Subtitle/Caption\", \"h5vp\")} initialOpen={false}>\r\n      <PremiumText isPremium={isPremium} />\r\n      {isPremium &&\r\n        subtitle.map((item, index) => {\r\n          return (\r\n            <PanelBody key={index} title={item.label} initialOpen={false} className=\"subtitleItem\">\r\n              {/* <PanelRow className=\"width-100\"> */}\r\n              <TextControl value={item?.label} onChange={(label) => handleSubtitle(\"label\", label, index)} placeholder={\"Caption Label\"} />\r\n              {/* </PanelRow> */}\r\n              <BMediaUpload\r\n                // type={[\"audio/mp3\"]}\r\n                onSelect={(source) => handleSubtitle(\"caption_file\", source, index)}\r\n                value={item?.caption_file}\r\n                placeholder=\"Subtitle File\"\r\n              />\r\n              <PanelRow>\r\n                <span></span>\r\n                <Button className=\"button button-danger button-small\" onClick={() => removSubtitle(index)}>\r\n                  {__(\"Remove\", \"h5vp\")}\r\n                </Button>\r\n              </PanelRow>\r\n            </PanelBody>\r\n          );\r\n        })}\r\n      <PanelRow>\r\n        <span></span>\r\n        <Button\r\n          isPrimary\r\n          className=\"button button-small\"\r\n          onClick={() => {\r\n            setAttributes({ subtitle: [...subtitle, { label: \"label\" }] });\r\n          }}\r\n        >\r\n          {__(\"Add More\", \"h5vp\")}\r\n        </Button>\r\n      </PanelRow>\r\n      {subtitle && (\r\n        <BControlPro\r\n          isPremium={isPremium}\r\n          Component={ToggleControl}\r\n          label={__(\"Enable caption by default (Experimental)\", \"h5vp\")}\r\n          id=\"captionEnabled\"\r\n          checked={options.captions.enabled}\r\n          onChange={() => updateOption({ captions: { ...options.captions, enabled: !options.captions.enabled } })}\r\n        />\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Subtitle;\r\n","const { PanelBody, PanelRow, Button, TextControl } = wp.components;\r\nconst { __ } = wp.i18n;\r\nimport BMediaUpload from \"../../BMediaUpload\";\r\nimport PremiumText from \"../../PremiumText\";\r\n\r\nconst Quality = ({ attributes, setAttributes, isPremium }) => {\r\n  const { quality } = attributes;\r\n\r\n  const handleQuality = (property, value, index) => {\r\n    const newQuality = [...quality];\r\n    newQuality[index] = { ...newQuality[index], [property]: value };\r\n    setAttributes({ quality: newQuality });\r\n  };\r\n\r\n  const removQuality = (index) => {\r\n    const newQuality = [...quality];\r\n    newQuality.splice(index, 1);\r\n    setAttributes({ quality: newQuality });\r\n  };\r\n\r\n  return (\r\n    <PanelBody className=\"\" title={__(\"Quality\", \"h5vp\")} initialOpen={false}>\r\n      <PremiumText isPremium={isPremium} />\r\n      {isPremium &&\r\n        quality.map((item, index) => {\r\n          return (\r\n            <PanelBody key={index} title={item.size || \"Resulation\"} initialOpen={false} className=\"subtitleItem\">\r\n              <PanelRow className=\"width-100\">\r\n                <TextControl\r\n                  help={__(\"ex: 720, 1080, 1440\", \"h5vp\")}\r\n                  placeholder={\"ex: 720, 1080, 1440\"}\r\n                  value={item?.size}\r\n                  onChange={(size) => handleQuality(\"size\", size, index)}\r\n                />\r\n              </PanelRow>\r\n              <BMediaUpload\r\n                // type={[\"audio/mp4\"]}\r\n                onSelect={(source) => handleQuality(\"video_file\", source, index)}\r\n                value={item?.video_file}\r\n                placeholder=\"Video Source\"\r\n              />\r\n              <PanelRow>\r\n                <span></span>\r\n                <Button className=\"button button-danger button-small\" onClick={() => removQuality(index)}>\r\n                  {__(\"Remove\", \"h5vp\")}\r\n                </Button>\r\n              </PanelRow>\r\n            </PanelBody>\r\n          );\r\n        })}\r\n      <PanelRow>\r\n        <span> </span>\r\n        <Button\r\n          isPrimary\r\n          className=\"button button-small\"\r\n          onClick={() => {\r\n            setAttributes({ quality: [...quality, { size: \"size\" }] });\r\n          }}\r\n        >\r\n          {__(\"Add More\", \"h5vp\")}\r\n        </Button>\r\n      </PanelRow>\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Quality;\r\n","const { Fragment } = wp.element;\r\nconst { PanelBody, PanelRow, TextControl, ToggleControl, SelectControl } = wp.components;\r\nconst { __ } = wp.i18n;\r\n\r\nimport BColor from \"../../BColor\";\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\n\r\nconst Watermark = ({ attributes, handleFeatures, isPremium }) => {\r\n  const { type, enabled, text, color } = attributes.features.watermark || {};\r\n\r\n  const updateWatermark = (property, value) => {\r\n    handleFeatures({ ...attributes.features.watermark, [property]: value }, \"watermark\");\r\n  };\r\n\r\n  return (\r\n    <PanelBody title={__(\"Watermark\", \"h5vp\")} initialOpen={false}>\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Watermark\", \"h5vp\")}\r\n        id=\"watermark\"\r\n        checked={enabled}\r\n        onChange={() => updateWatermark(\"enabled\", !enabled)}\r\n        help={__(\"autoplay will not work if enabled\", \"h5vp\")}\r\n      />\r\n\r\n      {enabled && (\r\n        <Fragment>\r\n          <SelectControl\r\n            className=\"m-0\"\r\n            style={{ marginBottom: 0 }}\r\n            value={type}\r\n            labelPosition=\"side\"\r\n            label={__(\"Type\", \"h5ap\")}\r\n            options={[\r\n              { label: \"Uesr Email\", value: \"email\" },\r\n              { label: \"User Name\", value: \"name\" },\r\n              { label: \"Custom Text\", value: \"text\" },\r\n            ]}\r\n            onChange={(type) => {\r\n              updateWatermark(\"type\", type);\r\n            }}\r\n            __nextHasNoMarginBottom\r\n            help={\r\n              [\"email\", \"name\"].includes(type) && (\r\n                <span>\r\n                  {__(\"only logged in user can see his/her \", \"bpm\")}\r\n                  {type}\r\n                </span>\r\n              )\r\n            }\r\n          />\r\n\r\n          {/* </PanelRow> */}\r\n          {type === \"text\" && <TextControl value={text} onChange={(text) => updateWatermark(\"text\", text)} />}\r\n\r\n          <PanelRow>\r\n            <label htmlFor=\"\" className=\"label display-block\">\r\n              {__(\"Text Color\", \"h5vp\")}\r\n            </label>\r\n            <BColor defaultColor=\"#f00\" value={color} onChange={(color) => updateWatermark(\"color\", color)} />\r\n          </PanelRow>\r\n        </Fragment>\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Watermark;\r\n","import BControlPro from \"../../../../components/BControlPro\";\r\nimport BColor from \"../../BColor\";\r\n\r\nconst { PanelBody, PanelRow, Button, TextControl, FormToggle, SelectControl, ButtonGroup, __experimentalUnitControl: UnitControl, ToggleControl } = wp.components;\r\nconst { __ } = wp.i18n;\r\nimport { __experimentalBoxControl as BoxControl } from \"@wordpress/components\";\r\n\r\nconst Popup = ({ attributes, updateFeatures, isPremium }) => {\r\n  const { popupBtnStyle, features } = attributes;\r\n  const { enabled, type, selector, hasBtn, btnText, align, btnStyle } = features.popup || {};\r\n  const { color, backgroundColor, fontSize, padding } = btnStyle;\r\n\r\n  const updatePopup = (value) => {\r\n    const [property] = Object.keys(value);\r\n    updateFeatures({ ...attributes.features.popup, [property]: value[property] }, \"popup\");\r\n  };\r\n\r\n  // const updatePopup = (value) => {\r\n  //   const [property] = Object.keys(value);\r\n  //   updatePopup({ ...btnStyle, [property]: value[property] });\r\n  // };\r\n\r\n  return (\r\n    <PanelBody title={__(\"Popup\", \"h5vp\")} initialOpen={false}>\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Enable Popup\", \"h5vp\")}\r\n        id=\"popup\"\r\n        checked={enabled}\r\n        onChange={() => updatePopup({ enabled: !enabled })}\r\n      />\r\n      {enabled && (\r\n        <>\r\n          <SelectControl\r\n            value={type}\r\n            options={[\r\n              { label: \"poster\", value: \"poster\" },\r\n              { label: \"Button\", value: \"button\" },\r\n            ]}\r\n            onChange={(type) => {\r\n              updatePopup({ type });\r\n            }}\r\n          />\r\n          {type === \"button\" && (\r\n            <PanelRow>\r\n              <label className=\"label\">{__(\"Use Exists Button\", \"h5vp\")}</label>\r\n              <FormToggle id=\"popupBtnExists\" checked={hasBtn} onChange={() => updatePopup({ hasBtn: !hasBtn })} />\r\n            </PanelRow>\r\n          )}\r\n          {type === \"button\" && hasBtn && (\r\n            <>\r\n              <PanelRow>\r\n                <label className=\"label\">{__(\"Button Class\", \"h5vp\")}</label>\r\n              </PanelRow>\r\n              <TextControl value={selector} onChange={(selector) => updatePopup({ selector })} />\r\n            </>\r\n          )}\r\n          {type === \"button\" && !hasBtn && (\r\n            <PanelBody title=\"Button Style\">\r\n              <>\r\n                <PanelRow>\r\n                  <label className=\"label\">{__(\"Color\", \"h5vp\")}</label>\r\n                  <BColor value={color} onChange={(color) => updatePopup({ btnStyle: { ...btnStyle, color } })} />\r\n                </PanelRow>\r\n                <PanelRow>\r\n                  <label className=\"label\">{__(\"Background Color\", \"h5vp\")}</label>\r\n                  <BColor value={backgroundColor} onChange={(backgroundColor) => updatePopup({ btnStyle: { ...btnStyle, backgroundColor } })} />\r\n                </PanelRow>\r\n                <PanelRow>\r\n                  <label htmlFor=\"\" className=\"label\">\r\n                    {__(\"Font Size\", \"h5vp\")}\r\n                  </label>\r\n                  <UnitControl\r\n                    onChange={(fontSize) => updatePopup({ btnStyle: { ...btnStyle, fontSize } })}\r\n                    value={fontSize}\r\n                    units={[\r\n                      { label: \"px\", value: \"px\", default: 16 },\r\n                      { label: \"em\", value: \"1\", default: 1 },\r\n                      { label: \"rem\", value: \"1.6\", default: 1.6 },\r\n                    ]}\r\n                  />\r\n                </PanelRow>\r\n                <PanelRow>\r\n                  <BoxControl label={__(\"Padding\", \"h5vp\")} values={padding} onChange={(padding) => updatePopup({ btnStyle: { ...btnStyle, padding } })} />\r\n                </PanelRow>\r\n                <PanelRow>\r\n                  <label htmlFor=\"\" className=\"label\">\r\n                    {__(\"Button Align\", \"h5vp\")}\r\n                  </label>\r\n                  <ButtonGroup>\r\n                    <Button icon=\"editor-alignleft\" onClick={() => updatePopup({ align: \"left\" })} variant={align === \"left\" ? \"primary\" : \"secondary\"}></Button>\r\n                    <Button icon=\"editor-aligncenter\" onClick={() => updatePopup({ align: \"center\" })} variant={align === \"center\" ? \"primary\" : \"secondary\"}></Button>\r\n                    <Button icon=\"editor-alignright\" onClick={() => updatePopup({ align: \"right\" })} variant={align === \"right\" ? \"primary\" : \"secondary\"}></Button>\r\n                  </ButtonGroup>\r\n                </PanelRow>\r\n                <TextControl label={__(\"Button Text\", \"h5vp\")} value={btnText} onChange={(btnText) => updatePopup({ btnText })} />\r\n              </>\r\n            </PanelBody>\r\n          )}\r\n        </>\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Popup;\r\n","/**\r\n * onSelect={panelBodyController} on TabPanel component\r\n */\r\n\r\nconst panelBodyController = () => {\r\n  setTimeout(() => {\r\n    const panelBodies = document.querySelectorAll(\".components-panel__body-title button\");\r\n    panelBodies.forEach((item) => {\r\n      item.addEventListener(\"click\", clickEveryItem);\r\n    });\r\n\r\n    function clickEveryItem() {\r\n      this.removeEventListener(\"click\", clickEveryItem);\r\n      panelBodies.forEach((item) => {\r\n        if (item.getAttribute(\"aria-expanded\") === \"true\" && !item.isEqualNode(this)) {\r\n          item.click();\r\n        }\r\n      });\r\n      setTimeout(() => {\r\n        this.addEventListener(\"click\", clickEveryItem);\r\n      }, 500);\r\n    }\r\n  }, 500);\r\n};\r\n\r\nexport default panelBodyController;\r\n","import { PanelBody, TextControl, TextareaControl, ToggleControl } from \"@wordpress/components\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nimport { produce } from \"immer\";\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\n\r\nconst EndScreen = ({ isPremium, attributes, panelRef, handleFeatures }) => {\r\n  const { enabled, text, btnLink, btnText, btnStyle } = attributes.features.endScreen;\r\n\r\n  // const updateEndScreen = (key, value) => {\r\n  //   const newEndScreen = produce(endScreen, (draft) => {\r\n  //     draft[key] = value;\r\n  //   });\r\n  //   setAttributes({ endScreen: newEndScreen });\r\n  // };\r\n\r\n  const handleEndScreen = (value) => {\r\n    console.log(value);\r\n    handleFeatures(\r\n      produce(attributes.features.endScreen, (draft) => {\r\n        draft.enabled = enabled;\r\n        Object.keys(value).map((key) => {\r\n          draft[key] = value[key];\r\n        });\r\n      }),\r\n      \"endScreen\"\r\n    );\r\n  };\r\n\r\n  return (\r\n    <PanelBody ref={panelRef} title={__(\"End Screen\", \"h5vp\")} initialOpen={false}>\r\n      <BControlPro\r\n        isPremium={isPremium}\r\n        Component={ToggleControl}\r\n        label={__(\"Enabled\", \"bpm\")}\r\n        id=\"endscreen\"\r\n        checked={enabled}\r\n        onChange={() => handleEndScreen({ enabled: !enabled })}\r\n        help={__(\"Repeat should be disabled\", \"h5vp\")}\r\n      />\r\n\r\n      {enabled && (\r\n        <>\r\n          <TextareaControl label={__(\"Text\", \"h5vp\")} value={text} onChange={(text) => handleEndScreen({ text })} />\r\n\r\n          <TextControl label={__(\"Button Text\", \"h5vp\")} value={btnText} onChange={(btnText) => handleEndScreen({ btnText })} />\r\n          <TextControl label={__(\"Button link\", \"h5vp\")} value={btnLink} onChange={(btnLink) => handleEndScreen({ btnLink })} />\r\n        </>\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default EndScreen;\r\n","import { useEffect } from \"react\";\r\nimport { produce } from \"immer\";\r\n\r\nconst RefactorDataStructure = ({ setAttributes, attributes }) => {\r\n  const { autoplay, autoHideControl, muted, options, playinline, preload, resetOnEnd, ratio, repeat, radius, styles, seekTime, speed, width, chapters, imported, controls } = attributes;\r\n\r\n  const { overlay, overlayBackground, overlayFontSize: fz, overlayLink, overlayOpacity, overlayPosition, overlayText, overlayTextColor, overlayType, overlayLogo } = attributes;\r\n\r\n  const {\r\n    captionEnabled,\r\n    CDURL,\r\n    isCDURL,\r\n    endscreen,\r\n    endscreenText,\r\n    endscreenTextLink,\r\n    endScreen,\r\n    vastTag,\r\n    features,\r\n    overlayFontSize,\r\n    thumbInPause,\r\n    watermark,\r\n    popup,\r\n    popupBtnStyle,\r\n    popupBtnText,\r\n    popupBtnClass,\r\n    popupBtnExists,\r\n    autoplayWhenVisible,\r\n    popupType,\r\n    disablePause,\r\n    startTime,\r\n    hideYoutubeUI,\r\n  } = attributes;\r\n\r\n  const handleStyles = () => {\r\n    let newStyles = {};\r\n    if (!width.isDeprecated) {\r\n      newStyles = produce(styles, (draft) => {\r\n        draft.plyr_wrapper = {\r\n          width: width.number + width.unit,\r\n        };\r\n        draft.plyr = {\r\n          borderRadius: radius.number + radius.unit,\r\n        };\r\n      });\r\n    }\r\n    return newStyles;\r\n  };\r\n\r\n  const handleOptions = () => {\r\n    const newOptions = produce(options, (draft) => {\r\n      draft.preload = preload;\r\n      draft.controls = Object.keys(controls).filter((key) => controls[key]);\r\n      draft.autoplay = autoplay;\r\n      draft.playsinline = playinline;\r\n      draft.seekTime = seekTime;\r\n      draft.muted = muted;\r\n      draft.captions.active = captionEnabled;\r\n      draft.ratio = ratio;\r\n      draft.resetOnEnd = resetOnEnd;\r\n      draft.hideControls = autoHideControl;\r\n      draft.loop.active = repeat;\r\n      draft.speed.options = Object.keys(speed);\r\n      draft.ads.enabled = true;\r\n      draft.ads.tagUrl = vastTag;\r\n      draft.urls.enabled = isCDURL;\r\n      draft.urls.download = CDURL;\r\n      draft.markers = {\r\n        enabled: true,\r\n        points: chapters.map((chapter) => ({ time: chapter.time, label: chapter.name })),\r\n      };\r\n      draft.imported = true;\r\n    });\r\n    return newOptions;\r\n  };\r\n\r\n  const handleFeatures = () => {\r\n    const featuresCopy = produce(features, (draft) => {\r\n      draft.popup = {\r\n        enabled: popup,\r\n        selector: popupBtnClass,\r\n        hasBtn: popupBtnExists,\r\n        type: popupType,\r\n        btnText: popupBtnText,\r\n        align: \"center\",\r\n        btnStyle: {\r\n          color: popupBtnStyle.color,\r\n          backgroundColor: popupBtnStyle.backgroundColor,\r\n          fontSize: popupBtnStyle.fontSize,\r\n          padding: popupBtnStyle.padding,\r\n        },\r\n      };\r\n      draft.overlay = {\r\n        enabled: overlay,\r\n        items: [\r\n          {\r\n            color: overlayTextColor,\r\n            backgroundColor: overlayBackground,\r\n            fontSize: overlayFontSize,\r\n            link: overlayLink,\r\n            logo: overlayLogo,\r\n            text: overlayText,\r\n            position: overlayPosition,\r\n            type: overlayType ? \"text\" : \"logo\",\r\n            opacity: overlayOpacity,\r\n          },\r\n        ],\r\n      };\r\n      draft.endScreen = {\r\n        enabled: endscreen,\r\n        text: endscreenText,\r\n        btnText: endScreen.btnText,\r\n        btnLink: endscreenTextLink,\r\n        btnStyle: endScreen.btnStyle,\r\n      };\r\n      draft.thumbInPause = {\r\n        enabled: thumbInPause,\r\n        type: \"default\",\r\n      };\r\n      draft.watermark = {\r\n        ...watermark,\r\n        color: \"#f00\",\r\n        type: \"email\",\r\n        text: \"\",\r\n      };\r\n      draft.sticky = {\r\n        enabled: false,\r\n        position: \"top_right\",\r\n      };\r\n\r\n      draft.playWhenVisible = autoplayWhenVisible;\r\n      draft.disablePause = disablePause;\r\n      draft.hideYoutubeUI = hideYoutubeUI;\r\n      draft.startTime = startTime;\r\n    });\r\n\r\n    return featuresCopy;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!imported) {\r\n      setAttributes({ styles: { ...styles, ...handleStyles() }, width: { ...width, isDeprecated: true }, options: handleOptions(), features: handleFeatures(), imported: true });\r\n    }\r\n  }, []);\r\n\r\n  return <></>;\r\n};\r\n\r\nexport default RefactorDataStructure;\r\n","const { __ } = wp.i18n;\r\nconst { Flex, FlexItem, FlexBlock, TextControl, Button, PanelBody, PanelRow } = wp.components;\r\nconst { useState, useRef } = wp.element;\r\n\r\nimport React from \"react\";\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\nimport PremiumText from \"../../PremiumText\";\r\n\r\nconst Markers = ({ attributes, panelRef, handleOptions, isPremium }) => {\r\n  const {\r\n    options: { markers },\r\n  } = attributes;\r\n\r\n  const [pointsDraft, setPointsDraft] = useState({});\r\n\r\n  const handleChapter = (point, index) => {\r\n    const pointsCopy = [...markers.points];\r\n    pointsCopy[index] = point;\r\n    handleOptions({ points: pointsCopy }, \"markers\");\r\n  };\r\n\r\n  // console.log(markers);\r\n\r\n  const handleAdd = () => {\r\n    console.log(pointsDraft);\r\n    if (pointsDraft.time && pointsDraft.label) {\r\n      const pointsCopy = [...markers.points];\r\n      pointsCopy.push(pointsDraft);\r\n      handleOptions({ points: pointsCopy }, \"markers\");\r\n      setPointsDraft({});\r\n    }\r\n  };\r\n\r\n  const handleRemove = (itemIndex) => {\r\n    const pointsCopy = [...markers.points];\r\n    handleOptions({ points: pointsCopy.filter((item, index) => index !== itemIndex) }, \"markers\");\r\n  };\r\n\r\n  const handleMarkers = () => {\r\n    // handleOptions();\r\n  };\r\n\r\n  return (\r\n    <PanelBody ref={panelRef} title={__(\"Chapters\", \"h5vp\")} initialOpen={false}>\r\n      <PremiumText isPremium={isPremium} />\r\n      {isPremium && (\r\n        <>\r\n          {markers.points.map((chapter, index) => (\r\n            <BControlPro\r\n              isPremium={isPremium}\r\n              Component={Chapter}\r\n              Chapter\r\n              key={index}\r\n              onRemove={() => handleRemove(index)}\r\n              chapter={chapter}\r\n              onChange={(newChapter) => handleChapter(newChapter, index)}\r\n            />\r\n          ))}\r\n          <Chapter addNew={true} onAdd={handleAdd} chapter={pointsDraft} onChange={(newChapter) => setPointsDraft(newChapter)} />\r\n        </>\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default Markers;\r\n\r\nexport const Chapter = ({ chapter, key, onChange, onAdd, addNew = false, onRemove }) => {\r\n  const { time = \"\", label = \"\" } = chapter;\r\n  const minusWrapper = useRef(null);\r\n\r\n  return (\r\n    <Flex>\r\n      <FlexItem>\r\n        <TextControl style={{ width: \"55px\" }} value={time} placeholder=\"00:00\" onChange={(val) => onChange({ ...chapter, time: val })} />\r\n      </FlexItem>\r\n      <FlexItem>\r\n        <TextControl style={{ marginLeft: \"10px\" }} value={label} placeholder=\"Label\" onChange={(val) => onChange({ ...chapter, label: val })} />\r\n      </FlexItem>\r\n      <FlexItem>\r\n        {addNew ? (\r\n          <Button icon=\"plus-alt\" style={{ marginBottom: \"10px\" }} onClick={onAdd} />\r\n        ) : (\r\n          <div\r\n            ref={minusWrapper}\r\n            style={{ opacity: \"0\" }}\r\n            onMouseEnter={() => (minusWrapper.current.style.opacity = 1)}\r\n            onMouseLeave={() => (minusWrapper.current.style.opacity = 0)}\r\n          >\r\n            <Button icon=\"minus\" style={{ marginBottom: \"10px\" }} onClick={onRemove} />\r\n          </div>\r\n        )}\r\n      </FlexItem>\r\n    </Flex>\r\n  );\r\n};\r\n","function generateUniqueID(length) {\r\n  const charset = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"; // You can customize the characters here\r\n  let randomString = \"\";\r\n\r\n  for (let i = 0; i < length; i++) {\r\n    const randomIndex = Math.floor(Math.random() * charset.length);\r\n    randomString += charset.charAt(randomIndex);\r\n  }\r\n\r\n  return randomString;\r\n}\r\n\r\nexport default generateUniqueID;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nconst { withSelect } = wp.data;\r\nimport { PanelBody, TextControl, ToggleControl, TextareaControl } from \"@wordpress/components\";\r\n\r\nimport BControlPro from \"../../../../components/BControlPro\";\r\n\r\nimport { produce } from \"immer\";\r\nimport { useWPAjax } from \"../../../../../../wp-utils/v1\";\r\nimport generateUniqueID from \"../../../../../../wp-utils/v1/generateUniqueId\";\r\n\r\nconst PasswordProtected = ({ attributes, isPremium, updateFeatures, isSavingPost }) => {\r\n  const { data, isLoading, error, saveData } = useWPAjax(\"save_password\", { nonce: h5vpAdmin?.nonce, model: \"Block\", method: \"save_password\" });\r\n  const { enabled, password, heading, key, errorMessage, button = {} } = attributes.features.passwordProtected || {};\r\n\r\n  const [passwordVisible, setPasswordVisible] = useState(false);\r\n\r\n  const onChange = (value) => {\r\n    updateFeatures(\r\n      produce(attributes.features.passwordProtected || {}, (draft) => {\r\n        // draft.enabled = enabled;\r\n        Object.keys(value).map((key) => {\r\n          draft[key] = value[key];\r\n        });\r\n      }),\r\n      \"passwordProtected\"\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!key) {\r\n      onChange({ key: \"h5vp_\" + generateUniqueID(\"10\") });\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    saveData({ key, password, quality: attributes.quality, source: attributes.source });\r\n\r\n    // console.log(\"saving post\", new Date().getMinutes());\r\n  }, [isSavingPost]);\r\n\r\n  // useEffect(() => {\r\n  //   console.log(data, error);\r\n  // }, [data, error, isLoading]);\r\n\r\n  return (\r\n    <PanelBody title={__(\"Password Protected\", \"h5vp\")} initialOpen={false}>\r\n      <BControlPro isPremium={isPremium} Component={ToggleControl} label={__(\"Password Protected\", \"h5vp\")} checked={enabled} onChange={() => onChange({ enabled: !enabled })} />\r\n      {enabled && (\r\n        <>\r\n          <div style={{ position: \"relative\" }}>\r\n            <TextControl type={passwordVisible ? \"text\" : \"password\"} label={__(\"Password\", \"h5vp\")} value={password} onChange={(password) => onChange({ password })} />\r\n            <svg\r\n              onClick={() => setPasswordVisible(!passwordVisible)}\r\n              fill=\"#000000\"\r\n              width=\"20px\"\r\n              className=\"password_visible_icon\"\r\n              height=\"20px\"\r\n              viewBox=\"0 0 36 36\"\r\n              preserveAspectRatio=\"xMidYMid meet\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              xmlnsXlink=\"http://www.w3.org/1999/xlink\"\r\n            >\r\n              <title>{\"eye-solid\"}</title>\r\n              <path\r\n                d=\"M33.62,17.53c-3.37-6.23-9.28-10-15.82-10S5.34,11.3,2,17.53L1.72,18l.26.48c3.37,6.23,9.28,10,15.82,10s12.46-3.72,15.82-10l.26-.48ZM17.8,26.43C12.17,26.43,7,23.29,4,18c3-5.29,8.17-8.43,13.8-8.43S28.54,12.72,31.59,18C28.54,23.29,23.42,26.43,17.8,26.43Z\"\r\n                className=\"clr-i-solid clr-i-solid-path-1\"\r\n              />\r\n              <circle cx={18.09} cy={18.03} r={6.86} className=\"clr-i-solid clr-i-solid-path-2\" />\r\n              <rect x={0} y={0} width={36} height={36} fillOpacity={0} />\r\n            </svg>\r\n          </div>\r\n\r\n          <TextareaControl label={__(\"Heading\", \"h5vp\")} value={heading} onChange={(heading) => onChange({ heading })} />\r\n          <TextControl type=\"text\" label={__(\"Password Incorrect message\", \"h5vp\")} value={errorMessage} onChange={(errorMessage) => onChange({ errorMessage })} />\r\n          <TextControl type=\"text\" label={__(\"Button Text\", \"h5vp\")} value={button?.text} onChange={(text) => onChange({ button: { ...button, text } })} />\r\n        </>\r\n      )}\r\n    </PanelBody>\r\n  );\r\n};\r\n\r\nexport default withSelect((select) => {\r\n  const { isSavingPost } = select(\"core/editor\");\r\n  return {\r\n    isSavingPost: isSavingPost(),\r\n  };\r\n})(PasswordProtected);\r\n","const { __ } = wp.i18n;\r\nconst { Fragment, useState, useRef, useEffect } = wp.element;\r\nconst { select } = wp.data;\r\nimport { produce } from \"immer\";\r\n\r\n// import axios from \"axios\";\r\nimport BControls from \"./BControls\";\r\n// import BRangeControl from \"./BRangeControl\";\r\nimport Settings from \"./Tabs/General/Settings\";\r\nimport Overlay from \"./Tabs/General/Overlay\";\r\nimport Subtitle from \"./Tabs/General/Subtitle\";\r\nimport Quality from \"./Tabs/General/Quality\";\r\nimport Watermark from \"./Tabs/General/Watermark\";\r\nimport Popup from \"./Tabs/General/Popup\";\r\nimport panelBodyController from \"../../../../wp-utils/v1/panelBodyController\";\r\nimport EndScreen from \"./Tabs/General/EndScreen\";\r\nimport RefactorDataStructure from \"./RefactorDataStructure\";\r\nimport Markers from \"./Tabs/General/Markers\";\r\nimport BControlPro from \"../../components/BControlPro\";\r\nimport PasswordProtected from \"./Tabs/General/PasswordProtected\";\r\n// import Styles from \"./Styles\";\r\n\r\nconst { TabPanel, Panel, PanelBody, PanelRow, TextControl, TextareaControl, __experimentalUnitControl: UnitControl } = wp.components;\r\nconst { InspectorControls } = wp.blockEditor;\r\nconst { getCurrentPostId } = select(\"core/editor\");\r\n\r\nconst BSettings = ({ attributes, setAttributes, clientId, isPremium, name }) => {\r\n  const { styles, source } = attributes;\r\n  const { plyr_wrapper } = styles;\r\n\r\n  useEffect(() => {\r\n    setAttributes({ uniqueId: `h5vp${clientId.substr(0, 8)}` });\r\n  }, []);\r\n\r\n  const postId = getCurrentPostId();\r\n\r\n  const { additionalCSS, additionalID, options } = attributes;\r\n  const { speed } = options;\r\n\r\n  const postType = select(\"core/editor\").getCurrentPostType();\r\n  const panelRef = useRef(null);\r\n\r\n  const updateOption = (value, type = null) => {\r\n    updateHandler(value, type, \"options\");\r\n  };\r\n\r\n  const updateFeatures = (value, type = null) => {\r\n    updateHandler(value, type, \"features\");\r\n  };\r\n\r\n  const updateStyle = (value, type = null) => {\r\n    updateHandler(value, type, \"styles\");\r\n  };\r\n\r\n  const updateHandler = (value, type, attr) => {\r\n    setAttributes({\r\n      [attr]: produce(attributes[attr], (draft) => {\r\n        Object.keys(value).map((key) => {\r\n          if (type) {\r\n            if (draft[type]) {\r\n              draft[type][key] = value[key];\r\n            } else {\r\n              draft[type] = { [key]: value };\r\n            }\r\n          } else {\r\n            draft[key] = value[key];\r\n          }\r\n        });\r\n      }),\r\n    });\r\n  };\r\n\r\n  const handleUnitChange = (unit) => {\r\n    if (unit === \"%\") {\r\n      updateStyle({ width: \"100%\" }, \"plyr_wrapper\");\r\n    }\r\n    if (unit === \"px\") {\r\n      updateStyle({ width: \"500px\" }, \"plyr_wrapper\");\r\n    }\r\n\r\n    if ([\"rem\", \"vh\", \"hw\"].includes(unit)) {\r\n      updateStyle({ width: 100 + unit }, \"plyr_wrapper\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* <Styles attributes={attributes} setAttributes={setAttributes} /> */}\r\n      <InspectorControls style={{ marginBottom: \"40px\" }}>\r\n        {postType === \"videoplayer\" && (\r\n          <PanelBody>\r\n            <PanelRow>\r\n              <div className=\"h5vp_front_shortcode\">\r\n                <input value={`[html5_video id=${postId}]`} />\r\n                <span className=\"htooltip\">{__(\"Copy To Clipboard\", \"h5vp\")}</span>\r\n              </div>\r\n            </PanelRow>\r\n          </PanelBody>\r\n        )}\r\n\r\n        {/* {!poster && !streaming && (\r\n          <div className=\"generateThumbButton\">\r\n            {\r\n              // <img src={loadingImg} />\r\n            }\r\n            <Button className=\"button button-primary\" onClick={generateThumb}>\r\n              {__(\"Generate Thumbnail\", \"h5vp\")}\r\n            </Button>\r\n            <p>{__(\"(Experimental)\", \"h5vp\")}</p>\r\n          </div>\r\n        )} */}\r\n\r\n        <TabPanel\r\n          className=\"bPSS\"\r\n          activeClass=\"active-tab\"\r\n          onSelect={panelBodyController}\r\n          tabs={[\r\n            {\r\n              name: \"general\",\r\n              title: \"General\",\r\n              className: \"general btTab\",\r\n            },\r\n            {\r\n              name: \"controls\",\r\n              title: \"Controls\",\r\n              className: \"slider btTab\",\r\n            },\r\n            {\r\n              name: \"style\",\r\n              title: \"Style\",\r\n              className: \"style btTab\",\r\n            },\r\n          ]}\r\n        >\r\n          {(tab) => {\r\n            return (\r\n              <span>\r\n                <RefactorDataStructure attributes={attributes} setAttributes={setAttributes} />\r\n                {tab.name == \"general\" && (\r\n                  <span>\r\n                    <Panel>\r\n                      {/* {Settings } */}\r\n                      <Settings name={name} isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} handleOptions={updateOption} handleFeatures={updateFeatures} />\r\n                      <Markers isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} panelRef={panelRef} handleOptions={updateOption} />\r\n\r\n                      {/* {overlay tab} */}\r\n                      <Overlay isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} handleFeatures={updateFeatures} />\r\n\r\n                      <EndScreen isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} panelRef={panelRef} handleFeatures={updateFeatures} />\r\n\r\n                      <PasswordProtected isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} panelRef={panelRef} updateFeatures={updateFeatures} />\r\n\r\n                      {name == \"html5-player/video\" && (\r\n                        <Fragment>\r\n                          {/* <Streaming attributes={attributes} setAttributes={setAttributes} /> */}\r\n                          {!source.includes(\".mpd\") && !source.includes(\".m3u8\") && (\r\n                            <Fragment>\r\n                              <Subtitle updateOption={updateOption} isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} />\r\n                              <Quality isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} />\r\n                            </Fragment>\r\n                          )}\r\n                          <PanelBody title={__(\"Speed\", \"h5vp\")} initialOpen={false}>\r\n                            <TextControl label={__(\"Speed\", \"h5vp\")} value={speed.options} onChange={(options) => updateOption({ ...speed, options: options.split(\",\") }, \"speed\")} />\r\n                          </PanelBody>\r\n                        </Fragment>\r\n                      )}\r\n                      <Popup isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} updateFeatures={updateFeatures} />\r\n                      <Watermark isPremium={isPremium} attributes={attributes} setAttributes={setAttributes} handleFeatures={updateFeatures} />\r\n\r\n                      <PanelBody title={__(\"Additional\", \"h5vp\")} initialOpen={false}>\r\n                        <BControlPro isPremium={isPremium} Component={TextControl} label=\"Additional ID\" value={additionalID} onChange={(additionalID) => setAttributes({ additionalID })} />\r\n\r\n                        <BControlPro\r\n                          isPremium={isPremium}\r\n                          Component={TextareaControl}\r\n                          label={__(\"Additional CSS\", \"h5vp\")}\r\n                          value={additionalCSS}\r\n                          onChange={(additionalCSS) => setAttributes({ additionalCSS })}\r\n                        />\r\n                      </PanelBody>\r\n                    </Panel>\r\n                  </span>\r\n                )}\r\n                {tab.name == \"controls\" && <BControls attributes={attributes} setAttributes={setAttributes} updateOption={updateOption} />}\r\n                {tab.name == \"style\" && (\r\n                  <span>\r\n                    <Panel>\r\n                      <PanelBody ref={panelRef}>\r\n                        <UnitControl\r\n                          label={__(\"Width\", \"h5vp\")}\r\n                          step={1}\r\n                          value={plyr_wrapper.width}\r\n                          onChange={(width) => updateStyle({ width }, \"plyr_wrapper\")}\r\n                          isResetValueOnUnitChange={true}\r\n                          default=\"100\"\r\n                          onUnitChange={handleUnitChange}\r\n                        />\r\n                        <UnitControl label={__(\"Round Corner\", \"h5vp\")} value={plyr_wrapper.borderRadius} onChange={(borderRadius) => updateStyle({ borderRadius }, \"plyr_wrapper\")} />\r\n                      </PanelBody>\r\n                    </Panel>\r\n                  </span>\r\n                )}\r\n              </span>\r\n            );\r\n          }}\r\n        </TabPanel>\r\n      </InspectorControls>\r\n      {/* <Thumbs player={player} setAttributes={setAttributes} attributes={attributes} setThumbModel={setThumbModel} thumbModel={thumbModel} /> */}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default BSettings;\r\n","\"use client\";\nimport b from\"react\";import y from\"react\";var p=({children:r})=>y.createElement(\"div\",null,r);var w=()=>b.createElement(p,null,b.createElement(\"h2\",null,\"Nothing to hide\"));var C=r=>r.replace(/(^\\w)|(\\.\\s+\\w)/g,function(t){return t.toUpperCase()});function x(r){if(r===\"transparent\")return{r:255,g:255,b:255,a:0};if(r.includes(\"rgba\")){let e=r.match(/rgba?\\((\\d+),(\\d+),(\\d+)(?:,([\\d.]+))?\\)/);if(e){let[,n,o,a,i=1]=e.map(Number);return{r:n,g:o,b:a,a:i}}return null}var t=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})?$/i.exec(r.replace(\"#\",\"\"));return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16),a:parseInt(t[4],16)?parseInt(t[4],16):parseInt(t[4],16)===0?0:255}:null}function E(r){let t=document.createElement(\"template\");return t.innerHTML=r,t.content.firstChild}function U(r,t=1){if(!/^#([A-Fa-f0-9]{3}){1,2}$/.test(r))throw new Error(\"Invalid hex color format\");r.length===4&&(r=\"#\"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3]);let e=parseInt(r.slice(1,3),16),n=parseInt(r.slice(3,5),16),o=parseInt(r.slice(5,7),16),a=Math.max(0,Math.min(1,t));return`rgba(${e}, ${n}, ${o}, ${a})`}function R(r){let t=new Date(r);return!isNaN(t.getTime())}var L=R;var T=r=>{let t=null;try{t=JSON.parse(r)}catch(e){console.warn(e.message)}return t};function j(r){let t=\"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\",e=\"\";for(let n=0;n<r;n++){let o=Math.floor(Math.random()*t.length);e+=t.charAt(o)}return e}var A=j;var u=class{constructor(){this.callbacks={}}addEventListener(t,e){typeof e==\"function\"&&(this.callbacks[t]===void 0&&(this.callbacks[t]=[void 0]),this.callbacks[t].push(e))}dispatchEvent(t,e){if(this.callbacks[t]===void 0)return;let n=new u.Event;n.type=t,n.target=this,n.data=e,this.callbacks[t].forEach(o=>{typeof o==\"function\"&&o(n)})}},s=u;s.Event=class{constructor(){this.type=\"\";this.target={};this.data={}}};var v={time:22,height:405,width:720,quality:.7},g=class extends s{constructor(e,n=v){super();if(typeof n!=\"object\")throw new Error(\"Invalid config\");this.config={...v,...n},this.dataURL=\"\";let{width:o,height:a,time:i,quality:m}=this.config,f=document.createElement(\"canvas\"),c=document.createElement(\"video\");c.crossOrigin=\"Anonymous\";let d=f.getContext(\"2d\");c.src=e,c.currentTime=parseFloat(String(i)),c.load(),f.width=o,f.height=a;let B=0,l=null,h=setInterval(()=>{try{d==null||d.drawImage(c,0,0,o,a),l=f.toDataURL(\"image/webp\",m),(l==null?void 0:l.length)>3e3&&(this.dataURL=l,this.dispatchEvent(\"ready\",{}),clearInterval(h))}catch(I){console.log(I.message),clearInterval(h)}},100)}getBlob(){for(var e=atob(this.dataURL.split(\",\")[1]),n=this.dataURL.split(\",\")[0].split(\":\")[1].split(\";\")[0],o=new ArrayBuffer(e.length),a=new Uint8Array(o),i=0;i<e.length;i++)a[i]=e.charCodeAt(i);var m=new Blob([o],{type:n});return m}getBlobURL(){return URL.createObjectURL(this.getBlob())}};var ct=()=>{console.log(\"Hello\")},lt=()=>{console.log(\"Hello\")};export{p as Card,w as Cards,s as EventEmitter,g as GenerateThumbnailFromVideo,A as generateUniqueID,x as hexToRGB,U as hexToRgba,E as htmlToElement,E as htmlToNode,L as isValidDate,T as jsonParse,lt as sayGoodMorning,ct as sayHello,C as strToCapitalize};\n//# sourceMappingURL=index.mjs.map","// import Plyr from \"plyr\";\r\nimport { htmlToElement } from \"../../../wp-utils/v1\";\r\n\r\nimport { produce } from \"immer\";\r\nimport { EventEmitter } from \"bp-utils\";\r\n\r\nclass MyPlayer extends EventEmitter {\r\n  constructor(media, options, features = {}, isPremium = false) {\r\n    super();\r\n    this.media = media;\r\n    this.isPremium = isPremium;\r\n    this.features = features;\r\n    this.options = produce(options, (draft) => {\r\n      draft.markers.enabled = true;\r\n      draft.speed.options = options.speed.options.map((item) => parseFloat(item));\r\n      // draft.ads.enabled = true;\r\n      draft.fullscreen = {\r\n        container: \".plyr_wrapper\",\r\n        iosNative: true,\r\n      };\r\n      // draft.captions = { active: false, language: \"auto\", update: true };\r\n    });\r\n\r\n    this.local = window.h5vpBlock || {};\r\n\r\n    if (!options.urls.enabled) {\r\n      this.options = produce(this.options, (draft) => {\r\n        draft.urls.download = null;\r\n      });\r\n    }\r\n\r\n    if (this.media.closest(\".plyr_wrapper\")?.offsetWidth <= 425) {\r\n      this.options = produce(this.options, (draft) => {\r\n        draft.controls = this.options.controls.filter((control) => ![\"fast-forward\", \"restart\", \"rewind\"].includes(control));\r\n      });\r\n    }\r\n\r\n    if (this.options.muted) {\r\n      this.options = produce(this.options, (draft) => {\r\n        draft.volume = 0;\r\n        draft.storage.enabled = false;\r\n        // captions will not work properly\r\n      });\r\n    } else {\r\n      this.options = produce(this.options, (draft) => {\r\n        draft.volume = 0.5;\r\n        draft.storage.enabled = true;\r\n      });\r\n    }\r\n\r\n    // console.log(this.media, this.options);\r\n    this.player = new Plyr(this.media, {...this.options, i18n: window.h5vpI18n || {}});\r\n    // window.options = this.options;\r\n    // window.features = this.features;\r\n    // window.player = this.player;\r\n\r\n    if (this.media.src?.split(\".\").pop() === \"m3u8\") {\r\n      this.videoHls();\r\n    }\r\n\r\n    if (this.media.src?.split(\".\").pop() === \"mpd\") {\r\n      this.videoDash();\r\n    }\r\n\r\n    if (!this.features.passwordProtected?.enabled) {\r\n      this.init();\r\n    }\r\n\r\n    this.player.on(\"pause\", () => {\r\n      if (this.features.disablePause) {\r\n        this.player.play();\r\n      }\r\n    });\r\n\r\n    // unmute event - set volume to 40% when click on mute button if volume is 0\r\n    this.player.elements?.buttons?.mute?.addEventListener('click', () => {\r\n      if(this.player.volume === 0 ){\r\n        this.player.volume = 0.4\r\n      }\r\n    })\r\n\r\n    this.addEventListener(\"update-source\", ({ data }) => {\r\n      this.setSource(data.source, data.qualities, data.captions);\r\n    });\r\n  }\r\n\r\n  setIsPremium(isPremium) {\r\n    this.isPremium = isPremium;\r\n  }\r\n\r\n  setSource(source = null, qualities = null, captions = null) {\r\n    qualities = qualities || this.features.qualities;\r\n    const sources =\r\n      qualities?.map((item) => {\r\n        return {\r\n          type: `video/${item?.video_file?.split(\".\").pop()}`,\r\n          size: parseInt(item.size),\r\n          src: item.video_file,\r\n        };\r\n      }) || [];\r\n\r\n    const tracks =\r\n      this.features.captions?.map((item, index) => {\r\n        if (item.caption_file) {\r\n          const info = item.label.split(\"/\");\r\n          return {\r\n            kind: \"captions\",\r\n            size: item.size,\r\n            label: info[0],\r\n            srclang: info[1],\r\n            src: item.caption_file,\r\n            // default: index === 0,\r\n          };\r\n        }\r\n      }) || [];\r\n\r\n    this.player.download = this.player.source;\r\n\r\n\r\n    if (this.player.source || source) {\r\n      sources.push({\r\n        src: this.player.source || source,\r\n        type: \"video/mp4\",\r\n        size: 720,\r\n      });\r\n    }\r\n\r\n    this.player.source = {\r\n      type: \"video\",\r\n      title: \"\",\r\n      sources,\r\n      poster: this.player.poster && this.player.poster !== \"false\" ? this.player.poster : \"\",\r\n      // tracks,\r\n    };\r\n\r\n    tracks?.map((item) => {\r\n      if (item?.src) {\r\n        const track = document.createElement(\"track\");\r\n        Object.assign(track, item);\r\n        this.player.media.appendChild(track);\r\n      }\r\n    });\r\n  }\r\n  reInit() {\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    if (!this.player) {\r\n      console.error(\"something went wrong!\");\r\n      return;\r\n    }\r\n\r\n    // alert(\"init\");\r\n\r\n    const sources =\r\n      this.features.qualities?.map((item) => {\r\n        return {\r\n          type: `video/${item?.video_file?.split(\".\").pop()}`,\r\n          size: parseInt(item.size),\r\n          src: item.video_file,\r\n        };\r\n      }) || [];\r\n\r\n    const tracks =\r\n      this.features.captions?.map((item, index) => {\r\n        const info = item.label.split(\"/\");\r\n        return {\r\n          kind: \"captions\",\r\n          size: item.size,\r\n          label: info[0],\r\n          srclang: info[1],\r\n          src: item.caption_file,\r\n          // default: index === 0,\r\n        };\r\n      }) || [];\r\n\r\n    this.player.download = this.player.source;\r\n\r\n    if (this.player.source) {\r\n      sources.push({\r\n        src: this.player.source,\r\n        type: \"video/mp4\",\r\n        size: 720,\r\n      });\r\n    }\r\n\r\n    this.player.source = {\r\n      type: \"video\",\r\n      sources,\r\n      poster: this.player.poster && this.player.poster !== \"false\" ? this.player.poster : \"\",\r\n      // tracks,\r\n    };\r\n\r\n    tracks?.map((item) => {\r\n      if (item?.src) {\r\n        const track = document.createElement(\"track\");\r\n        Object.assign(track, item);\r\n        this.player.media.appendChild(track);\r\n      }\r\n    });\r\n\r\n    this.player.on(\"play\", () => {\r\n      if (window.location.pathname.includes(\"/wp-admin\")) {\r\n        this.player.pause();\r\n        this.player.currentTime = 0;\r\n      }\r\n    });\r\n\r\n    if (typeof this.features === \"object\") {\r\n      this.makeElementSticky(this.features.sticky);\r\n      this.createChapter();\r\n      this.watermark(this.features.watermark);\r\n      this.thumbInPause(this.features?.thumbInPause);\r\n      this.autoplayWhenVisible();\r\n      this.pauseOther();\r\n      this.createView();\r\n    }\r\n\r\n    this.player.on(\"play\", () => {\r\n      if (this.disabled) {\r\n        this.player.currentTime = 0;\r\n        this.player.pause();\r\n      }\r\n    });\r\n\r\n    this.player.on(\"ready\", () => {\r\n      this.media.plyr = this.player;\r\n      if (this.features.startTime) {\r\n        setTimeout(() => {\r\n          this.player.currentTime = parseInt(this.features.startTime);\r\n        }, 200);\r\n      }\r\n\r\n      if (this.options.autoplay) {\r\n        this.player?.play();\r\n      }\r\n\r\n      // this.player.fullscreen.container = this.player.elements.container.parentNode;\r\n      this.controlTouchAction();\r\n    });\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {media player} player\r\n   * @param {int} videoId\r\n   * @param {string} type\r\n   * @param {boolean} interval\r\n   */\r\n  createView(interval = false) {\r\n    this.player.on(\"pause\", () => {\r\n      if (!this.videoId || !this.isPremium) {\r\n        return;\r\n      }\r\n      let pending = false;\r\n      const currentTime = this.player?.currentTime;\r\n      let maxViewed = localStorage.getItem(`video-progress-max-${this.videoId}`);\r\n      let created_at = new Date();\r\n\r\n      if (!maxViewed) {\r\n        localStorage.setItem(`video-progress-max-${this.videoId}`, JSON.stringify({ currentTime, created_at }));\r\n      } else {\r\n        maxViewed = JSON.parse(maxViewed);\r\n      }\r\n\r\n      const viewCreated = (created_at - new Date(maxViewed?.created_at)) / (1000 * 60);\r\n      let condition = false;\r\n      if (interval) {\r\n        condition = this.player.playing && (currentTime >= maxViewed?.currentTime || viewCreated > 1440);\r\n      } else {\r\n        condition = currentTime >= maxViewed?.currentTime || viewCreated > 1440;\r\n      }\r\n\r\n      if (condition) {\r\n        if (viewCreated > 1440) {\r\n          maxViewed.created_at = created_at;\r\n        }\r\n\r\n        maxViewed.currentTime = this.player.currentTime;\r\n        localStorage.setItem(`video-progress-max-${this.videoId}`, JSON.stringify(maxViewed));\r\n\r\n        if (!pending) {\r\n          pending = true;\r\n          wp.ajax\r\n            .post(\"h5vp_ajax_handler\", {\r\n              nonce: this.nonce,\r\n              model: \"View\",\r\n              method: \"createOrUpdate\",\r\n              video_id: this.videoId,\r\n              // type: this.player.provider,\r\n              duration: parseInt(this.player.currentTime),\r\n            })\r\n            .done((res) => {\r\n              console.log(res);\r\n            })\r\n            .fail((res) => {\r\n              console.log(res);\r\n            });\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  autoplayWhenVisible() {\r\n    if (this.features.playWhenVisible) {\r\n      let scrollPlayed = false;\r\n      this.player.on(\"ready\", () => {\r\n        window.addEventListener(\"scroll\", () => {\r\n          if (!this.isPremium) {\r\n            return false;\r\n          }\r\n          if (this.player.elements?.container?.offsetParent?.offsetTop < window.scrollY && !scrollPlayed) {\r\n            this.player.muted = true;\r\n            this.player.play();\r\n            scrollPlayed = true;\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handle sticky feature\r\n   * @param {Sticky {}} sticky\r\n   * @returns\r\n   */\r\n  makeElementSticky(sticky) {\r\n    if (!sticky?.enabled) {\r\n      return false;\r\n    }\r\n    const element = this.player.elements.fullscreen;\r\n    if (element && this.player) {\r\n      const originalTop = element.getBoundingClientRect().top;\r\n      const closeBtn = htmlToElement(\"<span class='close'>&times;</span>\");\r\n\r\n      window.addEventListener(\"scroll\", () => {\r\n        if (!this.isPremium) {\r\n          return;\r\n        }\r\n        const closeBtnExists = element.querySelector(\".close\");\r\n        const scrollTop = window.scrollY;\r\n        if (scrollTop >= originalTop && this.player.playing) {\r\n          element.classList.add(sticky.position);\r\n          element.classList.add(\"sticky\");\r\n          if (!closeBtnExists) {\r\n            element.appendChild(closeBtn);\r\n          }\r\n        } else if (!this.player.playing) {\r\n          element.classList.remove(\"sticky\");\r\n          element.classList.remove(sticky.position);\r\n        }\r\n        closeBtn.addEventListener(\"click\", () => {\r\n          element.classList.remove(sticky.position);\r\n          element.classList.remove(\"sticky\");\r\n          this.player.pause();\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * handle chapter feature\r\n   * @param {Chapters[]} chapters\r\n   * @returns\r\n   */\r\n  createChapter() {\r\n    const wrapper = this.player?.elements?.container;\r\n    const chapters = this.options.markers.points?.map((point) => ({ ...point, time: this.chapterTimeToSeconds(point.time) }));\r\n    if (!Array.isArray(chapters) || !wrapper) {\r\n      return false;\r\n    }\r\n\r\n    const exists = wrapper.querySelector(\".h5vp-chapter-wrapper\");\r\n    if (!chapters || exists || !chapters.length) {\r\n      return false;\r\n    }\r\n    const chapterWrapper = document.createElement(\"div\");\r\n    const chapterListWrapper = document.createElement(\"div\");\r\n    const markerControl = document.createElement(\"button\");\r\n    const chapterList = document.createElement(\"div\");\r\n\r\n    markerControl.classList = \"h5vp-chapter-button plyr__controls__item plyr__control\";\r\n    markerControl.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 487.3 487.3\"> <path d=\"M487.2,69.7c0,12.9-10.5,23.4-23.4,23.4h-322c-12.9,0-23.4-10.5-23.4-23.4s10.5-23.4,23.4-23.4h322.1 C476.8,46.4,487.2,56.8,487.2,69.7z M463.9,162.3H141.8c-12.9,0-23.4,10.5-23.4,23.4s10.5,23.4,23.4,23.4h322.1 c12.9,0,23.4-10.5,23.4-23.4C487.2,172.8,476.8,162.3,463.9,162.3z M463.9,278.3H141.8c-12.9,0-23.4,10.5-23.4,23.4 s10.5,23.4,23.4,23.4h322.1c12.9,0,23.4-10.5,23.4-23.4C487.2,288.8,476.8,278.3,463.9,278.3z M463.9,394.3H141.8 c-12.9,0-23.4,10.5-23.4,23.4s10.5,23.4,23.4,23.4h322.1c12.9,0,23.4-10.5,23.4-23.4C487.2,404.8,476.8,394.3,463.9,394.3z M38.9,30.8C17.4,30.8,0,48.2,0,69.7s17.4,39,38.9,39s38.9-17.5,38.9-39S60.4,30.8,38.9,30.8z M38.9,146.8 C17.4,146.8,0,164.2,0,185.7s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9S60.4,146.8,38.9,146.8z M38.9,262.8 C17.4,262.8,0,280.2,0,301.7s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9S60.4,262.8,38.9,262.8z M38.9,378.7 C17.4,378.7,0,396.1,0,417.6s17.4,38.9,38.9,38.9s38.9-17.4,38.9-38.9C77.8,396.2,60.4,378.7,38.9,378.7z\"/> </svg><span class=\"plyr__tooltip\">Chapter</span>`;\r\n    chapterWrapper.classList = \"h5vp-chapter-wrapper\";\r\n    chapterListWrapper.classList = \"h5vp-chapter-list-wrapper\";\r\n    chapterList.classList = \"h5vp-chapter-list\";\r\n\r\n    chapters.map((point) => {\r\n      const label = point?.label || point?.name;\r\n      if (label != \"\" && point?.time != \"\") {\r\n        const time = this.chapterTimeToSeconds(point?.time);\r\n        const chapterItem = document.createElement(\"button\");\r\n\r\n        //chapter item\r\n        chapterItem.innerHTML = `<span>${point?.label}</span>`;\r\n        chapterList.appendChild(chapterItem);\r\n\r\n        chapterItem.onclick = () => {\r\n          chapterList.classList.remove(\"showing\");\r\n          this.player.currentTime = time;\r\n          this.player.play();\r\n        };\r\n\r\n        markerControl.onclick = () => {\r\n          if (chapterList.classList.contains(\"showing\")) {\r\n            chapterList.classList.remove(\"showing\");\r\n          } else {\r\n            chapterList.classList.add(\"showing\");\r\n          }\r\n        };\r\n\r\n        wrapper.addEventListener(\"click\", function (event) {\r\n          if (!chapterList.contains(event.target) && !markerControl.contains(event.target)) {\r\n            if (chapterList.classList.contains(\"showing\")) {\r\n              chapterList.classList.remove(\"showing\");\r\n            }\r\n          }\r\n        });\r\n\r\n        this.onClick(wrapper.querySelector(\".plyr__controls__item.plyr__menu button\"), function () {\r\n          if (chapterList.classList.contains(\"showing\")) {\r\n            chapterList.classList.remove(\"showing\");\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    chapterListWrapper?.appendChild(chapterList);\r\n    this.player.on(\"ready\", () => {\r\n      const volumeElem = wrapper.querySelector(\".plyr__controls__item.plyr__volume\");\r\n      const menu = wrapper.querySelector(\".plyr__controls__item.plyr__menu\");\r\n      const fullscreen = wrapper.querySelector(\".plyr__controls__item[data-plyr='fullscreen']\");\r\n      const duration = wrapper.querySelector(\".plyr__controls__item.plyr__time--current.plyr__time\");\r\n      if (volumeElem) {\r\n        volumeElem.before(markerControl);\r\n      } else if (menu) {\r\n        menu.before(markerControl);\r\n      } else if (fullscreen) {\r\n        fullscreen.before(markerControl);\r\n      } else if (duration) {\r\n        duration.before(markerControl);\r\n      }\r\n      wrapper.querySelector(\".plyr__controls\")?.after(chapterListWrapper);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * handle watermark feature\r\n   * @param {watermark Object} watermark\r\n   * @returns\r\n   */\r\n\r\n  watermark(watermark = {}) {\r\n    const { enabled, type, text, color } = watermark;\r\n    const plyrWrapper = this.player.elements?.container;\r\n    if (!plyrWrapper || !enabled) {\r\n      return false;\r\n    }\r\n\r\n    // I didn't find the reason to disable\r\n    let content = text;\r\n\r\n    setTimeout(async () => {\r\n      if ([\"email\", \"name\"].includes(type)) {\r\n        try {\r\n          this.disabled = true;\r\n          console.log(this.nonce);\r\n          const response = await wp.ajax.post(\"watermark_data\", { nonce: this.nonce || window.h5vpBlock?.nonce });\r\n          content = response.user[type] || window.location.origin;\r\n\r\n          this.disabled = false;\r\n        } catch (error) {\r\n          this.disabled = false;\r\n        }\r\n      }\r\n\r\n      // let content = \"\";\r\n      let tag = \"watermark\";\r\n      this.player.on(\"play\", () => {\r\n        if (!this.isPremium) {\r\n          return false;\r\n        }\r\n        const watermarkInterval = setInterval(() => {\r\n          const watermarkElement = document.querySelector(tag);\r\n          if (watermarkElement) {\r\n            plyrWrapper.removeChild(watermarkElement);\r\n          }\r\n          tag = \"watermark\" + Math.round(Math.random() * 1000);\r\n          const span = document.createElement(tag);\r\n          span.setAttribute(\"style\", \"display: block !important\");\r\n          if (type === \"email\") {\r\n            span.innerText = content;\r\n          }\r\n          plyrWrapper.appendChild(span);\r\n          span.innerText = content;\r\n          span.setAttribute(\r\n            \"style\",\r\n            `position:absolute; display:block !important; opacity:1 !important;top: ${Math.round(Math.random() * 90)}% !important; left: ${Math.round(\r\n              Math.random() * 70\r\n            )}% !important; transform: none !important`\r\n          );\r\n          span.style.color = color;\r\n\r\n          plyrWrapper.appendChild(span);\r\n        }, 2000);\r\n\r\n        this.player.on(\"pause\", () => {\r\n          setTimeout(() => {\r\n            clearInterval(watermarkInterval);\r\n            const watermarkElement = document.querySelector(tag);\r\n            if (watermarkElement) {\r\n              plyrWrapper.removeChild(watermarkElement);\r\n            }\r\n          }, 0);\r\n        });\r\n      });\r\n    }, 100);\r\n  }\r\n\r\n  /**\r\n   * handle show thumbnail in video pause feature\r\n   * @param {*} wrapper\r\n   * @param {*} player\r\n   * @param {*} infos\r\n   */\r\n  thumbInPause() {\r\n    if (!this.features?.thumbInPause?.enabled) {\r\n      return;\r\n    }\r\n\r\n    if (this.features.thumbInPause?.type == \"custom\") {\r\n      const img = document.createElement(\"img\");\r\n      img.src = this.player.poster;\r\n      const overlaid = this.player?.elements?.buttons?.play?.[0];\r\n      this.player.on(\"ready\", () => {\r\n        const overlaid = this.player?.elements?.buttons?.play?.[0];\r\n        if (overlaid) {\r\n          overlaid.classList.add(\"thumbInPause\");\r\n          overlaid.appendChild(img);\r\n        }\r\n      });\r\n\r\n      this.player.on(\"play\", () => {\r\n        overlaid.classList.remove(\"thumbInPause\");\r\n      });\r\n      this.player.on(\"pause\", () => {\r\n        overlaid.classList.add(\"thumbInPause\");\r\n      });\r\n    } else {\r\n      this.player.on(\"pause\", () => {\r\n        if (this.player?.elements?.container) {\r\n          this.player?.elements?.container.classList.add(\"plyr--stopped\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * destroy player\r\n   */\r\n  destroy() {\r\n    console.log(\"destroyed\");\r\n    this.player?.destroy();\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {String} value\r\n   * @returns {Int}\r\n   */\r\n  chapterTimeToSeconds(value = \"\") {\r\n    const time = value.toString().match(/(\\d+):(\\d+)/);\r\n    if (time == null) {\r\n      return parseInt(value);\r\n    }\r\n    return parseInt(time[1]) * 60 + parseInt(time[2]);\r\n  }\r\n\r\n  getTTT(f = 10, s = 10) {\r\n    return (f / 100) * s - (f / 100) * (100 - s);\r\n  }\r\n\r\n  onClick(element, callback) {\r\n    if (element) {\r\n      // element.onclick = () => callback();\r\n      element.addEventListener(\"click\", callback);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *  set nonce which will be used during ajax requests\r\n   * @param {string} nonce\r\n   */\r\n  setNonce(nonce) {\r\n    this.nonce = nonce;\r\n  }\r\n  /**\r\n   *  set videoId which will be used during view count\r\n   * @param {string} videoId\r\n   */\r\n  setVideoId(videoId) {\r\n    this.videoId = videoId;\r\n  }\r\n\r\n  videoHls() {\r\n    const initializeHls = () => {\r\n      if (!window.Hls?.isSupported()) {\r\n        console.warn(\"Hls does not support\");\r\n      } else {\r\n        // For more Hls.js options, see https://github.com/dailymotion/hls.js\r\n        const hls = new window.Hls();\r\n        hls.loadSource(this.media.src);\r\n\r\n        this.player.on(\"ready\", () => {\r\n          hls.attachMedia(this.player.media);\r\n        });\r\n\r\n        if (this.player.ready) {\r\n          hls.attachMedia(this.player.media);\r\n        }\r\n\r\n        hls.on(Hls.Events.MANIFEST_PARSED, () => {\r\n          if ([\"metadata\", \"none\"].includes(this.options.preload)) {\r\n            setTimeout(() => {\r\n              hls.stopLoad();\r\n            }, 1000);\r\n          }\r\n\r\n          this.player.on(\"play\", function () {\r\n            hls.startLoad();\r\n          });\r\n        });\r\n        window.player = this.player;\r\n\r\n        // hls.attachMedia(this.media);\r\n\r\n        this.player?.on(\"languagechange\", () => {\r\n          setTimeout(() => (hls.subtitleTrack = this.player.currentTrack), 50);\r\n        });\r\n      }\r\n    };\r\n    let hlsScript = document.getElementById(\"h5vp-hls-js\");\r\n    // con;\r\n    if (!hlsScript) {\r\n      hlsScript = document.createElement(\"script\");\r\n      hlsScript.setAttribute(\"id\", \"h5vp-hls-js\");\r\n      hlsScript.src = this.local?.hls;\r\n      document.getElementsByTagName(\"head\")[0]?.prepend(hlsScript);\r\n      hlsScript?.addEventListener(\"load\", () => initializeHls());\r\n    } else {\r\n      initializeHls();\r\n    }\r\n  }\r\n\r\n  videoDash() {\r\n    let dashScript = document.getElementById(\"h5vp-dash-js\");\r\n    if (!dashScript) {\r\n      dashScript = document.createElement(\"script\");\r\n      dashScript.setAttribute(\"id\", \"h5vp-dash-js\");\r\n      dashScript.src = this.local?.dash;\r\n      document.getElementsByTagName(\"head\")[0]?.prepend(dashScript);\r\n      dashScript.addEventListener(\"load\", () => {\r\n        if(dashjs){\r\n          const dash = dashjs.MediaPlayer().create();\r\n          dash.initialize(this.media, this.media.src, true);\r\n\r\n        }\r\n      });\r\n    } else {\r\n      if(dashjs){\r\n        const dash = dashjs.MediaPlayer().create();\r\n        dash.initialize(this.player.media, this.media.src, true);\r\n        this.player = new Plyr(this.player.media);\r\n      }\r\n    }\r\n  }\r\n\r\n  controlTouchAction() {\r\n    // enable touch only on mobile/tablet.\r\n    if (document.body.offsetWidth > 992) {\r\n      return false;\r\n    }\r\n\r\n    const wrapper = this.player.elements?.container;\r\n\r\n    if (!wrapper) {\r\n      return false;\r\n    }\r\n\r\n    const player = this.player;\r\n    const videoWrapper = wrapper.querySelector(\".plyr__video-wrapper\");\r\n    const span = document.createElement(\"span\");\r\n    span.classList.add(\"seekSecond\");\r\n    videoWrapper.appendChild(span);\r\n\r\n    // disable double click fullscreen | remove default event;\r\n    player.eventListeners.forEach((eventListener) => {\r\n      if (eventListener.type === \"dblclick\") {\r\n        wrapper.removeEventListener(eventListener.type, eventListener.callback, eventListener.options);\r\n      }\r\n    });\r\n\r\n    videoWrapper.parentNode.addEventListener(\"dblclick\", (e) => {\r\n      let rect = e.target.getBoundingClientRect();\r\n      let x = e.clientX - rect.left; //x position within the element.\r\n      if (this.player.fullscreen.active) {\r\n        if (videoWrapper.offsetWidth - 150 < x && videoWrapper.offsetWidth / 2 < x) {\r\n          this.player.forward(this.options.seekTime);\r\n          span.innerText = this.options.seekTime + \" sec\";\r\n        } else if (videoWrapper.offsetWidth / 2 > x && x < 150) {\r\n          this.player.rewind(this.options.seekTime);\r\n          span.innerText = \"-\" + this.options.seekTime + \" sec\";\r\n        }\r\n        setTimeout(() => {\r\n          span.innerText = \"\";\r\n        }, 1000);\r\n      }\r\n\r\n      if (x > 150 && x < videoWrapper.offsetWidth - 150) {\r\n        this.player.fullscreen.toggle();\r\n      }\r\n    });\r\n\r\n    //touch\r\n    wrapper.addEventListener(\r\n      \"touchstart\",\r\n      (e) => {\r\n        if (!this.player.fullscreen.active) return;\r\n        this.touchClientX = e.touches[0].clientX;\r\n        this.touchClientY = e.touches[0].clientY;\r\n      },\r\n      false\r\n    );\r\n\r\n    wrapper.addEventListener(\r\n      \"touchend\",\r\n      (e) => {\r\n        if (!this.player.fullscreen.active) return;\r\n        let deltaX, deltaY;\r\n        deltaX = e.changedTouches[0].clientX - this.touchClientX;\r\n        deltaY = e.changedTouches[0].clientY - this.touchClientX;\r\n\r\n        if (deltaX > 5) {\r\n          player.forward(parseInt(deltaX) / 10);\r\n          span.innerText = parseInt(deltaX / 10) + \" sec\";\r\n        } else if (deltaX < -5) {\r\n          player.rewind(Math.abs(deltaX) / 10);\r\n          span.innerText = parseInt(deltaX / 10) + \" sec\";\r\n        }\r\n\r\n        setTimeout(() => {\r\n          span.innerText = \"\";\r\n        }, 1000);\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {*} player\r\n   */\r\n  pauseOther() {\r\n    if (location.pathname.includes(\"wp-admin\")) return false;\r\n    if (window.hpublic?.pauseOther) {\r\n      this.player.on(\"play\", () => {\r\n        const id = this.player.elements.fullscreen?.dataset?.uniqueId;\r\n        const players = document.querySelectorAll(`video:not([data-unique-id=\"${id}\"] video, a video)`);\r\n\r\n        players.forEach((player) => player.pause());\r\n      });\r\n    }\r\n  }\r\n\r\n  domAttributesToObjectList(elements) {\r\n    const resultArray = [];\r\n\r\n    elements.forEach((element) => {\r\n      const attributes = element.attributes;\r\n      const result = {};\r\n\r\n      for (let i = 0; i < attributes.length; i++) {\r\n        const attribute = attributes[i];\r\n        result[attribute.name] = attribute.value;\r\n      }\r\n\r\n      resultArray.push(result);\r\n    });\r\n\r\n    return resultArray;\r\n  }\r\n\r\n  getStoredSettings(){\r\n    return JSON.parse(window.localStorage.getItem('plyr'));\r\n  }\r\n}\r\n\r\nexport const extractFileNamesWithoutExtension = (filePath) => {\r\n  const parts = filePath.split(\"/\");\r\n  const fileNameWithExtension = parts[parts.length - 1];\r\n  const fileNameWithoutExtension = fileNameWithExtension.replace(/\\.[^/.]+$/, \"\");\r\n  return fileNameWithoutExtension;\r\n};\r\n\r\nexport default MyPlayer;\r\n","import \"./style.scss\";\r\n\r\nconst Overlay = ({ enabled, items }) => {\r\n  if (!enabled) {\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      {items.map((item, index) => {\r\n        return (\r\n          <>\r\n            <style>\r\n              {`\r\n              .overlay_item_${index} p{\r\n                padding: 5px 12px;\r\n              }\r\n              .overlay_item_${index} p,\r\n              .overlay_item_${index} img,\r\n              .overlay_item_${index} a {\r\n              color: ${item.color};\r\n              font-size: ${item.fontSize};\r\n              background-color: ${item.backgroundColor};\r\n              border-radius: 3px px;\r\n              opacity: ${item.opacity}\r\n            }\r\n            .overlay_item_${index} a:hover,\r\n            .overlay_item_${index} p:hover {\r\n              color: ${item.hoverColor};\r\n            }\r\n            `.replace(/\\s+/g, \" \")}\r\n            </style>\r\n            <div key={index} className={`h5vp_overlay ${item.position} overlay_item_${index}`}>\r\n              {item.type === \"text\" ? (\r\n                <p>\r\n                  {item.link ? (\r\n                    <a href={item.link} rel=\"noreferrer\" target=\"_blank\">\r\n                      {item.text}\r\n                    </a>\r\n                  ) : (\r\n                    <>{item.text}</>\r\n                  )}\r\n                </p>\r\n              ) : item.link ? (\r\n                <a className=\"background-transparent\" href={item.link} rel=\"noreferrer\" target=\"_blank\">\r\n                  <img src={item.logo} />\r\n                </a>\r\n              ) : (\r\n                <img src={item.logo} />\r\n              )}\r\n            </div>\r\n          </>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Overlay;\r\n","import { useEffect } from \"react\";\r\nimport { __ } from \"@wordpress/i18n\";\r\nimport \"./style.scss\";\r\n\r\nconst PopupOpener = ({ setOpen, popup, poster }) => {\r\n  const { align, enabled, btnStyle, hasBtn, selector, type, btnText } = popup;\r\n  const { padding, ...popupBtnStyle } = btnStyle || {};\r\n\r\n  useEffect(() => {\r\n    if (type === \"button\" && hasBtn && selector && enabled) {\r\n      document.querySelector([\".\", \"#\", \"[\"].includes(selector) ? `${selector}` : `.${selector}`)?.addEventListener(\"click\", () => {\r\n        setOpen(true);\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {enabled && (\r\n        <div className={type === \"button\" ? `flex justify-${align}` : \"\"}>\r\n          {!hasBtn || type === \"poster\" ? (\r\n            <>\r\n              {type === \"button\" ? (\r\n                <button className=\"popup_opener\" onClick={() => setOpen(true)} style={{ ...popupBtnStyle, padding: Object.values(padding).join(\" \") }}>\r\n                  {btnText}\r\n                </button>\r\n              ) : (\r\n                <>\r\n                  {poster ? (\r\n                    <div className=\"popup_opener\">\r\n                      <svg aria-hidden=\"true\" focusable=\"false\" className=\"popup_play\" onClick={() => setOpen(true)}>\r\n                        <use xlinkHref=\"#plyr-play\"></use>\r\n                      </svg>\r\n                      <img src={poster} width=\"100%\" />\r\n                    </div>\r\n                  ) : (\r\n                    <h3>Poster missing</h3>\r\n                  )}\r\n                </>\r\n              )}\r\n            </>\r\n          ) : (\r\n            <></>\r\n          )}\r\n\r\n          <span onClick={() => setOpen(false)} className=\"close\">\r\n            &times;\r\n          </span>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PopupOpener;\r\n","import React from \"react\";\r\n\r\nconst Video = ({ captions, poster, source, qualities, isPremium, className = \"\", reference, ...props }) => {\r\n  // console.log({ source });\r\n  return (\r\n    <>\r\n      <video crossOrigin className={className} id=\"player\" data-poster={poster || \"\"} ref={reference} src={source} {...props} style={{ width: \"100%\", maxWidth: \"100%\" }}>\r\n        {/* Captions / Subtitles */}\r\n        {isPremium && (\r\n          <>\r\n            {Array.isArray(captions) &&\r\n              captions.map((caption, index) => {\r\n                if (!caption.caption_file) {\r\n                  return;\r\n                }\r\n                const info = caption.label.split(\"/\");\r\n                return <track key={index} kind=\"captions\" srcLang={info[1] || \" \"} label={info[0] || \"no label\"} src={caption.caption_file} />;\r\n              })}\r\n\r\n            {/* Qualities */}\r\n            {![\"m3u8\", \"mpd\"].includes(source?.split(\".\").pop()) && (\r\n              <>\r\n                <source src={source} size={720} type={`video/${source?.split(\".\").pop()}`} />\r\n                {Array.isArray(qualities) &&\r\n                  qualities.map((item, index) => {\r\n                    // return <source key={index} src={item.video_file} size={item.size} type=\"video/mp4\" />;\r\n                  })}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </video>\r\n      {props[\"data-poster\"] && <div className=\"preload_poster\" style={{ background: `url(${props[\"data-poster\"]})` }}></div>}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Video;\r\n","/* eslint-disable react/no-unknown-property */\r\n\r\nconst Youtube = ({ source = \"https://www.youtube.com/watch?v=MLpWrANjFbI\", className = \"\", ...props }) => {\r\n  return (\r\n    <div className={`plyr__video-embed ${className}`} id=\"player\" {...props}>\r\n      <iframe\r\n        src={`${source}?origin=${window.location.origin}&iv_load_policy=3&amp;modestbranding=1&amp;playsinline=1&amp;showinfo=0&amp;rel=0&amp;enablejsapi=1`}\r\n        // src={`${source}&feature=youtu.be`}\r\n        allowfullscreen\r\n        allowtransparency\r\n        allow=\"autoplay\"\r\n      ></iframe>\r\n      {props[\"data-poster\"] && <div className=\"preload_poster\" style={{ background: `url(${props[\"data-poster\"]})` }}></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Youtube;\r\n","function isVimeoLink(source) {\r\n  if (!source) return false;\r\n  // Regular expression pattern to match Vimeo video URLs\r\n  const vimeoPattern = /^(https?:\\/\\/)?(www\\.)?(player\\.)?vimeo\\.com\\/(video\\/)?(\\d+)(\\/[^\\s]*)?$/;\r\n  const id = source?.match(vimeoPattern)?.[5];\r\n  // console.log({ id });\r\n\r\n  if (id) {\r\n    return `https://player.vimeo.com/video/${id}`;\r\n    // https://vimeo.com/920314562\r\n  }\r\n\r\n  if (!isNaN(source)) {\r\n    return `https://player.vimeo.com/video/${source}`;\r\n  }\r\n  return vimeoPattern.test(source);\r\n}\r\n\r\nexport default isVimeoLink;\r\n","import { useEffect, useRef } from \"react\";\r\nimport \"./style.scss\";\r\n\r\nconst EndScreen = ({ endScreen, player }) => {\r\n  const { enabled, text, btnText, btnLink } = endScreen;\r\n\r\n  const endScreenRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    player?.player?.on(\"ended\", () => {\r\n      console.log(\"ended\");\r\n      if (enabled) {\r\n        player.player.stop();\r\n        endScreenRef.current.style.display = \"block\";\r\n        console.log(\"workign\");\r\n      }\r\n    });\r\n  }, [player]);\r\n\r\n  const handleClose = () => {\r\n    endScreenRef.current.style.display = \"none\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {enabled && (\r\n        <>\r\n          <div ref={endScreenRef} className=\"h5vp_end_screen\">\r\n            <span className=\"close\" onClick={handleClose}>\r\n              &times;\r\n            </span>\r\n            <div className=\"content\">\r\n              <p>{text}</p>\r\n              {btnText && (\r\n                <a target=\"_blank\" rel=\"noreferrer\" href={btnLink}>\r\n                  {btnText}\r\n                </a>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EndScreen;\r\n","function camelToKebabCase(inputString) {\r\n  return inputString.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\r\n}\r\n\r\nexport default camelToKebabCase;\r\n","import { useEffect, useState } from \"react\";\r\nimport camelToKebabCase from \"../utils/camelToKebabCase\";\r\n\r\nconst Style = ({ styles = {}, uniqueId }) => {\r\n  // console.log({ uniqueId });\r\n  const [CSS, setCSS] = useState(null);\r\n  useEffect(() => {\r\n    let css = \"\";\r\n    if (typeof styles === \"object\") {\r\n      Object.keys(styles).map((key) => {\r\n        if (typeof styles[key] === \"object\") {\r\n          let itemCSS = \"\";\r\n          Object.keys(styles[key]).map((key2) => {\r\n            itemCSS += `${camelToKebabCase(key2)}: ${styles[key][key2]};`;\r\n          });\r\n          css += `#${uniqueId} ${[\".\", \"#\"].includes(key[0]) ? \"\" : \".\"}${key}{${itemCSS}} `;\r\n        }\r\n      });\r\n    }\r\n    setCSS(css);\r\n  }, [styles, uniqueId]);\r\n\r\n  return <style dangerouslySetInnerHTML={{ __html: CSS }}></style>;\r\n};\r\n\r\nexport default Style;\r\n","import React from \"react\";\r\n\r\nconst Vimeo = ({ source = \"https://player.vimeo.com/video/76979871\", className = \"\", ...props }) => {\r\n  // console.log({ source });\r\n  return (\r\n    <div className={`plyr__video-embed ${className}`} id=\"player\" {...props}>\r\n      <iframe\r\n        src={`${source}?loop=false&amp;byline=false&amp;portrait=false&amp;title=false&amp;speed=true&amp;transparent=0&amp;gesture=media`}\r\n        allowfullscreen\r\n        // eslint-disable-next-line react/no-unknown-property\r\n        allowtransparency\r\n        allow=\"autoplay\"\r\n      ></iframe>\r\n      {props[\"data-poster\"] && <div className=\"preload_poster\" style={{ background: `url(${props[\"data-poster\"]})` }}></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Vimeo;\r\n","import \"./simple-loader.scss\";\r\n\r\nconst SimpleLoader = ({ height = \"10px\", width = \"10px\", color = \"#3498db\", className = \"\", style = {} }) => {\r\n  return <div className={`simple-loader ${className}`} style={{ height, width, borderTopColor: color, ...style }}></div>;\r\n};\r\n\r\nexport default SimpleLoader;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useWPAjax } from \"../../../wp-utils/v1\";\r\nimport SimpleLoader from \"../../../wp-utils/v1/components/Loader/SimpleLoader\";\r\n\r\nconst PasswordForm = ({ passwordProtected, setSrc, nonce, src, source, setQualities }) => {\r\n  const { enabled, heading, button, key, errorMessage } = passwordProtected;\r\n  const { data, refetch: checkPassword, isLoading: passwordChecking } = useWPAjax(\"h5vp_ajax_handler\", { nonce, method: \"check_password\", model: \"Video\", key }, true);\r\n  const [passwordError, setPasswordError] = useState(null);\r\n  const [password, setPassword] = useState(null);\r\n\r\n  const { text = \"Access\" } = button || {};\r\n\r\n  useEffect(() => {\r\n    setPasswordError(null);\r\n    if (!passwordChecking) {\r\n      if (data) {\r\n        setSrc(data.source);\r\n        setQualities(data.quality);\r\n      } else {\r\n        if (data !== null) {\r\n          setPasswordError(errorMessage || \"Password didn't matched\");\r\n        }\r\n      }\r\n    }\r\n    // console.log({ data });\r\n  }, [passwordChecking]);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    // console.log({ password, key });\r\n    checkPassword({ key, password });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {enabled && !src && (\r\n        <>\r\n          <div className=\"password_form_overlay\"></div>\r\n          <div className=\"password_form\">\r\n            <form onSubmit={onSubmit}>\r\n              {heading && <h3 className=\"password_form_heading\" dangerouslySetInnerHTML={{ __html: heading }}></h3>}\r\n              <input type=\"password\" className=\"password_form_input\" placeholder=\"Password\" onChange={(e) => setPassword(e.target.value)} />\r\n              <button className=\"password_form_button\" disabled={passwordChecking}>\r\n                {passwordChecking && <SimpleLoader style={{ borderWidth: \"2px\" }} />} {text}\r\n              </button>\r\n              {passwordError && <p className=\"password_form_error\" dangerouslySetInnerHTML={{ __html: passwordError }}></p>}\r\n            </form>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PasswordForm;\r\n","import { useEffect, useState, useRef } from \"react\";\r\n\r\nimport \"./style.scss\";\r\nimport \"./../../public/css/h5vp.css\";\r\nimport MyPlayer, { extractFileNamesWithoutExtension } from \"../public/MyPlayer\";\r\nimport Overlay from \"./Overlay/Overlay\";\r\nimport PopupOpener from \"./PopupOpener/PopupOpener\";\r\nimport Video from \"./Video\";\r\nimport { isYoutubeURL, useWPAjax } from \"../../../wp-utils/v1\";\r\nimport SimpleLoader from \"../../../wp-utils/v1/components/Loader/SimpleLoader\";\r\nimport Youtube from \"./Youtube\";\r\nimport isVimeoLink from \"../utils/isVimeoLink\";\r\nimport EndScreen from \"./EndScreen/EndScreen\";\r\nimport Style from \"./Style\";\r\nimport Vimeo from \"./Vimeo\";\r\nimport generateUniqueID from \"../../../wp-utils/v1/generateUniqueId\";\r\nimport PasswordForm from \"./PasswordForm\";\r\n\r\n/**\r\n *\r\n * @param {attributes} props\r\n * @param {nonce} props\r\n * @returns\r\n */\r\n\r\nconst VideoPlayer = ({ attributes, nonce = window.h5vpBlock?.nonce }) => {\r\n  const { additionalCSS, additionalID, source, poster, provider, qualities: quality, captions, options, features, uniqueId, styles } = attributes;\r\n  window.attributes = attributes;\r\n  const { popup, overlay, endScreen, passwordProtected = {}, hideYoutubeUI } = features;\r\n  const [src, setSrc] = useState(passwordProtected.enabled ? \"\" : source);\r\n  const [player, setPlayer] = useState(null);\r\n  const [open, setOpen] = useState(false);\r\n  const [videoSource, setVideoSource] = useState(provider === \"library\" ? \"self-hosted\" : provider);\r\n  const { autoplay, muted, loop } = options;\r\n  const { data: isPremium, isLoading } = useWPAjax(\"pipe_handler\", { nonce });\r\n  const { data: videoId, refetch } = useWPAjax(\"h5vp_ajax_handler\", { nonce, method: \"create\", model: \"Video\" }, true);\r\n  const [qualities, setQualities] = useState(quality);\r\n\r\n  const playerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      player?.player.play();\r\n    } else {\r\n      player?.player.pause();\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    playerRef.media = playerRef.current?.querySelector(\"#player\");\r\n  }, [playerRef]);\r\n\r\n  //initialize player\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      const media = playerRef.current?.querySelector(\"#player\");\r\n      if (media) {\r\n        const player = new MyPlayer(media, options, { ...features, qualities, captions });\r\n        setPlayer(player);\r\n        clearInterval(interval);\r\n      }\r\n    }, 100);\r\n\r\n    return () => {\r\n      player?.destroy();\r\n    };\r\n  }, [options, features, qualities, captions]); // removed playerRef.current\r\n\r\n  useEffect(() => {\r\n    if (player && !player?.nonce) {\r\n      player.setNonce(nonce);\r\n    }\r\n    if (player && !player?.videoId) {\r\n      player.setVideoId(videoId);\r\n    }\r\n  }, [nonce, videoId]);\r\n\r\n  useEffect(() => {\r\n    if (player) {\r\n      player.setIsPremium(isPremium);\r\n    }\r\n    if (!isLoading && !isPremium && videoSource !== \"self-hosted\") {\r\n      player?.destroy();\r\n    }\r\n  }, [isPremium, isLoading, videoSource]);\r\n\r\n  useEffect(() => {\r\n    // console.log(\"source\", attributes, videoSource);\r\n    if (!videoSource) {\r\n      if (isYoutubeURL(source)) {\r\n        setVideoSource(\"youtube\");\r\n      } else if (isVimeoLink(source)) {\r\n        setVideoSource(\"vimeo\");\r\n      } else {\r\n        setVideoSource(\"self-hosted\");\r\n      }\r\n    }\r\n  }, [source]);\r\n\r\n  useEffect(() => {\r\n    if (source && videoSource) {\r\n      refetch({ src: source, type: videoSource, title: extractFileNamesWithoutExtension(source) });\r\n    }\r\n  }, [source, videoSource]);\r\n\r\n  useEffect(() => {\r\n    if (player?.player) {\r\n      player.player.poster = poster;\r\n      // player.player.source = src;\r\n    }\r\n  }, [src, poster]);\r\n\r\n  useEffect(() => {\r\n    if (player?.player) {\r\n      player.setSource();\r\n      window.player = player;\r\n      console.log(\"password \");\r\n      player.dispatchEvent(\"update-source\", { source: src, qualities });\r\n    }\r\n  }, [src]);\r\n\r\n  useEffect(() => {\r\n    // console.log(attributes);\r\n    // console.log(src, source);\r\n    if (window.sources) {\r\n      window.sources.push(source);\r\n    } else {\r\n      window.sources = [source];\r\n    }\r\n  }, [src, source]);\r\n\r\n  useEffect(() => {\r\n    setSrc(passwordProtected.enabled ? \"\" : source);\r\n  }, [source]);\r\n\r\n  if (!source) {\r\n    return <h3>Video source missing</h3>;\r\n  }\r\n\r\n  // console.log(\"features\", features);\r\n\r\n  // useEff\r\n\r\n  // alert(\"worknig fine\");\r\n\r\n  return (\r\n    <div ref={playerRef} id={uniqueId} className={`h5vp_player_temp  ${popup.enabled ? \"h5vp_popup_enabled\" : \"\"} ${open ? \"h5vp_popup_open\" : \"\"}`}>\r\n      <Style styles={styles} uniqueId={uniqueId} />\r\n\r\n      <style>{additionalCSS}</style>\r\n\r\n      {isPremium && <PopupOpener setOpen={setOpen} popup={popup} poster={poster} />}\r\n\r\n      {/* {password protected form } */}\r\n      <PasswordForm passwordProtected={passwordProtected} nonce={nonce} src={src} setSrc={setSrc} source={source} setQualities={setQualities} />\r\n      <div className={`plyr_wrapper ${hideYoutubeUI ? \"hideUI\" : \"\"}`} id={additionalID} data-unique-id={generateUniqueID(5)}>\r\n        <>\r\n          {videoSource === \"vimeo\" && <Vimeo source={isVimeoLink(src)} />}\r\n          {videoSource === \"youtube\" && <Youtube source={isYoutubeURL(src)} />}\r\n        </>\r\n        {/* )} */}\r\n        {videoSource === \"self-hosted\" && (\r\n          <Video\r\n            qualities={src ? qualities : []}\r\n            captions={captions}\r\n            source={passwordProtected.enabled ? src : source}\r\n            poster={poster}\r\n            autoPlay={autoplay}\r\n            muted={muted}\r\n            loop={loop?.active}\r\n            // src={source}\r\n            preload={options.preload}\r\n            isPremium={isPremium}\r\n            playsInline={options.playsinline}\r\n          />\r\n        )}\r\n        {isPremium && (\r\n          <>\r\n            <EndScreen endScreen={endScreen} player={player} />\r\n            <Overlay {...overlay} player={player?.player} />\r\n          </>\r\n        )}\r\n        {/* <Toaster */}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoPlayer;\r\n","const { Fragment, useEffect, useState } = wp.element;\r\nconst { __ } = wp.i18n;\r\nconst { MediaUpload, MediaUploadCheck } = wp.blockEditor;\r\nconst { Button, Placeholder } = wp.components;\r\n\r\nimport BSettings from \"./../Components/BSettings\";\r\nimport VideoPlayer from \"../../components/VideoPlayer\";\r\n\r\nconst Edit = (props) => {\r\n  const classes = \"h5vp_player \";\r\n  const [isPremium, setIsPremium] = useState(h5vpBlock?.isPipe);\r\n  const { attributes, setAttributes, isSelected } = props;\r\n\r\n  const { source } = attributes;\r\n\r\n  const [mediaSource, setMediaSource] = useState();\r\n  const [valid, setValid] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsPremium(h5vpBlock?.isPipe == 1);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isSelected) {\r\n      wp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"edit-post/block\");\r\n    }\r\n  }, [isSelected]);\r\n\r\n  const handleApply = (event) => {\r\n    event.preventDefault();\r\n    if (!validURL(mediaSource)) {\r\n      setValid(false);\r\n      return false;\r\n    }\r\n    // createVideo();\r\n    setValid(true);\r\n    setAttributes({ source: mediaSource });\r\n    setMediaSource(\"\");\r\n  };\r\n\r\n  const validURL = (str) => {\r\n    var pattern = new RegExp(\"https?\", \"i\"); // fragment locator\r\n    return !!pattern.test(str);\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* {!h5vpBlock?.isPipe && <PremiumPopup />} */}\r\n\r\n      {!isSelected && <div className=\"item_selected\"></div>}\r\n      {source ? (\r\n        <Fragment>\r\n          <BSettings {...props} isPremium={isPremium} />\r\n          {/* <Player classes={classes} attributes={attributes} /> */}\r\n          <VideoPlayer attributes={attributes} isSelected={isSelected} />\r\n        </Fragment>\r\n      ) : (\r\n        <Fragment>\r\n          <Placeholder\r\n            icon={\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"24\"\r\n                height=\"24\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                className=\"html5-block-icon\"\r\n              >\r\n                <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\r\n                <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\r\n              </svg>\r\n            }\r\n            instructions={__(\"Upload a video or paste/write video url to get started.\", \"h5vp\")}\r\n            label={__(\"Upload a Video \", \"h5vp\")}\r\n          >\r\n            <MediaUploadCheck>\r\n              <MediaUpload\r\n                type={[\"image\"]}\r\n                onSelect={(source) => setAttributes({ source: source.url })}\r\n                render={({ open }) => (\r\n                  <Button isPrimary onClick={open}>\r\n                    {__(\"Upload\", \"h5vp\")}\r\n                  </Button>\r\n                )}\r\n              />\r\n            </MediaUploadCheck>\r\n            <div className=\"h5vpUrlInput\">\r\n              <h3 style={{ fontSize: \"15px\" }}> Or </h3>\r\n              <input\r\n                type=\"url\"\r\n                aria-label={__(\"URL\", \"h5vp\")}\r\n                placeholder={__(\"Paste or type a video URL\", \"h5vp\")}\r\n                onChange={(src) => {\r\n                  setValid(true);\r\n                  setMediaSource(src.target.value);\r\n                }}\r\n                value={mediaSource}\r\n              />\r\n              <Button label={__(\"Apply\", \"h5vp\")} type=\"submit\" onClick={handleApply} isPrimary>\r\n                {__(\"Apply\", \"h5vp\")}\r\n              </Button>\r\n            </div>\r\n            {!valid && <p style={{ color: \"#bd1818\", width: \"100%\", margin: 0 }}>{__(\"URL is not valid\", \"h5vp\")}</p>}\r\n          </Placeholder>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","const { __ } = wp.i18n;\r\nconst { registerBlockType } = wp.blocks;\r\n\r\nimport Edit from \"./Edit\";\r\nimport metadata from \"./../../../blocks/video/block.json\";\r\n\r\nimport \"./../dashboard.common.scss\";\r\n\r\nregisterBlockType(metadata, {\r\n  // getEditWrapperProps: () => {},\r\n  edit: Edit,\r\n  save: () => {\r\n    return null;\r\n  },\r\n});\r\n","const { Fragment, useEffect, useState } = wp.element;\r\nconst { __ } = wp.i18n;\r\nconst { Button, Placeholder } = wp.components;\r\nimport BSettings from \"./../Components/BSettings\";\r\nimport VideoPlayer from \"../../components/VideoPlayer\";\r\nimport { isYoutubeURL } from \"../../../../wp-utils/v1\";\r\n\r\nconst Edit = (props) => {\r\n  const [isPremium, setIsPremium] = useState(h5vpBlock?.isPipe);\r\n  const { attributes, setAttributes, isSelected } = props;\r\n\r\n  const { source } = attributes;\r\n\r\n  const [mediaSource, setMediaSource] = useState();\r\n  const [valid, setValid] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsPremium(h5vpBlock?.isPipe == 1);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isSelected) {\r\n      wp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"edit-post/block\");\r\n    }\r\n  }, [isSelected]);\r\n\r\n  const handleApply = (event) => {\r\n    event.preventDefault();\r\n    if (!isYoutubeURL(mediaSource)) {\r\n      setValid(false);\r\n      return false;\r\n    }\r\n    // createVideo();\r\n    setValid(true);\r\n    setAttributes({ source: mediaSource });\r\n    setMediaSource(\"\");\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* {!h5vpBlock?.isPipe && <PremiumPopup />} */}\r\n\r\n      {!isSelected && <div className=\"item_selected\"></div>}\r\n      {source ? (\r\n        <Fragment>\r\n          <BSettings {...props} isPremium={isPremium} />\r\n          {/* <Player classes={classes} attributes={attributes} /> */}\r\n          {isPremium ? <VideoPlayer attributes={attributes} isSelected={isSelected} /> : <h2 className=\"text-danger\">{__(\"sorry, it's a premium feature\", \"h5vp\")}</h2>}\r\n        </Fragment>\r\n      ) : (\r\n        <Fragment>\r\n          <Placeholder\r\n            icon={\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"24\"\r\n                height=\"24\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                className=\"html5-block-icon\"\r\n              >\r\n                <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\r\n                <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\r\n              </svg>\r\n            }\r\n            instructions={__(\"Upload a video or paste/write video url to get started.\", \"h5vp\")}\r\n            label={__(\"Upload a Video \", \"h5vp\")}\r\n          >\r\n            <div className=\"h5vpUrlInput\">\r\n              <input\r\n                type=\"url\"\r\n                aria-label={__(\"URL\", \"h5vp\")}\r\n                placeholder={__(\"Paste or type a youtube video URL\", \"h5vp\")}\r\n                onChange={(src) => {\r\n                  setValid(true);\r\n                  setMediaSource(src.target.value);\r\n                }}\r\n                value={mediaSource}\r\n              />\r\n              <Button label={__(\"Apply\", \"h5vp\")} type=\"submit\" onClick={handleApply} isPrimary>\r\n                {__(\"Apply\", \"h5vp\")}\r\n              </Button>\r\n            </div>\r\n            {!valid && <p style={{ color: \"#bd1818\", width: \"100%\", margin: 0 }}>{__(\"URL is not valid\", \"h5vp\")}</p>}\r\n          </Placeholder>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","// import attributes from \"./../Components/attributes\";\r\nimport Edit from \"./Edit\";\r\n\r\nconst { registerBlockType } = wp.blocks;\r\n\r\nimport metadata from \"./../../../blocks/youtube/block.json\";\r\n\r\nif (window.h5vpBlock?.isPipe || typeof window.h5vpBlock === \"undefined\") {\r\n  registerBlockType(metadata, {\r\n    icon: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"682pt\" height=\"682pt\" viewBox=\"-21 -117 682.667 682\">\r\n        <path d=\"M626.813 64.035c-7.375-27.418-28.993-49.031-56.407-56.414C520.324-6.082 319.992-6.082 319.992-6.082s-200.324 0-250.406 13.184c-26.887 7.375-49.031 29.52-56.406 56.933C0 114.113 0 217.97 0 217.97s0 104.379 13.18 153.933c7.382 27.414 28.992 49.028 56.41 56.41C120.195 442.02 320 442.02 320 442.02s200.324 0 250.406-13.184c27.418-7.379 49.032-28.992 56.414-56.406 13.176-50.082 13.176-153.934 13.176-153.934s.527-104.383-13.183-154.46zM256.21 313.915V122.022l166.586 95.946zm0 0\"></path>\r\n      </svg>\r\n    ),\r\n    getEditWrapperProps: () => {},\r\n    edit: Edit,\r\n    save: () => {\r\n      return null;\r\n    },\r\n    example: {\r\n      attributes: true,\r\n    },\r\n  });\r\n}\r\n// import Edit from \"./Edit\";\r\n","const { Fragment, useEffect, useState } = wp.element;\r\nconst { __ } = wp.i18n;\r\nconst { MediaUpload, MediaUploadCheck } = wp.blockEditor;\r\nconst { Button, Placeholder } = wp.components;\r\nimport BSettings from \"./../Components/BSettings\";\r\nimport VideoPlayer from \"../../components/VideoPlayer\";\r\nimport isVimeoLink from \"../../utils/isVimeoLink\";\r\n\r\nconst Edit = (props) => {\r\n  const classes = \"h5vp_player \";\r\n  const [isPremium, setIsPremium] = useState(h5vpBlock?.isPipe);\r\n  const { attributes, setAttributes, isSelected } = props;\r\n\r\n  console.log(attributes);\r\n\r\n  const { source } = attributes;\r\n\r\n  const [mediaSource, setMediaSource] = useState();\r\n  const [valid, setValid] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsPremium(h5vpBlock?.isPipe == 1);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isSelected) {\r\n      wp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"edit-post/block\");\r\n    }\r\n  }, [isSelected]);\r\n\r\n  const handleApply = (event) => {\r\n    event.preventDefault();\r\n    if (!isVimeoLink(mediaSource)) {\r\n      setValid(false);\r\n      return false;\r\n    }\r\n    // createVideo();\r\n    setValid(true);\r\n    setAttributes({ source: mediaSource });\r\n    setMediaSource(\"\");\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      {/* {!h5vpBlock?.isPipe && <PremiumPopup />} */}\r\n\r\n      {!isSelected && <div className=\"item_selected\"></div>}\r\n      {source ? (\r\n        <Fragment>\r\n          <BSettings {...props} isPremium={isPremium} />\r\n          {/* <Player classes={classes} attributes={attributes} /> */}\r\n          {isPremium ? <VideoPlayer attributes={attributes} isSelected={isSelected} /> : <h2>{__(\"sorry, it's a premium feature!\", \"h5vp\")}</h2>}\r\n        </Fragment>\r\n      ) : (\r\n        <Fragment>\r\n          <Placeholder\r\n            icon={\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"24\"\r\n                height=\"24\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                strokeLinecap=\"round\"\r\n                strokeLinejoin=\"round\"\r\n                className=\"html5-block-icon\"\r\n              >\r\n                <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\r\n                <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\r\n              </svg>\r\n            }\r\n            instructions={__(\"Upload a video or paste/write video url to get started.\", \"h5vp\")}\r\n            label={__(\"Upload a Video \", \"h5vp\")}\r\n          >\r\n            <div className=\"h5vpUrlInput\">\r\n              <input\r\n                type=\"url\"\r\n                aria-label={__(\"URL\", \"h5vp\")}\r\n                placeholder={__(\"Paste or type a vimeo video URL/ID\", \"h5vp\")}\r\n                onChange={(src) => {\r\n                  setValid(true);\r\n                  setMediaSource(src.target.value);\r\n                }}\r\n                value={mediaSource}\r\n              />\r\n              <Button label={__(\"Apply\", \"h5vp\")} type=\"submit\" onClick={handleApply} isPrimary>\r\n                {__(\"Apply\", \"h5vp\")}\r\n              </Button>\r\n            </div>\r\n            {!valid && <p style={{ color: \"#bd1818\", width: \"100%\", margin: 0 }}>{__(\"URL is not valid\", \"h5vp\")}</p>}\r\n          </Placeholder>\r\n        </Fragment>\r\n      )}\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","const { registerBlockType } = wp.blocks;\r\n\r\nimport Edit from \"./Edit\";\r\nimport metadata from \"./../../../blocks/vimeo/block.json\";\r\n\r\nif (window.h5vpBlock?.isPipe || typeof window.h5vpBlock === \"undefined\") {\r\n  registerBlockType(metadata, {\r\n    icon: (\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" viewBox=\"0 0 24 24\">\r\n        <path d=\"M20.497 1.505c-3.328-.121-5.576 1.787-6.762 5.694a4.312 4.312 0 011.777-.395c1.219 0 1.758.697 1.614 2.082-.072.839-.608 2.059-1.612 3.664-1.009 1.605-1.763 2.409-2.265 2.409-1.522 0-2.437-7.284-2.747-9.273-.431-2.765-1.58-4.058-3.447-3.877C5.341 1.972 2.35 5.058 0 7.15l1.129 1.472C2.204 7.86 2.831 7.478 3.01 7.478c1.871 0 2.777 6.367 4.23 11.102.975 2.613 2.144 3.92 3.553 3.92 2.264 0 5.022-2.144 8.29-6.434 3.155-4.107 4.789-7.344 4.894-9.705l.013-.01c.134-3.165-1.021-4.785-3.493-4.846z\"></path>\r\n      </svg>\r\n    ),\r\n    getEditWrapperProps: () => {},\r\n    edit: Edit,\r\n    save: () => {\r\n      return null;\r\n    },\r\n  });\r\n}\r\n","// import PremiumPopup from \"../Components/premiumPopop\";\r\n\r\n// In your application's entrypoint\r\nconst { __ } = wp.i18n;\r\nconst { InnerBlocks, useBlockProps } = wp.blockEditor;\r\nconst { useSelect, dispatch } = wp.data;\r\nconst { Button, Placeholder, Modal } = wp.components;\r\nconst { useEffect } = wp.element;\r\nconst { registerBlockType } = wp.blocks;\r\nimport { useState } from \"react\";\r\n// import { Tooltip } from \"@wordpress/components\";\r\n\r\nregisterBlockType(\"html5-player/parent\", {\r\n  title: __(\"HTML5 Video Player Form\", \"h5vp\"),\r\n  icon: \"format-video\",\r\n  category: \"media\",\r\n  keywords: [__(\"HTML5 Video Player\", \"h5vp\"), __(\"Media Player\", \"h5vp\")],\r\n  supports: {\r\n    inserter: false,\r\n    reusable: false,\r\n    html: false,\r\n  },\r\n\r\n  edit: (props) => {\r\n    const blockProps = useBlockProps();\r\n    const { clientId, isSelected } = props;\r\n    const innerBlocks = useSelect((select) => select(\"core/block-editor\").getBlock(clientId).innerBlocks);\r\n    const [isPremium, setIsPremium] = useState(h5vpBlock?.isPipe);\r\n\r\n    useEffect(() => {\r\n      if (isSelected) {\r\n        wp.data.dispatch(\"core/edit-post\").openGeneralSidebar(\"edit-post/block\");\r\n      }\r\n    }, [isSelected]);\r\n\r\n    // make sure we don't check template validity because is's buggy as fuck\r\n    dispatch(\"core/block-editor\").setTemplateValidity(true);\r\n\r\n    // don't add reusable videos to a reusable video\r\n\r\n    const insertBlockType = (type) => {\r\n      const block = wp.blocks.createBlock(`html5-player/${type}`);\r\n      return dispatch(\"core/block-editor\").insertBlock(block, 0, clientId);\r\n    };\r\n\r\n    const appenderToUse = () => {\r\n      if (innerBlocks.length === 0) {\r\n        return <InnerBlocks.ButtonBlockAppender />;\r\n      } else {\r\n        return false;\r\n      }\r\n    };\r\n\r\n    if (!innerBlocks?.length) {\r\n      return (\r\n        <div>\r\n          {/* {!h5vpBlock?.isPipe && <PremiumPopup />} */}\r\n          <div {...blockProps}>\r\n            <Placeholder\r\n              icon={\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"24\"\r\n                  height=\"24\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"2\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  className=\"html5-block-icon\"\r\n                >\r\n                  <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\r\n                  <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\r\n                </svg>\r\n              }\r\n              instructions={__(\"Choose a video type to get started.\", \"h5vp\")}\r\n              label={__(\"Choose a Video Type\", \"h5vp\")}\r\n            >\r\n              <Button\r\n                isPrimary\r\n                onClick={() => {\r\n                  insertBlockType(\"video\");\r\n                }}\r\n              >\r\n                {__(\"Video\", \"h5vp\")}\r\n              </Button>\r\n              <Button\r\n                disabled={!isPremium}\r\n                isPrimary\r\n                onClick={() => {\r\n                  insertBlockType(\"youtube\");\r\n                }}\r\n              >\r\n                {__(\"Youtube\", \"h5vp\")}\r\n              </Button>\r\n              <Button\r\n                disabled={!isPremium}\r\n                isPrimary\r\n                onClick={() => {\r\n                  insertBlockType(\"vimeo\");\r\n                }}\r\n              >\r\n                {__(\"Vimeo\", \"h5vp\")}\r\n              </Button>\r\n              {!isPremium && <p style={{ marginTop: \"8px\", fontSize: \"15px\", color: \"#d52525\" }}>{__(\"Youtube and Vimeo is available on pro version!\", \"h5vp\")}</p>}\r\n            </Placeholder>\r\n            <InnerBlocks templateLock={false} allowedBlocks={[\"html5-player/video\", \"html5-player/vimeo\", \"html5-player/youtube\"]} renderAppender={() => false} />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div {...blockProps}>\r\n          <InnerBlocks templateLock={false} allowedBlocks={[\"html5-player/video\", \"html5-player/vimeo\", \"html5-player/youtube\"]} renderAppender={() => appenderToUse()} />\r\n        </div>\r\n      </div>\r\n    );\r\n  },\r\n\r\n  save: () => {\r\n    const blockProps = useBlockProps.save();\r\n    return (\r\n      <div {...blockProps}>\r\n        <InnerBlocks.Content />\r\n      </div>\r\n    );\r\n  },\r\n});\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","NOTHING","Symbol","for","DRAFTABLE","DRAFT_STATE","die","error","args","Error","getPrototypeOf","isDraft","value","isDraftable","isPlainObject","Array","isArray","constructor","isMap","isSet","objectCtorString","toString","proto","Ctor","Function","each","iter","getArchtype","entries","forEach","entry","index","thing","state","type_","has","set","propOrOldValue","t","add","target","Map","Set","latest","copy_","base_","shallowCopy","base","strict","slice","create","assign","descriptors","getOwnPropertyDescriptors","keys","Reflect","ownKeys","i","length","desc","writable","configurable","freeze","deep","isFrozen","clear","delete","dontMutateFrozenCollections","_key","currentScope","plugins","getPlugin","pluginKey","plugin","getCurrentScope","usePatchesInScope","scope","patchListener","patches_","inversePatches_","patchListener_","revokeScope","leaveScope","drafts_","revokeDraft","parent_","enterScope","immer2","immer_","canAutoFreeze_","unfinalizedDrafts_","createScope","draft","revoke_","revoked_","processResult","result","baseDraft","modified_","finalize","maybeFreeze","generateReplacementPatches_","rootScope","path","childValue","finalizeProperty","scope_","finalized_","resultEach","isSet2","generatePatches_","parentState","targetObject","rootPath","targetIsSet","res","assigned_","concat","autoFreeze_","objectTraps","source","getDescriptorFromProto","draft_","readPropFromProto","peek","prepareCopy","createProxy","current2","currentState","x","y","is","markChanged","Number","isNaN","deleteProperty","getOwnPropertyDescriptor","owner","setPrototypeOf","arrayTraps","useStrictShallowCopy_","fn","arguments","apply","this","parent","proxyMap_","proxySet_","isManual_","traps","revoke","proxy","Proxy","revocable","createProxyProxy","push","currentImpl","copy","immer","config","produce","recipe","defaultBase","self","base2","hasError","p","ip","produceWithPatches","patches","inversePatches","autoFreeze","setAutoFreeze","useStrictShallowCopy","setUseStrictShallowCopy","createDraft","current","finishDraft","applyPatches","patch","op","applyPatchesImpl","applyPatches_","bind","__","wp","i18n","PanelBody","PanelRow","FormToggle","components","_ref","attributes","options","updateOption","controls","controlSettings","label","control","React","createElement","map","_ref2","htmlFor","className","id","checked","includes","onChange","originalControls","item","newControls","filter","handleControl","Fragment","element","MediaUpload","MediaUploadCheck","blockEditor","Button","TextControl","type","onSelect","placeholder","image","url","render","open","onClick","icon","fileUrl","action","params","undefined","isLoading","setIsLoading","useState","isError","setIsError","setError","data","setData","ajax","console","sendRequest","payload","post","done","fail","request","async","useEffect","saveData","refetch","html","temp","document","innerHTML","content","firstChild","input","test","isPremium","Component","setOpen","restProps","_extends","labelMiddleWare","val","__experimentalNumberControl","NumberControl","SelectControl","TextareaControl","ButtonGroup","setAttributes","handleOptions","handleFeatures","poster","features","autoplay","muted","hideControls","seekTime","preload","ratio","ads","playsinline","resetOnEnd","loop","urls","hideYoutubeUI","playWhenVisible","disablePause","thumbInPause","sticky","startTime","hideLoadingPlaceholder","isYoutubeURL","library","title","initialOpen","BMediaUpload","help","BControlPro","ToggleControl","enabled","download","active","labelPosition","position","isShiftStepEnabled","parseInt","shiftStep","parseFloat","step","autoComplete","tagUrl","Dropdown","ColorPicker","props","defaultColor","disableAlpha","boxPosition","globalColors","setState","renderToggle","isOpen","onToggle","style","display","backgroundColor","renderContent","onClose","color","onChangeComplete","c","rgb","r","g","b","hex","items","overlay","fontSize","link","logo","text","opacity","handleOverlay","UnitControl","BColor","RangeControl","min","max","captionEnabled","subtitle","handleSubtitle","property","newSubtitle","PremiumText","caption_file","splice","removSubtitle","isPrimary","captions","quality","handleQuality","newQuality","size","video_file","removQuality","watermark","updateWatermark","marginBottom","__nextHasNoMarginBottom","__experimentalUnitControl","updateFeatures","popupBtnStyle","selector","hasBtn","btnText","align","btnStyle","popup","padding","updatePopup","units","default","BoxControl","values","variant","panelBodyController","setTimeout","panelBodies","querySelectorAll","clickEveryItem","removeEventListener","getAttribute","isEqualNode","click","addEventListener","panelRef","btnLink","endScreen","handleEndScreen","log","ref","autoHideControl","playinline","repeat","radius","styles","speed","width","chapters","imported","overlayBackground","overlayFontSize","fz","overlayLink","overlayOpacity","overlayPosition","overlayText","overlayTextColor","overlayType","overlayLogo","CDURL","isCDURL","endscreen","endscreenText","endscreenTextLink","vastTag","popupBtnText","popupBtnClass","popupBtnExists","autoplayWhenVisible","popupType","handleStyles","newStyles","isDeprecated","plyr_wrapper","number","unit","plyr","borderRadius","markers","points","chapter","time","name","Flex","FlexItem","FlexBlock","useRef","pointsDraft","setPointsDraft","Chapter","onRemove","itemIndex","pointsCopy","handleRemove","newChapter","handleChapter","point","addNew","onAdd","handleAdd","minusWrapper","marginLeft","onMouseEnter","onMouseLeave","charset","randomString","randomIndex","Math","floor","random","charAt","withSelect","select","isSavingPost","useWPAjax","nonce","h5vpAdmin","model","method","password","heading","errorMessage","button","passwordProtected","passwordVisible","setPasswordVisible","generateUniqueID","fill","height","viewBox","preserveAspectRatio","xmlns","xmlnsXlink","cx","cy","fillOpacity","TabPanel","Panel","InspectorControls","getCurrentPostId","clientId","uniqueId","substr","postId","additionalCSS","additionalID","postType","getCurrentPostType","updateHandler","updateStyle","attr","handleUnitChange","activeClass","tabs","tab","RefactorDataStructure","Settings","Markers","Overlay","EndScreen","PasswordProtected","Subtitle","Quality","split","Popup","Watermark","BControls","isResetValueOnUnitChange","onUnitChange","u","callbacks","e","dispatchEvent","n","Event","s","extractFileNamesWithoutExtension","filePath","parts","replace","EventEmitter","media","super","fullscreen","container","iosNative","local","window","h5vpBlock","closest","offsetWidth","volume","storage","player","Plyr","h5vpI18n","src","pop","videoHls","videoDash","init","on","play","elements","buttons","mute","setSource","qualities","setIsPremium","sources","tracks","info","kind","srclang","track","appendChild","reInit","location","pathname","pause","currentTime","makeElementSticky","createChapter","pauseOther","createView","disabled","controlTouchAction","interval","videoId","pending","maxViewed","localStorage","getItem","created_at","Date","JSON","parse","setItem","stringify","viewCreated","condition","playing","video_id","duration","scrollPlayed","offsetParent","offsetTop","scrollY","originalTop","getBoundingClientRect","top","closeBtn","htmlToElement","closeBtnExists","querySelector","classList","remove","wrapper","chapterTimeToSeconds","exists","chapterWrapper","chapterListWrapper","markerControl","chapterList","chapterItem","onclick","contains","event","volumeElem","menu","before","after","plyrWrapper","response","user","origin","tag","watermarkInterval","setInterval","watermarkElement","removeChild","round","span","setAttribute","innerText","clearInterval","img","overlaid","destroy","match","getTTT","f","callback","setNonce","setVideoId","initializeHls","Hls","isSupported","hls","loadSource","attachMedia","ready","Events","MANIFEST_PARSED","stopLoad","startLoad","subtitleTrack","currentTrack","warn","hlsScript","getElementById","getElementsByTagName","prepend","dashScript","dashjs","MediaPlayer","initialize","dash","body","videoWrapper","eventListeners","eventListener","parentNode","rect","clientX","left","forward","rewind","toggle","touchClientX","touches","touchClientY","clientY","deltaX","deltaY","changedTouches","abs","hpublic","dataset","domAttributesToObjectList","resultArray","attribute","getStoredSettings","hoverColor","href","rel","join","focusable","xlinkHref","reference","crossOrigin","maxWidth","caption","srcLang","background","allowfullscreen","allowtransparency","allow","vimeoPattern","endScreenRef","stop","handleClose","inputString","toLowerCase","CSS","setCSS","css","itemCSS","key2","camelToKebabCase","dangerouslySetInnerHTML","__html","borderTopColor","setSrc","setQualities","checkPassword","passwordChecking","passwordError","setPasswordError","setPassword","onSubmit","preventDefault","SimpleLoader","borderWidth","provider","setPlayer","videoSource","setVideoSource","playerRef","MyPlayer","isVimeoLink","Style","PopupOpener","PasswordForm","Vimeo","Youtube","Video","autoPlay","playsInline","Placeholder","isPipe","isSelected","mediaSource","setMediaSource","valid","setValid","dispatch","openGeneralSidebar","validURL","str","RegExp","BSettings","VideoPlayer","stroke","strokeWidth","strokeLinecap","strokeLinejoin","rx","ry","instructions","margin","registerBlockType","blocks","metadata","edit","Edit","save","getEditWrapperProps","example","InnerBlocks","useBlockProps","useSelect","Modal","category","keywords","supports","inserter","reusable","blockProps","innerBlocks","getBlock","setTemplateValidity","insertBlockType","block","createBlock","insertBlock","templateLock","allowedBlocks","renderAppender","ButtonBlockAppender","marginTop","Content"],"sourceRoot":""}