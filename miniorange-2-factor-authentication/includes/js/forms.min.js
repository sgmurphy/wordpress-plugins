jQuery("#forms").addClass("mo2f-subtab-active"),jQuery("#mo_2fa_two_fa").addClass("side-nav-active");const activeTab=localStorage.getItem("activeTab")||"mo2f_login_btn";function switchTab(e){localStorage.setItem("activeTab",e);const o=jQuery("#mo2f_login_form_settings"),s=jQuery("#mo2f_registration_form_settings"),t=jQuery("#mo2f_login_btn"),r=jQuery("#mo2f_register_button");"mo2f_login_btn"===e?(o.removeClass("hidden"),s.addClass("hidden"),t.addClass("active"),r.removeClass("active")):(o.addClass("hidden"),s.removeClass("hidden"),t.removeClass("active"),r.addClass("active"))}function registerwithminiOrange(){jQuery("#my_account_2fa").click()}function validate_selector(e){let o=!1;return/^#/.test(e)&&(o=!0),/^\./.test(e)&&(o=!0),/^input\[name=/.test(e)&&(o=!0),o}console.log(activeTab),jQuery(document).ready((function(){switchTab(localStorage.getItem("activeTab")||"mo2f_login_btn"),jQuery("#mo2f_login_btn").click((function(){switchTab("mo2f_login_btn")})),jQuery("#mo2f_register_button").click((function(){switchTab("mo2f_register_button")}));let e=forms.formArray,o=jQuery;o("#mo2f_shortcode_form_selector").prop("disabled",!0),o("#mo2f_shortcode_submit_selector").prop("disabled",!0),o("#mo2f_shortcode_email_selector").prop("disabled",!0);let s=!1;is_registered=forms.isRegistered,o("#phoneDiv").css("display","none"),r(),o("#mo2f_method_phone").change((function(){o("#mo2f_method_phone").is(":checked")?o("#phoneDiv").css("display","inherit"):o("#phoneDiv").css("display","none")})),is_registered||(o("#mo2f_use_shortcode_config").prop("checked",!1),o("#mo2f_use_shortcode_config").prop("disabled",!0));var t=localStorage.getItem("activeform");function r(){let s=o("#regFormList").prop("selectedIndex");s<o("#regFormList option").length-1?o("#selector_div div").css("display","none"):(o("#mo2f_shortcode_email_selector").prop("disabled",!1),o("#mo2f_shortcode_form_selector").prop("disabled",!1),o("#mo2f_shortcode_phone_selector").prop("disabled",!1),o("#mo2f_shortcode_submit_selector").prop("disabled",!1),o("#selector_div div").css("display","inherit")),o("#mo2f_shortcode_form_selector").val(e[s].formSelector),o("#mo2f_shortcode_submit_selector").val(e[s].submitSelector),o("#mo2f_shortcode_email_selector").val(e[s].emailSelector),null!==e[s].phoneSelector&&(o("#phoneDiv").css("display","block"),o("#mo2f_shortcode_phone_selector").val(e[s].phoneSelector)),0===s&&o("#mo2f_shortcode_phone_selector").val("#wp-register")}function i(){o("#formDiv").css("display","block"),o("#submitDiv").css("display","block"),o("#emailDiv").css("display","block"),o("#mo2f_shortcode_form_selector").val(forms.formSelector),o("#mo2f_shortcode_submit_selector").val(forms.submitSelector),o("#mo2f_shortcode_email_selector").val(forms.emailSelector)}o("#regFormList").val(t),"customform"===t&&i(),o("#regFormList").change(r),o("#regFormList").on("change",(function(){var e=o(this).val();localStorage.setItem("activeform",e),"customform"===e?(s=!0,i()):(o("#formDiv").css("display","none"),o("#submitDiv").css("display","none"),o("#emailDiv").css("display","none"))})),o("#mo2f_form_config_save").click((function(){var e="mo2f_enable_custom_login_save_button";if(is_registered=fomrs.isRegistered,is_registered){let t,r,i,l,c;if(c=o("#mo2f_form_submit_after_validation").is(":checked"),l=o("#mo2f_use_shortcode_config").is(":checked"),t=o("#mo2f_method_phone").is(":checked"),r=o("#mo2f_method_email").is(":checked"),email_selector=o("#mo2f_shortcode_email_selector").val(),phone_selector=o("#mo2f_shortcode_phone_selector").val(),form_selector=o("#mo2f_shortcode_form_selector").val(),submit_selector=o("#mo2f_shortcode_submit_selector").val(),i=!0===r&&!0===t?"both":!1===r&&!0===t?forms.authTypePhone:forms.authTypeEmail,error="","both"!==i&&i!==forms.authTypeEmail||""===email_selector&&(error="Add email selector to use OTP Over Email"),"both"!==i&&i!==forms.authTypePhone||""===phone_selector&&(error="Add phone selector to use OTP Over SMS"),validate_selector(email_selector)||(error="NOTE: Please enter valid selectors. Element's ID Selector looks like #element_id and Element's name Selector looks like input[name=element_name]."),""!=error)saveSettingsErrorsMsg(e,error);else{let t={action:"mo2f_login_settings_ajax",option:"mo2f_save_custom_form_settings",mo2f_nonce_save_form_settings:o("#mo2f_nonce_save_form_settings").val(),nonce:forms.nonce,submit_selector:submit_selector,form_selector:form_selector,email_selector:email_selector,phone_selector:phone_selector,authType:i,customForm:s,enableShortcode:l,formSubmit:c};jQuery.post(ajaxurl,t,(function(o){"fields_empty"==o.data?saveSettingsErrorsMsg(e,"One or more fields are empty!"):o.success?saveSettingsSuccessMsg(e,"Settings saved successfully!"):saveSettingsErrorsMsg(e,"Error occured while saving the settings.")}))}}else error_msg("Please Register/Login with miniOrange")}))}));