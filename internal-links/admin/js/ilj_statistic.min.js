"use strict";var __webpack_exports__={},__webpack_modules__={"./assets/admin/js/components/ilj_modal.js":(t,e,a)=>{function i(t,e){var a=jQuery("<div/>").addClass("ilj_modal show"),i=jQuery("<div/>").addClass("ilj_modal_wrap").append(a),s=jQuery("<div/>").addClass("ilj_modal_header").append(jQuery("<h2 />").text(t)),n=jQuery("<div/>").addClass("ilj_modal_body").html(e),r=jQuery("<div/>").addClass("ilj_modal_footer").append(jQuery("<button/>").text("OK").addClass("button button-primary").on("click",(function(t){o(t)}))),o=function(){a.removeClass("show").addClass("hide"),jQuery("body").css({overflowY:"auto"}),setTimeout((function(){i.remove()}),200)}.bind(i);a.append(s),a.append(n),a.append(r),jQuery("body").append(i).css({overflowY:"hidden"})}a.r(e),a.d(e,{iljCreateModal:()=>i})}},__webpack_module_cache__={};function __nested_webpack_require_1850__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var a=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](a,a.exports,__nested_webpack_require_1850__),a.exports}__nested_webpack_require_1850__.d=(t,e)=>{for(var a in e)__nested_webpack_require_1850__.o(e,a)&&!__nested_webpack_require_1850__.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},__nested_webpack_require_1850__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__nested_webpack_require_1850__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __nested_webpack_exports__={};(()=>{__nested_webpack_require_1850__.r(__nested_webpack_exports__);var t=__nested_webpack_require_1850__("./assets/admin/js/components/ilj_modal.js");!function(e){e.fn.ilj_tabnav=function(){var t=this;e(this).find(".nav-tab-wrapper").on("click","a",(function(){e(this).addClass("nav-tab-active"),e(this).siblings("a").removeClass("nav-tab-active"),t.find(".tab-content").removeClass("active"),t.find(".tab-content#"+e(this).data("target")).addClass("active")}))};var a={width:"",maxWidth:"200",useTitle:!0,delay:100,speed:500,background:"#32373c",color:"#eeeeee",size:"small"},i={aria:{sortAscending:ilj_statistic_translation.datatables_aria_sortAscending,sortDescending:ilj_statistic_translation.datatables_aria_sortDescending},paginate:{first:ilj_statistic_translation.datatables_paginate_first,last:ilj_statistic_translation.datatables_paginate_last,next:ilj_statistic_translation.datatables_paginate_next,previous:ilj_statistic_translation.datatables_paginate_previous},emptyTable:ilj_statistic_translation.datatables_empty_table,info:ilj_statistic_translation.datatables_info,infoEmpty:ilj_statistic_translation.datatables_info_empty,infoFiltered:ilj_statistic_translation.datatables_info_filtered,lengthMenu:ilj_statistic_translation.datatables_length_menu,loadingRecords:ilj_statistic_translation.datatables_loading_records,processing:ilj_statistic_translation.datatables_processing,search:ilj_statistic_translation.datatables_search,zeroRecords:ilj_statistic_translation.datatables_zero_records},s="",n="",r=1e3;e(document).ready((function(){var t=e(".warning-tip");if(t.length){var i=e.extend(Object.assign({},a),{tooltipHover:!0,useTitle:!1,content:e("<div/>").html(t.find(".the-tip").html()).css({margin:"10px 20px",display:"block"}),maxWidth:"250px"});t.iljtipso(i)}})),e(document).ready((function(){var o=function(t){var a=function(t){var a={};return t.dataTable().api().rows().every((function(i){var s=t.dataTable().api().row(i).data(),n=e(s[2].display),r=n.attr("data-type"),o=n.text();void 0===a[r]&&(a[r]=[]),a[r].push(o)})),e.each(a,(function(t,e){a[t]=a[t].filter((function(t,e,a){return a.indexOf(t)==e}))})),a}(t),i=e("<div/>").addClass("ilj-type-filter-wrapper"),s=e("<ul/>"),n=e("<a/>").addClass("ilj-type-filter-dropdown").text(ilj_statistic_translation.filter_type).on("click",(function(){i.toggleClass("show")}));return i.append(n,s),s.activeTypes=[],s.activeTypes.remove=function(t){var e=this.indexOf(t);e>-1&&this.splice(e,1)},e.each(a,(function(a,i){var n=function(t){switch(t){case"post":t=ilj_statistic_translation.filter_section_posts_pages;break;case"term":t=ilj_statistic_translation.filter_section_taxonomies;break;case"custom":t=ilj_statistic_translation.filter_section_custom_links}return t}(a),r=e("<li/>").html(e("<span/>").text(n)),o=e("<ul/>");s.append(r),i.length&&r.append(o),e.each(i,(function(i,n){var r=e("<input/>").attr({type:"checkbox",checked:"checked"}).on("change",(function(){var i=a+";"+n;!0===e(this).prop("checked")?s.activeTypes.push(i):s.activeTypes.remove(i);var r=t.dataTable().api().column("th.type"),o=s.activeTypes.length?s.activeTypes.join("|"):null;r.search(o,!0,!1).draw()})),l=e("<label/>").html(e("<span/>").text(n).attr("data-type",a)),c=e("<li/>").addClass("type").html(l);s.activeTypes.push(a+";"+n),l.prepend(r),o.append(c)}))})),i},l=e(".ilj-statistic").find(".nav-tab-wrapper");l.length&&e(".ilj-statistic").ilj_tabnav(),e(".tip").iljtipso(a),function n(c){jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"load_statistics_chunk",nonce:ilj_dashboard.nonce,start_count:c,chunk_size:r},success:function(d){"null"!=d&&(s+=d),c+=r,"null"!=d?n(c):function(){!function(){var t=document.createElement("table");t.className="ilj-statistic-table-links display";var e=document.createElement("thead"),a=document.createElement("tr");header_titles.forEach((t=>{var e=document.createElement("th");"Type"===t&&(e.className="type"),e.textContent=t,a.appendChild(e)})),e.appendChild(a);var i=document.createElement("tbody");t.appendChild(e),t.appendChild(i);var s=document.getElementById("statistic-links");s&&s.appendChild(t)}();var n=jQuery(".ilj-statistic-table-links");jQuery(".ilj-statistic-table-links tbody").append(s),l.show(),e("#statistic-links").html(n),n.DataTable({stateSave:!1,columnDefs:[{orderable:!1,targets:5},{responsivePriority:1,targets:0},{responsivePriority:2,targets:3},{responsivePriority:3,targets:4},{responsivePriority:4,targets:5}],language:i,stateLoaded:function(t,e){n.find(".tip").iljtipso(a)},initComplete:function(){var t=o(n);e("#statistic-links .dataTables_wrapper .dataTables_filter").append(t)},responsive:!0}),n.find(".tip").iljtipso(a),n.on("click",".ilj-statistic-detail",(function(){e(".ilj-statistic-cover").show();var a=e(this).data("id"),i=e(this).data("type"),s=e(this).data("direction"),n="",r=0,o=e(this).closest("tr").find("td.asset-title").text();"to"==s?(n=ilj_statistic_translation.incoming_links,r=e(this).closest('a[data-direction="to"]').text()):"from"==s&&(n=ilj_statistic_translation.outgoing_links,r=e(this).closest('a[data-direction="from"]').text());var l={action:"ilj_render_link_detail_statistic",id:a,type:i,direction:s};e.ajax({url:ajaxurl,type:"POST",data:l}).done((function(a){(0,t.iljCreateModal)(n+' "'+o+'" ('+r+")",e("<div/>").addClass("ilj-statistic").html(a)),e(".ilj-statistic-cover").hide()}))}))}()},error:function(t){console.log("Error loading statistics: ",t)}})}(0),function s(o){jQuery.ajax({type:"POST",url:ajaxurl,data:{action:"load_anchor_statistics_chunk",nonce:ilj_dashboard.nonce,start_count:o,chunk_size:r},success:function(l){"null"!=l&&(n+=l),o+=r,"null"!=l?s(o):function(){!function(){var t=document.createElement("table");t.className="ilj-statistic-table-anchors display";var e=document.createElement("thead"),a=document.createElement("tr");"undefined"!=typeof headerLabels&&headerLabels.forEach((function(t){var e=document.createElement("th");e.textContent=t,a.appendChild(e)})),e.appendChild(a);var i=document.createElement("tbody");t.appendChild(e),t.appendChild(i);var s=document.getElementById("statistic-anchors");s&&s.appendChild(t)}();var s=jQuery(".ilj-statistic-table-anchors");jQuery(".ilj-statistic-table-anchors tbody").append(n),e("#statistic-anchors").html(s),s.DataTable({stateSave:!1,language:i,stateLoaded:function(t,e){s.find(".tip").iljtipso(a)},columnDefs:[{responsivePriority:1,targets:0},{responsivePriority:2,targets:3},{responsivePriority:3,targets:2},{responsivePriority:4,targets:1}],responsive:!0}),s.on("click",".ilj-statistic-detail",(function(){e(".ilj-statistic-cover").show();var a=e(this).data("anchor"),i=e(this).text(),s={action:"ilj_render_anchor_detail_statistic",anchor:a};e.ajax({url:ajaxurl,type:"POST",data:s}).done((function(s){(0,t.iljCreateModal)(ilj_statistic_translation.anchor_text+' "'+a+'" ('+i+")",e("<div/>").addClass("ilj-statistic").html(s)),e(".ilj-statistic-cover").hide()}))}))}()},error:function(t){console.log("Error loading statistics: ",t)}})}(0)})),e(document).on("mouseup",(function(t){var a=e(".ilj-type-filter-wrapper");a.is(t.target)||0!==a.has(t.target).length||a.removeClass("show")}))}(jQuery)})();
//# sourceMappingURL=ilj_statistic.min.js.map