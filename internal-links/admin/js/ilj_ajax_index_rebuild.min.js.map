{"version":3,"file":"ilj_ajax_index_rebuild.min.js","mappings":"2BAAIA,oBAAsB,CAAC,EAI3BC,OAAOC,UAAUC,OAAM,WACrB,IAAIC,EAAQ,KAEZH,OAAOC,UAAUG,GAAG,QAAS,6BAA6B,SAAUC,GAElE,GADAA,EAAEC,kBACEN,OAAOO,MAAMC,KAAK,YAAtB,CAGAR,OAAOO,MAAME,MAAMT,OAAO,8FAI1BA,OAAOU,KAAK,CACVC,IAAKC,QACLC,KAAM,OACNC,KANS,CACT,OAAU,qBAMVC,WAAY,CACV,IAAK,SAAUC,GACb,MAAI,KAAmBA,IAAQ,CAAC,UAAW,SAASC,SAASD,EAAIE,aAAaC,QAI9DnB,OAAOgB,EAAIE,aAAaE,cAHtBpB,OAAOqB,yBAAyBC,UAIpD,GAEFC,QAAS,SAAUT,EAAMU,EAAYR,GACnBhB,OAAOc,EAAKM,SAC5BpB,OAAO,8BAA8ByB,KAAKT,EAAIE,aAAaE,QAC7D,IAEFpB,OAAOO,MAAMmB,SAAS,UACtB1B,OAAO,qCAAqC2B,YAAY,UAC3C,MAATxB,GACFyB,cAAczB,GAEhBA,EAAQ0B,aAAY,WAClB7B,SAAS8B,sBAAsB3B,EACjC,GAnCQ,IAKR,CA+BF,IACAH,OAAOC,UAAUG,GAAG,QAAS,qCAAqC,SAAUC,GAE1E,GADAA,EAAEC,kBACEN,OAAOO,MAAMC,KAAK,YAAtB,CAGAR,OAAO,8BAA8ByB,KAAK,IACS,GAA/CzB,OAAO,8BAA8B+B,QACvC/B,OAAOO,MAAMyB,OAAOhC,OAAO,8FAK7BA,OAAOU,KAAK,CACVC,IAAKC,QACLC,KAAM,OACNC,KANS,CACT,OAAU,qBAMVC,WAAY,CACV,IAAK,SAAUC,GACb,MAAI,KAAmBA,IAAQ,CAAC,UAAW,SAASC,SAASD,EAAIE,aAAaC,QAI9DnB,OAAOgB,EAAIE,aAAaE,cAHtBpB,OAAOqB,yBAAyBC,UAIpD,GAEFC,QAAS,SAAUT,EAAMU,EAAYR,GACnBhB,OAAOc,EAAKM,SAC5BpB,OAAO,8BAA8ByB,KAAKT,EAAIE,aAAaE,QAC7D,IAEW,MAATjB,GACFyB,cAAczB,GAEhBA,EAAQ0B,aAAY,WAClB7B,SAAS8B,sBAAsB3B,EACjC,GAxEQ,IAyCR,CAgCF,GACF","sources":["webpack://wp-internal-linkjuicer/./src/admin/js/ilj_ajax_index_rebuild.js"],"sourcesContent":["var __webpack_exports__ = {};\n/*!************************************************!*\\\n  !*** ./src/admin/js/ilj_ajax_index_rebuild.js ***!\n  \\************************************************/\njQuery(document).ready(function () {\n  var timer = null,\n    delay = 3000;\n  jQuery(document).on('click', '.button.ilj-index-rebuild', function (e) {\n    e.preventDefault();\n    if (jQuery(this).attr('disabled')) {\n      return;\n    }\n    jQuery(this).after(jQuery('<span id=\"ilj-index-rebuild-spinner\" class=\"spinner is-active\" style=\"float:none\"></span>'));\n    var data = {\n      'action': 'ilj_rebuild_index'\n    };\n    jQuery.ajax({\n      url: ajaxurl,\n      type: \"POST\",\n      data: data,\n      statusCode: {\n        500: function (xhr) {\n          if (!\"responseJSON\" in xhr || ![\"success\", \"error\"].includes(xhr.responseJSON.status)) {\n            var $feedback = jQuery(ilj_index_rebuild_button.error_500);\n            return;\n          }\n          var $feedback = jQuery(xhr.responseJSON.message);\n        }\n      },\n      success: function (data, textStatus, xhr) {\n        var $feedback = jQuery(data.message);\n        jQuery('#ilj-index-rebuild-message').html(xhr.responseJSON.message);\n      }\n    });\n    jQuery(this).addClass('hidden');\n    jQuery(\".button.ilj-index-restart-rebuild\").removeClass(\"hidden\");\n    if (timer != null) {\n      clearInterval(timer);\n    }\n    timer = setInterval(function () {\n      jQuery().updateLinkIndexStatus(timer);\n    }, delay);\n  });\n  jQuery(document).on('click', '.button.ilj-index-restart-rebuild', function (e) {\n    e.preventDefault();\n    if (jQuery(this).attr('disabled')) {\n      return;\n    }\n    jQuery('#ilj-index-rebuild-message').html(\"\");\n    if (jQuery(\"#ilj-index-rebuild-spinner\").length == false) {\n      jQuery(this).before(jQuery('<span id=\"ilj-index-rebuild-spinner\" class=\"spinner is-active\" style=\"float:none\"></span>'));\n    }\n    var data = {\n      'action': 'ilj_rebuild_index'\n    };\n    jQuery.ajax({\n      url: ajaxurl,\n      type: \"POST\",\n      data: data,\n      statusCode: {\n        500: function (xhr) {\n          if (!\"responseJSON\" in xhr || ![\"success\", \"error\"].includes(xhr.responseJSON.status)) {\n            var $feedback = jQuery(ilj_index_rebuild_button.error_500);\n            return;\n          }\n          var $feedback = jQuery(xhr.responseJSON.message);\n        }\n      },\n      success: function (data, textStatus, xhr) {\n        var $feedback = jQuery(data.message);\n        jQuery('#ilj-index-rebuild-message').html(xhr.responseJSON.message);\n      }\n    });\n    if (timer != null) {\n      clearInterval(timer);\n    }\n    timer = setInterval(function () {\n      jQuery().updateLinkIndexStatus(timer);\n    }, delay);\n  });\n});\n"],"names":["__webpack_exports__","jQuery","document","ready","timer","on","e","preventDefault","this","attr","after","ajax","url","ajaxurl","type","data","statusCode","xhr","includes","responseJSON","status","message","ilj_index_rebuild_button","error_500","success","textStatus","html","addClass","removeClass","clearInterval","setInterval","updateLinkIndexStatus","length","before"],"sourceRoot":""}