{"version":3,"file":"ilj_admin_menu_bar.min.js","mappings":"2BAAIA,oBAAsB,CAAC,GAI3B,SAAWC,GACTA,EAAEC,UAAUC,OAAM,WAChB,IAAIC,EAEJA,EAAQC,aAAY,WAClBJ,IAAIK,sBAAsBF,EAC5B,GAHU,IAIZ,IACAH,EAAEM,GAAGD,sBAAwB,SAAUF,GACrC,IAAII,EAAO,CACTC,OAAQ,wBACRC,MAAOC,gBAAgBD,OAEzBE,oBAAsBC,WAAWZ,EAAE,uBAAuBa,QAC1Db,EAAEc,KAAK,CACLC,IAAKL,gBAAgBM,QACrBC,KAAM,OACNV,KAAMA,IACLW,MAAK,SAAUX,GAChBY,kBAAoBZ,EACpBP,EAAE,qBAAqBa,KAAKM,kBAAkBC,QAC1CpB,EAAE,qBAAqBqB,QACzBrB,EAAE,qBAAqBa,KAAKM,kBAAkBC,QAEhDpB,EAAE,oBAAoBsB,QAAQ,CAC5BC,MAAOJ,kBAAkBK,SAAW,KACnC,CACDC,SAAU,IACVC,OAAQ,UAENf,qBAAuBQ,kBAAkBK,UAC3CxB,EAAE,CACA2B,QAAShB,sBACRW,QAAQ,CACTK,QAASR,kBAAkBK,UAC1B,CACDC,SAAU,IACVC,OAAQ,QACRE,KAAM,WACJ5B,EAAE,uBAAuBa,KAAKgB,KAAKC,KAAKC,KAAKJ,SAAW,IAC1D,EACAK,OAAQ,WACNhC,EAAE,uBAAuBa,KAAKgB,KAAKC,KAAKX,kBAAkBK,UAAY,IACxE,IAGiC,GAAjCL,kBAAkBc,cACpBC,cAAc/B,GAKpB,SAAiCgC,GAC3BnC,EAAE,6BAA6BqB,SACjCrB,EAAE,6BAA6BoC,YAAY,UAC3CpC,EAAE,qCAAqCqC,SAAS,UAChDrC,EAAE,8BAA8BsC,SAChCtC,EAAE,8BAA8BuC,KAAK,KAEnCvC,EAAE,wBAAwBqB,QACJ,IAApBc,IACFnC,EAAE,wBAAwBuC,KAAKJ,EAAiBK,iBAChDxC,EAAE,kCAAkCuC,KAAKJ,EAAiBM,gBAC1DzC,EAAE,mBAAmBuC,KAAKJ,EAAiBO,YAGjD,CAlBMC,CAAwBxB,mBAE5B,GACF,CAgBD,CAnED,CAmEGyB","sources":["webpack://wp-internal-linkjuicer/./src/admin/js/ilj_admin_menu_bar.js"],"sourcesContent":["var __webpack_exports__ = {};\n/*!********************************************!*\\\n  !*** ./src/admin/js/ilj_admin_menu_bar.js ***!\n  \\********************************************/\n(function ($) {\n  $(document).ready(function () {\n    var timer,\n      delay = 3000;\n    timer = setInterval(function () {\n      $().updateLinkIndexStatus(timer);\n    }, delay);\n  });\n  $.fn.updateLinkIndexStatus = function (timer) {\n    var data = {\n      action: \"ilj_render_batch_info\",\n      nonce: ilj_ajax_object.nonce\n    };\n    $old_progress_value = parseFloat($(\"#ilj_batch_progress\").text());\n    $.ajax({\n      url: ilj_ajax_object.ajaxurl,\n      type: \"POST\",\n      data: data\n    }).done(function (data) {\n      $batch_build_info = data;\n      $(\"#ilj_batch_status\").text($batch_build_info.status);\n      if ($('#ilj-index-status').length) {\n        $('#ilj-index-status').text($batch_build_info.status);\n      }\n      $(\"#progressbar>div\").animate({\n        width: $batch_build_info.progress + \"%\"\n      }, {\n        duration: 1000,\n        easing: 'swing'\n      });\n      if ($old_progress_value != $batch_build_info.progress) {\n        $({\n          Counter: $old_progress_value\n        }).animate({\n          Counter: $batch_build_info.progress\n        }, {\n          duration: 1000,\n          easing: 'swing',\n          step: function () {\n            $('#ilj_batch_progress').text(Math.ceil(this.Counter) + \"%\");\n          },\n          always: function () {\n            $('#ilj_batch_progress').text(Math.ceil($batch_build_info.progress) + \"%\");\n          }\n        });\n      }\n      if ($batch_build_info.is_complete == true) {\n        clearInterval(timer);\n        updateDashboardElements($batch_build_info);\n      }\n    });\n  };\n  function updateDashboardElements(batch_build_info) {\n    if ($('.button.ilj-index-rebuild').length) {\n      $('.button.ilj-index-rebuild').removeClass(\"hidden\");\n      $('.button.ilj-index-restart-rebuild').addClass(\"hidden\");\n      $('#ilj-index-rebuild-spinner').remove();\n      $('#ilj-index-rebuild-message').html(\"\");\n    }\n    if ($('#ilj-linkindex-count').length) {\n      if (batch_build_info != \"\") {\n        $('#ilj-linkindex-count').html(batch_build_info.linkindex_count);\n        $('#ilj-configured-keywords-count').html(batch_build_info.keywords_count);\n        $('#ilj-last-built').html(batch_build_info.last_built);\n      }\n    }\n  }\n})(jQuery);\n"],"names":["__webpack_exports__","$","document","ready","timer","setInterval","updateLinkIndexStatus","fn","data","action","nonce","ilj_ajax_object","$old_progress_value","parseFloat","text","ajax","url","ajaxurl","type","done","$batch_build_info","status","length","animate","width","progress","duration","easing","Counter","step","Math","ceil","this","always","is_complete","clearInterval","batch_build_info","removeClass","addClass","remove","html","linkindex_count","keywords_count","last_built","updateDashboardElements","jQuery"],"sourceRoot":""}