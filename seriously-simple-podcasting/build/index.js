!function(){var e={184:function(e,t){var s;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var o=typeof s;if("string"===o||"number"===o)e.push(s);else if(Array.isArray(s)&&s.length){var l=r.apply(null,s);l&&e.push(l)}else if("object"===o)for(var n in s)a.call(s,n)&&s[n]&&e.push(n)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(s=function(){return r}.apply(t,[]))||(e.exports=s)}()},573:function(e){"use strict";var t=/["'&<>]/;e.exports=function(e){var s,a=""+e,r=t.exec(a);if(!r)return a;var o="",l=0,n=0;for(l=r.index;l<a.length;l++){switch(a.charCodeAt(l)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}n!==l&&(o+=a.substring(n,l)),n=l+1,o+=s}return n!==l?o+a.substring(n,l):o}}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,s),o.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.wp.i18n,a=window.wp.blocks,r=window.wp.plugins,o=window.wp.blockEditor,l=window.wp.components,n=window.wp.apiFetch,i=s.n(n);class c extends e.Component{render(){const{className:t,episodeRef:s,episodeId:a,episodes:r,activateEpisode:o}=this.props;return(0,e.createElement)("div",{className:t},"Select podcast Episode",(0,e.createElement)("select",{ref:s,className:"castos-select",defaultValue:a},r.map(((t,s)=>(0,e.createElement)("option",{key:t.id,value:t.id},t.title)))),(0,e.createElement)("button",{className:"button",onClick:o},"Go"))}}var p=c,d=window.React,m=s.n(d),u=s(573),h=s.n(u);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},y.apply(this,arguments)}function g(e,t){if(null==e)return{};var s,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)s=o[a],t.indexOf(s)>=0||(r[s]=e[s]);return r}function b(e){var t=e.attributes,s=void 0===t?{}:t,a=e.children,r=void 0===a?null:a,o=e.selfClose,l=void 0!==o&&o,n=e.tagName;return l?m().createElement(n,s):m().createElement(n,s,r)}var f=function(){function e(){}var t=e.prototype;return t.attribute=function(e,t){return t},t.node=function(e,t){return t},e}(),v=/(url|image|image-set)\(/i,E=function(e){var t,s;function a(){return e.apply(this,arguments)||this}return s=e,(t=a).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s,a.prototype.attribute=function(e,t){return"style"===e&&Object.keys(t).forEach((function(e){String(t[e]).match(v)&&delete t[e]})),t},a}(f),_={a:{content:9,self:!1,type:105},address:{invalid:["h1","h2","h3","h4","h5","h6","address","article","aside","section","div","header","footer"],self:!1},audio:{children:["track","source"]},br:{type:9,void:!0},body:{content:127},button:{content:8,type:105},caption:{content:1,parent:["table"]},col:{parent:["colgroup"],void:!0},colgroup:{children:["col"],parent:["table"]},details:{children:["summary"],type:97},dd:{content:1,parent:["dl"]},dl:{children:["dt","dd"],type:1},dt:{content:1,invalid:["footer","header"],parent:["dl"]},figcaption:{content:1,parent:["figure"]},footer:{invalid:["footer","header"]},header:{invalid:["footer","header"]},hr:{type:1,void:!0},img:{void:!0},li:{content:1,parent:["ul","ol","menu"]},main:{self:!1},ol:{children:["li"],type:1},picture:{children:["source","img"],type:25},rb:{parent:["ruby","rtc"]},rp:{parent:["ruby","rtc"]},rt:{content:8,parent:["ruby","rtc"]},rtc:{content:8,parent:["ruby"]},ruby:{children:["rb","rp","rt","rtc"]},source:{parent:["audio","video","picture"],void:!0},summary:{content:8,parent:["details"]},table:{children:["caption","colgroup","thead","tbody","tfoot","tr"],type:1},tbody:{parent:["table"],children:["tr"]},td:{content:1,parent:["tr"]},tfoot:{parent:["table"],children:["tr"]},th:{content:1,parent:["tr"]},thead:{parent:["table"],children:["tr"]},tr:{parent:["table","tbody","thead","tfoot"],children:["th","td"]},track:{parent:["audio","video"],void:!0},ul:{children:["li"],type:1},video:{children:["track","source"]},wbr:{type:9,void:!0}};function w(e){return function(t){_[t]=y({},e,_[t])}}["address","main","div","figure","p","pre"].forEach(w({content:1,type:65})),["abbr","b","bdi","bdo","cite","code","data","dfn","em","i","kbd","mark","q","ruby","samp","strong","sub","sup","time","u","var"].forEach(w({content:8,type:73})),["p","pre"].forEach(w({content:8,type:65})),["s","small","span","del","ins"].forEach(w({content:8,type:9})),["article","aside","footer","header","nav","section","blockquote"].forEach(w({content:1,type:67})),["h1","h2","h3","h4","h5","h6"].forEach(w({content:8,type:69})),["audio","canvas","iframe","img","video"].forEach(w({type:89}));var N=Object.freeze(_),k=["applet","base","body","command","embed","frame","frameset","head","html","link","meta","noscript","object","script","style","title"],P=Object.keys(N).filter((function(e){return"canvas"!==e&&"iframe"!==e})),C=Object.freeze({alt:1,cite:1,class:1,colspan:3,controls:4,datetime:1,default:4,disabled:4,dir:1,height:1,href:1,id:1,kind:1,label:1,lang:1,loading:1,loop:4,media:1,muted:4,poster:1,role:1,rowspan:3,scope:1,sizes:1,span:3,start:3,style:5,src:1,srclang:1,srcset:1,target:1,title:1,type:1,width:1}),S=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet"}),x=/^<(!doctype|(html|head|body)(\s|>))/i,F=/^(aria\x2D|data\x2D|[0-9A-Z_a-z\u017F\u212A]+:)/i,T=/{{{(\w+)\/?}}}/;function A(){if("undefined"!=typeof window&&"undefined"!=typeof document)return document.implementation.createHTMLDocument("Interweave")}var I,R=function(){function e(e,t,s,a){void 0===t&&(t={}),void 0===s&&(s=[]),void 0===a&&(a=[]),this.allowed=void 0,this.banned=void 0,this.blocked=void 0,this.container=void 0,this.content=[],this.props=void 0,this.matchers=void 0,this.filters=void 0,this.keyIndex=void 0,this.props=t,this.matchers=s,this.filters=[].concat(a,[new E]),this.keyIndex=-1,this.container=this.createContainer(e||""),this.allowed=new Set(t.allowList||P),this.banned=new Set(k),this.blocked=new Set(t.blockList)}var t=e.prototype;return t.applyAttributeFilters=function(e,t){return this.filters.reduce((function(t,s){return null!==t&&"function"==typeof s.attribute?s.attribute(e,t):t}),t)},t.applyNodeFilters=function(e,t){return this.filters.reduce((function(t,s){return null!==t&&"function"==typeof s.node?s.node(e,t):t}),t)},t.applyMatchers=function(e,t){var s=this,a={},r=this.props,o=e,l=0,n=null;return this.matchers.forEach((function(e){var i=e.asTag().toLowerCase(),c=s.getTagConfig(i);if(!r[e.inverseName]&&s.isTagAllowed(i)&&s.canRenderChild(t,c)){for(var p="";o&&(n=e.match(o));){var d=n,m=d.index,u=d.length,h=d.match,b=d.valid,f=d.void,v=g(d,["index","length","match","valid","void"]),E=e.propName+l;m>0&&(p+=o.slice(0,m)),b?(p+=f?"{{{"+E+"/}}}":"{{{"+E+"}}}"+h+"{{{/"+E+"}}}",s.keyIndex+=1,l+=1,a[E]={children:h,matcher:e,props:y({},r,v,{key:s.keyIndex})}):p+=h,e.greedy?(o=p+o.slice(m+u),p=""):o=o.slice(m+(u||h.length))}e.greedy||(o=p+o)}})),0===l?e:this.replaceTokens(o,a)},t.canRenderChild=function(e,t){return!(!e.tagName||!t.tagName)&&!e.void&&(e.children.length>0?e.children.includes(t.tagName):!(e.invalid.length>0&&e.invalid.includes(t.tagName))&&(t.parent.length>0?t.parent.includes(e.tagName):!(!e.self&&e.tagName===t.tagName)&&Boolean(e&&e.content&t.type)))},t.convertLineBreaks=function(e){var t=this.props,s=t.noHtml,a=t.disableLineBreaks;if(s||a||e.match(/<((?:\/[ a-z]+)|(?:[ a-z]+\/))>/gi))return e;var r=e.replace(/\r\n/g,"\n");return(r=r.replace(/\n{3,}/g,"\n\n\n")).replace(/\n/g,"<br/>")},t.createContainer=function(e){var t=(s.g.INTERWEAVE_SSR_POLYFILL||A)();if(t){var a=this.props.containerTagName||"body",r="body"===a||"fragment"===a?t.body:t.createElement(a);return e.match(x)||(r.innerHTML=this.convertLineBreaks(this.props.escapeHtml?h()(e):e)),r}},t.extractAttributes=function(e){var t=this,s=this.props.allowAttributes,a={},r=0;return 1===e.nodeType&&e.attributes?(Array.from(e.attributes).forEach((function(o){var l=o.name,n=o.value,i=l.toLowerCase(),c=C[i]||C[l];if(t.isSafe(e)&&(i.match(F)||(s||c&&2!==c)&&!i.match(/^on/)&&!n.replace(/(\s|\0|&#x0([9AD]);)/,"").match(/(javascript|vbscript|livescript|xss):/i))){var p="style"===i?t.extractStyleAttribute(e):n;4===c?p=!0:3===c?p=Number.parseFloat(String(p)):5!==c&&(p=String(p)),a[S[i]||i]=t.applyAttributeFilters(i,p),r+=1}})),0===r?null:a):null},t.extractStyleAttribute=function(e){var t={};return Array.from(e.style).forEach((function(s){var a=e.style[s];"string"!=typeof a&&"number"!=typeof a||(t[s.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))]=a)})),t},t.getTagConfig=function(e){var t={children:[],content:0,invalid:[],parent:[],self:!0,tagName:"",type:0,void:!1};return N[e]?y({},t,N[e],{tagName:e}):t},t.isSafe=function(e){if("undefined"!=typeof HTMLAnchorElement&&e instanceof HTMLAnchorElement){var t=e.getAttribute("href");if(t&&"#"===t.charAt(0))return!0;var s=e.protocol.toLowerCase();return":"===s||"http:"===s||"https:"===s||"mailto:"===s||"tel:"===s}return!0},t.isTagAllowed=function(e){return!this.banned.has(e)&&!this.blocked.has(e)&&(this.props.allowElements||this.allowed.has(e))},t.parse=function(){return this.container?this.parseNode(this.container,this.getTagConfig(this.container.nodeName.toLowerCase())):[]},t.parseNode=function(e,t){var s=this,a=this.props,r=a.noHtml,o=a.noHtmlExceptMatchers,l=a.allowElements,n=a.transform,i=[],c="";return Array.from(e.childNodes).forEach((function(e){if(1===e.nodeType){var a=e.nodeName.toLowerCase(),p=s.getTagConfig(a);c&&(i.push(c),c="");var d,u=s.applyNodeFilters(a,e);if(!u)return;if(n){s.keyIndex+=1;var h=s.keyIndex;d=s.parseNode(u,p);var g=n(u,d,p);if(null===g)return;if(void 0!==g)return void i.push(m().cloneElement(g,{key:h}));s.keyIndex=h-1}if(s.banned.has(a))return;if(r||o&&"br"!==a||!s.isTagAllowed(a)||!l&&!s.canRenderChild(t,p))i=i.concat(s.parseNode(u,p.tagName?p:t));else{s.keyIndex+=1;var f=s.extractAttributes(u),v={tagName:a};f&&(v.attributes=f),p.void&&(v.selfClose=p.void),i.push(m().createElement(b,y({},v,{key:s.keyIndex}),d||s.parseNode(u,p)))}}else if(3===e.nodeType){var E=r&&!o?e.textContent:s.applyMatchers(e.textContent||"",t);Array.isArray(E)?i=i.concat(E):c+=E}})),c&&i.push(c),i},t.replaceTokens=function(e,t){if(!e.includes("{{{"))return e;for(var s=[],a=e,r=null;r=a.match(T);){var o=r,l=o[0],n=o[1],i=r.index,c=l.includes("/");i>0&&(s.push(a.slice(0,i)),a=a.slice(i));var p=t[n],d=p.children,m=p.matcher,u=p.props,h=void 0;if(c)h=l.length,s.push(m.createElement(d,u));else{var y=a.match(new RegExp("{{{/"+n+"}}}"));h=y.index+y[0].length,s.push(m.createElement(this.replaceTokens(a.slice(l.length,y.index),t),u))}a=a.slice(h)}return a.length>0&&s.push(a),0===s.length?"":1===s.length&&"string"==typeof s[0]?s[0]:s},e}();function D(e){var t,s=e.attributes,a=e.containerTagName,r=e.content,o=e.emptyContent,l=e.parsedContent,n=e.tagName,i=a||n||"div",c="fragment"===i||e.noWrap;if(l)t=l;else{var p=new R(r||"",e).parse();p.length>0&&(t=p)}return t||(t=o),c?m().createElement(m().Fragment,null,t):m().createElement(b,{attributes:s,tagName:i},t)}(I=function(e,t,s){this.greedy=!1,this.options=void 0,this.propName=void 0,this.inverseName=void 0,this.factory=void 0,this.options=y({},t),this.propName=e,this.inverseName="no"+(e.charAt(0).toUpperCase()+e.slice(1)),this.factory=s||null}.prototype).createElement=function(e,t){return this.factory?m().createElement(this.factory,t,e):this.replaceWith(e,t)},I.doMatch=function(e,t,s,a){return void 0===a&&(a=!1),function(e,t,s,a){void 0===a&&(a=!1);var r=e.match(t instanceof RegExp?t:new RegExp(t,"i"));return r?y({match:r[0],void:a},s(r),{index:r.index,length:r[0].length,valid:!0}):null}(e,t,s,a)},I.onBeforeParse=function(e,t){return e},I.onAfterParse=function(e,t){return e};var B=function(e){var t=e.attributes,s=e.content,a=void 0===s?"":s,r=e.disableFilters,o=void 0!==r&&r,l=e.disableMatchers,n=void 0!==l&&l,i=e.emptyContent,c=void 0===i?null:i,p=e.filters,d=void 0===p?[]:p,u=e.matchers,h=void 0===u?[]:u,y=e.onAfterParse,b=void 0===y?null:y,f=e.onBeforeParse,v=void 0===f?null:f,E=e.tagName,_=void 0===E?"span":E,w=e.noWrap,N=void 0!==w&&w,k=g(e,["attributes","content","disableFilters","disableMatchers","emptyContent","filters","matchers","onAfterParse","onBeforeParse","tagName","noWrap"]),P=n?[]:h,C=o?[]:d,S=v?[v]:[],x=b?[b]:[];P.forEach((function(e){e.onBeforeParse&&S.push(e.onBeforeParse.bind(e)),e.onAfterParse&&x.push(e.onAfterParse.bind(e))}));var F=S.reduce((function(t,s){return s(t,e)}),a||""),T=new R(F,k,P,C),A=x.reduce((function(t,s){return s(t,e)}),T.parse());return m().createElement(D,{attributes:t,containerTagName:e.containerTagName,emptyContent:c,tagName:_,noWrap:N,parsedContent:0===A.length?void 0:A})};class O extends e.Component{render(){return(0,e.createElement)("p",{className:this.props.className},(0,e.createElement)(B,{content:this.props.audioPlayer}))}}var j=O;class z extends e.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();let r=!0;t.audio_player&&(r=!1);const o={audioPlayer:t.audio_player||""};this.state={className:a,editing:r,episode:o,episodes:[],setAttributes:s}}componentDidMount(){i()({path:"ssp/v1/episodes"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}render(){const{editing:s,episodes:a,episode:r,className:n,setAttributes:c}=this.state,d=(0,e.createElement)(o.BlockControls,{key:"controls"},(0,e.createElement)(l.Toolbar,null,(0,e.createElement)(l.Button,{className:"components-icon-button components-toolbar__control",label:(0,t.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return s?(0,e.createElement)(p,{className:n,episodeRef:this.episodeRef,episodes:a,activateEpisode:()=>{const e=this.episodeRef.current.value,t="ssp/v1/audio_player?ssp_podcast_id="+e;i()({path:t}).then((t=>{const s={episodeId:e,audioPlayer:t.audio_player};this.setState({episode:s,editing:!1}),c({id:e,audio_player:s.audioPlayer})}))}}):[d,(0,e.createElement)(j,{className:n,audioPlayer:r.audioPlayer})]}}var U=z,L=s(184),M=s.n(L);class q extends e.Component{render(){const{className:t,episodeId:s,episodeTitle:a,episodeFileUrl:r,episodeData:o}=this.props,{rssFeedUrl:l,subscribeUrls:n,embedCode:i}=o,c=[];return Object.keys(n).forEach(((t,s)=>{const a=n[t].url;if(""!==a){const s=n[t].key,r=n[t].label,o="Subscribe on "+n[t].label;c.push((0,e.createElement)("a",{key:t,href:a,target:"_blank",className:s,title:o,rel:"noopener noreferrer"},(0,e.createElement)("span",null),r))}})),(0,e.createElement)("div",{className:"player-panels player-panels-"+s},(0,e.createElement)("div",{className:"subscribe player-panel subscribe-"+s},(0,e.createElement)("div",{className:"close-btn close-btn-"+s},(0,e.createElement)("span",null),(0,e.createElement)("span",null)),(0,e.createElement)("div",{className:"panel__inner"},(0,e.createElement)("div",{className:"subscribe-icons"},c),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"RSS Feed"),(0,e.createElement)("div",null,(0,e.createElement)("input",{readOnly:!0,value:l,className:"input-rss input-rss-"+s})),(0,e.createElement)("button",{className:"copy-rss copy-rss-"+s})))),(0,e.createElement)("div",{className:"share share-"+s+" player-panel"},(0,e.createElement)("div",{className:"close-btn close-btn-"+s},(0,e.createElement)("span",null),(0,e.createElement)("span",null)),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"Share"),(0,e.createElement)("div",{className:"icons-holder"},(0,e.createElement)("a",{href:"https://www.facebook.com/sharer/sharer.php?u="+r+"&t="+a,target:"_blank",className:"share-icon facebook",title:"Share on Facebook",rel:"noopener noreferrer"},(0,e.createElement)("span",null)),(0,e.createElement)("a",{href:"https://twitter.com/intent/tweet?text="+r+"&url="+a,target:"_blank",className:"share-icon twitter",title:"Share on Twitter",rel:"noopener noreferrer"},(0,e.createElement)("span",null)),(0,e.createElement)("a",{href:r,target:"_blank",className:"share-icon download",title:"Download",rel:"noopener noreferrer"},(0,e.createElement)("span",null)))),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"Link"),(0,e.createElement)("div",null,(0,e.createElement)("input",{readOnly:!0,value:r,className:"input-link input-link-"+s})),(0,e.createElement)("button",{className:"copy-link copy-link-"+s})),(0,e.createElement)("div",{className:"player-panel-row"},(0,e.createElement)("div",{className:"title"},"Embed"),(0,e.createElement)("div",{style:{height:"10px"}},(0,e.createElement)("input",{readOnly:!0,value:i,className:"input-embed input-embed-"+s})),(0,e.createElement)("button",{className:"copy-embed copy-embed-"+s}))))}}var H=q;class W extends e.Component{render(){try{const{className:t,episodeId:s,episodeImage:a,episodeTitle:r,episodeFileUrl:o,episodeDuration:l,episodeData:n}=this.props,{playerMode:i}=n,c=M()(t,"castos-player",i+"-mode"),p={background:"url("+a+") center center no-repeat",WebkitBackgroundSize:"cover",backgroundSize:"cover"},d="player__artwork player__artwork-"+s,m="play-btn play-btn-"+s,u="pause-btn pause-btn-"+s+" hide",h="/wp-content/plugins/seriously-simple-podcasting/assets/css/images/player/images/icon-loader.svg",y="loader loader-"+s+" hide",g="clip clip-"+s,b="ssp-progress progress-"+s,f="progress__filled progress__filled-"+s,v="playback playback-"+s,E="player-btn__volume player-btn__volume-"+s,_="player-btn__speed player-btn__speed-"+s,w="timer-"+s,N="duration-"+s,k="subscribe-btn-"+s,P="share-btn-"+s;return(0,e.createElement)("div",{className:c,"data-episode":s},(0,e.createElement)("div",{className:"player"},(0,e.createElement)("div",{className:"player__main"},(0,e.createElement)("div",{className:d,style:p}),(0,e.createElement)("div",{className:"player__body"},(0,e.createElement)("div",{className:"currently-playing"},(0,e.createElement)("div",{className:"show"},(0,e.createElement)("strong",null,r)),(0,e.createElement)("div",{className:"episode-title"},r)),(0,e.createElement)("div",{className:"play-progress"},(0,e.createElement)("div",{className:"play-pause-controls"},(0,e.createElement)("button",{title:"Play",className:m},(0,e.createElement)("span",{className:"screen-reader-text"},"Play Episode")),(0,e.createElement)("button",{alt:"Pause",className:u},(0,e.createElement)("span",{className:"screen-reader-text"},"Pause Episode")),(0,e.createElement)("img",{src:h,className:y})),(0,e.createElement)("div",null,(0,e.createElement)("audio",{preload:"none",className:g},(0,e.createElement)("source",{loop:!0,preload:"none",src:o})),(0,e.createElement)("div",{className:b,title:"Seek"},(0,e.createElement)("span",{className:f})),(0,e.createElement)("div",{className:v},(0,e.createElement)("div",{className:"playback__controls"},(0,e.createElement)("button",{className:E,title:"Mute/Unmute"},(0,e.createElement)("span",{className:"screen-reader-text"},"Mute/Unmute Episode")),(0,e.createElement)("button",{"data-skip":"-10",className:"player-btn__rwd",title:"Rewind 10 seconds"},(0,e.createElement)("span",{className:"screen-reader-text"},"Rewind 10 Seconds")),(0,e.createElement)("button",{"data-speed":"1",className:_,title:"Playback Speed"},"1x"),(0,e.createElement)("button",{"data-skip":"30",className:"player-btn__fwd",title:"Fast Forward 30 seconds"},(0,e.createElement)("span",{className:"screen-reader-text"},"Fast Forward 30 seconds"))),(0,e.createElement)("div",{className:"playback__timers"},(0,e.createElement)("time",{id:w},"00:00"),(0,e.createElement)("span",null,"/"),(0,e.createElement)("time",{id:N},l))))),(0,e.createElement)("nav",{className:"player-panels-nav"},(0,e.createElement)("button",{className:"subscribe-btn",id:k,title:"Subscribe"},"Subscribe"),(0,e.createElement)("button",{className:"share-btn",id:P,title:"Share"},"Share"))))),(0,e.createElement)(H,{className:t,episodeId:s,episodeTitle:r,episodeFileUrl:o,episodeData:n}))}catch(e){console.log("Error:",e),this.state={error:e}}}}var G=W;class $ extends e.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();const r={episodeImage:t.image||"",episodeFileUrl:t.file||"",episodeTitle:t.title||"",episodeDuration:t.duration||"",episodeDownloadUrl:t.download||"",episodeData:t.episode_data||""};let o=!0;t.title&&(o=!1),this.state={editing:o,className:a,episodes:[],episode:r,setAttributes:s}}componentDidMount(){i()({path:"ssp/v1/episodes"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}render(){const{editing:s,episodes:a,episode:r,className:n,setAttributes:c}=this.state,d=(0,e.createElement)(o.BlockControls,{key:"controls"},(0,e.createElement)(l.Toolbar,null,(0,e.createElement)(l.Button,{className:"components-icon-button components-toolbar__control",label:(0,t.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return s?(0,e.createElement)(p,{className:n,episodeRef:this.episodeRef,episodes:a,activateEpisode:()=>{const e=this.episodeRef.current.value;let t="ssp/v1/episodes?include="+e;i()({path:t}).then((t=>{const s={episodeId:e,episodeImage:t[0].episode_player_image,episodeFileUrl:t[0].player_link,episodeTitle:t[0].title.rendered,episodeDuration:t[0].meta.duration,episodeDownloadUrl:t[0].download_link,episodeData:t[0].episode_data};this.setState({key:e,episode:s,editing:!1}),c({id:e,image:s.episodeImage,file:s.episodeFileUrl,title:s.episodeTitle,duration:s.episodeDuration,download:s.episodeDownloadUrl,episode_data:s.episodeData})}))}}):[d,(0,e.createElement)(G,{key:"castos-player",className:this.state.className,episodeId:r.episodeId,episodeImage:r.episodeImage,episodeTitle:r.episodeTitle,episodeFileUrl:r.episodeFileUrl,episodeDuration:r.episodeDuration,episodeData:r.episodeData})]}}var Q=$,V=window.wp.serverSideRender,Y=s.n(V);class Z extends e.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();let r=!0;t.episodeId&&(r=!1),this.state={editing:r,className:a,episodes:[],setAttributes:s,episodeId:t.episodeId}}componentDidMount(){this._isMounted=!0,i()({path:"ssp/v1/episodes?per_page=500&get_additional_options=true"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}componentWillUnmount(){this._isMounted=!1}render(){const{editing:s,episodes:a,episodeId:r,className:n,setAttributes:i}=this.state,c=(0,e.createElement)(o.BlockControls,{key:"controls"},(0,e.createElement)(l.Toolbar,null,(0,e.createElement)(l.Button,{className:"components-icon-button components-toolbar__control",label:(0,t.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return s?(0,e.createElement)(p,{className:n,episodeRef:this.episodeRef,episodes:a,activateEpisode:()=>{let e=this.episodeRef.current.value;this.setState({episodeId:e,editing:!1}),i({episodeId:e})}}):[c,(0,e.createElement)(Y(),{className:n,key:"castos-player",block:"seriously-simple-podcasting/castos-html-player",attributes:{episodeId:r}})]}}var J=Z;class K extends e.Component{constructor(e){let{className:t}=e;super(...arguments),this.state={className:t,episodes:[]}}render(){const{className:s}=this.state,{attributes:a,setAttributes:r}=this.props,{showTitle:n,featuredImage:i,featuredImageSize:c,excerpt:p,player:d,playerBelowExcerpt:m,availablePodcasts:u,postsPerPage:h,availableImageSizes:y,orderBy:g,order:b,columnsPerRow:f,titleSize:v,titleUnderImage:E,defaultPodcastId:_}=a;let{selectedPodcast:w}=a;w="0"===w?_:w;const N=(0,e.createElement)(o.InspectorControls,{key:"inspector-controls"},(0,e.createElement)("div",{className:"ssp-controls ssp-edit-podcast-list"},(0,e.createElement)(l.PanelBody,{key:"podcast-list-content",title:(0,t.__)("Content","seriously-simple-podcasting")},(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-title"},(0,t.__)("Show Title","seriously-simple-podcasting")),(0,e.createElement)(l.FormToggle,{id:"ssp-podcast-list-show-title",label:(0,t.__)("Show Title","seriously-simple-podcasting"),checked:n,onChange:()=>{r({showTitle:!n})}})),(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-featured-image"},(0,t.__)("Show Featured Image","seriously-simple-podcasting")),(0,e.createElement)(l.FormToggle,{id:"ssp-podcast-list-show-featured-image",label:(0,t.__)("Show Featured Image","seriously-simple-podcasting"),checked:i,onChange:()=>{r({featuredImage:!i})}})),i&&(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-image-size"},(0,t.__)("Featured Image Size","seriously-simple-podcasting")),(0,e.createElement)(l.SelectControl,{id:"ssp-podcast-list-image-size",value:c,options:y,onChange:e=>{r({featuredImageSize:e})}})),(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-player"},(0,t.__)("Show Podcast Player","seriously-simple-podcasting")),(0,e.createElement)(l.FormToggle,{id:"ssp-podcast-list-show-player",label:(0,t.__)("Show Podcast Player","seriously-simple-podcasting"),checked:d,onChange:()=>{r({player:!d})}})),(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-show-excerpt"},(0,t.__)("Show Podcast Excerpt","seriously-simple-podcasting")),(0,e.createElement)(l.FormToggle,{id:"ssp-podcast-list-show-excerpt",label:(0,t.__)("Show Podcast Excerpt","seriously-simple-podcasting"),checked:p,onChange:()=>{r({excerpt:!p})}}))),(0,e.createElement)(l.PanelBody,{key:"ssp-podcast-list-query",title:(0,t.__)("Query","seriously-simple-podcasting")},(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-podcast"},(0,t.__)("Select Podcast","seriously-simple-podcasting")),(0,e.createElement)(l.SelectControl,{id:"ssp-podcast-list-podcast",value:w,options:u,onChange:e=>{r({selectedPodcast:e})}})),(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-posts-per-page"},(0,t.__)("Posts Per Page","seriously-simple-podcasting"),(0,e.createElement)(l.Tooltip,{text:(0,t.__)("For the default global settings, use 0","seriously-simple-podcasting"),htmlFor:"ssp-podcast-list-posts-per-page"},(0,e.createElement)("span",{className:"dashicon dashicons dashicons-info"}))),(0,e.createElement)(l.__experimentalNumberControl,{id:"ssp-podcast-list-posts-per-page",value:h,min:0,onChange:e=>{r({postsPerPage:e})}})),(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-order-by"},(0,t.__)("Order By","seriously-simple-podcasting")),(0,e.createElement)(l.SelectControl,{id:"ssp-podcast-list-order-by",value:g,options:[{label:(0,t.__)("Date","seriously-simple-podcasting"),value:"date"},{label:(0,t.__)("ID","seriously-simple-podcasting"),value:"ID"},{label:(0,t.__)("Title","seriously-simple-podcasting"),value:"title"},{label:(0,t.__)("Recorded Date","seriously-simple-podcasting"),value:"recorded"}],onChange:e=>{r({orderBy:e})}})),(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-order"},(0,t.__)("Order","seriously-simple-podcasting")),(0,e.createElement)(l.SelectControl,{id:"ssp-podcast-list-order",value:b,options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],onChange:e=>{r({order:e})}}))),(0,e.createElement)(l.PanelBody,{key:"ssp-podcast-list-style",title:(0,t.__)("Style","seriously-simple-podcasting")},(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-columns-per-row"},(0,t.__)("Columns per row","seriously-simple-podcasting")),(0,e.createElement)(l.__experimentalNumberControl,{id:"ssp-podcast-list-columns-per-row",value:f,min:1,max:6,onChange:e=>{r({columnsPerRow:e})}})),n&&(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-title-size"},(0,t.__)("Title Size","seriously-simple-podcasting")),(0,e.createElement)(l.__experimentalNumberControl,{id:"ssp-podcast-list-title-size",value:v,min:8,max:40,onChange:e=>{r({titleSize:e})}})),n&&i&&(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-title-under-image"},(0,t.__)("Show Title Under Image","seriously-simple-podcasting")),(0,e.createElement)(l.FormToggle,{id:"ssp-podcast-list-title-under",label:(0,t.__)("Show Title Under Image","seriously-simple-podcasting"),checked:E,onChange:()=>{r({titleUnderImage:!E})}})),d&&p&&(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-player-below-excerpt"},(0,t.__)("Show Player Below Excerpt","seriously-simple-podcasting")),(0,e.createElement)(l.FormToggle,{id:"ssp-podcast-list-player-below-excerpt",label:(0,t.__)("Show Player Below Excerpt","seriously-simple-podcasting"),checked:m,onChange:()=>{r({playerBelowExcerpt:!m})}})))));return[N,(0,e.createElement)(Y(),{className:s,key:"episode-items",block:"seriously-simple-podcasting/podcast-list",attributes:a})]}}var X=K,ee=window.wp.editPost;class te extends e.Component{render(){const s=sspAdmin.sspPostTypes,a=sspAdmin.isCastosUser,r=wp.data.select("core/editor");if(!r)return;const o=r.getCurrentPostType();return!s instanceof Array||!s.includes(o)||a?void 0:(0,e.createElement)(ee.PluginPostPublishPanel,null,(0,e.createElement)("div",{className:"ssp-post-publish"},(0,e.createElement)("div",{className:"ssp-post-publish__container"},(0,e.createElement)("div",{className:"ssp-post-publish__logos"},(0,e.createElement)("a",{className:"ssp-post-publish__apple",title:"Apple Podcasts",href:"https://podcasters.apple.com/"},(0,e.createElement)("span",null,"Apple Podcasts")),(0,e.createElement)("a",{className:"ssp-post-publish__amazon",title:"Amazon",href:"https://podcasters.amazon.com/"},(0,e.createElement)("span",null,"Amazon")),(0,e.createElement)("a",{className:"ssp-post-publish__spotify",title:"Spotify",href:"https://podcasters.spotify.com/"},(0,e.createElement)("span",null,"Spotify")),(0,e.createElement)("a",{className:"ssp-post-publish__google",title:"Google Podcasts",href:"https://podcasts.google.com/"},(0,e.createElement)("span",null,"Google Podcasts")),(0,e.createElement)("a",{className:"ssp-post-publish__overcast",title:"Overcast",href:"https://overcast.fm/"},(0,e.createElement)("span",null,"Overcast"))),(0,e.createElement)("div",{className:"ssp-post-publish__description"},(0,t.__)("Distribute your podcast everywhere, automatically.","seriously-simple-podcasting")),(0,e.createElement)("div",{className:"ssp-post-publish__btn"},(0,e.createElement)("a",{href:"https://castos.com/podcast-hosting-wordpress/?utm_source=ssp&utm_medium=episode-published-box&utm_campaign=upgrade"},"Try Castos for free")))))}}var se=te;const{addFilter:ae}=wp.hooks,{createHigherOrderComponent:re}=wp.compose,{Fragment:oe}=wp.element,{InspectorControls:le}=wp.blockEditor,{PanelBody:ne,ToggleControl:ie}=wp.components,ce=["core/freeform","core/heading","core/html","core/list","core/media-text","core/paragraph","core/preformatted","core/pullquote","core/quote","core/table","core/verse","core/columns","core/group","core/block","create-block/castos-transcript"],pe=["create-block/castos-transcript","core/group"];ae("blocks.registerBlockType","extend-block/ssp-block-settings",((e,t)=>ce.includes(t)?(e.attributes.hasOwnProperty("hideFromFeed")||(e.attributes.hideFromFeed={type:"boolean",default:null}),e):e)),ae("editor.BlockEdit","extend-block/ssp-block-settings",re((s=>a=>ce.includes(a.name)?(pe.includes(a.name)&&null===a.attributes.hideFromFeed&&(a.attributes.hideFromFeed=!0),(0,e.createElement)(oe,null,(0,e.createElement)(s,a),(0,e.createElement)(le,null,(0,e.createElement)(ne,{title:(0,t.__)("Feed Settings"),initialOpen:!0},(0,e.createElement)(ie,{label:(0,t.__)("Hide From Podcast RSS Feed"),checked:a.attributes.hideFromFeed,onChange:e=>{a.setAttributes({hideFromFeed:e})}}))))):(0,e.createElement)(s,a))));class de extends e.Component{constructor(e){let{className:t}=e;super(...arguments),this.state={className:t,episodes:[]}}render(){const{className:s}=this.state,{attributes:a,setAttributes:r}=this.props,{availablePodcasts:n,limit:i,orderBy:c,order:p,selectedPodcast:d}=a,m=(0,e.createElement)(o.InspectorControls,{key:"inspector-controls"},(0,e.createElement)("div",{className:"ssp-controls ssp-edit-podcast-list"},(0,e.createElement)(l.PanelBody,{key:"ssp-podcast-list-query",title:(0,t.__)("Query","seriously-simple-podcasting")},(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-podcast"},(0,t.__)("Select Podcast","seriously-simple-podcasting")),(0,e.createElement)(l.SelectControl,{id:"ssp-podcast-list-podcast",value:d,options:n,onChange:e=>{r({selectedPodcast:e})}})),(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-playlist-player-episodes-limit"},(0,t.__)("Episodes Limit","seriously-simple-podcasting"),(0,e.createElement)(l.Tooltip,{text:(0,t.__)("For the default global settings, use 0. To remove the limit, use -1","seriously-simple-podcasting"),htmlFor:"ssp-playlist-player-episodes-limit"},(0,e.createElement)("span",{className:"dashicon dashicons dashicons-info"}))),(0,e.createElement)(l.__experimentalNumberControl,{id:"ssp-playlist-player-episodes-limit",value:i,min:-1,onChange:e=>{r({limit:e})}})),(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-order-by"},(0,t.__)("Order By","seriously-simple-podcasting")),(0,e.createElement)(l.SelectControl,{id:"ssp-podcast-list-order-by",value:c,options:[{label:(0,t.__)("Date","seriously-simple-podcasting"),value:"date"},{label:(0,t.__)("ID","seriously-simple-podcasting"),value:"ID"},{label:(0,t.__)("Title","seriously-simple-podcasting"),value:"title"}],onChange:e=>{r({orderBy:e})}})),(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("label",{htmlFor:"ssp-podcast-list-order"},(0,t.__)("Order","seriously-simple-podcasting")),(0,e.createElement)(l.SelectControl,{id:"ssp-podcast-list-order",value:p,options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],onChange:e=>{r({order:e})}})))));return[m,(0,e.createElement)(Y(),{className:s,key:"playlist-player",block:"seriously-simple-podcasting/playlist-player",attributes:a})]}}var me=de,ue=window.wp.data;(0,a.registerBlockType)("seriously-simple-podcasting/audio-player",{title:(0,t.__)("Audio Player","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",supports:{multiple:!1},attributes:{id:{type:"string"},audio_player:{type:"string",source:"html",selector:"span"}},edit:U,save:(t,s)=>{const{id:a,audio_player:r}=t.attributes;return(0,e.createElement)(j,{className:s,audioPlayer:r})}}),(0,a.registerBlockType)("seriously-simple-podcasting/castos-player",{title:(0,t.__)("Castos Player (OLD)","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",supports:{multiple:!1},attributes:{id:{type:"string"},image:{type:"string"},file:{type:"string"},title:{type:"string"},duration:{type:"string"},download:{type:"string"},episode_data:{type:"object"}},edit:Q,save:(t,s)=>{const{id:a,image:r,file:o,title:l,duration:n,download:i,episode_data:c}=t.attributes;return c?(0,e.createElement)(G,{className:s,episodeId:a,episodeImage:r,episodeFileUrl:o,episodeTitle:l,episodeDuration:n,episodeDownloadUrl:i,episodeData:c}):""}}),(0,a.registerBlockType)("seriously-simple-podcasting/castos-html-player",{title:(0,t.__)("Castos Player","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",attributes:{episodeId:{type:"string"}},edit:J,save:()=>null}),(0,a.registerBlockType)("seriously-simple-podcasting/podcast-list",{title:(0,t.__)("Episode List","seriously-simple-podcasting"),icon:"megaphone",category:"widgets",supports:{multiple:!1},edit:X}),(0,a.registerBlockType)("seriously-simple-podcasting/playlist-player",{title:(0,t.__)("Playlist Player","seriously-simple-podcasting"),icon:"controls-volumeon",category:"widgets",edit:me}),(0,r.registerPlugin)("post-publish-panel",{render:se}),(0,r.registerPlugin)("episode-sync-status",{render:()=>{if(!(e=>{if(!e)return!1;const t=sspAdmin.sspPostTypes;let s=e.getCurrentPost();return t instanceof Array&&s&&t.includes(s.type)})((0,ue.useSelect)((e=>e("core/editor")))))return;const t=(0,ue.useSelect)((e=>e("core/editor").isSavingPost()),[]),s=(0,e.useRef)(t),a=(0,ue.useSelect)((e=>e("core/editor").getCurrentPost()),[]),{createWarningNotice:r,createInfoNotice:o}=(0,ue.useDispatch)("core/notices"),l=s.current&&!t;s.current=t,l&&setTimeout((async()=>{await n(a)}),1e3);const n=async e=>{try{const t=await d(e);if(t&&t.episode_data){let e=t.episode_data.syncStatus;if("none"===e.status)return;p(e),c(e)}}catch(e){return console.error("Error:",e),null}},c=e=>{let t=document.querySelector(".js-ssp-sync-label");t.textContent=e.title,t.setAttribute("title",e.title),t.classList.remove("failed","synced","syncing"),t.classList.add(e.status),document.querySelector(".js-ssp-sync-message").textContent=e.message,document.querySelector(".js-ssp-sync-description").textContent=e.error},p=e=>{const t="ssp-sync-notice";let s=e.message;e.isSynced?o(s,{type:"snackbar",id:t}):(e.error&&(s+=" "+e.error),r(s,{id:t}))},d=async e=>{const t=await(async e=>{try{const t=await i()({path:"/wp/v2/types"});return t[e]&&t[e].rest_base?(console.log("Returning rest base:",t[e].rest_base),t[e].rest_base):(console.warn(`Post type "${e}" not found.`),null)}catch(e){return console.error("There was a problem with the fetch operation:",e),null}})(e.type);return await i()({path:`/wp/v2/${t}/${e.id}`})}}})}()}();