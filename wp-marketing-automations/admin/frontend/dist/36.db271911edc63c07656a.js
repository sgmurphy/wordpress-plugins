(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1027:function(e,t,a){"use strict";var r=a(74),n=a(0),c=a(3),i=a(1);t.a=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},s=Object(r.a)(),o=s.setActiveMultiple,b=s.setL2NavType,m=s.setL2Nav,u=s.resetHeaderMenu,f=s.setPageHeader,O=s.setPageCountData,g=s.setL2Content;return Object(n.useEffect)((function(){u(),o({leftNav:"link-triggers",rightNav:t}),b("menu"),m(l.links_triggers_nav),f(Object(i.__)("Link Triggers","wp-marketing-automations")),!Object(c.isEmpty)(a)&&O({templates:a}),e&&g(e)}),[a]),!0}},1255:function(e,t,a){},1347:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1027),c=a(1),i=a(74),l=a(4),s=a(14),o=a(5),b=a(327),m=a(993),u=a(982),f=a(9),O=a.n(f),g=a(3),j=a(49),w=a(57),d=a(58),p=a(18),v=a(8),E=a(344),k=a(336),_=a(31),h=a(16),y=a(39);function N(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?N(Object(a),!0).forEach((function(t){L(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):N(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function S(e,t,a,r,n,c,i){try{var l=e[c](i),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(r,n)}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}var x=function(e){var t=e.id,a=Object(r.useContext)(l.h),n=C(Object(r.useState)(!1),2),s=n[0],f=n[1],N=C(Object(r.useState)([]),2),L=N[0],D=N[1],x=C(Object(r.useState)(!1),2),T=x[0],A=x[1],I=Object(l.hb)(),R=Object(m.a)(),B=R.getSingleLinkLoad,U=R.getSingleLinkData,H=R.getLinkActionList,F=R.getLinkActionSchemaList,M=R.getLinkEditableStatus,J=R.getSingleLinkListData,V=Object(u.a)().setSingleLinkValue,q=U(),G=J(),Y=q.title,$=void 0===Y?"":Y,z=q.desc,K=void 0===z?"":z,Q=q.redirect_url,W=void 0===Q?"":Q,X=q.redirect_url_title,Z=void 0===X?"":X,ee=q.actions,te=void 0===ee?{}:ee,ae=q.action_run,re=void 0===ae?"once":ae,ne=q.status,ce=q.total_clicked,ie=q.hash,le=q.add_contact_note,se=void 0!==le&&le,oe=q.enable_auto_login,be=void 0!==oe&&oe,me=q.auto_login,ue=void 0===me?{unit:"days",text:7}:me,fe=B(),Oe=H(),ge=F(),je=M(),we=Object(i.a)().setL2Title,de=function(){return fe&&G.hasOwnProperty("title")&&""!=G.title?G.title:fe?Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}):$};Object(r.useEffect)((function(){return we(de()),function(){return V("listData",{})}}),[]),Object(r.useEffect)((function(){we(de())}),[q,fe,G]);var pe=function(){var e={};return Object.keys(te).map((function(t){if((!Object(g.isEmpty)(te[t])||ge.hasOwnProperty(t)&&Object(g.isEmpty)(ge[t]))&&(e[t]=te[t]),Object(g.isObject)(e[t])){var a={};Object.keys(e[t]).map((function(r){Object(g.isEmpty)(e[t][r])||(a[r]=e[t][r])})),e[t]=a}})),e},ve=function(){var e,r=(e=regeneratorRuntime.mark((function e(){var r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>0&&void 0!==i[0]?i[0]:2,Ee()){e.next=15;break}return f(!0),a(Object(c.__)("Updating link triggerâ€¦","wp-marketing-automations")),n={title:$,redirect_url:W,redirect_url_title:Z,action_run:re,desc:K,actions:pe(),status:r,add_contact_note:se,enable_auto_login:be,auto_login:ue},e.prev=5,e.next=8,O()({path:Object(l.u)("/link-trigger/".concat(t)),method:"POST",data:n}).then((function(e){200==e.code&&(V("data",e.result),V("isEditable",!1)),a(e.message),f(!1)}));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),a(e.t0.message),f(!1);case 14:Object(l.wb)(a,3e3);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})),function(){var t=this,a=arguments;return new Promise((function(r,n){var c=e.apply(t,a);function i(e){S(c,r,n,i,l,"next",e)}function l(e){S(c,r,n,i,l,"throw",e)}i(void 0)}))});return function(){return r.apply(this,arguments)}}(),Ee=function(){var e=!1,t=[];Object(g.isEmpty)($)&&(e=!0,t.push(Object(c.__)("Name is required field.","wp-marketing-automations"))),Object(g.isEmpty)(W)&&(e=!0,t.push(Object(c.__)("Redirect URL is required field.","wp-marketing-automations")));var a=!1;return Object.keys(te).map((function(e){ge.hasOwnProperty(e)&&!Object(g.isEmpty)(ge[e])&&Object(g.isEmpty)(te[e])&&"new"!==e&&(a=!0),Object(g.isObject)(te[e])&&Object.keys(te[e]).map((function(t){Object(g.isEmpty)(te[e][t])&&(a=!0)}))})),a&&(e=!0,t.push(Object(c.__)("Please fill all action values.","wp-marketing-automations"))),D(t),e},ke=function(){var e=I+"/?bwfan-link-trigger="+ie;return Object(r.createElement)("div",{className:"bwf-link-trigger-copy"},Object(r.createElement)("div",{key:0,className:"bwf-smart-url"},e),Object(r.createElement)("div",{key:1,className:"bwf-copy-icon",onClick:function(){return t=e,(r=document.createElement("textarea")).value=t,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),a(Object(c.__)("Link copied","wp-marketing-automations")),void Object(l.wb)(a,3e3);var t,r}},Object(r.createElement)(v.a,{icon:"duplicate"})))};return Object(r.createElement)(r.Fragment,null,fe?G.hasOwnProperty("status")&&parseInt(G.status)>0?Object(r.createElement)("div",{className:"bwfcrm-overview-wrap"},Object(r.createElement)(o.Card,{className:"bwf-crm-link-trigger-detail-wrap"},Object(r.createElement)(o.CardHeader,{className:"bwf-crm-link-trigger-header"},Object(r.createElement)("span",{className:"bwf-link-trigger-title"},Object(c.__)("Overview","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-display-flex bwf-bulk-card-header"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}))),Object(r.createElement)(o.CardBody,null,[1,2,3,4,5,6,7].map((function(e){return Object(r.createElement)("div",{className:"bwf-link-trigger-list",key:e},Object(r.createElement)("div",{className:"bwf-link-trigger-list-label"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"})),Object(r.createElement)("div",{className:"bwf-link-trigger-list-value"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-210"})))}))))):Object(r.createElement)("div",{className:"bwfcrm-overview-wrap bwfcrm-link-trigger-loading"},Object(r.createElement)(o.Card,{className:"bwf-crm-link-trigger-report-detail-wrap"},Object(r.createElement)(o.CardHeader,{className:"bwf-crm-link-trigger-header"},Object(r.createElement)("span",{className:"bwf-link-trigger-title"},Object(c.__)("Create Link Trigger","wp-marketing-automations"))),Object(r.createElement)(o.CardBody,{className:"bwf-crm-link-trigger-content"},Object(r.createElement)("div",{className:"bwf-section"},Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}),Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-60 bwf-w-100p"}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}),Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-30 bwf-w-100p"}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",null,Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}),[1,2,3].map((function(e){return Object(r.createElement)("div",{key:e},Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-display-flex bwf-space-between"},Object(r.createElement)("div",{className:"bwf-display-flex gap-20"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-120 bwf-h-15"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-550 bwf-h-15"})),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-30"})))}))),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-30 bwf-w-100p"}),Object(r.createElement)("div",{className:"bwf_clear_30"}),Object(r.createElement)("div",{className:"bwf-display-flex bwf-space-between"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-210 bwf-h-15"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-30"})),Object(r.createElement)("div",{className:"bwf_clear_30"}),Object(r.createElement)("div",{className:"bwf-display-flex bwf-space-between"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-210 bwf-h-15"}),Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-30"}))),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("hr",null),Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(r.createElement)("div",{className:"bwf-section"},Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-36 bwf-w-120"}))),Object(r.createElement)("div",{className:"bwf_clear_10"})))):je||0===parseInt(ne)?Object(r.createElement)("div",{className:"bwfcrm-overview-wrap"},Object(r.createElement)(o.Card,{className:"bwf-crm-link-trigger-detail-wrap"},Object(r.createElement)(o.CardHeader,{className:"bwf-crm-link-trigger-header"},Object(r.createElement)("span",{className:"bwf-link-trigger-title"},Object(c.__)("Create Link Trigger","wp-marketing-automations"))),Object(r.createElement)(o.CardBody,{className:"bwf-crm-link-trigger-content"},!Object(g.isEmpty)(L)&&Object(r.createElement)("div",{className:"bwf-section"},Object(r.createElement)(j.a,null),Object(r.createElement)(_.a,{status:"error",is:!0,isDismissible:!0,className:"bwf-mtb-10",onRemove:function(){return D([])}},L.map((function(e,t){return Object(r.createElement)(r.Fragment,{key:t},e,Object(r.createElement)("br",null))})))),Object(r.createElement)("div",{className:"bwf-section"},Object(r.createElement)(o.TextareaControl,{label:Object(r.createElement)("div",{className:"bwf-h4"},Object(c.__)("Description","wp-marketing-automations")),type:"text",value:K,placeholder:Object(c.__)("Enter Description","wp-marketing-automations"),onChange:function(e){V("data",P(P({},q),{},{desc:e}))}}),Object(r.createElement)("div",{className:"bwf_clear_8"}),Object(r.createElement)("div",{className:"bwf-h4"},Object(c.__)("Redirect URL","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf_clear_8"}),Object(r.createElement)(E.a,{title:Z,url:W,setValue:function(e){V("data",P(P({},q),{},{redirect_url:Object(g.isEmpty)(e)?"":e.label,redirect_url_title:Object(g.isEmpty)(e)?"":e.title}))},showOverview:!0}),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",null,Object(r.createElement)("div",{className:"bwf-h4"},Object(c.__)("Actions","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf_clear_8"}),Object(r.createElement)(b.b,{actions:Oe,actionSchema:ge,value:Object(g.isEmpty)(te)?{new:{}}:te,setActionValue:function(e){V("data",P(P({},q),{},{actions:e}))}})),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",null,Object(r.createElement)(o.ToggleControl,{label:Object(c.__)("Run multiple times","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",onChange:function(e){V("data",P(P({},q),{},{action_run:e?"multiple":"once"}))},checked:"multiple"===re,help:Object(c.__)("If enable then link will run multiple times","wp-marketing-automations")})),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",null,Object(r.createElement)(o.ToggleControl,{label:Object(c.__)("Log Actions as Contact Note","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",onChange:function(e){V("data",P(P({},q),{},{add_contact_note:e}))},checked:!!se})),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",null,Object(r.createElement)(o.ToggleControl,{label:Object(c.__)("Enable Auto Login","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",onChange:function(e){V("data",P(P({},q),{},{enable_auto_login:e}))},checked:!!be})),Object(r.createElement)("div",{className:"bwf_clear_10"}),!!be&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(k.a,{units:[{value:"hours",label:Object(c.__)("Hours","wp-marketing-automations")},{value:"days",label:Object(c.__)("Days","wp-marketing-automations")},{value:"weeks",label:Object(c.__)("Weeks","wp-marketing-automations")},{value:"months",label:Object(c.__)("Months","wp-marketing-automations")}],onChange:function(e){V("data",P(P({},q),{},{auto_login:e}))},value:ue}),Object(r.createElement)("div",{className:"hint"},Object(c.__)("Auto Login will expire after ","wp-marketing-automations")+(ue.hasOwnProperty("text")?parseInt(ue.text):"-")+" "+(ue.hasOwnProperty("unit")?ue.unit:"")+". "+Object(c.__)("This would work for all user roles except Administrator and Editor.","wp-marketing-automations")))),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("hr",null),Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(r.createElement)("div",{className:"bwf-section"},Object(r.createElement)("div",{className:"bwf_text_right"},Object(r.createElement)(h.a,{onClick:function(){Object(l.Jb)()?ve(2,!0):A(!0)},className:"bwf-ml-10",isPrimary:!0,isBusy:s},!Object(l.Jb)()&&Object(r.createElement)(v.a,{icon:"king",size:16,color:"#fff"}),Object(c.__)("Save","wp-marketing-automations"))))))):Object(r.createElement)("div",{className:"bwfcrm-overview-wrap"},Object(r.createElement)(o.Card,{className:"bwf-crm-link-trigger-detail-wrap"},Object(r.createElement)(o.CardHeader,{className:"bwf-crm-link-trigger-header"},Object(r.createElement)("span",{className:"bwf-link-trigger-title"},Object(c.__)("Overview","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-display-flex bwf-bulk-card-header"},Object(r.createElement)("span",{className:"bwf-tags "+(2===parseInt(ne)?"bwf-tag-green":"bwf-tag-red")},2===parseInt(ne)?Object(c.__)("Active","wp-marketing-automations"):Object(c.__)("Inactive","wp-marketing-automations")),Object(l.Jb)()&&Object(r.createElement)(w.a,{label:Object(c.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(e){var t=e.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(d.a,{isClickable:!0,onInvoke:function(){ve(2===parseInt(ne)?1:2,!0),t()}},Object(r.createElement)(p.a,{justify:"flex-start"},Object(r.createElement)(p.c,null,2!==parseInt(ne)?Object(c.__)("Activate","wp-marketing-automations"):Object(c.__)("Deactivate","wp-marketing-automations")))),Object(r.createElement)(d.a,{isClickable:!0,onInvoke:function(){V("isEditable",!0),t()}},Object(r.createElement)(p.a,{justify:"flex-start"},Object(r.createElement)(p.c,null,Object(c.__)("Edit","wp-marketing-automations")))))}}))),Object(r.createElement)(o.CardBody,null,Object(r.createElement)("div",{className:"bwf-link-trigger-list"},Object(r.createElement)("div",{className:"bwf-link-trigger-list-label"},Object(c.__)("Title","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-link-trigger-list-value"},$)),Object(r.createElement)("div",{className:"bwf-link-trigger-list"},Object(r.createElement)("div",{className:"bwf-link-trigger-list-label"},Object(c.__)("Description","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-link-trigger-list-value"},Object(g.isEmpty)(K)?"-":K)),Object(r.createElement)("div",{className:"bwf-link-trigger-list"},Object(r.createElement)("div",{className:"bwf-link-trigger-list-label"},Object(c.__)("Trigger URL","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-link-trigger-list-value"},Object(g.isEmpty)(I)?"-":ke())),Object(r.createElement)("div",{className:"bwf-link-trigger-list"},Object(r.createElement)("div",{className:"bwf-link-trigger-list-label"},Object(c.__)("Destination URL","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-link-trigger-list-value"},Object(g.isEmpty)(W)?"-":W)),Object(r.createElement)("div",{className:"bwf-link-trigger-list"},Object(r.createElement)("div",{className:"bwf-link-trigger-list-label"},Object(c.__)("Actions","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-link-trigger-list-value"},Object(r.createElement)(b.a,{actions:Oe,actionSchema:ge,value:te}))),Object(r.createElement)("div",{className:"bwf-link-trigger-list"},Object(r.createElement)("div",{className:"bwf-link-trigger-list-label"},Object(c.__)("Total Clicks","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-link-trigger-list-value"},parseInt(ce)>0?parseInt(ce):"-")),Object(r.createElement)("div",{className:"bwf-link-trigger-list"},Object(r.createElement)("div",{className:"bwf-link-trigger-list-label"},Object(c.__)("Runs","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-link-trigger-list-value"},"once"===re?Object(c.__)("Once","wp-marketing-automations"):Object(c.__)("Multiple Times","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-link-trigger-list"},Object(r.createElement)("div",{className:"bwf-link-trigger-list-label"},Object(c.__)("Log Actions as Contact Note","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-link-trigger-list-value"},se?Object(c.__)("Yes","wp-marketing-automations"):Object(c.__)("No","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-link-trigger-list"},Object(r.createElement)("div",{className:"bwf-link-trigger-list-label"},Object(c.__)("Auto Login","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-link-trigger-list-value"},be?Object(c.__)("Yes","wp-marketing-automations"):Object(c.__)("No","wp-marketing-automations")))))),!Object(l.Jb)()&&Object(r.createElement)(y.b,{isOpen:T,onRequestClose:function(){return A(!1)},modalContent:{isFeature:!0,featureTitle:Object(c.__)("Bulk Actions","wp-marketing-automations")}}))},T=(a(1255),a(959));function A(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?A(Object(a),!0).forEach((function(t){R(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function R(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function B(e,t,a,r,n,c,i){try{var l=e[c](i),s=l.value}catch(e){return void a(e)}l.done?t(s):Promise.resolve(s).then(r,n)}var U=function(){var e=Object(r.useContext)(l.h),t=Object(m.a)(),a=t.getSingleLinkData,n=t.getSingleLinkListData,i=Object(u.a)().setSingleLinkValue,s=n(),o=a(),b=o.ID,f=void 0===b?"":b,g=o.title,j=void 0===g?"":g,w=o.status,d=void 0===w?0:w,p=s.title,v=void 0===p?"":p,E=function(){var t,a=(t=regeneratorRuntime.mark((function t(){var a,r,n,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=(a=s.length>0&&void 0!==s[0]?s[0]:"")&&a!=j){t.next=3;break}return t.abrupt("return");case 3:return r=I({},o),t.prev=4,t.next=7,O()({path:Object(l.u)("/link-trigger/".concat(f)),method:"POST",data:I(I({},r),{},{title:a})});case 7:if(!(n=t.sent)||200!=n.code){t.next=13;break}e(Object(c.__)("Title Updated","wp-marketing-automations")),i("data",n.result),t.next=14;break;case 13:throw Error(Object(l.p)(null==n?void 0:n.message));case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(4),e(t.t0.message);case 19:Object(l.wb)(e,3e3);case 20:case"end":return t.stop()}}),t,null,[[4,16]])})),function(){var e=this,a=arguments;return new Promise((function(r,n){var c=t.apply(e,a);function i(e){B(c,r,n,i,l,"next",e)}function l(e){B(c,r,n,i,l,"throw",e)}i(void 0)}))});return function(){return a.apply(this,arguments)}}(),k=0===parseInt(d);return Object(r.createElement)(r.Fragment,null,""!=j&&k?Object(r.createElement)(T.a,{title:j,updateTitle:E}):""!=j?j:""!==v?v:Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-20 bwf-w-210"}))};t.default=function(e){var t=e.match.params.id,a=Object(s.i)(),o=Object(u.a)().fetchSingleLink,b=Object(i.a)(),f=b.setBackLink,O=b.setBackLinkLabel,w=b.setL2Nav,d=(0,Object(m.a)().getSingleLinkError)();if(Object(n.a)(Object(c.__)("Link Triggers","wp-marketing-automations")),Object(r.useEffect)((function(){Object(l.k)("Link Triggers #"+t),w(""),f(Object(s.f)({},"/link-triggers",a)),O(Object(c.__)("All Link Triggers","wp-marketing-automations"))}),[]),Object(r.useEffect)((function(){o(t)}),[]),!Object(g.isEmpty)(d)){var p=Object(c.__)("No link trigger entry found with provided ID.","wp-marketing-automations");return d.hasOwnProperty("message")&&!Object(g.isEmpty)(d.message)&&(p=d.message),Object(r.createElement)(_.a,{status:"error",isDismissible:!1,className:"bwf-mtb-10"},p)}return Object(r.createElement)("div",{className:"bwf-link-trigger-edit-section"},Object(r.createElement)(j.a,null),Object(r.createElement)("div",{className:"bwf-section-header"},Object(r.createElement)("div",{className:"bwf-section-left"},Object(r.createElement)("span",{className:"bwf-svg-wrap",onClick:function(){Object(s.k)({page:"autonami",path:"/link-triggers"},"/",{})}},Object(r.createElement)(v.a,{icon:"arrow-left",width:24,height:24})),Object(r.createElement)("span",{className:"bwf-section-title"},Object(r.createElement)(U,null)),Object(r.createElement)("span",{className:"bwf-tags bwf-tag-light-blue"},Object(c.__)("Link Trigger","wp-marketing-automations")))),Object(r.createElement)("div",{className:"bwf_clear_8"}),Object(r.createElement)(x,{id:t}))}},959:function(e,t,a){"use strict";var r=a(0),n=a(5),c=a(4),i=a(3),l=a(1);a(960);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],r=!0,n=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){n=!0,c=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}t.a=function(e){var t=e.updateTitle,a=e.title,o=e.className,b=void 0===o?"":o,m=e.isDisabled,u=void 0!==m&&m,f=s(Object(r.useState)(!1),2),O=f[0],g=f[1],j=s(Object(r.useState)(""),2),w=j[0],d=j[1],p=Object(r.useRef)();Object(r.useEffect)((function(){d(a)}),[a]),Object(c.lc)(p,(function(){v(w),g(!1)}));var v=function(e){if("string"==typeof e){var r=e.replace(/\s/g,"");g(!1),Object(i.isEmpty)(r)?d(a):(d(null==e?void 0:e.trim()),t(e))}};return Object(r.useEffect)((function(){if(O&&p.current){var e=function(){this.style.width=this.value.length+2+"ch"};p.current.addEventListener("input",e),e.call(p.current)}}),[O]),Object(r.useEffect)((function(){var e;O&&(null==p||null===(e=p.current)||void 0===e||e.focus())}),[O]),O?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(n.TextControl,{className:"bwf-editable-title ".concat(b),value:w,onChange:function(e){d(e)},ref:p,onBlur:v,autoComplete:"off",onKeyUp:function(e){"Enter"===e.key&&v(w)},disabled:u})):Object(r.createElement)("div",{onClick:function(){O||u||g(!0)},title:u?"":Object(l.__)("Click to edit","wp-marketing-automations"),className:"bwf-editable-title bwf-text ".concat(b," ").concat(u?"bwf-disable":"")},Object(r.createElement)("div",{dangerouslySetInnerHTML:{__html:w}}))}},960:function(e,t,a){},982:function(e,t,a){"use strict";var r=a(51),n=a(4);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}t.a=function(){var e=Object(r.a)("linkTriggerListData"),t=e.fetch,a=e.setStateProp,c=s(e,["fetch","setStateProp"]),l=Object(r.a)("singleLinkTriggerData"),o=l.fetch,b=l.setStateProp;return i(i({},c),{},{fetchAll:function(e,r,c){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";a("isLoading",!0);var l=e.s,s={offset:r,limit:c,search:l,status:i};t("GET",Object(n.u)("/link-triggers"),s)},setLinkListValues:function(e,t){a(e,t)},fetchSingleLink:function(e){b("error",{}),o("GET",Object(n.u)("/link-trigger/".concat(e)))},setSingleLinkValue:function(e,t){b(e,t)}})}},993:function(e,t,a){"use strict";var r=a(52);function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}t.a=function(){var e=Object(r.a)("linkTriggerListData"),t=e.getStateProp,a=l(e,["getStateProp"]),n=Object(r.a)("singleLinkTriggerData"),i=n.getStateProp,s=n.getLoading;return c(c({},a),{},{getAllLists:function(){return t("data")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getCountData:function(){return t("countData")},getPerPageCount:function(){return parseInt(t("limit"))},getPageOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total_count"))},getActions:function(){return t("actions")},getSingleLinkLoad:function(){return s()},getSingleLinkData:function(){return i("data")},getLinkActionList:function(){return i("actionList")},getLinkActionSchemaList:function(){return i("actionSchema")},getLinkEditableStatus:function(){return i("isEditable")},getSingleLinkError:function(){return i("error")},getSingleLinkListData:function(){return i("listData")}})}}}]);