(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1075:function(e,t,a){"use strict";var r=a(54),n=a(341),c=Object(r.a)(n.b.cartAnalytics).getStateProp,i=Object(r.a)(n.b.contactAnalytics).getStateProp,o=Object(r.a)(n.b.emailAnalytics).getStateProp,l=Object(r.a)(n.b.emailTable).getStateProp,s=Object(r.a)(n.b.engagementAnalytics).getStateProp,u=Object(r.a)(n.b.directEmailTable).getStateProp,b={getCartAnalytics:function(){return c("data")},getCartAnalyticsLoading:function(){return c("isLoading")},getContactAnalytics:function(){return i("data")},getContactAnalyticsLoading:function(){return i("isLoading")},getEmailAnalytics:function(){return o("data")},getEmailAnalyticsLoading:function(){return o("isLoading")},getEmailTableList:function(){return l("data")},getEmailTableTotal:function(){return l("total")},getEmailTableOffset:function(){return l("offset")},getEmailTableLimit:function(){return l("limit")},getEmailTableLoading:function(){return l("isLoading")},getEmailTablePage:function(){return parseInt(l("offset"))/parseInt(l("limit"))+1},getEngagementAnalytics:function(){return s("data")},getEngagementAnalyticsLoading:function(){return s("isLoading")},getDirectEmailTableList:function(){return u("data")},getDirectEmailTableTotal:function(){return u("total")},getDirectEmailTableOffset:function(){return u("offset")},getDirectEmailTableLimit:function(){return u("limit")},getDirectEmailTableLoading:function(){return u("isLoading")},getDirectEmailTablePage:function(){return parseInt(u("offset"))/parseInt(u("limit"))+1}};t.a=b},1094:function(e,t,a){"use strict";var r=a(53),n=a(3),c=a(341),i=a(19),o=function(e){var t=0;return"automation"===e?t=1:"broadcast"===e&&(t=2),t};t.a=function(){var e=Object(r.a)(c.b.cartAnalytics).fetch,t=Object(r.a)(c.b.contactAnalytics),a=t.fetch,l=t.setStateProp,s=Object(r.a)(c.b.emailAnalytics),u=s.fetch,b=s.setStateProp,m=Object(r.a)(c.b.emailTable),f=m.fetch,p=m.setStateProp,v=Object(r.a)(c.b.engagementAnalytics),g=v.fetch,y=v.setStateProp,d=Object(r.a)(c.b.directEmailTable),O=d.fetch,j=d.setStateProp;return{fetchCartAnalytics:function(t,a,r){e("GET",Object(n.x)("/analytics/carts/")+"?"+Object(i.stringify)({after:t,before:a,interval:r}))},fetchContactAnalytics:function(e,t,r){a("GET",Object(n.x)("/analytics/contacts/")+"?"+Object(i.stringify)({after:e,before:t,interval:r}))},fetchEmailAnalytics:function(e,t,a,r,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;u("GET",Object(n.x)("/analytics/emails/chart/")+"?"+Object(i.stringify)({after:e,before:t,interval:a,oid:r,type:o(c),mode:l}))},fetchEmailTable:function(e,t,a,r,c,l,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1;f("GET",Object(n.x)("/analytics/emails/tabular/")+"?"+Object(i.stringify)({after:a,before:r,interval:c,oid:l,type:o(s),limit:e,offset:t,mode:u}))},setEmailTableData:function(e,t){p(e,t)},fetchEngagementData:function(e,t){g("GET",Object(n.x)("/analytics/engagement")+"?"+Object(i.stringify)({after:e,before:t}))},setContactAnalyticsData:function(e,t){l(e,t)},setEmailAnalyticsData:function(e,t){b(e,t)},setEngagementData:function(e,t){y(e,t)},fetchDirectEmailTable:function(e,t,a,r,c){O("GET",Object(n.x)("/analytics/direct-emails/tabular/")+"?"+Object(i.stringify)({after:a,before:r,interval:c,limit:e,offset:t}))},setDirectEmailTableData:function(e,t){j(e,t)}}}},1095:function(e,t,a){"use strict";var r=a(73),n=a(0),c=a(1);t.a=function(e,t,a){var i=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},o=Object(r.a)(),l=o.setActiveMultiple,s=o.resetHeaderMenu,u=o.setL2NavType,b=o.setL2Nav,m=o.setBackLink,f=o.setL2Title,p=o.setPageHeader;return Object(n.useEffect)((function(){s(),!t&&u("menu"),!t&&b(i.reports_nav),l({leftNav:"analytics",rightNav:e+"-analytics"}),t&&m(t),a&&f(a),p(Object(c.__)("Analytics","wp-marketing-automations"))}),[e,a]),!0}},1114:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var r=a(1),n=a(13),c=a(3),i=[{type:"image-desc",data:[{img:Object(c.r)()+"cart/cart1.png",title:Object(r.__)("Optimise Tracking","wp-marketing-automations"),desc:Object(r.__)("Start from scratch or use our pre-defined workflow recipes with automation","wp-marketing-automations")},{img:Object(c.r)()+"cart/cart2.png",title:Object(r.__)("Capture Live your cart","wp-marketing-automations"),desc:Object(r.__)("Create personalized journeys with conditional branching, delays, and split paths","wp-marketing-automations")}]},{type:"buttons",data:{buttons:[{text:Object(r.__)("Enable Tracking","wp-marketing-automations"),onClick:function(){Object(n.k)({page:"autonami",path:"/settings/abandonment"},"/",{})}}]}}]},1372:function(e,t,a){},1459:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a(1),c=a(1075),i=a(52),o=a(3),l=a(343),s=function(){var e=Object(i.a)(Object(o.ob)()).formatAmount,t=c.a.getCartAnalyticsLoading,a=c.a.getCartAnalytics,s=t(),u=a(),b=function(e){if(!u||!u.hasOwnProperty("totals"))return 0;var t=u.totals;return t.hasOwnProperty(e)?t[e]:void 0},m=[{key:"recoverable_carts",title:Object(n.__)("Recoverable Carts","wp-marketing-automations"),value:b("recoverable_carts"),icon:"checkout"},{key:"potential_revenue",title:Object(n.__)("Potential Revenue","wp-marketing-automations"),value:e(b("potential_revenue")),icon:"revenue-new"},{key:"recovered_cart",title:Object(n.__)("Recovered Carts","wp-marketing-automations"),value:b("recovered_cart"),icon:"cart-added"},{key:"recovered_revenue",title:Object(n.__)("Recovered Revenue","wp-marketing-automations"),value:e(b("recovered_revenue")),icon:"revenue-recovered-new"},{key:"recovery_rate",title:Object(n.__)("Recovery Rate","wp-marketing-automations"),value:b("recovery_rate")+"%",icon:"graph"},{key:"lost_cart",title:Object(n.__)("Lost Carts","wp-marketing-automations"),value:b("lost_cart"),icon:"lost-cart"}];return Object(r.createElement)("div",{className:"bwf-crm-cart-report-tiles"},Object(r.createElement)(l.a,{items:m,title:Object(n.__)("Overview","wp-marketing-automations"),isLoading:s,rowTileCount:4}))},u=a(338),b=a(33),m=function(e){var t=e.query,a=c.a.getCartAnalytics,i=c.a.getCartAnalyticsLoading,o=(t.chart&&t.chart,i()),l=a(),s=(t.chartType&&t.chartType,Object(b.f)(t)),m=Object(b.b)(function(e){return e.period&&null!=e.period&&""!=e.period||(e.period="month"),e.compare&&null!=e.compare&&""!=e.compare||(e.compare="previous_year"),e}(t));m.includes(s)||(s=m[m.length-1]);var f=function(e){var t=[];l&&l.hasOwnProperty("intervals")&&l.intervals.map((function(a){"cart"==e&&t.push({date:a.start_date,recoverable_carts:{label:Object(n.__)("Recoverable Carts","wp-marketing-automations"),value:parseFloat(a.subtotals.recoverable_carts)},recovered_cart:{label:Object(n.__)("Recovered Carts","wp-marketing-automations"),value:parseFloat(a.subtotals.recovered_cart)},lost_cart:{label:Object(n.__)("Lost Carts","wp-marketing-automations"),value:parseFloat(a.subtotals.lost_cart)}}),"revenue"===e&&t.push({date:a.start_date,potantial_revenue:{label:Object(n.__)("Potential Revenue","wp-marketing-automations"),value:parseFloat(a.subtotals.potential_revenue)},recovered_revenue:{label:Object(n.__)("Recovered Revenue","wp-marketing-automations"),value:parseFloat(a.subtotals.recovered_revenue)}})}));return t};return Object(r.createElement)("div",null,Object(r.createElement)("div",{className:"bwf-crm-cart-report-table-block"},Object(r.createElement)(u.a,{isRequesting:o,data:f("cart"),title:Object(n.__)("Carts","wp-marketing-automations"),interval:s,layout:"item-comparison",chartType:"curve-line",hideTypeSelect:!0,legendPosition:"top",interactiveLegend:!0,showCurrency:!1,height:340})),Object(r.createElement)("div",{className:"bwf-crm-cart-report-table-block"},Object(r.createElement)(u.a,{isRequesting:o,data:f("revenue"),title:Object(n.__)("Revenue","wp-marketing-automations"),interval:s,layout:"item-comparison",chartType:"curve-line",hideTypeSelect:!0,legendPosition:"top",interactiveLegend:!0,showCurrency:!0,height:340})))},f=a(201),p=a(49),v=(a(559),a(13));function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){O(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function O(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var r=a.call(e,t||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var j=function(e){var t=e.query;return Object(r.createElement)("div",{className:"bwf-crm-cart-report-filter"},Object(r.createElement)(p.b,{component:"div",className:"bwf-filters"},Object(r.createElement)("div",{className:"bwfcrm-filters-basic-filters"},Object(r.createElement)(f.a,{key:JSON.stringify(t),onRangeSelect:function(e){var a=d(d({},t),e);delete a.compare,Object(v.k)(a,"/",{})},dateQuery:function(e){e.compare="previous_year";var t=Object(b.e)(e),a=t.period,r=t.compare,n=t.before,c=t.after,i=Object(b.c)(e);return{period:a,compare:r,before:n,after:c,primaryDate:i.primary,secondaryDate:i.secondary}}(t),isoDateFormat:b.g,hideCompare:!0}))))},_=a(1094),w=a(2),E=(a(1372),a(1095)),h=a(51),k=a(333),T=(a(8),a(1114));t.default=function(){var e=Object(_.a)().fetchCartAnalytics;Object(E.a)("carts",!1,"");var t=Object(v.i)(),a=function(t,a){var r=function(e){return e.compare="previous_year",Object(b.c)(e).primary}(t),n="",c="";r&&(Object(w.isEmpty)(r.after)||(n=r.after.format("YYYY-MM-DD HH:mm:ss")),Object(w.isEmpty)(r.before)||(c=r.before.format("YYYY-MM-DD 23:59:59")),Object(w.isEmpty)(n)||Object(w.isEmpty)(c)||e(n,c,a))};t.hasOwnProperty("period")||(t.period="month");var c=t.period,i=t.compare,l=t.interval,u=t.after,f=t.before;return Object(r.useEffect)((function(){Object(o.l)(Object(n.__)("Cart Analytics","wp-marketing-automations"));var e=t.hasOwnProperty("interval")?t.interval:"day";a(t,e)}),[c,i,l,u,f]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(n.__)("Carts","wp-marketing-automations")))),Object(o.Eb)()?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(h.a,null),Object(r.createElement)("div",{className:"bwf-crm-analytics-wrap bwf-crm-cart-report-wrap"},Object(r.createElement)(j,{query:t}),Object(r.createElement)("div",{className:"bwf_clear_2"}),Object(r.createElement)(s,{query:t}),Object(r.createElement)("div",{className:"bwf_clear_24"}),Object(r.createElement)(m,{query:t}))):Object(r.createElement)(k.a,{data:T.a}))}}}]);