(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1081:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0);var a=function(t,e){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=t}),[t]),Object(r.useEffect)((function(){if(null!==e){var t=setInterval((function(){n.current()}),e);return function(){return clearInterval(t)}}}),[e])}},1152:function(t,e,n){"use strict";var r=n(0),a=n(1),o=n(3),i=(n(565),n(5)),c=n(8);e.a=function(t){var e=t.onFileSelected,n=t.filetypeArray,u=t.type,s=void 0===u?"automation":u,l=t.importText,f=void 0===l?"":l,m=t.importInfo,p=void 0===m?"":m,h=Object(r.useContext)(o.h),b=function(t){t&&t[0]&&"type"in t[0]?n.includes(t[0].type)?(e(t[0]),Object(o.Ab)(h,3e3)):h(Object(a.__)("Uploaded file is not valid.","wp-marketing-automations")):h(Object(a.__)("Uploaded file not found","wp-marketing-automations"))};return Object(r.createElement)("div",{className:"bwf-component-import-wrapper"},Object(r.createElement)("div",{className:"bwf-import-area-wrapper"},Object(r.createElement)(i.FormFileUpload,{isSecondary:!0,accept:"application/json",onChange:function(t){return b(t.target.files)},render:function(t){var e=t.openFileDialog;return Object(r.createElement)("div",{className:"bwf-import-area",onClick:e},Object(r.createElement)(c.a,{icon:"json-upload",size:72}),Object(r.createElement)("div",{className:"bwf-drop-import-heading"},""!==f?f:Object(a.__)("Click or Drag & Drop your JSON file","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-drop-import-content"},""!==p?p:Object(a.sprintf)(Object(a.__)("This tool allows you to import the %s from the JSON file.","wp-marketing-automations"),s)))}}),Object(r.createElement)(i.DropZone,{onFilesDrop:b,onHTMLDrop:b,onDrop:b})))}},1153:function(t,e,n){"use strict";var r=n(0),a=n(1081),o=(n(1154),n(8)),i=n(1),c=n(9),u=n.n(c),s=n(3),l=n(5),f=n(2);function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(){p=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,i=Object.create(o.prototype),c=new N(r||[]);return a(i,"_invoke",{value:P(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",b="executing",d="completed",y={};function g(){}function v(){}function O(){}var w={};s(w,i,(function(){return this}));var j=Object.getPrototypeOf,E=j&&j(j(C([])));E&&E!==n&&r.call(E,i)&&(w=E);var _=O.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(a,o,i,c){var u=f(t[a],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==m(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,a){n(t,r,e,a)}))}return o=o?o.then(a,a):a()}})}function P(e,n,r){var a=h;return function(o,i){if(a===b)throw Error("Generator is already running");if(a===d){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=L(c,r);if(u){if(u===y)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===h)throw a=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=b;var s=f(e,n,r);if("normal"===s.type){if(a=r.done?d:"suspendedYield",s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=d,r.method="throw",r.arg=s.arg)}}}function L(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,L(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(m(e)+" is not iterable")}return v.prototype=O,a(_,"constructor",{value:O,configurable:!0}),a(O,"constructor",{value:v,configurable:!0}),v.displayName=s(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,s(t,u,"GeneratorFunction")),t.prototype=Object.create(_),t},e.awrap=function(t){return{__await:t}},k(x.prototype),s(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new x(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(_),s(_,u,"Generator"),s(_,i,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=C,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function h(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function b(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){h(o,r,a,i,c,"next",t)}function c(t){h(o,r,a,i,c,"throw",t)}i(void 0)}))}}function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var g={automation:Object(i.__)("Automation","wp-marketing-automations"),templates:Object(i.__)("Templates","wp-marketing-automations"),carts:Object(i.__)("Carts","wp-marketing-automations")};e.a=function(t){var e=t.type,n=void 0===e?"":e,c=t.localData,m=void 0===c?{}:c,h=t.onDismiss,y=void 0===h?function(){}:h,v=Object(r.useContext)(s.h),O=d(Object(r.useState)(1),2),w=O[0],j=O[1],E=d(Object(r.useState)(!1),2),_=E[0],k=E[1],x=d(Object(r.useState)(!1),2),P=x[0],L=x[1],A=d(Object(r.useState)({}),2),S=A[0],N=A[1],C=function(){var t=b(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u()({path:Object(s.x)("/export/status?type=".concat(n)),method:"GET"}).then((function(t){if(200!==t.code||!t.hasOwnProperty("result"))throw Error(Object(s.s)(null==t?void 0:t.message));var e=t.result,n=e.status,r=void 0===n?1:n,a=e.msg,o=void 0===a?[]:a,i=e.url,c=void 0===i?"":i;j(r),N({msg:o,url:c})}));case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),v(t.t0.hasOwnProperty("message")&&""!==t.t0.message?t.t0.message:Object(i.__)("Unable to export.","wp-marketing-automations")),Object(s.Ab)(v,3e3);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){if(Object(f.isEmpty)(m))""!==n&&C();else{var t=m.status,e=void 0===t?1:t,r=m.msg,a=void 0===r?[]:r,o=m.url,i=void 0===o?"":o;j(e),N({msg:a,url:i})}}),[]);var T=function(){var t=b(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u()({path:Object(s.x)("/export/action?type=".concat(n,"&action=cancel")),method:"POST"}).then((function(t){if(200!==t.code||!t.hasOwnProperty("result"))throw Error(Object(s.s)(null==t?void 0:t.message));var e=t.result.status;(void 0===e?1:e)&&(bwfcrm_contacts_data.export_data.hasOwnProperty(n)&&delete bwfcrm_contacts_data.export_data[n],k(!0),y())}));case 3:t.next=9;break;case 5:t.prev=5,t.t0=t.catch(0),v(t.t0.hasOwnProperty("message")&&""!==t.t0.message?t.t0.message:Object(i.__)("Unable to perform action.","wp-marketing-automations")),Object(s.Ab)(v,3e3);case 9:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=b(p().mark((function t(){return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.open(Object(s.lb)()+"/wp-json"+Object(s.x)("/export/download?type=".concat(n,"&bwf-nonce=").concat(Object(s.C)(),"&user_id=").concat(Object(s.K)())),"_blank");case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(Object(a.a)((function(){1==w&&""!==n&&C()}),5e3),""===n||_)return Object(r.createElement)(r.Fragment,null);var D=S.url,F=void 0===D?"":D,M=S.msg,G=void 0===M?[]:M,z={1:Object(i.__)("Exporting In Progress…","wp-marketing-automations"),2:Object(i.__)("File is ready","wp-marketing-automations"),3:Object(i.__)("Exporting Failed","wp-marketing-automations")},B={1:Object(i.__)("Cancel","wp-marketing-automations"),2:Object(i.__)("Download","wp-marketing-automations"),3:Object(i.__)("View Details","wp-marketing-automations")};return Object(r.createElement)("div",{className:"bwf-export-info-wrap bwf-status-".concat(w)},Object(r.createElement)("div",{className:"bwf-export-info-left"},Object(r.createElement)("div",{className:"bwf-export-status-icon"},Object(r.createElement)(o.a,{icon:"export-info",size:20})),Object(r.createElement)("div",{className:"bwf-export-status-message"},z[w])),Object(r.createElement)("div",{className:"bwf-export-info-right"},(2!==parseInt(w)||!(2===parseInt(w)&&""===F))&&Object(r.createElement)("div",{className:"bwf-export-status-button",onClick:function(){switch(parseInt(w)){case 1:T();break;case 2:I();break;case 3:L(!0)}}},B[w]),1!==parseInt(w)&&Object(r.createElement)("div",{className:"bwf-export-status-dismiss",onClick:T},Object(r.createElement)(o.a,{icon:"close",size:16,color:"#FFF"}))),P&&Object(r.createElement)(l.Modal,{onRequestClose:function(){return L(!1)},className:"bwf-admin-modal bwf-admin-modal-480 bwf-admin-modal-no-header bwf-export-info-modal"},Object(r.createElement)("div",{className:"bwf-admin-m-header-new"},Object(r.createElement)("div",{className:"bwf-admin-m-title"},Object(i.sprintf)(Object(i.__)("Error! Export %ss","wp-marketing-automations"),g.hasOwnProperty(n)?g[n]:n)),Object(r.createElement)("div",{className:"bwf-admin-m-close",onClick:function(){return L(!1)}},Object(r.createElement)(o.a,{icon:"close",size:20}))),Object(r.createElement)("div",{className:"bwf-export-info-content"},Object(r.createElement)("div",{className:"bwf-export-info-content-bold"},Object(i.__)("Following reasons while creating file for export","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-export-info-content-error-list"},Object(f.isEmpty)(G)?Object(r.createElement)("li",null,Object(i.__)("Unable to create export","wp-marketing-automations")):G.map((function(t,e){return Object(r.createElement)("li",{key:e},t)}))))))}},1154:function(t,e,n){},1387:function(t,e,n){},1388:function(t,e,n){},1389:function(t,e,n){},1451:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(51),o=n(1),i=n(143),c=n(54),u=n(148);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=["getStateProp"];function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){p(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(){var t=Object(c.a)("automationv1List"),e=t.getStateProp,n=function(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}(t,l),r=Object(c.a)(u.a.recipient).getStateProp,a=Object(c.a)(u.a.conversion).getStateProp,o=Object(c.a)(u.a.contacts).getStateProp,i=Object(c.a)(u.a.analytics).getStateProp;return m(m({},n),{},{getAutomations:function(){return e("automations")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total"))},getLoadingStatus:function(){return e("isLoading")},getRecipientData:function(){return r("data")},getRecipientLoading:function(){return r("isLoading")},getRecipientOffset:function(){return r("offset")},getRecipientAutomationId:function(){return r("automationId")},getRecipientTotal:function(){return r("total")},getRecipientAutomation:function(){return r("automation")},getRecipientPage:function(){return parseInt(r("offset"))/parseInt(r("limit"))+1},getRecipientLimit:function(){return r("limit")},getConversionData:function(){return a("data")},getConversionLoading:function(){return a("isLoading")},getConversionOffset:function(){return a("offset")},getConversionAutomationId:function(){return a("automationId")},getConversionTotal:function(){return a("total")},getConversionAutomation:function(){return a("automation")},getConversionPage:function(){return parseInt(a("offset"))/parseInt(a("limit"))+1},getConversionLimit:function(){return a("limit")},getCountData:function(){return e("countData")},getContactData:function(){return o("data")},getContactLoading:function(){return o("isLoading")},getContactOffset:function(){return o("offset")},getContactAutomationId:function(){return o("automationId")},getContactTotal:function(){return o("total")},getContactAutomation:function(){return o("automation")},getContactPage:function(){return parseInt(o("offset"))/parseInt(o("limit"))+1},getContactLimit:function(){return o("limit")},getContactCountData:function(){return o("contactCount")},getAnalyticsData:function(){return i("analytics")},getAnalyticsTileData:function(){return i("tiles")},getAnalyticsTableData:function(){return i("tableData")},getAnalyticsLoading:function(){return i("isLoading")},getAnalyticsType:function(){return i("type")},getAnalyticsAutomationData:function(){return i("automation")}})},b=n(53),d=n(3),y=n(19);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v=["fetch","setStateProp"],O=["s","page","filter","path"];function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){E(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==g(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var k=function(){var t=Object(b.a)("automationv1List"),e=t.fetch,n=t.setStateProp,r=_(t,v),a=Object(b.a)(u.a.recipient),o=a.fetch,i=a.setStateProp,c=Object(b.a)(u.a.conversion),s=c.fetch,l=c.setStateProp,f=Object(b.a)(u.a.contacts),m=f.fetch,p=f.setStateProp,h=Object(b.a)(u.a.analytics),g=h.fetch,w=h.setStateProp;return j(j({},r),{},{fetch:function(t,r,a,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n("automation",{}),n("isLoading",!0);var c=r.s,u=(r.page,r.filter,r.path,_(r,O)),s={offset:a,limit:o,status:t,search:c,filters:u,version:i?2:1};e("GET",Object(d.x)("/automations"),s)},setAutomationListValues:function(t,e){n(t,e)},fetchRecipient:function(t,e,n){o("GET",Object(d.x)("/automation/".concat(t,"/recipients?limit=").concat(e,"&offset=").concat(n)))},setRecipientsValues:function(t,e){i(t,e)},fetchConversion:function(t,e,n){l("automation",{}),s("GET",Object(d.x)("/automation/".concat(t,"/conversions?limit=").concat(e,"&offset=").concat(n)))},setConversionValues:function(t,e){l(t,e)},fetchContacts:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";p("automation",{}),m("GET",Object(d.x)("/automation/".concat(t,"/contacts?limit=").concat(e,"&offset=").concat(n,"&type=").concat(r,"&search=").concat(a)))},setContactValues:function(t,e){p(t,e)},fetchAnalytics:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=0;4===parseInt(o)&&(i=1),g("GET",Object(d.x)("/analytics/emails/chart/")+"?"+Object(y.stringify)({after:e,before:n,interval:r,oid:t,type:a,mode:o,contact:i}))},setAnalyticsValues:function(t,e){w(t,e)}})},x=n(2),P=n(60),L=n(61),A=n(18),S=n(5),N=n(74),C=n(9),T=n.n(C),I=n(6),D=n.n(I),F=n(13),M=n(1076),G=n(344),z=n(346),B=n(68),R=n(8),q=n(29),U=n(332),Y=n(14);function V(t){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(){H=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),c=new A(r||[]);return a(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var m="suspendedStart",p="executing",h="completed",b={};function d(){}function y(){}function g(){}var v={};s(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(S([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=d.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(a,o,i,c){var u=f(t[a],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==V(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,a){n(t,r,e,a)}))}return o=o?o.then(a,a):a()}})}function k(e,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=f(e,n,r);if("normal"===s.type){if(a=r.done?h:"suspendedYield",s.arg===b)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function x(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function S(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(V(e)+" is not iterable")}return y.prototype=g,a(j,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),s(j,u,"Generator"),s(j,i,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function X(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function $(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Q(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var J=function(t){var e=$(Object(r.useState)(!1),2),n=e[0],a=e[1],i=$(Object(r.useState)(""),2),c=i[0],u=i[1],s=$(Object(r.useState)({}),2),l=s[0],f=s[1],m=$(Object(r.useState)(""),2),p=m[0],h=m[1],b=Object(U.a)().setAutomationData,y=t.onCloseModal,g=t.query,v=t.isV2,O=void 0!==v&&v;Object(r.useEffect)((function(){a(!1),f({}),h("")}),[]);var w=function(){var t,e=(t=H().mark((function t(){var e;return H().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p){t.next=3;break}return u(Object(o.__)("Automation name is required field","wp-marketing-automations")),t.abrupt("return");case 3:return u(""),a(!0),t.prev=5,t.next=8,T()({path:Object(d.x)("/automations/create/"),method:"POST",data:{title:p,version:O}});case 8:if(!((e=t.sent)&&e.result&&e.result.automation_id)){t.next=18;break}if(!O){t.next=16;break}b("isNewAutomation",e.result.automation_id),bwfcrm_contacts_data.first_automation_id=e.result.automation_id,setTimeout((function(){return Object(F.k)({path:"/automation/"+e.result.automation_id},"/",g)}),500),t.next=18;break;case 16:return window.location.href="admin.php?page=autonami-automations&edit="+e.result.automation_id,t.abrupt("return");case 18:t.next=24;break;case 20:t.prev=20,t.t0=t.catch(5),a(!1),f({error:!0,message:t.t0.message});case 24:case"end":return t.stop()}}),t,null,[[5,20]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){X(o,r,a,i,c,"next",t)}function c(t){X(o,r,a,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return Object(r.createElement)(S.Modal,{className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-h--core-header",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},Object(o.__)("Add Automation","wp-marketing-automations")),Object(r.createElement)("span",{onClick:y,className:"bwf-modal-close"},Object(r.createElement)(R.a,{icon:"close",color:"#353030"}))),c&&Object(r.createElement)(q.a,{status:"error",onRemove:function(){return u("")}},c),l&&l.error||l&&l.success?l&&l.success&&l.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(G.a,null),Object(r.createElement)("div",{className:"bwf-h1"},l.message)):l&&l.error&&l.message?Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(z.a,null),Object(r.createElement)("div",{className:"bwf-h1"},l.message)):Object(r.createElement)(B.a,null):Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(t){"Enter"==t.key&&w()}},Object(r.createElement)(S.TextControl,{placeholder:Object(o.__)("Enter automation name","wp-marketing-automations"),autoFocus:!0,label:Object(o.__)("Name","wp-marketing-automations"),value:p,onChange:function(t){return h(t)},disabled:n}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(Y.a,{onClick:function(){return y()},className:"bwf-cancel-btn"},Object(o.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(Y.a,{isPrimary:!0,disabled:n,onClick:w,isBusy:n},Object(o.__)("Add","wp-marketing-automations")))))},K=n(147),Z=n(52),W=n(145),tt=n(73),et=n(333),nt=n(97);function rt(t){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function at(){at=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),c=new A(r||[]);return a(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var m="suspendedStart",p="executing",h="completed",b={};function d(){}function y(){}function g(){}var v={};s(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(S([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=d.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(a,o,i,c){var u=f(t[a],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==rt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,a){n(t,r,e,a)}))}return o=o?o.then(a,a):a()}})}function k(e,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=f(e,n,r);if("normal"===s.type){if(a=r.done?h:"suspendedYield",s.arg===b)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function x(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function S(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(rt(e)+" is not iterable")}return y.prototype=g,a(j,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),s(j,u,"Generator"),s(j,i,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function ot(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function it(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){ot(o,r,a,i,c,"next",t)}function c(t){ot(o,r,a,i,c,"throw",t)}i(void 0)}))}}var ct=function(t){var e=t.isOpen,n=t.tasks,a=t.onSuccess,i=t.onError,c=t.onRequestClose,u=t.actionType,s=n?n.length:0,l=Object(nt.useMutation)(function(){var t=it(at().mark((function t(e){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T()({path:Object(d.x)("/bulk-action/automation_v1"),method:"DELETE",data:{ids:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return l.reset()}),2500),a&&a()},onError:function(){i&&i()}}),f=function(){var t=it(at().mark((function t(){return at().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.mutate(n.map((function(t){return t.id})));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m={delete:{title:Object(o._n)("Delete Automation","Delete Automations",s,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(o.__)("You are about to delete ","wp-marketing-automations"),Object(o._n)("automation","automations",s,"wp-marketing-automations"),Object(o.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(o.__)("Delete","wp-marketing-automations"),cancelBtn:Object(o.__)("Cancel","wp-marketing-automations"),successMsg:Object(o.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(o.__)("Unable to delete automation","wp-marketing-automations"),confirmDescription:Object(o.__)("This action is irreversible","wp-marketing-automations")}};return Object(r.createElement)(N.a,{modalTitle:m.hasOwnProperty(u)&&m[u].hasOwnProperty("title")?m[u].title:Object(o._n)("Perform Actions","Perform Actions",s,"wp-marketing-automations"),deleteDescriptionText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("description")?m[u].description:"",confirmButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmBtn")?m[u].confirmBtn:Object(o.__)("Confirm","wp-marketing-automations"),cancelButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("cancelBtn")?m[u].cancelBtn:Object(o.__)("Cancel","wp-marketing-automations"),onConfirm:f,isLoading:l.isLoading,successMessage:l.isSuccess&&(m.hasOwnProperty(u)&&m[u].hasOwnProperty("successMsg")?m[u].successMsg:Object(o.__)("Actions Done!","wp-marketing-automations")),errorMessage:l.isError&&(l.error&&l.error.message?l.error.message:m.hasOwnProperty(u)&&m[u].hasOwnProperty("errorMsg")?m[u].errorMsg:Object(o.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!c&&c()},isOpen:e,confirmDescription:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmDescription")?m[u].confirmDescription:"",isDelete:!0})},ut=n(146),st=n(1152);function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(){ft=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),c=new A(r||[]);return a(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var m="suspendedStart",p="executing",h="completed",b={};function d(){}function y(){}function g(){}var v={};s(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(S([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=d.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(a,o,i,c){var u=f(t[a],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==lt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,a){n(t,r,e,a)}))}return o=o?o.then(a,a):a()}})}function k(e,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=f(e,n,r);if("normal"===s.type){if(a=r.done?h:"suspendedYield",s.arg===b)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function x(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function S(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(lt(e)+" is not iterable")}return y.prototype=g,a(j,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),s(j,u,"Generator"),s(j,i,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function mt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(n),!0).forEach((function(e){ht(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ht(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=lt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lt(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bt(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function dt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return yt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var gt,vt,Ot,wt,jt,Et,_t,kt,xt,Pt,Lt,At,St,Nt,Ct,Tt,It,Dt,Ft,Mt,Gt,zt,Bt,Rt,qt,Ut,Yt,Vt,Ht,Xt,$t,Qt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(r.createElement)(r.Fragment,null,"".concat(""!==t?t:Object(o.__)("It seems there was an issue during the import","wp-marketing-automations"),". ").concat(Object(o.__)("For further help, contact","wp-marketing-automations")," "),Object(r.createElement)("a",{href:Object(d.X)("support",{utm_medium:"Automation+Import+Failed"}),target:"_blank",rel:"noopener noreferrer"},Object(o.__)(" support. ","wp-marketing-automations")))},Jt=function(t){var e=t.onRequestClose,n=t.isV2,a=void 0!==n&&n,i=Object(F.i)(),c=dt(Object(r.useState)({status:!1,modalTitle:Object(o.__)("Import Automation","wp-marketing-automations")}),2),u=c[0],s=c[1],l=dt(Object(r.useState)(null),2),f=l[0],m=l[1],p=function(){var t,n=(t=ft().mark((function t(){var n;return ft().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(pt(pt({},u),{},{loading:!0,title:Object(o.__)("Please wait…","wp-marketing-automations"),message:Object(r.createElement)(r.Fragment,null,Object(o.sprintf)(Object(o.__)("Please wait! We are importing %s data","wp-marketing-automations"),null==f?void 0:f.name))})),t.prev=1,(n=new FormData).append("files",f),n.append("version",a?2:1),t.next=7,T()({method:"POST",body:n,path:Object(d.x)("/automations/import")}).then((function(t){200==t.code?t.result.hasOwnProperty("automation_id")?a?(s(pt(pt({},u),{},{status:!0,loading:!1,title:Object(o.__)("Importing Done","wp-marketing-automations"),message:Object(o.__)("Successfully Imported and added in your Automation","wp-marketing-automations")})),setTimeout((function(){Object(F.k)({page:"autonami",path:"/automation/".concat(t.result.automation_id)},"/",{})}),1e3)):window.location.href="admin.php?page=autonami-automations&edit="+t.result.automation_id:(Object(F.k)({path:"/automations/"},"/",i),e()):(m(null),s(pt(pt({},u),{},{status:!1,loading:!1,title:Object(o.__)("Importing Failed","wp-marketing-automations"),message:Qt(t.message)})))}));case 7:t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),m(null),s(pt(pt({},u),{},{status:!1,loading:!1,title:Object(o.__)("Importing Failed","wp-marketing-automations"),message:Qt(t.t0.message)}));case 13:case"end":return t.stop()}}),t,null,[[1,9]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){bt(o,r,a,i,c,"next",t)}function c(t){bt(o,r,a,i,c,"throw",t)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){f&&p()}),[f]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(S.Modal,{className:"bwf-admin-modal bwf-admin-modal-480 bwf-admin-modal-no-header",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(r.createElement)("div",{className:"bwf-admin-m-header-new"},Object(r.createElement)("div",{className:"bwf-admin-m-title"},Object(o.__)("Import Automation","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-admin-m-close",onClick:e},Object(r.createElement)(R.a,{icon:"close",size:20}))),u.title&&Object(r.createElement)("div",{className:"bwf-import-modal-content bwf-t-center"},u.loading?Object(r.createElement)(R.a,{icon:"import-loading"}):Object(r.createElement)(R.a,{icon:u.status?"success-loader":"circle-close",size:48}),Object(r.createElement)("div",{className:"bwf-drop-import-content"},u.message)),!u.title&&Object(r.createElement)(st.a,{onFileSelected:function(t){return m(t)},filetypeArray:["application/json"],importText:Object(o.__)("Drag or Browse a json file to import automation","wp-marketing-automations"),importInfo:"( "+Object(o.__)("File size 10 MB max","wp-marketing-automations")+" )"})))},Kt=n(7);function Zt(){return(Zt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}var Wt=function(t){return Kt.createElement("svg",Zt({width:166,height:139,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),gt||(gt=Kt.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.288 99.751c13.301-.656 27.057-1.253 39.407.396 14.214 1.898 31.561 4.641 33.579 9.35 2.065 4.817-20.179 7.415-24.385 12.101-4.582 5.103 11.567 11.667-.383 15.491-11.393 3.645-32.131 1.151-48.218.06-13.179-.894-23.004-3.715-34.857-5.693-14.297-2.386-35.486-2.466-41.67-7.079-6.138-4.581 4.583-9.768 13.58-13.881 7.4-3.383 20.187-4.884 31.8-6.867 10.035-1.713 19.805-3.318 31.147-3.878z",fill:"#ADD3E4",opacity:.3})),vt||(vt=Kt.createElement("path",{d:"M13.017 105.034c4.122-7.56-8.892-11.114-12.03-8.115-3.137 2.998 7.264 16.853 12.03 8.115z",fill:"#E28CB5"})),Ot||(Ot=Kt.createElement("path",{d:"M18.488 102.727c8.09 0 4.429-14.492.97-14.492-4.337 0-10.317 14.492-.97 14.492z",fill:"#E28CB5"})),wt||(wt=Kt.createElement("path",{d:"M24.724 107.984c6.67 5.438 12.532-6.729 10.16-10.366-2.371-3.636-17.87 4.081-10.16 10.366z",fill:"#E28CB5"})),jt||(jt=Kt.createElement("path",{d:"M16.219 111.582c-1.126-2.609-2.774-5.04-4.898-7.224-3.613-3.717-7.414-5.46-7.452-5.477a.225.225 0 00-.185.41c.037.017 3.772 1.732 7.326 5.392 2.083 2.145 3.698 4.529 4.8 7.087.124.29.24.583.353.878h.48a21.684 21.684 0 00-.424-1.066zM19.256 91.207a.224.224 0 10-.446-.053c-.015.122-1.15 9.834-1.092 21.494h.45c-.058-11.63 1.073-21.319 1.088-21.441zM32.64 99.246a.224.224 0 00-.313-.062c-.032.022-3.277 2.208-6.615 5.803-1.819 1.958-3.886 4.584-5.4 7.661h.503c1.48-2.942 3.466-5.458 5.219-7.347 3.303-3.559 6.511-5.721 6.543-5.743a.226.226 0 00.062-.312z",fill:"#CC6697"})),Et||(Et=Kt.createElement("path",{d:"M18.169 112.648H9.887a.356.356 0 00-.338.466l.396 1.217.2.616 2.868 8.812a.58.58 0 00.552.401h10.337a.58.58 0 00.551-.401l2.868-8.812.2-.616.397-1.217a.355.355 0 00-.338-.466H18.17z",fill:"#D1E5ED"})),_t||(_t=Kt.createElement("path",{d:"M27.522 114.331l-.2.616H10.144l-.2-.616h17.577z",fill:"#A6BFCA"})),kt||(kt=Kt.createElement("path",{d:"M72.472 80.123H6.358a3.372 3.372 0 01-3.368-3.377v-63.1a3.372 3.372 0 013.368-3.377h66.114a3.372 3.372 0 013.368 3.376v63.101a3.372 3.372 0 01-3.368 3.377z",fill:"#ADD3E4"})),xt||(xt=Kt.createElement("path",{d:"M58.75 33.574h-5.266l-.92 2.985H48.46l5.846-15.978h3.612l5.89 15.978H59.68l-.93-2.985zM54.402 30.6h3.427l-1.719-5.542-1.708 5.542zM44.238 20.38h-31.37a1.012 1.012 0 01-1.01-1.014c0-.56.452-1.014 1.01-1.014h31.37c.559 0 1.011.454 1.011 1.014s-.453 1.013-1.01 1.013zM34.154 25.436H12.869a1.012 1.012 0 01-1.011-1.013c0-.56.452-1.014 1.01-1.014h21.286c.558 0 1.01.454 1.01 1.014s-.452 1.013-1.01 1.013z",fill:"#fff"})),Pt||(Pt=Kt.createElement("path",{d:"M18.186 33.72H12.58a.723.723 0 010-1.448h5.606a.723.723 0 010 1.448z",fill:"#0073AA"})),Lt||(Lt=Kt.createElement("path",{d:"M59.316 58.577H41.99a.723.723 0 01-.722-.724V54.93c0-.4.323-.724.722-.724h17.325c.398 0 .722.324.722.724v2.924c0 .4-.324.724-.722.724zM66.296 66.525H41.991a.723.723 0 01-.722-.724v-2.924c0-.4.323-.724.722-.724h24.305c.399 0 .722.324.722.724V65.8c0 .4-.323.724-.722.724zM22.65 71.244c0-.746.603-1.35 1.347-1.35-5.241 0-9.505-4.275-9.505-9.528 0-5.254 4.264-9.529 9.505-9.529 5.24 0 9.504 4.275 9.504 9.529 0-.746.603-1.35 1.347-1.35s1.347.604 1.347 1.35c0-6.743-5.472-12.228-12.198-12.228S11.8 53.623 11.8 60.366c0 6.742 5.472 12.227 12.198 12.227a1.348 1.348 0 01-1.347-1.35z",fill:"#fff"})),At||(At=Kt.createElement("path",{d:"M34.841 59.016c-.743 0-1.347.604-1.347 1.35 0 5.254-4.263 9.528-9.504 9.528-.744 0-1.347.605-1.347 1.35 0 .746.603 1.35 1.347 1.35 6.726 0 12.198-5.486 12.198-12.228 0-.746-.603-1.35-1.347-1.35z",fill:"#0073AA"})),St||(St=Kt.createElement("path",{d:"M3.047 14.269a4 4 0 014-4H71.8a4 4 0 014 4v1.088H3.047v-1.088z",fill:"#005D89"})),Nt||(Nt=Kt.createElement("ellipse",{cx:9.396,cy:12.813,rx:1.269,ry:1.272,fill:"#fff"})),Ct||(Ct=Kt.createElement("ellipse",{cx:13.624,cy:12.813,rx:1.269,ry:1.272,fill:"#fff"})),Tt||(Tt=Kt.createElement("ellipse",{cx:17.854,cy:12.813,rx:1.269,ry:1.272,fill:"#fff"})),It||(It=Kt.createElement("path",{d:"M96.251 9.667c.462 5.607 4.529 9.122 6.916 9.122.358 0 .748-.064 1.155-.176v2.797h6.054V14.3c.056-.148.11-.31.164-.485 2.684-.257 2.572-4.7.978-4.7-.291 0-.484.275-.607.552l-.395.396V8.056s-.891.084-2.645-2.592c-.757 1.15-6.792 2.955-11.635 2.147 0 0-.013.998.015 2.056z",fill:"#FCBEB7"})),Dt||(Dt=Kt.createElement("path",{d:"M103.585 0c4.176 0 5.011 2.23 5.011 2.23 1.781 0 4.509 3.262 2.867 6.886l-.009.008-.938.94V8.057s-.891.083-2.644-2.593c-.757 1.15-6.792 2.955-11.636 2.147 0 0-.012.998.016 2.056v.003C94.443 4.43 98.074 0 103.585 0z",fill:"#311643"})),Ft||(Ft=Kt.createElement("path",{d:"M105.38 10.277c.185 0 .334-.15.334-.334v-.625a.334.334 0 10-.668 0v.625c0 .185.15.334.334.334zM99.186 10.277c.185 0 .334-.15.334-.334v-.625a.334.334 0 10-.668 0v.625c0 .185.15.334.334.334zM102.924 15.103c.596 0 1.002-.225 1.248-.43.31-.257.438-.539.444-.55a.153.153 0 00-.279-.127c-.017.038-.441.927-1.671.785a.154.154 0 00-.035.304c.102.012.2.018.293.018z",fill:"#311643"})),Mt||(Mt=Kt.createElement("path",{d:"M107.597 13.972c.912 0 1.651-.741 1.651-1.655a1.652 1.652 0 10-3.303 0c0 .914.739 1.655 1.652 1.655zM96.422 10.944c.21 1.11.56 2.123 1.004 3.025a1.652 1.652 0 001.568-1.652 1.652 1.652 0 00-2.572-1.373z",fill:"#F49795"})),Gt||(Gt=Kt.createElement("path",{d:"M96.847 9.63a2.345 2.345 0 002.34 2.345 2.345 2.345 0 002.339-2.256 1.524 1.524 0 011.516-.002 2.345 2.345 0 002.338 2.258 2.345 2.345 0 000-4.688c-1.205 0-2.2.918-2.326 2.092a1.797 1.797 0 00-1.54.001 2.345 2.345 0 00-2.327-2.093c-1.29 0-2.34 1.051-2.34 2.344zm6.5 0c0-1.123.912-2.037 2.034-2.037a2.038 2.038 0 010 4.075 2.038 2.038 0 01-2.034-2.037zm-6.194 0c0-1.123.913-2.037 2.034-2.037a2.038 2.038 0 010 4.075 2.038 2.038 0 01-2.034-2.037z",fill:"#fff"})),zt||(zt=Kt.createElement("path",{d:"M104.322 21.41v-2.797c1.369-.377 2.928-1.3 4.099-2.18l-4.099 4.977z",fill:"#F9AFAB"})),Bt||(Bt=Kt.createElement("path",{d:"M89.85 111.672h6.412l6.219-33.125 4.563-14.356 11.044 47.481h6.412l-5.974-53.27H94.838l-4.988 53.27z",fill:"#0073AA"})),Rt||(Rt=Kt.createElement("path",{d:"M95.752 114.254v4.538c0 .53-.428.958-.957.958H81.943a.221.221 0 01-.221-.221v-.874c0-.382.218-.73.561-.896l7.247-3.505h6.222zM118.783 114.254v4.538c0 .53.429.958.957.958h12.852a.221.221 0 00.221-.221v-.874a.995.995 0 00-.561-.896l-7.247-3.505h-6.222z",fill:"#2F3D6C"})),qt||(qt=Kt.createElement("path",{d:"M96.26 111.672l-.484 2.582h-6.248l.32-2.582h6.411zM124.499 111.672l.507 2.582h-6.222l-.697-2.582h6.412z",fill:"#FCBEB7"})),Ut||(Ut=Kt.createElement("path",{d:"M118.654 59.545l-24.051 1.361.234-2.503h23.689",fill:"#005D89"})),Yt||(Yt=Kt.createElement("path",{d:"M104.332 19.024l-9.165 3.983a3.764 3.764 0 00-1.648 1.379l-3.669 5.537 5.174 4.573 1.383-1.183-1.57 25.09h23.689l-1.452-16.36.322-8.73 1.23 1.227 5.466-4.208-2.937-4.794a7.285 7.285 0 00-3.026-2.746l-7.753-3.769s-3.517 2.311-6.044 0z",fill:"#7EB9D6"})),Vt||(Vt=Kt.createElement("path",{d:"M102.382 19.87a7.093 7.093 0 004.586 1.665c1.786 0 3.471-.65 4.787-1.84l-.239-.116a6.849 6.849 0 01-4.548 1.71 6.852 6.852 0 01-4.334-1.529l-.252.11z",fill:"#fff"})),Ht||(Ht=Kt.createElement("path",{d:"M118.42 23.575a2.038 2.038 0 002.709 1.925 7.296 7.296 0 00-2.624-2.51 2.046 2.046 0 00-.085.585zM92.972 25.206a2.038 2.038 0 002.851-2.485l-.66.286a3.765 3.765 0 00-1.647 1.378l-.544.82zM117.191 82.664a3.072 3.072 0 003.07-3.074 3.072 3.072 0 00-3.07-3.074 3.071 3.071 0 00-3.069 3.074 3.071 3.071 0 003.069 3.074zM96.716 82.664a3.071 3.071 0 003.07-3.074 3.072 3.072 0 00-3.07-3.074 3.072 3.072 0 00-3.069 3.074 3.072 3.072 0 003.07 3.074z",fill:"#005D89"})),Xt||(Xt=Kt.createElement("path",{d:"M63.675 23.922l.258-.043.04-.157a.708.708 0 01.638-.532l3.605-.244 2.509-1.022-1.4-1.75a.706.706 0 01.074-.961l2.954 2.28c.29.223.53.505.707.826l.924 1.687-.005.006 13.508 9.455 2.363-3.544 5.174 4.572-6.477 5.736a1.006 1.006 0 01-1.332-.014L72.01 26.516l-2.91.277a5.071 5.071 0 01-1.95-.195l-1.545-.467a.465.465 0 01-.295-.622l-1.1-.212a.475.475 0 01-.383-.418l-.02-.178h-.066a.392.392 0 01-.066-.779zM113.259 56.488l2.409-1.077a.673.673 0 00.359-.386l.349-.963-1.217.3-.388.834a.573.573 0 01-.746.285l.507-1.533c.095-.244.278-.444.512-.559l2.544-1.253 4.389-14.255-3.353-3.34 5.466-4.21 3.196 5.571c.44.766.493 1.695.145 2.506l-8.871 20.316-1.76.082a.574.574 0 01-.52-.28l-.192-.32-.927.075a.576.576 0 01-.51-.231l-.217-.295-.13.035a.792.792 0 01-.901-.393l-.643.215a.92.92 0 01.499-1.124z",fill:"#FCBEB7"})),$t||($t=Kt.createElement("path",{d:"M125.42 37.19c0 1.005.716 1.841 1.665 2.025l.347-.808a2.808 2.808 0 00-.145-2.505l-.396-.69a2.063 2.063 0 00-1.471 1.979zM85.752 38.9l1.461 1.318c.377.34.948.346 1.332.014l1.432-1.238a2.434 2.434 0 00-4.225-.094z",fill:"#F9AFAB"})))},te=(n(1387),n(41));function ee(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ne(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ne(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var re=function(t){var e=t.onRequestClose,n=t.onAction,a=ee(Object(r.useState)(!1),2),i=a[0],c=a[1],u=ee(Object(r.useState)(!1),2),s=u[0],l=u[1],f=ee(Object(r.useState)(!1),2),m=f[0],p=f[1],h=ee(Object(r.useState)(!1),2),b=h[0],y=h[1],g=ee(Object(r.useState)(!1),2),v=g[0],O=g[1];return Object(r.createElement)("div",{className:"bwf-custom-experiment-modal"},Object(r.createElement)("div",{className:"bwf_clear_10"}),Object(r.createElement)("div",{className:"bwf-hero-svg"},Object(r.createElement)("div",null,Wt())),Object(r.createElement)("div",{className:"bwf-h1"},Object(o.__)("Note: You would need to manually create an equivalent Automation in Next-Gen Builder.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-content-list"},Object(r.createElement)("div",{className:"modal-content-list-heading"},Object(o.__)("Please confirm","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-wrap"},Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(te.a,{checked:s,className:"bwf-export-toggler",onChange:function(t){l(t)}}),Object(o.__)("Yes, I have manually created this automation in the Automation Next-Gen Builder (new version) and no longer need this automation to work in older version.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(te.a,{checked:m,className:"bwf-export-toggler",onChange:function(t){p(t)}}),Object(o.__)("Yes, I understand that this automation will not trigger for new contacts after I confirm migration.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(te.a,{checked:b,className:"bwf-export-toggler",onChange:function(t){y(t)}}),Object(o.__)("Yes, I  understand that all the Scheduled Tasks for older contacts will still run.","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-modal-list-item"},Object(r.createElement)(te.a,{checked:v,className:"bwf-export-toggler",onChange:function(t){O(t)}}),Object(o.__)("Yes, I understand that I would not be able to edit the Automation after the migration is confirmed.","wp-marketing-automations")))),Object(r.createElement)("div",{className:"bwf-modal-note"},Object(r.createElement)("strong",null,Object(o.__)("Note: ","wp-marketing-automations")),Object(o.__)("If you are unsure about migration, click here to read our step-by-step guide to migrating the automation. You can also contact our support for any further questions.","wp-marketing-automations")," ",Object(r.createElement)("a",{href:Object(d.X)("migratefromv1",{utm_medium:"Migrate+New+Automation"}),target:"_blank",className:"bwf-a-no-underline",rel:"noreferrer"},Object(o.__)("Learn More","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-modal-action",style:{marginBottom:0}},Object(r.createElement)(S.Button,{isSecondary:!0,onClick:e,style:{marginRight:"20px"}},Object(o.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(S.Button,{isPrimary:!0,onClick:function(){s&&m&&b&&v&&(c(!0),n())},isBusy:i,disabled:i||!(s&&m&&b&&v)},Object(o.__)("Yes, I Confirm Migration","wp-marketing-automations"))))},ae=n(192),oe=(n(1388),function(){return Object(r.createElement)("div",{className:"bwf-automation-v1-notice-wrap"},Object(r.createElement)("div",{className:"bwf-notifications-message"},Object(r.createElement)(A.a,{className:"bwf-notification-header"},Object(r.createElement)(S.FlexItem,null,Object(r.createElement)(A.a,{gap:3},Object(r.createElement)(S.FlexItem,null,Object(r.createElement)(R.a,{icon:"notification-dot",width:"18",height:"21"})),Object(r.createElement)(S.FlexItem,{className:"bwf-notification-heading"},Object(o.__)("Notifications","wp-marketing-automations"))))),Object(r.createElement)("h3",{className:"bwf-notifications-title"},"Migrate your automations to FunnelKit Automations Next Generation Builder"),Object(r.createElement)("p",{className:"bwf-notifications-content"},"Next-Generation Automation Builder is now available. Go to Automations (NextGen) to experience a new way of building powerful workflows. If you have any questions please"," ",Object(r.createElement)("a",{className:"bwf-a-no-underline",href:Object(d.X)("support",{utm_medium:"Automation+NextGen+Migrate"}),target:"_blank",style:{color:"#135e96"},rel:"noreferrer"},"contact support"),"."),Object(r.createElement)("div",{className:"bwf-notifications-button-wrap"},Object(r.createElement)("div",{className:"bwf-notifications-buttons"},Object(r.createElement)("a",{target:"_blank",href:Object(d.X)("nxtgenbuilder",{utm_medium:"Automation+NextGen+Migrate"}),className:"components-button is-secondary",rel:"noreferrer"},Object(o.__)("Know more about Next Gen","wp-marketing-automations"))),Object(r.createElement)("div",{className:"bwf-notifications-buttons"},Object(r.createElement)("a",{target:"_blank",href:Object(d.X)("migratefromv1",{utm_medium:"Automation+NextGen"}),className:"components-button is-primary",rel:"noreferrer"},Object(o.__)("Learn how to Migrate","wp-marketing-automations"))))))}),ie=n(336),ce=n(23);function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function se(){se=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),c=new A(r||[]);return a(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var m="suspendedStart",p="executing",h="completed",b={};function d(){}function y(){}function g(){}var v={};s(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(S([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=d.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(a,o,i,c){var u=f(t[a],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==ue(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,a){n(t,r,e,a)}))}return o=o?o.then(a,a):a()}})}function k(e,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=f(e,n,r);if("normal"===s.type){if(a=r.done?h:"suspendedYield",s.arg===b)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function x(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function S(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(ue(e)+" is not iterable")}return y.prototype=g,a(j,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),s(j,u,"Generator"),s(j,i,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function le(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function fe(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){le(o,r,a,i,c,"next",t)}function c(t){le(o,r,a,i,c,"throw",t)}i(void 0)}))}}function me(t){return function(t){if(Array.isArray(t))return ve(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ge(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(){return(pe=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}function he(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach((function(e){de(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function de(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=ue(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ue(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ye(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(t,e)||ge(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(t,e){if(t){if("string"==typeof t)return ve(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(t,e):void 0}}function ve(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Oe=function(t){var e=Object(r.useContext)(d.h),n=t.type,a=void 0===n?"all":n,c=t.query,u=c.s,s=void 0===u?"":u,l=k(),f=h(),m=l.fetch,p=l.setAutomationListValues,b=f.getAutomations,g=f.getPageNumber,v=f.getPerPageCount,O=f.getTotalCount,w=f.getOffset,j=f.getLoadingStatus,E=f.getCountData,_=Object(r.useRef)(new AbortController),S=ye(Object(r.useState)({loading:!1,status:!1}),2),C=S[0],I=S[1],G=ye(Object(r.useState)(!1),2),z=G[0],B=G[1],q=ye(Object(r.useState)(!1),2),U=q[0],V=q[1],H=ye(Object(r.useState)(!1),2),X=H[0],$=H[1],Q=ye(Object(r.useState)({}),2),nt=Q[0],rt=Q[1],at=ye(Object(r.useState)(!1),2),ot=at[0],it=at[1],st=ye(Object(r.useState)(!1),2),lt=st[0],ft=st[1],mt=ye(Object(r.useState)([]),2),pt=mt[0],ht=mt[1],bt=ye(Object(r.useState)(!1),2),dt=bt[0],yt=bt[1],gt=ye(Object(r.useState)(""),2),vt=gt[0],Ot=gt[1],wt=b(),jt=w(),Et=v(),_t=j(),kt=O(),xt=g(),Pt=E(),Lt="all";Object(x.isEmpty)(a)||("active"===a?Lt=1:"inactive"===a&&(Lt=2));var At=Object(W.a)().getPageCountData,St=Object(tt.a)(),Nt=St.setPageCountData,Ct=St.setPageData,Tt=Object(Z.a)(Object(d.ob)()).formatAmount;Object(r.useEffect)((function(){$(!1),p("isLoading",!0),m(Lt,c,jt,Et)}),[jt,Et,a,s]),Object(r.useEffect)((function(){if(!_t&&!X&&!Object(x.isEmpty)(wt)||lt)try{var t={automation_ids:[],version:1,force:lt};wt.map((function(e){t.automation_ids.push(e.id)})),T()({method:"GET",path:Object(d.x)("/automations-stats?"+Object(y.stringify)(t)),signal:_.current.signal}).then((function(t){200==t.code&&(rt(t.result),$(!0),lt&&(e(Object(o.__)("Data Updated","wp-marketing-automations")),Object(d.Ab)(e,3e3),ft(!1)))})).catch((function(t){console.log(t)}))}catch(t){$(!0),ft(!1),console.log(t)}Ct("automation-v1-list")}),[wt,lt]);var It=function(){qt&&qt(),ht([])},Dt=Object(r.useCallback)((function(t,e){ht(e),Ot(t),yt(!0)}),[]);Object(r.useEffect)((function(){return $(!1),rt({}),It(),function(){_.current.abort()}}),[]);var Ft=At();Object(r.useEffect)((function(){_t||B(!1)}),[_t]),Object(r.useEffect)((function(){var t={};Pt.hasOwnProperty("automations")&&(t["automations-v1_automations"]=parseInt(Pt.automations),t["automations-v1_all"]=parseInt(Pt.automations)),Pt.hasOwnProperty("task_history")&&(t["automations-v1_task-history"]=parseInt(Pt.task_history)),Pt.hasOwnProperty("contact_activity")&&(t["contact-activity"]=parseInt(Pt.contact_activity)),Pt.hasOwnProperty("status_count")&&Object.keys(Pt.status_count).map((function(e){t["automations-v1_".concat(e)]=parseInt(Pt.status_count[e])})),Nt(be(be({},Ft),t))}),[Pt]),Object(M.a)("automations-v1","","",!1,"",0,!1,!1);var Mt=Object(r.useMemo)((function(){var t={};if(Array.isArray(wt)){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ge(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(wt);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.id]=r}}catch(t){n.e(t)}finally{n.f()}}return t}),[wt]),Gt=Object(ut.b)(Mt),zt=Gt.singleSelectProps,Bt=Gt.selectAllProps,Rt=Gt.floatingBarProps,qt=Gt.resetSelection,Ut=Gt.selected,Yt=Object.keys(Ut).filter((function(t){return Ut[t]})).length,Vt=[{key:"select_template",label:Object(r.createElement)(te.a,pe({type:"checkbox",checked:!1,onChange:function(){}},Bt)),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"title",label:Object(o.__)("Name","wp-marketing-automations"),isLeftAligned:!0,required:!0},{key:"event",label:Object(o.__)("Event","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-150"},{key:"actions",label:Object(o.__)("Actions","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"tasks",label:Object(o.__)("Tasks","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-300"},{key:"total_run",label:Object(o.__)("Total Runs","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-120"},Object(d.Yb)()&&{key:"revenue",label:Object(o.__)("Revenue","wp-marketing-automations"),cellClassName:"bwf-w-120"},{key:"status",label:Object(o.__)("Status","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-60"}],Ht=function(t){t!==Et&&p("limit",t)},Xt=function(t){var e=[],n="";return Object(x.isEmpty)(t.automation_actions)||Object.entries(t.automation_actions).map((function(t){var r=ye(t,2),a=(r[0],r[1]);Object(x.isEmpty)(n)&&(n=a[0]),e=[].concat(me(e),me(a))})),Object(r.createElement)(r.Fragment,null,Object(x.isEmpty)(n)?"-":Object(r.createElement)(r.Fragment,null,!Object(x.isEmpty)(n)&&n,!Object(x.isEmpty)(e)&&e.length>1&&Object(r.createElement)(K.a,{items:e})))},$t=function(){var t=fe(se().mark((function t(n,r){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(be(be({},r),{},{status:!0})),t.prev=1,t.next=4,T()({path:Object(d.x)("/automations"),method:"DELETE",data:{automation_ids:[n]}}).then((function(t){if(200!==t.code)throw Error(Object(d.s)(null==t?void 0:t.message));I({status:!1}),e(t.message),m(Lt,c,0,Et),Object(d.Ab)(e,3e3)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),I(be(be({},r),{},{error:t.t0.message}));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}(),Qt=function(){var t=fe(se().mark((function t(n){return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(o.__)("Duplicating…","wp-marketing-automations")),t.prev=1,t.next=4,T()({path:Object(d.x)("/automations/".concat(n,"/duplicate")),method:"POST"}).then((function(t){if(200!==t.code)throw Error(Object(d.s)(null==t?void 0:t.message));e(Object(o.__)("Automation Duplicated","wp-marketing-automations")),m(Lt,c,0,Et),Object(d.Ab)(e,3e3)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),Object(d.Ab)(e,3e3),setTimeout((function(){I({status:!0,modalTitle:Object(o.__)("Duplicate Automation","wp-marketing-automations"),error:t.t0.message})}),[1500]);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),Kt=function(t,e){var n="data:text/json;charset=utf-8,"+encodeURIComponent(t),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()},Zt=function(){var t=fe(se().mark((function t(){var n,r,a,i=arguments;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:0,r=i.length>1&&void 0!==i[1]?i[1]:"automation",e(Object(o.__)("Exporting…","wp-marketing-automations")),a="",a=parseInt(n)>0?Object(d.x)("/automations/".concat(n,"/export?version=1")):Object(d.x)("/automations/export/?version=1"),t.prev=5,t.next=8,T()({path:a,method:"GET"}).then((function(t){if(200!==t.code)throw Error(Object(d.s)(null==t?void 0:t.message));Kt(t.result,r),e(Object(o.__)("Automation exported","wp-marketing-automations")),Object(d.Ab)(e,3e3)}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),Object(d.Ab)(e,3e3),setTimeout((function(){I({status:!0,modalTitle:Object(o.__)("Export Automation","wp-marketing-automations"),error:t.t0.message})}),[1500]);case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(){return t.apply(this,arguments)}}(),Wt=function(){var t=fe(se().mark((function t(n,r){var a,i=arguments;return se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=i.length>2&&void 0!==i[2]?i[2]:{},e(4===n?Object(o.__)("Updating Automation…","wp-marketing-automations"):n?Object(o.__)("Activating Automation…","wp-marketing-automations"):Object(o.__)("Deactivating Automation…","wp-marketing-automations")),t.prev=2,t.next=5,T()({path:Object(d.x)("/automations/toggle-state"),method:"POST",data:{state:n,automation_id:r}}).then((function(t){if(200!==t.code)throw Error(Object(d.s)(null==t?void 0:t.message));e(4===n?Object(o.__)("Automation migrated","wp-marketing-automations"):n?Object(o.__)("Automation activated","wp-marketing-automations"):Object(o.__)("Automation deactivated","wp-marketing-automations"));var a;a=wt.map((function(t){return t.id==r&&(1==n?t.status="1":4==n?t.migrated=!0:t.status="0"),t})),4==n&&I({status:!1}),p("automations",a),Object(d.Ab)(e,3e3)}));case 5:t.next=12;break;case 7:t.prev=7,t.t0=t.catch(2),4==n&&I(be(be({},a),{},{error:t.t0.message})),Object(d.Ab)(e,3e3),setTimeout((function(){I({status:!0,modalTitle:Object(o.__)("Automation Status Update","wp-marketing-automations"),error:t.t0.message})}),[1500]);case 12:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}(),ee=function(t){if(t.hasOwnProperty("migrated")&&t.migrated)return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-blue"},Object(o.__)("Migrated","wp-marketing-automations"));switch(parseInt(t.status)){case 1:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(o.__)("Active","wp-marketing-automations"));default:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-red"},Object(o.__)("Inactive","wp-marketing-automations"))}},ne=function(t){return Object(r.createElement)("a",{href:"admin.php?page=autonami-automations&edit="+t.id,className:"bwf-a-no-underline"},Object(r.createElement)("b",null,t.name))},ue=function(t){return Object(r.createElement)(r.Fragment,null,t.event?t.event:Object(o.__)("Not Found","wp-marketing-automations"))},le=function(t){if(!X)return Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-210 bwf-h-15",title:"Loading"});var e=nt.hasOwnProperty(t.id)?nt[t.id]:{};return Object(r.createElement)(A.a,{gap:2,justify:"flex-start"},Object(r.createElement)(A.c,null,Object(r.createElement)(ce.a,{toolTipText:Object(o.__)("Active","wp-marketing-automations"),position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(F.k)({path:"/automations-v1/task-history/scheduled",automation:t.id},"/",c)},style:{display:"inline-flex"}},Object(r.createElement)(R.a,{icon:"status-scheduled",width:16,height:16}),Object(r.createElement)("span",null,e.hasOwnProperty("scheduled")?Object(d.bc)(parseInt(e.scheduled)):0))))),Object(r.createElement)(A.c,null,Object(r.createElement)(ce.a,{toolTipText:Object(o.__)("Paused","wp-marketing-automations"),position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(F.k)({path:"/automations-v1/task-history/paused",automation:t.id},"/",c)},style:{display:"inline-flex"}},Object(r.createElement)(R.a,{icon:"status-paused",width:16,height:16}),Object(r.createElement)("span",null,e.hasOwnProperty("paused")?Object(d.bc)(parseInt(e.paused)):0))))),Object(r.createElement)(A.c,null,Object(r.createElement)(ce.a,{toolTipText:Object(o.__)("Completed","wp-marketing-automations"),position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(F.k)({path:"/automations-v1/task-history/completed",automation:t.id},"/",c)},style:{display:"inline-flex"}},Object(r.createElement)(R.a,{icon:"status-completed",width:16,height:16}),Object(r.createElement)("span",null,e.hasOwnProperty("completed")?Object(d.bc)(parseInt(e.completed)):0))))),Object(r.createElement)(A.c,null,Object(r.createElement)(ce.a,{toolTipText:Object(o.__)("Failed","wp-marketing-automations"),position:"top"},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(F.k)({path:"/automations-v1/task-history/failed",automation:t.id},"/",c)},style:{display:"inline-flex"}},Object(r.createElement)(R.a,{icon:"status-failed",width:16,height:16}),Object(r.createElement)("span",null,e.hasOwnProperty("failed")?Object(d.bc)(parseInt(e.failed)):0))))))},he=Array.isArray(wt)?wt.map((function(t){return[{display:zt.hasOwnProperty(t.id)?Object(r.createElement)(te.a,pe({type:"checkbox",checked:!1,onChange:function(){}},zt[t.id])):Object(r.createElement)(r.Fragment,null),value:null},{display:(e=t,Object(r.createElement)(P.a,{label:Object(o.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(L.a,null,Object(r.createElement)("a",{href:"admin.php?page=autonami-automations&edit="+e.id,className:"bwf-a-no-underline"},Object(r.createElement)(A.a,{justify:"flex-start"},Object(r.createElement)(A.c,null,Object(o.__)("Edit","wp-marketing-automations"))))),!(e.hasOwnProperty("migrated")&&e.migrated)&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Wt(1!==parseInt(e.status),e.id),n()}},Object(r.createElement)(A.a,{justify:"flex-start"},Object(r.createElement)(A.c,null,1===parseInt(e.status)?Object(o.__)("Deactivate","wp-marketing-automations"):Object(o.__)("Activate","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Qt(e.id),n()}},Object(r.createElement)(A.a,{justify:"flex-start"},Object(r.createElement)(A.c,null,Object(o.__)("Duplicate","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){var t={status:!0,modalTitle:"",content:Object(r.createElement)(re,{onRequestClose:function(){return I({})},onAction:function(){return Wt(4,e.id,t)}}),isDelete:!1,closeIcon:!0,modalClass:"bwf-admin-modal-medium"};I(be({},t)),n()}},Object(r.createElement)(A.a,{justify:"flex-start"},Object(r.createElement)(A.c,null,Object(o.__)("Confirm Migration","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Zt(e.id,e.name),n()}},Object(r.createElement)(A.a,{justify:"flex-start"},Object(r.createElement)(A.c,null,Object(o.__)("Export","wp-marketing-automations"))))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){var t={status:!0,modalTitle:Object(o.__)("Delete Automation","wp-marketing-automations"),deleteEntityName:e.name,isDelete:!0,buttonConfirm:Object(o.__)("Delete","wp-marketing-automations"),buttonCancel:Object(o.__)("Cancel","wp-marketing-automations"),closeIcon:!1};I(be(be({},t),{},{onConfirm:function(){return $t(e.id,t)}})),n()}},Object(r.createElement)(A.a,{justify:"flex-start"},Object(r.createElement)(A.c,null,Object(o.__)("Delete","wp-marketing-automations")))))}})),value:""},{display:ne(t),value:t.name},{display:ue(t),value:t.event},{display:Xt(t),value:""},{display:le(t),value:""},{display:parseInt(t.run_count)>0?parseInt(t.run_count):"0",value:t.run_count},Object(d.Yb)()&&{display:t.revenue&&parseFloat(t.revenue)>0?Object(r.createElement)("span",{className:"bwf-tags bwf-tag-revenue"},Tt(t.revenue)):"-",value:""},{display:ee(t),value:""}];var e})):[],de=D()("bwfcrm-campaign-list-table",{"has-search":!0}),ve=[{type:"icon",data:{class:"bwf-pb-gap",content:Object(r.createElement)(R.a,{icon:"zero-automation",width:"90",height:"90"})}},{type:"content",data:{class:"bwf-h2 bwf-pb-10",content:Object(o.__)("Grow your business with marketing automation","wp-marketing-automations")}},{type:"content",data:{class:"bwf-h4-1 bwf-pb-gap",content:Object(o.__)("Create Automations for abandoned cart, post-purchase, win-back, and more. Build automated workflows that generate profits while you sleep. Connect your site to Zapier, Slack, Twilio, Google Sheets and explore limitless automation possibilities.","wp-marketing-automations")}},{type:"buttons",data:{buttons:[{text:Object(o.__)("Create Automation","wp-marketing-automations"),proCheck:!1,onClick:function(){V(!0)}},{text:Object(o.__)("Import Automation","wp-marketing-automations"),isSecondary:!0,proCheck:!1,onClick:function(){return it(!0)}}]}}],Oe=Object(r.createElement)("div",{className:"bwf-display-flex gap-12"},Object(r.createElement)(Y.a,{isGray:!0,className:"bwf-btn-small bwf-btn-gray is-light",title:Object(o.__)("Refresh Stats","wp-marketing-automations"),onClick:function(){return $(!1),void ft(!0)},disabled:!X,isBusy:!X&&lt},Object(r.createElement)(R.a,{icon:"retry",size:16}),Object(o.__)("Refresh","wp-marketing-automations")),Object(r.createElement)(Y.a,{isGray:!0,className:"bwf-btn-small bwf-btn-gray is-light",title:Object(o.__)("Export","wp-marketing-automations"),onClick:function(){return Zt()}},Object(r.createElement)(R.a,{icon:"export",size:16}),Object(o.__)("Export","wp-marketing-automations")),Object(r.createElement)(Y.a,{isGray:!0,className:"bwf-btn-small bwf-btn-gray is-light",title:Object(o.__)("Import","wp-marketing-automations"),onClick:function(){return it(!0)}},Object(r.createElement)(R.a,{icon:"import",size:16}),Object(o.__)("Import","wp-marketing-automations"))),we=[{slug:"automations-v1_all",name:Object(o.__)("All","wp-marketing-automations"),path:"/automations-v1/"},{slug:"automations-v1_active",name:Object(o.__)("Active","wp-marketing-automations"),path:"/automations-v1/list/active"},{slug:"automations-v1_inactive",name:Object(o.__)("Inactive","wp-marketing-automations"),path:"/automations-v1/list/inactive"}],je=_t||!["","all"].includes(a)||0!==kt||""!==s||z;return Object(r.createElement)(r.Fragment,null,je?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-automation-header"},Object(r.createElement)("div",{className:"bwf-automation-h-left"},Object(r.createElement)("div",{className:"bwf-automation-h-title"},Object(o.__)("Automations","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-automation-h-tag"},Object(o.__)("Legacy","wp-marketing-automations")),parseInt(kt)>0&&Object(r.createElement)("div",{className:"bwf-automation-h-count"},Object(o.sprintf)(Object(o.__)("(%s Results)","wp-marketing-automations"),kt))),Object(r.createElement)("div",{className:"bwf-automation-h-right"},Object(r.createElement)(Y.a,{isSecondary:!0,onClick:function(){return Object(F.k)({page:"autonami",path:"/automations-v1/task-history/"},"/",{})}},Object(o.__)("Task History","wp-marketing-automations")),Object(r.createElement)(Y.a,{isPrimary:!0,onClick:function(){return V(!0)}},Object(o.__)("Create Automation","wp-marketing-automations")))),Object(r.createElement)(oe,null),Object(r.createElement)(ie.a,{tabs:we,selected:a?"automations-v1_".concat(a):"automations-v1_all",count:Ft,disableUrlUpdate:!0,onChange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p("offset",0),B(!0),Object(F.k)({page:"autonami",path:e},"/",{})}}),Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)(i.a,{className:de,rows:he,headers:Vt,query:{paged:xt},rowsPerPage:Et,totalRows:kt,isLoading:_t,onPageChange:function(t,e){p("offset",(t-1)*Et)},onQueryChange:function(t){return"per_page"!==t?function(){}:Ht},rowHeader:!0,showMenu:!1,actions:Yt>0?[Object(r.createElement)(ut.a,pe({key:"automation-contact-bulk-action",actions:[{id:"delete",icon:"trash",hint:Object(o.__)("Delete","wp-marketing-automations")}],onAction:Dt,inLine:!0,reset:It},Rt))]:[Object(r.createElement)(ae.a,{key:"search",isLoading:_t,searchTerm:null==c?void 0:c.s,showResultCount:!1,setSearchData:function(t){if(Object(x.size)(t))Object(F.k)({s:t},"/",c);else{var e=Object(x.cloneDeep)(c);e.hasOwnProperty("s")&&(null==e||delete e.s),B(!0),Object(F.k)(e,"/",{})}}})],emptyMessage:Object(o.__)("No automations found","wp-marketing-automations"),extraSectionBeforefilterCol:Oe}),Object(r.createElement)(N.a,{modalTitle:C.modalTitle,deleteEntityName:C.deleteEntityName,confirmText:C.confirmText,confirmButtonText:C.buttonConfirm,cancelButtonText:C.buttonCancel,onConfirm:C.onConfirm,isLoading:C.loading,successMessage:C.success,errorMessage:C.error,content:C.content,onRequestClose:function(){return I({status:!1})},confirmDescription:C.hasOwnProperty("confirmDescription")?C.confirmDescription:"",isOpen:C.status,isDelete:C.isDelete,closeIcon:!C.hasOwnProperty("closeIcon")||C.closeIcon,modalClass:C.modalClass}),Object(r.createElement)(ct,{tasks:pt,isOpen:dt,onSuccess:function(){m(Lt,c,jt,Et),It()},onError:It,onRequestClose:function(){return yt(!1)},screenType:"automation-v1",screenTypeId:a,actionType:vt})):Object(r.createElement)(et.a,{data:ve}),U&&Object(r.createElement)(J,{onCloseModal:function(){return V(!1)},query:c}),ot&&Object(r.createElement)(Jt,{onRequestClose:function(){return it(!1)}}))},we=n(1080),je=n(1096),Ee=n(194),_e=n(1153);function ke(t){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xe(){xe=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),c=new A(r||[]);return a(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var m="suspendedStart",p="executing",h="completed",b={};function d(){}function y(){}function g(){}var v={};s(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(S([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=d.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(a,o,i,c){var u=f(t[a],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==ke(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,a){n(t,r,e,a)}))}return o=o?o.then(a,a):a()}})}function k(e,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=f(e,n,r);if("normal"===s.type){if(a=r.done?h:"suspendedYield",s.arg===b)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function x(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function S(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(ke(e)+" is not iterable")}return y.prototype=g,a(j,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),s(j,u,"Generator"),s(j,i,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function Pe(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function Le(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){Pe(o,r,a,i,c,"next",t)}function c(t){Pe(o,r,a,i,c,"throw",t)}i(void 0)}))}}var Ae=function(t){var e=t.isOpen,n=t.tasks,a=t.onSuccess,i=t.onError,c=t.onRequestClose,u=t.actionType,s=n?n.length:0,l=Object(nt.useMutation)(function(){var t=Le(xe().mark((function t(e){return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T()({path:Object(d.x)("/bulk-action/automation_v2"),method:"DELETE",data:{ids:e}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return l.reset()}),2500),a&&a()},onError:function(){i&&i()}}),f=function(){var t=Le(xe().mark((function t(){return xe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.mutate(n.map((function(t){return t.id})));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m={delete:{title:Object(o._n)("Delete Automation","Delete Automations",s,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(o.__)("You are about to delete ","wp-marketing-automations"),Object(o._n)("automation","automations",s,"wp-marketing-automations"),Object(o.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(o.__)("Delete","wp-marketing-automations"),cancelBtn:Object(o.__)("Cancel","wp-marketing-automations"),successMsg:Object(o.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(o.__)("Unable to delete automation","wp-marketing-automations"),confirmDescription:Object(o.__)("This action is irreversible","wp-marketing-automations")}};return Object(r.createElement)(N.a,{modalTitle:m.hasOwnProperty(u)&&m[u].hasOwnProperty("title")?m[u].title:Object(o._n)("Perform Actions","Perform Actions",s,"wp-marketing-automations"),deleteDescriptionText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("description")?m[u].description:"",confirmButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmBtn")?m[u].confirmBtn:Object(o.__)("Confirm","wp-marketing-automations"),cancelButtonText:m.hasOwnProperty(u)&&m[u].hasOwnProperty("cancelBtn")?m[u].cancelBtn:Object(o.__)("Cancel","wp-marketing-automations"),onConfirm:f,isLoading:l.isLoading,successMessage:l.isSuccess&&(m.hasOwnProperty(u)&&m[u].hasOwnProperty("successMsg")?m[u].successMsg:Object(o.__)("Actions Done!","wp-marketing-automations")),errorMessage:l.isError&&(l.error&&l.error.message?l.error.message:m.hasOwnProperty(u)&&m[u].hasOwnProperty("errorMsg")?m[u].errorMsg:Object(o.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!c&&c()},isOpen:e,confirmDescription:m.hasOwnProperty(u)&&m[u].hasOwnProperty("confirmDescription")?m[u].confirmDescription:"",isDelete:!0})},Se=n(39);function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ce(){Ce=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),c=new A(r||[]);return a(i,"_invoke",{value:k(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var m="suspendedStart",p="executing",h="completed",b={};function d(){}function y(){}function g(){}var v={};s(v,i,(function(){return this}));var O=Object.getPrototypeOf,w=O&&O(O(S([])));w&&w!==n&&r.call(w,i)&&(v=w);var j=g.prototype=d.prototype=Object.create(v);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(a,o,i,c){var u=f(t[a],t,o);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Ne(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(l).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,r){function a(){return new e((function(e,a){n(t,r,e,a)}))}return o=o?o.then(a,a):a()}})}function k(e,n,r){var a=m;return function(o,i){if(a===p)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:t,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=x(c,r);if(u){if(u===b)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var s=f(e,n,r);if("normal"===s.type){if(a=r.done?h:"suspendedYield",s.arg===b)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=h,r.method="throw",r.arg=s.arg)}}}function x(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=f(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function S(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Ne(e)+" is not iterable")}return y.prototype=g,a(j,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:y,configurable:!0}),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(j),t},e.awrap=function(t){return{__await:t}},E(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new _(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(j),s(j,u,"Generator"),s(j,i,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=S,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return c.type="throw",c.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),s=r.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;L(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},e}function Te(t,e,n,r,a,o,i){try{var c=t[o](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,a)}function Ie(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){Te(o,r,a,i,c,"next",t)}function c(t){Te(o,r,a,i,c,"throw",t)}i(void 0)}))}}function De(){return(De=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(null,arguments)}function Fe(t){return function(t){if(Array.isArray(t))return qe(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Re(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Me(Object(n),!0).forEach((function(e){ze(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ze(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=Ne(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ne(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Be(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],u=!0,s=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(t){s=!0,a=t}finally{try{if(!u&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(t,e)||Re(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(t,e){if(t){if("string"==typeof t)return qe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qe(t,e):void 0}}function qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Ue=function(t){var e=Object(r.useContext)(d.h),n=t.type,a=t.query,c=t.automationV2,u=a.s,s=void 0===u?"":u,l=Object(je.a)(),f=Object(we.a)(),m=l.fetch,p=l.setAutomationListValues,h=f.getAutomations,b=f.getPageNumber,g=f.getPerPageCount,v=f.getTotalCount,O=f.getOffset,w=f.getLoadingStatus,j=f.getCountData,E=(0,f.getError)(),_=Object(U.a)().setAutomationData,k=Be(Object(r.useState)({loading:!1,status:!1}),2),S=k[0],C=k[1],I=Be(Object(r.useState)({status:!1}),2),G=I[0],z=I[1],B=Be(Object(r.useState)(!1),2),V=B[0],H=B[1],X=Be(Object(r.useState)(!1),2),$=X[0],Q=X[1],J=Be(Object(r.useState)(!1),2),K=J[0],nt=J[1],rt=Be(Object(r.useState)(!1),2),at=rt[0],ot=rt[1],it=Be(Object(r.useState)({}),2),ct=it[0],st=it[1],lt=Be(Object(r.useState)(!1),2),ft=lt[0],mt=lt[1],pt=Be(Object(r.useState)([]),2),ht=pt[0],bt=pt[1],dt=Be(Object(r.useState)(!1),2),yt=dt[0],gt=dt[1],vt=Be(Object(r.useState)(""),2),Ot=vt[0],wt=vt[1],jt=function(){Yt&&Yt(),bt([])};Object(r.useEffect)((function(){jt()}),[]);var Et=function(t,e){if("export"===t){var n=[];e.map((function(t){return n.push(t.id)})),Wt(n)}else bt(e),wt(t),gt(!0)},_t=h(),kt=O(),xt=g(),Pt=w(),Lt=v(),At=b(),St=j(),Nt="all";Object(x.isEmpty)(n)||("active"===n?Nt=1:"inactive"===n&&(Nt=2));var Ct=Object(d.ub)(),Tt=Object(r.useRef)(new AbortController),It=Object(Z.a)(Object(d.ob)()).formatAmount;Object(r.useEffect)((function(){nt(!1),m(Nt,a,kt,xt,c)}),[kt,xt,n,s,c]),Object(r.useEffect)((function(){Pt||Q(!1)}),[Pt]),Object(r.useEffect)((function(){if(!Pt&&!K&&!Object(x.isEmpty)(_t)||at)try{var t={automation_ids:[],version:2,force:at};_t.map((function(e){t.automation_ids.push(e.id)})),T()({method:"GET",path:Object(d.x)("/automations-stats?"+Object(y.stringify)(t)),signal:Tt.current.signal}).then((function(t){200==t.code&&(st(t.result),nt(!0),at&&(e(Object(o.__)("Data Updated","wp-marketing-automations")),Object(d.Ab)(e,3e3),ot(!1)))})).catch((function(t){console.log(t)}))}catch(t){nt(!0),ot(!1),console.log(t)}}),[_t,at]);var Dt=Object(r.createElement)(Y.a,{isPrimary:!0,onClick:function(){return Object(F.k)({path:"/automations/create"},"/",a)},className:"bwf-display-flex"},Object(o.__)("Create Automation","wp-marketing-automations")),Ft=Object(W.a)().getPageCountData,Mt=Object(tt.a)().setPageCountData,Gt=Ft();Object(r.useEffect)((function(){var t=0,e=0,n=0;St.hasOwnProperty("status_count")&&(St.status_count.hasOwnProperty("active")&&(e=parseInt(St.status_count.active)),St.status_count.hasOwnProperty("inactive")&&(t=parseInt(St.status_count.inactive))),St.hasOwnProperty("contact_activity")&&(n=parseInt(St.contact_activity)),Mt(Ge(Ge({},Gt),{"automations-v2_all":parseInt(t)+parseInt(e),"automations-v2_active":e,"automations-v2_inactive":t,"contact-activity":n}))}),[St]),Object(r.useEffect)((function(){return function(){p("automations",[]),Tt.current.abort()}}),[]),Object(M.a)("automations-v2","","",!1,Dt,0,!1,c);var zt=Object(r.useMemo)((function(){var t={};if(Array.isArray(_t)){var e,n=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Re(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,o=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}(_t);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.id]=r}}catch(t){n.e(t)}finally{n.f()}}return t}),[_t]),Bt=Object(ut.b)(zt),Rt=Bt.singleSelectProps,qt=Bt.selectAllProps,Ut=Bt.floatingBarProps,Yt=Bt.resetSelection,Vt=Bt.selected,Ht=Object.keys(Vt).filter((function(t){return Vt[t]})).length,Xt=[{key:"select_template",label:Object(r.createElement)(te.a,De({type:"checkbox",checked:!1,onChange:function(){}},qt)),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"action",label:"",isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"title",label:Object(o.__)("Name","wp-marketing-automations"),isLeftAligned:!0,required:!0},{key:"event",label:Object(o.__)("Event","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-word-break bwf-w-210"},{key:"contacts",label:Object(o.__)("Contact Activity","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-240"}].concat(Fe(Object(d.Yb)()?[{key:"revenue",label:Object(o.__)("Revenue","wp-marketing-automations"),cellClassName:"bwf-w-120"}]:[]),[{key:"status",label:Object(o.__)("Status","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-90"}]),$t=function(t){t!==xt&&p("limit",t)},Qt=function(){var t=Ie(Ce().mark((function t(n,r){return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return C(Ge(Ge({},r),{},{status:!0})),t.prev=1,t.next=4,T()({path:Object(d.x)("/automations"),method:"DELETE",data:{automation_ids:[n]}}).then((function(t){if(200!==t.code)throw Error(Object(d.s)(null==t?void 0:t.message));C({status:!1}),e(t.message),m(Nt,a,0,xt,c),Object(d.Ab)(e,3e3)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),C(Ge(Ge({},r),{},{error:t.t0.message}));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}(),Kt=function(){var t=Ie(Ce().mark((function t(n){return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(o.__)("Duplicating…","wp-marketing-automations")),t.prev=1,t.next=4,T()({path:Object(d.x)("/automations/".concat(n,"/duplicate?version=2")),method:"POST"}).then((function(t){if(200!==t.code)throw Error(Object(d.s)(null==t?void 0:t.message));e(Object(o.__)("Automation Duplicated","wp-marketing-automations")),m(Nt,a,0,xt,c),Object(d.Ab)(e,3e3)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),Object(d.Ab)(e,3e3),setTimeout((function(){C({status:!0,modalTitle:Object(o.__)("Duplicate Automation","wp-marketing-automations"),error:t.t0.message})}),[1500]);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),Zt=function(t,e){var n="data:text/json;charset=utf-8,"+encodeURIComponent(t),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",e+".json"),document.body.appendChild(r),r.click(),r.remove()},Wt=function(){var t=Ie(Ce().mark((function t(){var n,r,a,i=arguments;return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:0,r=i.length>1&&void 0!==i[1]?i[1]:"automation",e(Object(o.__)("Exporting…","wp-marketing-automations")),a="",!Object(x.isArray)(n)&&parseInt(n)>0?a=Object(d.x)("/automations/".concat(n,"/export?version=2")):(a=Object(d.x)("/automations/export/?version=2"),Object(x.isEmpty)(n)||(a+="&ids=".concat(n.join(",")))),t.prev=5,t.next=8,T()({path:a,method:"GET"}).then((function(t){if(200!==t.code)throw Error(Object(d.s)(null==t?void 0:t.message));Zt(t.result,r),e(Object(o.__)("Automation exported","wp-marketing-automations")),Object(x.isArray)(n)&&jt(),Object(d.Ab)(e,3e3)}));case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(5),Object(d.Ab)(e,3e3),setTimeout((function(){C({status:!0,modalTitle:Object(o.__)("Export Automation","wp-marketing-automations"),error:t.t0.message})}),[1500]);case 14:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(){return t.apply(this,arguments)}}(),ee=function(){var t=Ie(Ce().mark((function t(){return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(o.__)("Exporting…","wp-marketing-automations")),t.prev=1,t.next=4,T()({path:Object(d.x)("/export/action?type=automation&action=start"),method:"POST"}).then((function(t){if(200!==t.code)throw Error(Object(d.s)(null==t?void 0:t.message));t.hasOwnProperty("result")&&t.result.hasOwnProperty("data")&&!Object(x.isEmpty)(t.result.data)&&(bwfcrm_contacts_data.export_data=t.result.data,e(Object(o.__)("Automation export has started","wp-marketing-automations"))),Object(d.Ab)(e,3e3)}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),Object(d.Ab)(e,3e3);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(){return t.apply(this,arguments)}}(),ne=function(){var t=Ie(Ce().mark((function t(n,r){return Ce().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(n?Object(o.__)("Activating Automation…","wp-marketing-automations"):Object(o.__)("Deactivating Automation…","wp-marketing-automations")),t.prev=1,t.next=4,T()({path:Object(d.x)("/automations/toggle-state"),method:"POST",data:{state:n,automation_id:r}}).then((function(t){if(200!==t.code)throw Error(Object(d.s)(null==t?void 0:t.message));e(n?Object(o.__)("Automation activated","wp-marketing-automations"):Object(o.__)("Automation deactivated","wp-marketing-automations"));var a;a=_t.map((function(t){return t.id==r&&(t.status=n?"1":"0"),t})),p("automations",a),Object(d.Ab)(e,3e3)}));case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),Object(d.Ab)(e,3e3),setTimeout((function(){C({status:!0,modalTitle:Object(o.__)("Automation Status Update","wp-marketing-automations"),error:t.t0.message})}),[1500]);case 10:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}(),re=function(t){switch(parseInt(t.status)){case 1:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(o.__)("Active","wp-marketing-automations"));default:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-red"},Object(o.__)("Inactive","wp-marketing-automations"))}},oe=function(t){return Object(r.createElement)("a",{href:"admin.php?page=autonami&path=/automation/"+t.id,onClick:function(e){e.preventDefault(),_("listData",t.hasOwnProperty("name")?t.name:""),Object(F.k)({path:"/automation/".concat(t.id)},"/",a)},className:"bwf-a-no-underline"},Object(r.createElement)("b",null,t.name))},ue=function(t){return Object(r.createElement)(r.Fragment,null,t.event?t.event:Object(o.__)("Not Found","wp-marketing-automations"))},se=function(t){if(!K||Object(x.isEmpty)(ct))return Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-w-210 bwf-h-15",title:Object(o.__)("Loading","wp-marketing-automations")});var e=ct.hasOwnProperty(t.id)?ct[t.id]:{};return Object(r.createElement)(A.a,{gap:2,justify:"center"},Object(r.createElement)(A.c,null,Object(r.createElement)(ce.a,{toolTipText:Object(o.__)("Active","wp-marketing-automations")},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(F.k)({path:"/automation/".concat(t.id,"/contacts/active")},"/",a)},style:{display:"inline-flex"}},Object(r.createElement)(R.a,{icon:"status-scheduled",width:16,height:16}),Object(r.createElement)("span",null,e.hasOwnProperty("active")?Object(d.bc)(parseInt(e.active)):0))))),Object(r.createElement)(A.c,null,Object(r.createElement)(ce.a,{toolTipText:Object(o.__)("Paused","wp-marketing-automations")},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(F.k)({path:"/automation/".concat(t.id,"/contacts/paused")},"/",a)},style:{display:"inline-flex"}},Object(r.createElement)(R.a,{icon:"status-paused",width:16,height:16}),Object(r.createElement)("span",null,e.hasOwnProperty("paused")?Object(d.bc)(parseInt(e.paused)):0))))),Object(r.createElement)(A.c,null,Object(r.createElement)(ce.a,{toolTipText:Object(o.__)("Completed","wp-marketing-automations")},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(F.k)({path:"/automation/".concat(t.id,"/contacts/completed")},"/",a)},style:{display:"inline-flex"}},Object(r.createElement)(R.a,{icon:"status-completed",width:16,height:16}),Object(r.createElement)("span",null,e.hasOwnProperty("complete")?Object(d.bc)(parseInt(e.complete)):0))))),Object(r.createElement)(A.c,null,Object(r.createElement)(ce.a,{toolTipText:Object(o.__)("Failed","wp-marketing-automations")},Object(r.createElement)("div",{className:"bwf-tag-tooltip"},Object(r.createElement)("a",{className:"bwf-a-no-underline",onClick:function(){Object(F.k)({path:"/automation/".concat(t.id,"/contacts/failed")},"/",a)},style:{display:"inline-flex"}},Object(r.createElement)(R.a,{icon:"status-failed",width:16,height:16}),Object(r.createElement)("span",null,e.hasOwnProperty("failed")?Object(d.bc)(parseInt(e.failed)):0))))))},le=Array.isArray(_t)?_t.map((function(t){return[{display:Rt.hasOwnProperty(t.id)?Object(r.createElement)(te.a,De({type:"checkbox",checked:!1,onChange:function(){}},Rt[t.id])):Object(r.createElement)(r.Fragment,null),value:null},{display:(e=t,Object(r.createElement)(P.a,{label:Object(o.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(L.a,null,Object(r.createElement)(Ee.a,{to:"wp-admin/admin.php?page=autonami&path=/automation/"+e.id,onClick:function(t){t.preventDefault(),_("listData",e.hasOwnProperty("name")?e.name:""),Object(F.k)({path:"/automation/".concat(e.id)},"/",a)},className:"bwf-a-no-underline"},Object(r.createElement)(A.a,{justify:"flex-start"},Object(r.createElement)(A.c,null,Object(o.__)("Edit","wp-marketing-automations"))))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){ne(1!==parseInt(e.status),e.id),n()}},Object(r.createElement)(A.a,{justify:"flex-start"},Object(r.createElement)(A.c,null,1===parseInt(e.status)?Object(o.__)("Deactivate","wp-marketing-automations"):Object(o.__)("Activate","wp-marketing-automations")))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Object(d.Ob)()?Kt(e.id):z({status:!0,featureTitle:Object(o.__)("Duplicate Automation","wp-marketing-automations"),isFeature:!0,proLink:Object(d.X)("upgrade",{utm_medium:"Dupicate+Automation+Upgrade+Modal"})}),n()}},Object(r.createElement)(A.a,{justify:"space-between"},Object(r.createElement)(A.c,null,Object(o.__)("Duplicate","wp-marketing-automations")),!Object(d.Ob)()&&Object(r.createElement)(A.c,null,d.e))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){Object(d.Ob)()?Wt(e.id,e.name):z({status:!0,featureTitle:Object(o.__)("Export Automation","wp-marketing-automations"),isFeature:!0,proLink:Object(d.X)("upgrade",{utm_medium:"Export+Automation+Upgrade+Modal"})}),n()}},Object(r.createElement)(A.a,{justify:"space-between"},Object(r.createElement)(A.c,null,Object(o.__)("Export","wp-marketing-automations")),!Object(d.Ob)()&&Object(r.createElement)(A.c,null,d.e))),Object(r.createElement)(L.a,{isClickable:!0,onInvoke:function(){var t={status:!0,modalTitle:Object(o.__)("Delete Automation"),deleteEntityName:e.name,isDelete:!0,buttonConfirm:Object(o.__)("Delete","wp-marketing-automations"),buttonCancel:Object(o.__)("Cancel","wp-marketing-automations")};C(Ge(Ge({},t),{},{onConfirm:function(){return Qt(e.id,t)}})),n()}},Object(r.createElement)(A.a,{justify:"flex-start"},Object(r.createElement)(A.c,null,Object(o.__)("Delete","wp-marketing-automations")))))}})),value:""},{display:oe(t),value:t.name},{display:ue(t),value:t.event},{display:se(t),value:""}].concat(Fe(Object(d.Yb)()?[{display:t.revenue&&parseFloat(t.revenue)>0?Object(r.createElement)("span",{className:"bwf-tags bwf-tag-revenue"},It(t.revenue)):"-",value:""}]:[]),[{display:re(t),value:""}]);var e})):[],fe=D()("bwfcrm-campaign-list-table",{"has-search":!0}),me=[{type:"heading",data:{title:Object(o.__)("Explore easy automation to simply task","wp-marketing-automations"),desc:Object(o.__)("Initiate your automation journey for smoother workflows – Create your first automation for streamlined success","wp-marketing-automations")}},{type:"image-desc",data:[{img:Object(d.r)()+"automation/automation1.png",title:Object(o.__)("Pre-built recipes to get you quick started","wp-marketing-automations"),desc:Object(o.__)("Save time by importing and editing our ever-growing library of practical automation recipes to fit your needs","wp-marketing-automations")},{img:Object(d.r)()+"automation/automation2.png",title:Object(o.__)("Create any automation that you can imagine","wp-marketing-automations"),desc:Object(o.__)("Create personalized journeys with conditional branching, delays, and split paths","wp-marketing-automations")}]},{type:"buttons",data:{buttons:[{text:Object(o.__)("Create Automation","wp-marketing-automations"),onClick:function(){Object(F.k)({path:"/automations/create"},"/",a)}},{text:Object(o.__)("Import Automation","wp-marketing-automations"),isSecondary:!0,onClick:function(){mt(!0)}}]}}],pe=Object(r.createElement)("div",{className:"bwf-display-flex bwf-flex-wrap bwf-flex-start gap-8"},Object(d.Ob)()&&Ct.hasOwnProperty("automation")&&Object(r.createElement)(_e.a,{type:"automation",localData:Ct.automation,onDismiss:function(){return H(!0)}}),Object(r.createElement)(Y.a,{className:"bwf-btn-small is-light",isGray:!0,title:Object(o.__)("Refresh Stats","wp-marketing-automations"),onClick:function(){return nt(!1),void ot(!0)},disabled:!K,isBusy:!K&&at},Object(r.createElement)(R.a,{icon:"retry",size:14}),Object(r.createElement)("span",{className:"bwf-ml-4"},Object(o.__)("Refresh","wp-marketing-automations"))),Object(r.createElement)(Y.a,{className:"bwf-btn-small is-light",title:Object(o.__)("Export All","wp-marketing-automations"),onClick:function(){Object(d.Ob)()?ee():z({status:!0,featureTitle:Object(o.__)("Export Automations","wp-marketing-automations"),isFeature:!0,proLink:Object(d.X)("upgrade",{utm_medium:"Export+Automation+Upgrade+Modal"})})},disabled:Ct.hasOwnProperty("automation")&&!V},Object(d.Ob)()?Object(r.createElement)(R.a,{icon:"export",size:14}):Object(r.createElement)(R.a,{icon:"king",size:16}),Object(r.createElement)("span",{className:"bwf-ml-4"},Object(o.__)("Export All","wp-marketing-automations"))),Object(r.createElement)(Y.a,{className:"bwf-btn-small is-light",title:Object(o.__)("Import","wp-marketing-automations"),onClick:function(){return mt(!0)}},Object(r.createElement)(R.a,{icon:"import",size:14}),Object(r.createElement)("span",{className:"bwf-ml-4"},Object(o.__)("Import","wp-marketing-automations")))),he=Pt||E||!["","all"].includes(n)||0!==Lt||""!==s||$,be=[{slug:"automations-v2_all",name:Object(o.__)("All","wp-marketing-automations"),path:"/automations/"},{slug:"automations-v2_active",name:Object(o.__)("Active","wp-marketing-automations"),path:"/automations/active"},{slug:"automations-v2_inactive",name:Object(o.__)("Inactive","wp-marketing-automations"),path:"/automations/inactive"}];return Object(r.createElement)(r.Fragment,null,Object(d.Q)()&&he?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(o.__)("Automations","wp-marketing-automations")),parseInt(Lt)>0&&Object(r.createElement)("div",{className:"bwf-content-header-count"},Object(o.sprintf)(Object(o.__)("(%s Results)","wp-marketing-automations"),Lt))),Object(r.createElement)("div",{className:"bwf-content-header-right"},Object(r.createElement)(Y.a,{isPrimary:!0,onClick:function(){return Object(F.k)({page:"autonami",path:"/automations/create"},"/",{})}},Object(o.__)("Create Automation","wp-marketing-automations")))),Object(r.createElement)(ie.a,{tabs:be,selected:n?"automations-v2_".concat(n):"automations-v2_all",count:Gt,disableUrlUpdate:!0,onChange:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_("offset",0),Q(!0),Object(F.k)({page:"autonami",path:e},"/",{})}}),Object(r.createElement)("div",{className:"bwf_clear_16"}),E&&Object(r.createElement)(q.a,{status:"error"},E.message),Object(r.createElement)(i.a,{className:fe,rows:le,headers:Xt,query:{paged:At},rowsPerPage:xt,totalRows:Lt,isLoading:Pt,onPageChange:function(t,e){p("offset",(t-1)*xt)},onQueryChange:function(t){return"per_page"!==t?function(){}:$t},rowHeader:!0,showMenu:!1,actions:Ht>0?[Object(r.createElement)(ut.a,De({key:"automation-bulk-action",actions:[{id:"export",icon:"export",hint:Object(o.__)("Export","wp-marketing-automations"),isPro:!0,proLink:Object(d.X)("upgrade",{utm_medium:"Automation+Bulk+Action+Export+Upgrade+Modal"}),featureTitle:Object(o.__)("Export Automations","wp-marketing-automations")},{id:"delete",icon:"delete",hint:Object(o.__)("Delete","wp-marketing-automations")}],onAction:Et,inLine:!0,reset:jt},Ut))]:[Object(r.createElement)(ae.a,{key:"search",isLoading:Pt,searchTerm:null==a?void 0:a.s,showResultCount:!1,setSearchData:function(t){if(Object(x.size)(t))Object(F.k)({s:t},"/",a);else{var e=Object(x.cloneDeep)(a);e.hasOwnProperty("s")&&(null==e||delete e.s),Q(!0),Object(F.k)(e,"/",{})}}})],emptyMessage:Object(o.__)("No automations found","wp-marketing-automations"),extraSectionBeforefilterCol:0===Ht?pe:Object(r.createElement)(r.Fragment,null)}),Object(r.createElement)(N.a,{modalTitle:S.modalTitle,deleteEntityName:S.deleteEntityName,confirmText:S.confirmText,confirmButtonText:S.buttonConfirm,cancelButtonText:S.buttonCancel,onConfirm:S.onConfirm,isLoading:S.loading,successMessage:S.success,errorMessage:S.error,content:S.content,confirmDescription:S.hasOwnProperty("confirmDescription")?S.confirmDescription:"",onRequestClose:function(){return C({status:!1})},isOpen:S.status,isDelete:S.isDelete}),Object(r.createElement)(Ae,{tasks:ht,isOpen:yt,onSuccess:function(){m(Nt,a,kt,xt,c),jt()},onError:jt,onRequestClose:function(){return gt(!1)},screenType:"automations",actionType:Ot})):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(o.__)("Automations","wp-marketing-automations")))),Object(r.createElement)(et.a,{data:me})),ft&&Object(r.createElement)(Jt,{onRequestClose:function(){return mt(!1)},isV2:!0}),!Object(d.Ob)()&&Object(r.createElement)(Se.b,{isOpen:G.status,onRequestClose:function(){return z({status:!1})},modalContent:G}))};n(1389),e.default=function(t){var e=t.match.params.type,n=void 0===e?"all":e,o=t.automationV2,i=void 0!==o&&o,c=Object(F.i)();return Object(d.l)("Automations"),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(a.a,null),Object(r.createElement)("div",{className:"bwfcrm-automations-list"},i?Object(r.createElement)(Ue,{query:c,type:n,automationV2:i}):Object(r.createElement)(Oe,{query:c,type:n,automationV2:i})))}}}]);