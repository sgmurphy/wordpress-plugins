(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{1028:function(e,t,n){"use strict";var r=n(0),a=n(1),o=n(4),c=(n(496),n(5)),i=n(8);t.a=function(e){var t=e.onFileSelected,n=e.filetypeArray,s=e.type,l=void 0===s?"automation":s,u=e.importText,m=void 0===u?"":u,p=e.importInfo,b=void 0===p?"":p,f=Object(r.useContext)(o.h),O=function(e){e&&e[0]&&"type"in e[0]?n.includes(e[0].type)?(t(e[0]),Object(o.wb)(f,3e3)):f(Object(a.__)("Uploaded file is not valid.","wp-marketing-automations")):f(Object(a.__)("Uploaded file not found","wp-marketing-automations"))};return Object(r.createElement)("div",{className:"bwf-component-import-wrapper"},Object(r.createElement)(c.DropZoneProvider,null,Object(r.createElement)("div",{className:"bwf-import-area-wrapper"},Object(r.createElement)(c.FormFileUpload,{isSecondary:!0,accept:"application/json",onChange:function(e){return O(e.target.files)},render:function(e){var t=e.openFileDialog;return Object(r.createElement)("div",{className:"bwf-import-area",onClick:t},Object(r.createElement)(i.a,{icon:"json-upload",size:72}),Object(r.createElement)("div",{className:"bwf-drop-import-heading"},""!==m?m:Object(a.__)("Click or Drag & Drop your JSON file","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-drop-import-content"},""!==b?b:Object(a.sprintf)(Object(a.__)("This tool allows you to import the %s from the JSON file.","wp-marketing-automations"),l)))}}),Object(r.createElement)(c.DropZone,{onFilesDrop:O,onHTMLDrop:O,onDrop:O}))))}},1029:function(e,t,n){"use strict";var r=n(0),a=n(955),o=(n(1030),n(8)),c=n(1),i=n(9),s=n.n(i),l=n(4),u=n(5),m=n(3);function p(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){p(o,r,a,c,i,"next",e)}function i(e){p(o,r,a,c,i,"throw",e)}c(void 0)}))}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j={automation:Object(c.__)("Automation","wp-marketing-automations"),templates:Object(c.__)("Templates","wp-marketing-automations"),carts:Object(c.__)("Carts","wp-marketing-automations")};t.a=function(e){var t=e.type,n=void 0===t?"":t,i=e.localData,p=void 0===i?{}:i,O=e.onDismiss,d=void 0===O?function(){}:O,g=Object(r.useContext)(l.h),w=f(Object(r.useState)(1),2),y=w[0],v=w[1],h=f(Object(r.useState)(!1),2),_=h[0],k=h[1],E=f(Object(r.useState)(!1),2),P=E[0],x=E[1],S=f(Object(r.useState)({}),2),C=S[0],D=S[1],T=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s()({path:Object(l.u)("/export/status?type=".concat(n)),method:"GET"}).then((function(e){if(200!==e.code||!e.hasOwnProperty("result"))throw Error(Object(l.p)(null==e?void 0:e.message));var t=e.result,n=t.status,r=void 0===n?1:n,a=t.msg,o=void 0===a?[]:a,c=t.url,i=void 0===c?"":c;v(r),D({msg:o,url:i})}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),g(e.t0.hasOwnProperty("message")&&""!==e.t0.message?e.t0.message:Object(c.__)("Unable to export.","wp-marketing-automations")),Object(l.wb)(g,3e3);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){if(Object(m.isEmpty)(p))""!==n&&T();else{var e=p.status,t=void 0===e?1:e,r=p.msg,a=void 0===r?[]:r,o=p.url,c=void 0===o?"":o;v(t),D({msg:a,url:c})}}),[]);var I=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s()({path:Object(l.u)("/export/action?type=".concat(n,"&action=cancel")),method:"POST"}).then((function(e){if(200!==e.code||!e.hasOwnProperty("result"))throw Error(Object(l.p)(null==e?void 0:e.message));var t=e.result.status;(void 0===t?1:t)&&(bwfcrm_contacts_data.export_data.hasOwnProperty(n)&&delete bwfcrm_contacts_data.export_data[n],k(!0),d())}));case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),g(e.t0.hasOwnProperty("message")&&""!==e.t0.message?e.t0.message:Object(c.__)("Unable to perform action.","wp-marketing-automations")),Object(l.wb)(g,3e3);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=b(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.open(Object(l.hb)()+"/wp-json"+Object(l.u)("/export/download?type=".concat(n,"&bwf-nonce=").concat(Object(l.z)(),"&user_id=").concat(Object(l.G)())),"_blank");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(Object(a.a)((function(){1==y&&""!==n&&T()}),5e3),""===n||_)return Object(r.createElement)(r.Fragment,null);var A=C.url,R=void 0===A?"":A,F=C.msg,M=void 0===F?[]:F,L={1:Object(c.__)("Exporting InProgressâ€¦","wp-marketing-automations"),2:Object(c.__)("File is ready","wp-marketing-automations"),3:Object(c.__)("Exporting Failed","wp-marketing-automations")},B={1:Object(c.__)("Cancel","wp-marketing-automations"),2:Object(c.__)("Download","wp-marketing-automations"),3:Object(c.__)("View Details","wp-marketing-automations")};return Object(r.createElement)("div",{className:"bwf-export-info-wrap bwf-status-".concat(y)},Object(r.createElement)("div",{className:"bwf-export-info-left"},Object(r.createElement)("div",{className:"bwf-export-status-icon"},Object(r.createElement)(o.a,{icon:"export-info",size:20})),Object(r.createElement)("div",{className:"bwf-export-status-message"},L[y])),Object(r.createElement)("div",{className:"bwf-export-info-right"},(2!==parseInt(y)||!(2===parseInt(y)&&""===R))&&Object(r.createElement)("div",{className:"bwf-export-status-button",onClick:function(){switch(parseInt(y)){case 1:I();break;case 2:N();break;case 3:x(!0)}}},B[y]),1!==parseInt(y)&&Object(r.createElement)("div",{className:"bwf-export-status-dismiss",onClick:I},Object(r.createElement)(o.a,{icon:"close",size:16,color:"#FFF"}))),P&&Object(r.createElement)(u.Modal,{onRequestClose:function(){return x(!1)},className:"bwf-admin-modal bwf-admin-modal-480 bwf-admin-modal-no-header bwf-export-info-modal"},Object(r.createElement)("div",{className:"bwf-admin-m-header-new"},Object(r.createElement)("div",{className:"bwf-admin-m-title"},Object(c.sprintf)(Object(c.__)("Error! Export %ss","wp-marketing-automations"),j.hasOwnProperty(n)?j[n]:n)),Object(r.createElement)("div",{className:"bwf-admin-m-close",onClick:function(){return x(!1)}},Object(r.createElement)(o.a,{icon:"close",size:20}))),Object(r.createElement)("div",{className:"bwf-export-info-content"},Object(r.createElement)("div",{className:"bwf-export-info-content-bold"},Object(c.__)("Following reasons while creating file for export","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-export-info-content-error-list"},Object(m.isEmpty)(M)?Object(r.createElement)("li",null,Object(c.__)("Unable to create export","wp-marketing-automations")):M.map((function(e,t){return Object(r.createElement)("li",{key:t},e)}))))))}},1030:function(e,t,n){},1295:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(1),o=n(994),c=n(4),i=n(14),s=n(51);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var b=function(){var e=Object(s.a)("templateData"),t=e.fetch,n=e.setStateProp;return u(u({},p(e,["fetch","setStateProp"])),{},{fetch:function(e,r,a){n("isLoading",!0);var o={offset:r,limit:a,search:e.s,get_template:!1};t("GET",Object(c.u)("/templates"),o)},setTemplateValues:function(e,t){n(e,t)}})},f=n(52);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var w=function(){var e=Object(f.a)("templateData"),t=e.getStateProp;return j(j({},g(e,["getStateProp"])),{},{getTemplates:function(){return t("data")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getPerPageCount:function(){return parseInt(t("limit"))},getPageOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total_count"))}})},y=n(119),v=n(66),h=n(57),_=n(58),k=n(18),E=n(8),P=n(9),x=n.n(P),S=n(122),C=n(983),D=n(1028),T=n(5);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(r.createElement)(r.Fragment,null,"".concat(""!==e?e:"It seems there was an issue during the import",". For further help, contact "),Object(r.createElement)("a",{href:Object(c.T)("support",{utm_medium:"Support+Recipe+Import+Failed"}),target:"_blank",rel:"noopener noreferrer"},Object(a.__)(" support. ","wp-marketing-automations")))},B=function(e){var t=e.onRequestClose,n=Object(i.i)(),o=F(Object(r.useState)({status:!1,modalTitle:Object(a.__)("Import Template","wp-marketing-automations")}),2),s=o[0],l=o[1],u=F(Object(r.useState)(null),2),m=u[0],p=u[1],b=function(){var e,o=(e=regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(N(N({},s),{},{loading:!0,title:Object(a.__)("Please waitâ€¦","wp-marketing-automations"),message:Object(r.createElement)(r.Fragment,null,Object(a.sprintf)(Object(a.__)("Please wait! We are importing %s data","wp-marketing-automations"),null==m?void 0:m.name))})),e.prev=1,(o=new FormData).append("files",m),e.next=6,x()({method:"POST",body:o,path:Object(c.u)("/templates/import")}).then((function(e){200==e.code?e.result.hasOwnProperty("template_id")?(l(N(N({},s),{},{status:!0,loading:!1,title:Object(a.__)("Importing Done","wp-marketing-automations"),message:Object(a.__)("Successfully Imported and added in your Template","wp-marketing-automations")})),setTimeout((function(){Object(i.k)({page:"autonami",path:"/template/".concat(e.result.template_id)},"/",{})}),1e3)):(Object(i.k)({path:"/templates/"},"/",n),t()):(p(null),l(N(N({},s),{},{status:!1,loading:!1,title:Object(a.__)("Importing Failed","wp-marketing-automations"),message:L(e.message)})))}));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),p(null),l(N(N({},s),{},{status:!1,loading:!1,title:Object(a.__)("Importing Failed","wp-marketing-automations"),message:L(e.t0.message)}));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){R(o,r,a,c,i,"next",e)}function i(e){R(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(){return o.apply(this,arguments)}}();return Object(r.useEffect)((function(){m&&b()}),[m]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(T.Modal,{className:"bwf-admin-modal bwf-admin-modal-480 bwf-admin-modal-no-header",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(r.createElement)("div",{className:"bwf-admin-m-header-new"},Object(r.createElement)("div",{className:"bwf-admin-m-title"},Object(a.__)("Import Template","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-admin-m-close",onClick:t},Object(r.createElement)(E.a,{icon:"close",size:20}))),s.title&&Object(r.createElement)("div",{className:"bwf-import-modal-content bwf-t-center"},s.loading?Object(r.createElement)(E.a,{icon:"import-loading"}):Object(r.createElement)(E.a,{icon:s.status?"success-loader":"circle-close",size:48}),Object(r.createElement)("div",{className:"bwf-drop-import-content"},s.message)),!s.title&&Object(r.createElement)(D.a,{onFileSelected:function(e){return p(e)},filetypeArray:["application/json"],importText:Object(a.__)("Drag or Browse a json file to import template","wp-marketing-automations"),importInfo:"( "+Object(a.__)("File size 10 MB max","wp-marketing-automations")+" )"})))},J=n(944);function U(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function q(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){U(o,r,a,c,i,"next",e)}function i(e){U(o,r,a,c,i,"throw",e)}c(void 0)}))}}var z=function(e){var t=e.isOpen,n=e.tasks,o=e.onSuccess,i=e.onError,s=e.onRequestClose,l=e.actionType,u=n?n.length:0,m=Object(J.a)(function(){var e=q(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x()({path:Object(c.u)("/bulk-action/template"),method:"DELETE",data:{ids:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return m.reset()}),2500),o&&o()},onError:function(){i&&i()}}),p=function(){var e=q(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.mutate(n.map((function(e){return e.ID})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b={delete:{title:Object(a._n)("Delete Template","Delete Templates",u,"wp-marketing-automations"),description:Object(r.createElement)(r.Fragment,null,Object(a.__)("You are about to delete ","wp-marketing-automations"),Object(a._n)("template","templates",u,"wp-marketing-automations"),Object(a.__)(". This action cannot be undone. Cancel to stop, Delete to proceed.","wp-marketing-automations")),confirmBtn:Object(a.__)("Delete","wp-marketing-automations"),cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),successMsg:Object(a.__)("Bulk action executed successfully","wp-marketing-automations"),errorMsg:Object(a.__)("Unable to delete template","wp-marketing-automations"),confirmDescription:Object(a.__)("This action is irreversible","wp-marketing-automations")}};return Object(r.createElement)(v.a,{modalTitle:b.hasOwnProperty(l)&&b[l].hasOwnProperty("title")?b[l].title:Object(a._n)("Perform Actions","Perform Actions",u,"wp-marketing-automations"),deleteDescriptionText:b.hasOwnProperty(l)&&b[l].hasOwnProperty("description")?b[l].description:"",confirmButtonText:b.hasOwnProperty(l)&&b[l].hasOwnProperty("confirmBtn")?b[l].confirmBtn:Object(a.__)("Confirm","wp-marketing-automations"),cancelButtonText:b.hasOwnProperty(l)&&b[l].hasOwnProperty("cancelBtn")?b[l].cancelBtn:Object(a.__)("Cancel","wp-marketing-automations"),onConfirm:p,isLoading:m.isLoading,successMessage:m.isSuccess&&(b.hasOwnProperty(l)&&b[l].hasOwnProperty("successMsg")?b[l].successMsg:Object(a.__)("Actions Done!","wp-marketing-automations")),errorMessage:m.isError&&(m.error&&m.error.message?m.error.message:b.hasOwnProperty(l)&&b[l].hasOwnProperty("errorMsg")?b[l].errorMsg:Object(a.__)("Unable to perform action","wp-marketing-automations")),onRequestClose:function(){return!!s&&s()},isOpen:t,confirmDescription:b.hasOwnProperty(l)&&b[l].hasOwnProperty("confirmDescription")?b[l].confirmDescription:"",isDelete:!0})},G=n(1029),H=n(3),V=n(41),W=n(176),$=n(303),Q=n(31),Z=n(16);function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){te(o,r,a,c,i,"next",e)}function i(e){te(o,r,a,c,i,"throw",e)}c(void 0)}))}}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||ae(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){if(e){if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?oe(e,t):void 0}}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ce=function(e){var t=e.menuButtons,n=void 0===t?Object(r.createElement)(r.Fragment,null):t,o=e.pitchData,s=void 0===o?{}:o,l=e.setOpenProModal,u=void 0===l?function(){}:l,m=Object(r.useContext)(c.h),p=Object(i.i)(),f=p.s,O=void 0===f?"":f,j={1:Object(a.__)("Rich Text","wp-marketing-automations"),2:Object(a.__)("WooCommerce","wp-marketing-automations"),3:Object(a.__)("Raw HTML","wp-marketing-automations"),4:Object(a.__)("Visual Builder","wp-marketing-automations"),5:Object(a.__)("Visual Builder","wp-marketing-automations")},d=b(),g=d.fetch,P=d.setTemplateValues,D=Object(C.a)().setTemplateListData,T=w(),I=T.getLoading,N=T.getTemplates,A=T.getTotalCount,R=T.getPageOffset,F=T.getPerPageCount,M=T.getPageNumber,L=T.getError,J=N(),U=R(),q=F(),Y=I(),ee=A(),te=M(),oe=L(),ce=Object(c.qb)();Object(r.useEffect)((function(){g(p,U,q)}),[U,q,p.s]);var ie=re(Object(r.useState)({loading:!1,status:!1}),2),se=ie[0],le=ie[1],ue=re(Object(r.useState)(!1),2),me=ue[0],pe=ue[1],be=re(Object(r.useState)(!1),2),fe=be[0],Oe=be[1],je=re(Object(r.useState)(!1),2),de=je[0],ge=je[1],we=re(Object(r.useState)([]),2),ye=we[0],ve=we[1],he=re(Object(r.useState)(!1),2),_e=he[0],ke=he[1],Ee=re(Object(r.useState)(""),2),Pe=Ee[0],xe=Ee[1];Object(r.useEffect)((function(){Y||ge(!1)}),[Y]);var Se=function(){Be&&Be(),ve([])};Object(r.useEffect)((function(){Se()}),[]);var Ce,De=function(e,t){if(Object(c.Jb)())if("export"===e){var n=[];t.map((function(e){return n.push(e.ID)})),$e(n)}else ve(t),xe(e),ke(!0);else u(!0)},Te=function(){var e=ne(regeneratorRuntime.mark((function e(t){var n,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},le(X(X({},n),{},{status:!0})),e.prev=2,e.next=5,x()({path:Object(c.u)("/template/".concat(t)),method:"DELETE"}).then((function(e){m(e.message),le({status:!1}),g(p,U,q)}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),le({status:!0,error:e.t0.message?e.t0.message:Object(a.__)("Error in deleting template","wp-marketing-automations")});case 10:Object(c.wb)(m,3e3);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=ne(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Object(a.__)("Cloningâ€¦","wp-marketing-automations")),e.prev=1,e.next=4,x()({path:Object(c.u)("/template/".concat(t,"/clone")),method:"GET"}).then((function(e){200==e.code?(m(Object(a.__)("Template cloned","wp-marketing-automations")),g(p,0,q)):m(e.message)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),m(e.t0.message);case 9:Object(c.wb)(m,3e3);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){return Object(r.createElement)(h.a,{label:Object(a.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.a,{isClickable:!0,onInvoke:function(){D(e.title),Object(i.k)({path:"/template/"+parseInt(e.ID)},"/",p),n()}},Object(r.createElement)(k.a,{justify:"space-between"},Object(r.createElement)(k.c,null,Object(a.__)("Edit","wp-marketing-automations")))),Object(r.createElement)(_.a,{isClickable:!0,onInvoke:function(){Object(c.Jb)()?Ie(parseInt(e.ID)):u(!0),n()}},Object(r.createElement)(k.a,{justify:"space-between"},Object(r.createElement)(k.c,null,Object(a.__)("Duplicate","wp-marketing-automations")),!Object(c.Jb)()&&Object(r.createElement)(k.c,null,c.e))),Object(r.createElement)(_.a,{isClickable:!0,onInvoke:function(){Object(c.Jb)()?$e(e.ID,e.title):u(!0),n()}},Object(r.createElement)(k.a,{justify:"space-between"},Object(r.createElement)(k.c,null,Object(a.__)("Export","wp-marketing-automations")),!Object(c.Jb)()&&Object(r.createElement)(k.c,null,c.e))),Object(r.createElement)(_.a,{isClickable:!0,onInvoke:function(){var t={status:!0,modalTitle:Object(a.__)("Delete Template","wp-marketing-automations"),deleteEntityName:e.title,buttonConfirm:Object(a.__)("Delete","wp-marketing-automations"),buttonCancel:Object(a.__)("Cancel","wp-marketing-automations"),isDelete:!0};le(X(X({},t),{},{onConfirm:function(){return Te(e.ID,t)}})),n()}},Object(r.createElement)(k.a,{justify:"flex-start"},Object(r.createElement)(k.c,null,Object(a.__)("Delete","wp-marketing-automations")))))}})},Ae=Object(r.useMemo)((function(){var e={};if(Array.isArray(J)){var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=ae(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw o}}}}(J);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.ID]=r}}catch(e){n.e(e)}finally{n.f()}}return e}),[J]),Re=Object(S.b)(Ae),Fe=Re.singleSelectProps,Me=Re.selectAllProps,Le=Re.floatingBarProps,Be=Re.resetSelection,Je=Re.selected,Ue=Object.keys(Je).filter((function(e){return Je[e]})).length,qe=[{key:"select_template",label:Object(r.createElement)(V.a,K({type:"checkbox",checked:!1,onChange:function(){}},Me)),isLeftAligned:!0,required:!0,cellClassName:"bwf-col-action bwf-w-30"},{key:"actions",label:"",isLeftAligned:!1,cellClassName:"bwf-col-action bwf-w-30"},{key:"name",label:Object(a.__)("Name","wp-marketing-automations"),isLeftAligned:!0},{key:"createdon",label:Object(a.__)("Created On","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-240"},{key:"type",label:Object(a.__)("Type","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"updatedon",label:Object(a.__)("Last Update","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-240"}],ze=function(e){return Object(r.createElement)("a",{href:"admin.php?page=autonami&path=/template/"+e.ID,type:"bwf-crm",className:"bwf-a-no-underline",onClick:function(t){t.preventDefault(),D(e.title),Object(i.k)({path:"/template/"+parseInt(e.ID)},"/",p)}},Object(r.createElement)("b",null,e.title.charAt(0).toUpperCase()+e.title.slice(1)+" "))},Ge=J.map((function(e){return[{display:Fe.hasOwnProperty(e.ID)?Object(r.createElement)(V.a,K({type:"checkbox",checked:!1,onChange:function(){}},Fe[e.ID])):Object(r.createElement)(r.Fragment,null),value:null},{display:Ne(e),value:"action"},{display:e.title?ze(e):"-",value:""},{display:Object(c.W)(e.created_at),value:""},{display:j.hasOwnProperty(parseInt(e.mode))?Object(r.createElement)(r.Fragment,null,j[parseInt(e.mode)],5===parseInt(e.mode)&&Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green bwf-ml-4"},Object(a.__)("New","wp-marketing-automations"))):"-",value:""},{display:Object(c.W)(e.updated_at),value:""}]})),He=function(e){e!==q&&P("limit",e)},Ve=function(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(e),r=document.createElement("a");r.setAttribute("href",n),r.setAttribute("download",t+".json"),document.body.appendChild(r),r.click(),r.remove()},We=function(){var e=ne(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Object(a.__)("Exportingâ€¦","wp-marketing-automations")),e.prev=1,e.next=4,x()({path:Object(c.u)("/export/action?type=templates&action=start"),method:"POST"}).then((function(e){if(200!==e.code)throw Error(Object(c.p)(null==e?void 0:e.message));e.hasOwnProperty("result")&&e.result.hasOwnProperty("data")&&!Object(H.isEmpty)(e.result.data)&&(bwfcrm_contacts_data.export_data=e.result.data,m(Object(a.__)("Template export has started","wp-marketing-automations"))),Object(c.wb)(m,3e3)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Object(c.wb)(m,3e3);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=ne(regeneratorRuntime.mark((function e(){var t,n,r,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,n=o.length>1&&void 0!==o[1]?o[1]:"templates",m(Object(a.__)("Exportingâ€¦","wp-marketing-automations")),r="",!Object(H.isArray)(t)&&parseInt(t)>0?r=Object(c.u)("/templates/".concat(t,"/export")):(r=Object(c.u)("/templates/export/"),Object(H.isEmpty)(t)||(r+="?ids=".concat(t.join(",")))),e.prev=5,e.next=8,x()({path:r,method:"GET"}).then((function(e){if(200!==e.code)throw Error(Object(c.p)(null==e?void 0:e.message));Ve(e.result,n),m(Object(a.__)("Template exported","wp-marketing-automations")),Object(H.isArray)(t)&&Se(),Object(c.wb)(m,3e3)}));case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),Object(c.wb)(m,3e3),setTimeout((function(){le({status:!0,modalTitle:Object(a.__)("Export Template","wp-marketing-automations"),error:e.t0.message})}),[1500]);case 14:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(){return e.apply(this,arguments)}}(),Qe=0===parseInt(Ue)?Object(r.createElement)("div",{className:"bwf-display-flex gap-12"},ce.hasOwnProperty("templates")&&Object(r.createElement)(G.a,{type:"templates",localData:ce.templates,onDismiss:function(){return pe(!0)}}),Object(r.createElement)(Z.a,{className:"bwf-btn-small is-light",title:Object(a.__)("Export","wp-marketing-automations"),onClick:function(){Object(c.Jb)()?We():u(!0)},disabled:ce.hasOwnProperty("templates")&&!me},Object(r.createElement)("span",{className:"bwf-display-flex gap-4"},Object(r.createElement)(E.a,{icon:Object(c.Jb)()?"export":"king",size:16}),Object(r.createElement)("span",null,Object(a.__)("Export All","wp-marketing-automations")))),Object(r.createElement)(Z.a,{className:"bwf-btn-small is-light",title:Object(a.__)("Import","wp-marketing-automations"),onClick:function(){Object(c.Jb)()?Oe(!0):u(!0)}},Object(r.createElement)("span",{className:"bwf-display-flex gap-4"},Object(r.createElement)(E.a,{icon:Object(c.Jb)()?"import":"king",size:16}),Object(r.createElement)("span",null,Object(a.__)("Import","wp-marketing-automations"))))):Object(r.createElement)(r.Fragment,null),Ze=Y||de||0!==ee||""!==O||oe;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(a.__)("Templates","wp-marketing-automations")),parseInt(ee)>0&&Object(r.createElement)("div",{className:"bwf-content-header-count"},Object(a.sprintf)(Object(a._n)("(%s Result)","(%s Results)",ee,"wp-marketing-automations"),ee))),Object(r.createElement)("div",{className:"bwf-content-header-right"},Ze&&!Y&&n)),oe&&Object(r.createElement)(Q.a,{status:"error"},oe.message),Ze?Object(r.createElement)(y.a,{className:"bwf-template-table has-search",title:"",rows:Ge,headers:qe,query:{paged:te},rowsPerPage:q,totalRows:ee,isLoading:Y,onPageChange:function(e,t){P("offset",(e-1)*q)},onQueryChange:function(e){return"per_page"!==e?function(){}:He},showMenu:!1,rowHeader:!0,actions:Ue>0?[Object(r.createElement)(S.a,K({key:"template-bulk-action",actions:(Ce=[],-1!==Object(c.l)(bwfcrm_contacts_data.bwf_pro_version,"2.9.5")&&Ce.push({id:"export",icon:"export",hint:Object(a.__)("Export","wp-marketing-automations"),isPro:!0}),Ce.push({id:"delete",icon:"trash",hint:Object(a.__)("Delete","wp-marketing-automations")}),Ce),onAction:De,inLine:!0,reset:Se},Le))]:[Object(r.createElement)(W.a,{key:"search",isLoading:Y,searchTerm:null==p?void 0:p.s,showResultCount:!1,setSearchData:function(e){if(Object(H.size)(e))Object(i.k)({s:e},"/",p);else{var t=Object(H.cloneDeep)(p);t.hasOwnProperty("s")&&(null==t||delete t.s),ge(!0),Object(i.k)(t,"/",{})}}})],emptyMessage:Object(a.__)("No templates found","wp-marketing-automations"),extraSectionBeforefilterCol:Qe}):Object(r.createElement)($.a,{data:s}),Object(r.createElement)(v.a,{modalTitle:se.modalTitle,deleteEntityName:se.deleteEntityName,confirmText:se.confirmText,confirmButtonText:se.buttonConfirm,cancelButtonText:se.buttonCancel,onConfirm:se.onConfirm,isLoading:se.loading,successMessage:se.success,errorMessage:se.error,content:se.content,onRequestClose:function(){return le({status:!1})},isOpen:se.status,isDelete:!se.hasOwnProperty("isDelete")||se.isDelete}),Object(r.createElement)(z,{tasks:ye,isOpen:_e,onSuccess:function(){g(p,U,q),Se()},onError:Se,onRequestClose:function(){return ke(!1)},screenType:"bulkaction",actionType:Pe}),fe&&Object(r.createElement)(B,{onRequestClose:function(){return Oe(!1)}}))};n(314),n(316),n(61);function ie(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue=function(e){var t=e.onCloseModal,n=Object(r.useContext)(c.h),o=se(Object(r.useState)(!1),2),s=o[0],l=o[1],u=se(Object(r.useState)(""),2),m=u[0],p=u[1],b=se(Object(r.useState)({}),2),f=(b[0],b[1]),O=se(Object(r.useState)(null),2),j=O[0],d=O[1],g=Object(C.a)().setTemplateListData;Object(r.useEffect)((function(){l(!1),f({}),d(""),p("")}),[]);var w=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),p(""),e.prev=2,e.next=5,x()({path:Object(c.u)("/template/"),method:"POST",data:{title:j,mode:5,escape_body:!0}}).then((function(e){200==e.code&&(Object(c.S)()||(bwfcrm_contacts_data.first_template_id=1),n(Object(a.__)("Template created","wp-marketing-automations")),g(j),Object(i.k)({path:"/template/"+e.result.id},"/",{}))}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),l(!1),p(e.t0.message);case 11:Object(c.wb)(n,3e3);case 12:case"end":return e.stop()}}),e,null,[[2,7]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){ie(o,r,a,c,i,"next",e)}function i(e){ie(o,r,a,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}(),y=function(){Object(H.isEmpty)(j)?p(Object(a.__)("Name is required.","wp-marketing-automations")):(p(""),w())};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(T.Modal,{className:"bwf-admin-modal bwf-admin-modal-squeezy bwf-h--core-header",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(r.createElement)("div",{className:"bwf-modal-header"},Object(r.createElement)("div",{className:"bwf-modal-heading"},Object(a.__)("Add Template","wp-marketing-automations")),Object(r.createElement)("span",{onClick:t,className:"bwf-modal-close"},Object(r.createElement)(E.a,{icon:"close",color:"#353030"}))),Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&y()}},m&&Object(r.createElement)(Q.a,{status:"error",onRemove:function(){return p("")}},m),Object(r.createElement)(T.TextControl,{placeholder:Object(a.__)("Enter","wp-marketing-automations"),autoFocus:!0,label:Object(a.__)("Name","wp-marketing-automations"),value:j||"",onChange:function(e){return d(e)},disabled:s}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(Z.a,{onClick:function(){return t()},className:"bwf-cancel-btn"},Object(a.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(Z.a,{isPrimary:!0,disabled:s,isBusy:s,onClick:function(){y()}},Object(a.__)("Add","wp-marketing-automations"))))))},me=n(74),pe=n(121),be=n(49),fe=n(39);function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(){var e=(0,w().getTotalCount)(),t=Object(r.createElement)(T.Button,{isPrimary:!0,className:"bwf-display-flex",onClick:function(){Object(c.Jb)()?m(!0):s(!0)}},!Object(c.Jb)()&&Object(r.createElement)(E.a,{icon:"king",size:"16",color:"#fff"}),Object(r.createElement)("span",null,Object(a.__)("Create Template","wp-marketing-automations")));Object(o.a)(Object(a.__)("Templates","wp-marketing-automations"),t,e);var n=ge(Object(r.useState)(!1),2),i=n[0],s=n[1],l=ge(Object(r.useState)(!1),2),u=l[0],m=l[1];Object(r.useEffect)((function(){Object(c.k)(Object(a.__)("My Templates","wp-marketing-automations"))}),[]);var p=Object(pe.a)().getPageCountData,b=Object(me.a)().setPageCountData,f=p();Object(r.useEffect)((function(){b(je(je({},f),{},{templates_templates:e}))}),[e]);var O=[{type:"heading",data:{title:Object(a.__)("Truly Flexible Email Editor With Beautiful Templates","wp-marketing-automations"),desc:Object(a.__)("Import beautiful email templates with a single click and never ever start from blank page again.","wp-marketing-automations")}},{type:"image-desc",data:[{img:Object(c.o)()+"template/template1.png",title:Object(a.__)("Pick from proven email templates","wp-marketing-automations"),desc:Object(a.__)("Save time with ever growing template library","wp-marketing-automations")},{img:Object(c.o)()+"template/template2.png",title:Object(a.__)("Edit with our easy drag-and-drop editor","wp-marketing-automations"),desc:Object(a.__)("Launch fast with features like saved sections & global styles","wp-marketing-automations")}]},{type:"buttons",data:{buttons:[{text:Object(a.__)("Create Email Template","wp-marketing-automations"),proCheck:!0,onClick:function(){Object(c.Jb)()?m(!0):s(!0)}}]}},{type:"link-wth-text",data:{text:Object(a.__)("Curious about templates?","wp-marketing-automations"),link:"https://funnelkit.com/docs/autonami-2/email-builder/email-templates/",linkText:Object(a.__)("Learn More","wp-marketing-automations")}}];return Object(r.createElement)(r.Fragment,null,Object(c.S)()&&0!==c.n?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(be.a,null),Object(r.createElement)(ce,{menuButtons:t,pitchData:O,setOpenProModal:s})):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(a.__)("Templates","wp-marketing-automations")),!Object(c.Jb)()&&c.e)),Object(r.createElement)($.a,{data:O})),!Object(c.Jb)()&&Object(r.createElement)(fe.b,{isOpen:i,onRequestClose:function(){return s(!1)},modalContent:{isFeature:!0,featureTitle:Object(a.__)("Templates","wp-marketing-automations"),proLink:Object(c.T)("upgrade",{utm_medium:"Create+Templates+Upgrade+Modal"}),image:Object(c.db)("templates.png"),benefit:Object(a.__)("Unlock Templates and other awesome features.","wp-marketing-automations")}}),u&&Object(r.createElement)(ue,{onCloseModal:function(){return m(!1)}}))}},955:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);var a=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}},983:function(e,t,n){"use strict";var r=n(51),a=n(4);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(){var e=Object(r.a)("singleTemplateData"),t=e.fetch,n=e.setStateProp;return c(c({},s(e,["fetch","setStateProp"])),{},{fetch:function(e){t("GET",Object(a.u)("/template/".concat(e)))},setTemplateData:function(e){n("data",e)},setTemplateListData:function(e){n("listData",e)}})}},994:function(e,t,n){"use strict";var r=n(74),a=n(0),o=n(1);t.a=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",c=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},i=Object(r.a)(),s=i.setActiveMultiple,l=i.setL2NavType,u=i.setL2Nav,m=i.resetHeaderMenu,p=i.setPageHeader,b=i.setPageCountData,f=i.setL2Content;return Object(a.useEffect)((function(){m(),s({leftNav:"templates",rightNav:""!==n?n:"templates"}),l("menu"),u(c.templates_nav),p(Object(o.__)("Emails","wp-marketing-automations")),b({templates:t}),e&&f(e)}),[t]),!0}}}]);