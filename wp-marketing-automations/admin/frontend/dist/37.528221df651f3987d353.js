(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{1107:function(t,e,n){},1354:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n(312),c=n(4),i=n(1),o=n(14),l=n(74),u=n(964),s=n(967),b=n(9),f=n.n(b),m=n(3),p=n(959);function O(t,e,n,r,a,c,i){try{var o=t[c](i),l=o.value}catch(t){return void n(t)}o.done?e(l):Promise.resolve(l).then(r,a)}var d=function(t){var e=t.bulkActionId,n=Object(r.useContext)(c.h),a=Object(s.a)(),o=a.getSingleBulkActionData,l=a.getlistData,b=Object(u.a)().setSingleBulkActionValue,d=o(),j=l().title,g=void 0===j?"":j,v=d.title,y=void 0===v?"":v,w=d.status,h=void 0===w?0:w,k=function(){var t,r=(t=regeneratorRuntime.mark((function t(){var r,a=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=(r=a.length>0&&void 0!==a[0]?a[0]:"")&&r!=y){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,f()({path:Object(c.u)("/bulk-action/".concat(e)),method:"POST",data:{title:r}}).then((function(t){if(200!=t.code)throw Error(Object(c.p)(null==t?void 0:t.message));t.hasOwnProperty("result")&&!Object(m.isEmpty)(t.result)&&b("data",t.result),n(t.hasOwnProperty("message")?t.message:Object(i.__)("Title Updated","wp-marketing-automations"))})).catch((function(t){throw Error(Object(c.p)(null==t?void 0:t.message))}));case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),n(t.t0.message);case 11:Object(c.wb)(n,3e3);case 12:case"end":return t.stop()}}),t,null,[[3,8]])})),function(){var e=this,n=arguments;return new Promise((function(r,a){var c=t.apply(e,n);function i(t){O(c,r,a,i,o,"next",t)}function o(t){O(c,r,a,i,o,"throw",t)}i(void 0)}))});return function(){return r.apply(this,arguments)}}(),E=0===parseInt(h);return Object(r.createElement)(r.Fragment,null,""!=y&&E?Object(r.createElement)(p.a,{title:y,updateTitle:k}):""!=y?y:""!==g?g:"")},j=(n(1107),n(5)),g=n(315),v=n(8);function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,c=t}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}return n}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(t,e):void 0}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var E=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5),n.e(10)]).then(n.bind(null,1355))})),S=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,1356))})),A=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,1316))})),P=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,1317))})),I=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,1318))}));e.default=function(t){var e=t.match.params.id,n=Object(o.i)(),b=Object(l.a)(),f=b.setBackLink,p=b.setBackLinkLabel,O=(b.setL2Nav,b.setL2Title);Object(g.a)("bulk_actions","admin.php?page=autonami&path=/bulk-actions",Object(i.__)("Bulk Actions","wp-marketing-automations"),"",{});var h=Object(u.a)(),k=h.fetchSingleBulkAction,D=h.setSingleBulkActionValue;Object(r.useEffect)((function(){return Object(c.k)("Bulk Action #"+e),f(Object(o.f)({},"/bulk-actions",n)),p(Object(i.__)("All Bulk Actions","wp-marketing-automations")),O(Object(r.createElement)(d,{bulkActionId:e})),k(e),function(){D("data",{}),D("listData",{})}}),[]);var N=Object(s.a)(),_=N.getSingleBulkActionLoad,B=N.getSingleBulkActionData,C=N.getlistData,L=_(),x=B();Object(r.useEffect)((function(){L||Object(m.isEmpty)(x)||D("listData",x)}),[x]);var T=C().status,z=void 0===T?"":T,F=Object(r.createElement)("div",{className:"bwf-section-header"},Object(r.createElement)("div",{className:"bwf-section-left"},Object(r.createElement)("span",{className:"bwf-svg-wrap",onClick:function(){Object(o.k)({page:"autonami",path:"/bulk-actions"},"/",{})}},Object(r.createElement)(v.a,{icon:"arrow-left",width:24,height:24})),Object(r.createElement)("span",{className:"bwf-section-title"},Object(r.createElement)(d,{bulkActionId:e})),Object(r.createElement)("span",{className:"bwf-tags bwf-tag-light-blue"},Object(i.__)("Bulk Action","wp-marketing-automations"))));Object(r.useEffect)((function(){L||1!==parseInt(z)||V(3)}),[z]);var R=y(Object(r.useState)(1),2),U=R[0],V=R[1],G=y(Object(r.useState)(!1),2),M=G[0],H=G[1];if(L&&""===z)return Object(r.createElement)(r.Fragment,null,F,Object(r.createElement)("div",{className:"bwf-crm-bulk-action-init"},Object(r.createElement)("div",{className:"bwfcrm-overview-wrap"},Object(r.createElement)(j.Card,{className:"bwf-bulk-action-overview-wrap"},Object(r.createElement)(j.CardHeader,{className:"bwf-bulk-action-overview-header"},Object(r.createElement)("div",{className:"bwf-bulk-action-overview-header-title"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-120"}))),Object(r.createElement)(j.CardBody,null,w(Array(9)).map((function(t,e){return Object(r.createElement)("div",{className:"bwf-bulk-action-overview-list",key:e},Object(r.createElement)("div",{className:"bwf-bulk-action-overview-label"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-150"})),Object(r.createElement)("div",{className:"bwf-bulk-action-overview-value"},Object(r.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-300"})))})))))));var J=function(t){switch(t){case 1:return Object(r.createElement)(E,{bulkActionId:e,setStep:V,setPending:H,isPending:M});case 2:return Object(r.createElement)(S,{bulkActionId:e,setStep:V,setPending:H,isPending:M});case 3:return Object(r.createElement)(A,{bulkActionId:e,setStep:V,isPending:M,setPending:H});case 4:return Object(r.createElement)(P,{bulkActionId:e,setStep:V,setPending:H})}},$=[{key:1,label:Object(i.__)("Contacts","wp-marketing-automations"),content:J(1)},{key:2,label:Object(i.__)("Actions","wp-marketing-automations"),content:J(2)},{key:3,label:Object(i.__)("Review","wp-marketing-automations"),content:J(3)}];return Object(r.createElement)(r.Fragment,null,F,Object(r.createElement)("div",{className:"bwf_clear_8"}),Object(r.createElement)("div",{className:"bwf-crm-bulk-action-init"},parseInt(z)>1?Object(r.createElement)(I,{bulkActionId:e,isLoading:L}):1===parseInt(z)?Object(r.createElement)(P,{bulkActionId:e,setStep:V,setPending:H}):Object(r.createElement)(a.a,{steps:$,currentStep:U,isPending:M})))}},959:function(t,e,n){"use strict";var r=n(0),a=n(5),c=n(4),i=n(3),o=n(1);n(960);function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,a=!1,c=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){a=!0,c=t}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}e.a=function(t){var e=t.updateTitle,n=t.title,u=t.className,s=void 0===u?"":u,b=t.isDisabled,f=void 0!==b&&b,m=l(Object(r.useState)(!1),2),p=m[0],O=m[1],d=l(Object(r.useState)(""),2),j=d[0],g=d[1],v=Object(r.useRef)();Object(r.useEffect)((function(){g(n)}),[n]),Object(c.lc)(v,(function(){y(j),O(!1)}));var y=function(t){if("string"==typeof t){var r=t.replace(/\s/g,"");O(!1),Object(i.isEmpty)(r)?g(n):(g(null==t?void 0:t.trim()),e(t))}};return Object(r.useEffect)((function(){if(p&&v.current){var t=function(){this.style.width=this.value.length+2+"ch"};v.current.addEventListener("input",t),t.call(v.current)}}),[p]),Object(r.useEffect)((function(){var t;p&&(null==v||null===(t=v.current)||void 0===t||t.focus())}),[p]),p?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(a.TextControl,{className:"bwf-editable-title ".concat(s),value:j,onChange:function(t){g(t)},ref:v,onBlur:y,autoComplete:"off",onKeyUp:function(t){"Enter"===t.key&&y(j)},disabled:f})):Object(r.createElement)("div",{onClick:function(){p||f||O(!0)},title:f?"":Object(o.__)("Click to edit","wp-marketing-automations"),className:"bwf-editable-title bwf-text ".concat(s," ").concat(f?"bwf-disable":"")},Object(r.createElement)("div",{dangerouslySetInnerHTML:{__html:j}}))}},960:function(t,e,n){},964:function(t,e,n){"use strict";var r=n(51),a=n(4);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}e.a=function(){var t=Object(r.a)("bulkActionsListData"),e=t.fetch,n=t.setStateProp,c=l(t,["fetch","setStateProp"]),o=Object(r.a)("singleBulkActionData"),u=o.fetch,s=o.setStateProp;return i(i({},c),{},{fetchAll:function(t,n,r){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=t.s,o={offset:n,limit:r,search:i,status:c};e("GET",Object(a.u)("/bulk-actions"),o)},setBulkActionListValues:function(t,e){n(t,e)},fetchSingleBulkAction:function(t){s("data",{}),u("GET",Object(a.u)("/bulk-action/".concat(t)))},setSingleBulkActionValue:function(t,e){s(t,e)}})}},967:function(t,e,n){"use strict";var r=n(52);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n,r,a={},c=Object.keys(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}e.a=function(){var t=Object(r.a)("bulkActionsListData"),e=t.getStateProp,n=o(t,["getStateProp"]),a=Object(r.a)("singleBulkActionData"),i=a.getStateProp,l=a.getLoading;return c(c({},n),{},{getAllLists:function(){return e("data")},getPageNumber:function(){return parseInt(e("offset"))/parseInt(e("limit"))+1},getPerPageCount:function(){return parseInt(e("limit"))},getPageOffset:function(){return parseInt(e("offset"))},getTotalCount:function(){return parseInt(e("total_count"))},getCountData:function(){return e("count_data")},getActions:function(){return e("actions")},getStatusCount:function(){return e("statusCount")},getSingleBulkActionLoad:function(){return l()},getSingleBulkActionData:function(){return i("data")},getActionList:function(){return i("actionList")},getActionSchemaList:function(){return i("actionSchema")},getActionGroup:function(){return i("groupData")},getlistData:function(){return i("listData")}})}}}]);