(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{1310:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a(1),c=a(1094),o=a(965),s=a(14),i=a(35),l=a(3),m=a(966),u=a(49),b=a(4),f=(a(8),a(948)),p=a(975),d=a(950);function y(t){return function(t){if(Array.isArray(t))return O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return O(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}e.default=function(){var t=Object(o.a)(),e=t.fetchContactAnalytics,a=t.setContactAnalyticsData,O=(0,f.a.getContactAnalytics)();Object(m.a)("contacts",!1,"");var j=Object(s.i)(),w=function(t){return t.compare="previous_year",Object(i.c)(t).primary};j.hasOwnProperty("period")||(j.period="month");var _=j.period,v=j.compare,Y=j.interval,g=j.after,h=j.before;Object(r.useEffect)((function(){if(Object(b.k)("Contact Analytics"),Object(b.Jb)()){var t=j.hasOwnProperty("interval")?j.interval:"day";!function(t,a){var r=w(t),n="",c="";r&&(Object(l.isEmpty)(r.after)||(n=r.after.format("YYYY-MM-DD HH:mm:ss")),Object(l.isEmpty)(r.before)||(c=r.before.format("YYYY-MM-DD 23:59:59")),Object(l.isEmpty)(n)||Object(l.isEmpty)(c)||e(n,c,a))}(j,t)}else{for(var r=w(j),n=0,c=0,o=0,s=0,i=[],m=r.after;m.isBefore(r.before);m.add(1,"days")){var u=Math.floor(10*Math.random()),f=Math.floor(Math.random()*parseInt(u)),p=Math.floor(Math.random()*parseInt(u));n+=u,c+=f,o+=u,s+=p,i.push({date_end_gmt:m.format("YYYY-MM-DD")+" 23:59:59",date_start_gmt:m.format("YYYY-MM-DD")+" 00:00:00",end_date:m.format("YYYY-MM-DD")+" 23:59:59",interval:m.format("YYYY-MM-DD"),start_date:m.format("YYYY-MM-DD")+" 00:00:00",subtotals:{total_contacts:n,total_customers:c,new_contacts:u,unsubscribers:p}})}a("data",{totals:{total_contacts:n,total_customers:c,new_contacts:o,unsubscribers:s},intervals:i}),a("isLoading",!1)}}),[_,v,Y,g,h]);var M=function(t){if(!O||!O.hasOwnProperty("totals"))return 0;var e=O.totals;return e.hasOwnProperty(t)?e[t]:void 0},E=function(t){return[{key:"new_contacts",title:Object(n.__)("New Contacts","wp-marketing-automations"),icon:"add-user",value:M("new_contacts")},{key:"total_contacts",title:Object(n.__)("Total Contacts","wp-marketing-automations"),icon:"contact-new",value:M("total_contacts")}].concat(y(Object(b.Tb)()?[{key:"total_customers",title:Object(n.__)("Total Customers","wp-marketing-automations"),icon:"visitors",value:M("total_customers")}]:[]),[{key:"unsubscribers",title:Object(n.__)("Unsubscribers","wp-marketing-automations"),icon:"unsubscribes",value:M("unsubscribers")}])};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(n.__)("Contacts","wp-marketing-automations")))),Object(r.createElement)(u.a,null),Object(r.createElement)("div",{className:"bwf-crm-analytics-wrap bwf-crm-contacts-report-wrap"},!b.Hb&&!Object(b.Jb)()&&Object(r.createElement)(d.a,{onPage:!0,modalContent:{proLink:Object(b.T)("upgrade",{utm_medium:"Contact+Analytics+Upgrade+Modal"})}}),Object(r.createElement)(c.b,{query:j},b.Hb&&Object(r.createElement)(p.a,{title:Object(n.__)("Contact Analytics","wp-marketing-analytics"),message:Object(n.__)("Use our sample data to explore Contact Analytics. See how contact and customer growth and review impact of your campaigns.","wp-marketing-automations"),proLink:Object(b.T)("upgrade",{utm_medium:"Contact+Analytics+Sample+Data+Notice"})})),Object(r.createElement)("div",{className:"bwf_clear_2"}),Object(r.createElement)(c.c,{query:j,metrics:E()}),Object(r.createElement)(c.a,{query:j,metrics:E()})))}}}]);