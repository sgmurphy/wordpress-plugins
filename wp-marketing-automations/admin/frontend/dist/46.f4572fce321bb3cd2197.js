(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{1253:function(t,e,r){},1341:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r(5),o=r(8),c=(r(1253),r(4));function i(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var s=Object(n.lazy)((function(){return r.e(8).then(r.bind(null,1299))})),f=Object(n.lazy)((function(){return r.e(47).then(r.bind(null,1092))})),b=Object(n.lazy)((function(){return Promise.all([r.e(1),r.e(2),r.e(3),r.e(4),r.e(49)]).then(r.bind(null,1323))})),m=Object(n.lazy)((function(){return Promise.all([r.e(1),r.e(2),r.e(3),r.e(30)]).then(r.bind(null,1326))})),p=Object(n.lazy)((function(){return Promise.all([r.e(1),r.e(2),r.e(3),r.e(4),r.e(29)]).then(r.bind(null,1325))})),O=function(){var t=[{path:["/automation/:id"],render:function(t){return Object(n.createElement)(p,t)}},{path:["/automation/:automationId/engagements"],render:function(t){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(s,l({},t,{isV2:!0})))}},{path:["/automation/:automationId/contacts","/automation/:automationId/contacts/:type"],render:function(t){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(b,t))}},{path:["/automation/:automationId/analytics/","/automation/:automationId/analytics/:type"],render:function(t){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(m,l({},t,{isV2:!0})))}}];return Object(c.Tb)()&&(t=[].concat(i(t),[{path:["/automation/:automationId/orders"],render:function(t){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(f,l({},t,{isV2:!0})))}}])),t},d=r(934),y=r(69),j=r(14),v=r(121),h=r(74),g=r(1),w=r(9),E=r.n(w),S=r(120),A=r(302),P=r(959);function I(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?I(Object(r),!0).forEach((function(e){D(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function D(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C(t,e,r,n,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void r(t)}i.done?e(u):Promise.resolve(u).then(n,a)}function x(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var _=function(){var t=Object(n.useContext)(c.h),e=x(Object(n.useState)(""),2),r=e[0],a=e[1],o=Object(A.a)().setAutomationData,i=Object(S.a)(),u=i.getAutomationData,l=i.getListData,s=u(),f=s.ID,b=s.title,m=void 0===b?"":b;Object(n.useEffect)((function(){a(m)}),[m]);var p=l(),O=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n!=r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,E()({path:Object(c.u)("/automation/".concat(f)),method:"POST",data:{data:{data:{title:n}}}}).then((function(e){if(200!==e.code)throw Error(Object(c.p)(null==e?void 0:e.message));t(Object(g.__)("Title Updated","wp-marketing-automations")),o("data",k(k({},s),{},{title:r}))})).catch((function(t){throw Error(Object(c.p)(null==t?void 0:t.message))}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),console.log(e.t0);case 10:Object(c.wb)(t,3e3);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(t){C(o,n,a,c,i,"next",t)}function i(t){C(o,n,a,c,i,"throw",t)}c(void 0)}))});return function(t){return n.apply(this,arguments)}}();return Object(n.createElement)(n.Fragment,null,""!=r?Object(n.createElement)(P.a,{title:r,updateTitle:O}):Object(n.createElement)(n.Fragment,null,""!==p?Object(n.createElement)(P.a,{title:p,updateTitle:O}):Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-20 bwf-w-210"})))},N=r(66);function U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function F(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?U(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L(t,e,r,n,a,o,c){try{var i=t[o](c),u=i.value}catch(t){return void r(t)}i.done?e(u):Promise.resolve(u).then(n,a)}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return z(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var $=function(){var t=Object(n.useContext)(c.h),e=R(Object(n.useState)({loading:!1,status:!1}),2),r=e[0],o=e[1],i=Object(A.a)().setAutomationData,u=Object(S.a)(),l=u.getAutomationData,s=(u.getLoading,l()),f=s.ID,b=s.status,m=void 0===b?"":b,p=function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r?1:2,e.prev=1,t(Object(g.__)("Updatingâ€¦","wp-marketing-automations")),e.next=5,E()({path:Object(c.u)("/automations/toggle-state"),method:"POST",data:{state:n,automation_id:f}}).then((function(e){if(200!==e.code)throw Error(Object(c.p)(null==e?void 0:e.message));t(e.message),i("data",F(F({},s),{},{status:n})),Object(c.wb)(t,3e3)}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),Object(c.wb)(t,3e3),setTimeout((function(){o({status:!0,error:e.t0.message})}),[1500]);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function c(t){L(o,n,a,c,i,"next",t)}function i(t){L(o,n,a,c,i,"throw",t)}c(void 0)}))});return function(t){return r.apply(this,arguments)}}();return Object(n.createElement)("div",{className:"bwf-automation-status-section"},""==m?Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-20 bwf-w-120"}):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(a.ToggleControl,{label:1===parseInt(m)?Object(g.__)("Active","wp-marketing-automations"):Object(g.__)("Inactive","wp-marketing-automations"),className:"bwf-tooglecontrol-advance",onChange:p,checked:1===parseInt(m)}),Object(n.createElement)(N.a,{modalTitle:Object(g.__)("Automation Status Update","wp-marketing-automations"),errorMessage:r.error,onRequestClose:function(){return o({status:!1})},isOpen:r.status})))},H=r(126),V=r(338),J=r(3),q=r(20);function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(Object(r),!0).forEach((function(e){G(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function G(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return W(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.default=function(){var t=location&&location.search?Object(q.parse)(location.search.substring(1)):{},e=O(),r=Object(A.a)().setAutomationData,i=Object(v.a)(),u=i.getTabHeader,l=i.getActive,s=(0,i.getPageCountData)(),f=Object(h.a)().setPageCountData,b=(u(),l("rightNav"),Q(Object(n.useState)(!1),2)),m=b[0],p=b[1];Object(n.useLayoutEffect)((function(){f(K(K({},s),{},{single_a_contacts:0}))}),[]),Object(n.useEffect)((function(){return function(){r("data",{})}}),[]);return Object(n.createElement)(a.Modal,{className:" bwf-single-automation-modal-wrap bwf-drm-header-on"+(Object(c.Db)()?"bwf-drm-header-on":""),shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1},Object(c.Db)()&&Object(n.createElement)(V.a,{hide:m,setHide:p}),Object(n.createElement)("div",{className:"bwf-stretch-header-single-automation"},Object(n.createElement)("div",{className:"bwf-left-section"},Object(n.createElement)("div",{className:"bwf-title"},Object(n.createElement)(_,null))),Object(n.createElement)("div",{className:"bwf-right-section"},Object(n.createElement)($,null),Object(n.createElement)("div",{className:"bwf-back-button bwf-display-flex bwf-cursor-pointer",onClick:function(){Object(j.k)({page:"autonami",path:Object(J.get)(t,"return_to","/automations/")},"/",{})}},Object(n.createElement)(o.a,{icon:"cross"})))),Object(n.createElement)("div",{className:"bwf-single-automation-modal-content"},Object(n.createElement)("div",{className:"bwf-single-automation-sidebar"},Object(n.createElement)(H.a,{showHeaderLabal:!1})),Object(n.createElement)("div",{className:"bwf-single-automation-body"},Object(n.createElement)(n.Suspense,null,Object(n.createElement)(d.c,null,e.map((function(t,e){return Object(n.createElement)(d.a,{exact:!0,path:t.path,render:t.render,key:e})})),Object(n.createElement)(d.a,{component:y.default}))))))}},959:function(t,e,r){"use strict";var n=r(0),a=r(5),o=r(4),c=r(3),i=r(1);r(960);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=t[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==i.return||i.return()}finally{if(a)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.a=function(t){var e=t.updateTitle,r=t.title,l=t.className,s=void 0===l?"":l,f=t.isDisabled,b=void 0!==f&&f,m=u(Object(n.useState)(!1),2),p=m[0],O=m[1],d=u(Object(n.useState)(""),2),y=d[0],j=d[1],v=Object(n.useRef)();Object(n.useEffect)((function(){j(r)}),[r]),Object(o.lc)(v,(function(){h(y),O(!1)}));var h=function(t){if("string"==typeof t){var n=t.replace(/\s/g,"");O(!1),Object(c.isEmpty)(n)?j(r):(j(null==t?void 0:t.trim()),e(t))}};return Object(n.useEffect)((function(){if(p&&v.current){var t=function(){this.style.width=this.value.length+2+"ch"};v.current.addEventListener("input",t),t.call(v.current)}}),[p]),Object(n.useEffect)((function(){var t;p&&(null==v||null===(t=v.current)||void 0===t||t.focus())}),[p]),p?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(a.TextControl,{className:"bwf-editable-title ".concat(s),value:y,onChange:function(t){j(t)},ref:v,onBlur:h,autoComplete:"off",onKeyUp:function(t){"Enter"===t.key&&h(y)},disabled:b})):Object(n.createElement)("div",{onClick:function(){p||b||O(!0)},title:b?"":Object(i.__)("Click to edit","wp-marketing-automations"),className:"bwf-editable-title bwf-text ".concat(s," ").concat(b?"bwf-disable":"")},Object(n.createElement)("div",{dangerouslySetInnerHTML:{__html:y}}))}},960:function(t,e,r){}}]);