(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1277:function(e,t,r){},1296:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(4),c=r(74),o=r(14),i=r(9),l=r.n(i),s=r(983),u=r(3);function b(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p(e,t,r,n,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function o(e){p(c,n,a,o,i,"next",e)}function i(e){p(c,n,a,o,i,"throw",e)}o(void 0)}))}}var f=function(e,t){var r,n,c,o,i=Object(s.a)().setTemplateData;return{sendTestEmail:(o=m(regeneratorRuntime.mark((function e(t,r,n,c,o,i){var s,u,b,p,m,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=f.length>6&&void 0!==f[6]&&f[6],u=f.length>7&&void 0!==f[7]?f[7]:{},b=f.length>8&&void 0!==f[8]&&f[8],p=f.length>9&&void 0!==f[9]?f[9]:{},e.prev=4,m={email:t,content:JSON.stringify({subject:r,body:n,type:c,mail_data:o,preheader:i,utmEnabled:s,utmDetails:u,overRideSenderInfo:b,overRideInfo:p})},e.next=8,l()({method:"POST",path:Object(a.u)("/send-test-email"),data:m});case 8:return e.abrupt("return",2);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",3);case 14:case"end":return e.stop()}}),e,null,[[4,11]])}))),function(e,t,r,n,a,c){return o.apply(this,arguments)}),saveEditorContent:(c=m(regeneratorRuntime.mark((function r(n){var c,o,s,p,m,f,d,O,j;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=t,o=Object(u.isEmpty)(n)?{}:n[0],s="","editor"===o.type?(o.hasOwnProperty("editor")&&(o.editor.hasOwnProperty("body")&&(c.template=o.editor.body),o.editor.hasOwnProperty("design")&&(c.data.design=o.editor.design)),s=4):"block"===o.type?(o.hasOwnProperty("block")&&(p=o.block,m=p.template,f=void 0===m?"":m,d=b(p,["template"]),""!==f&&(c.template=o.block.template),c.data.block=d),s=5):c.template=o.body,O={template:c.template,data:c.data,mode:s},o.hasOwnProperty("subject")&&(O.subject=o.subject),o.hasOwnProperty("preheader")&&(O.data.preheader=o.preheader),j={content:JSON.stringify(O)},r.prev=8,r.next=11,l()({method:"POST",path:Object(a.u)("/template/".concat(e,"/save-email-content")),data:j}).then((function(e){200==e.code&&i(e.result)}));case 11:return r.abrupt("return",2);case 14:return r.prev=14,r.t0=r.catch(8),r.abrupt("return",3);case 17:case"end":return r.stop()}}),r,null,[[8,14]])}))),function(e){return c.apply(this,arguments)}),uploadImage:(n=m(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("image",t),e.prev=2,e.next=5,l()({method:"POST",path:Object(a.u)("/upload-image"),body:r});case 5:return n=e.sent,e.abrupt("return",n&&n.result?n.result:"");case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return","");case 12:case"end":return e.stop()}}),e,null,[[2,9]])}))),function(e){return n.apply(this,arguments)}),fetchCurrentMailEditorContent:(r=m(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return","");case 1:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})}},d=r(188),O=r(5),j=r(16),w=r(52);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var E={1:"rich",2:"wc",3:"html",4:"editor",5:"block"},P=function(){var e=Object(w.a)("singleTemplateData"),t=e.getStateProp;return h(h({},g(e,["getStateProp"])),{},{getTemplateData:function(){return t("data")},getListData:function(){return t("listData")},getFormattedTemplateData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(u.isEmpty)(e))return{};var t={body:"",editor:{body:Object(a.sb)(),design:Object(a.rb)()},preheader:"",subject:"",type:"block",utm:{source:"Newsletter",medium:"email",name:"",content:"",term:""},utmEnabled:!1,last_updated:""};return e.hasOwnProperty("template")&&(e.hasOwnProperty("mode")&&4===parseInt(e.mode)?t.editor.body=e.template:t.body=e.template),e.hasOwnProperty("subject")&&(t.subject=e.subject),e.hasOwnProperty("mode")&&(t.type=E[e.mode]),e.hasOwnProperty("subject")&&(t.subject=e.subject),e.hasOwnProperty("updated_at")&&(t.last_updated=e.updated_at),e.hasOwnProperty("data")&&!Object(u.isEmpty)(e.data)&&(t.subject=e.subject,e.data.hasOwnProperty("preheader")&&(t.preheader=e.data.preheader),e.data.hasOwnProperty("utmEnabled")&&e.data.utmEnabled&&(t.utmEnabled=e.data.utmEnabled),e.data.hasOwnProperty("utm")&&(t.utm=e.data.utm),e.data.hasOwnProperty("design")&&4===parseInt(e.mode)&&(t.editor.design=e.data.design),e.data.hasOwnProperty("block")&&5===parseInt(e.mode)&&(t.block=e.data.block)),t}})},k=r(1),N=r(49),S=r(269),_=r.n(S),D=r(282),T=r(8),x=r(31),C=r(39),I=r(959);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e,t,r,n,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}var M=function(){var e,t=Object(n.useContext)(a.h),r=P(),c=r.getTemplateData,o=r.getListData,i=Object(s.a)().setTemplateData,u=null!==(e=o())&&void 0!==e?e:"",b=c(),p=null!=b?b:{},m=p.ID,f=void 0===m?"":m,d=p.title,O=void 0===d?"":d,j=function(){var e,r=(e=regeneratorRuntime.mark((function e(){var r,n,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=(r=c.length>0&&void 0!==c[0]?c[0]:"")&&r!=O){e.next=3;break}return e.abrupt("return");case 3:return n=L({},b),e.prev=4,e.next=7,l()({path:Object(a.u)("/template/".concat(f)),method:"POST",data:L(L({},n),{},{title:r,onlytitle:!0})}).then((function(e){if(200!=e.code)throw Error(Object(a.p)(null==e?void 0:e.message));i(L(L({},n),{},{title:r})),t(Object(k.__)("Title Updated","wp-marketing-automations")),Object(a.wb)(t,3e3)}));case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),t(e.t0.message);case 12:Object(a.wb)(t,3e3);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function o(e){F(c,n,a,o,i,"next",e)}function i(e){F(c,n,a,o,i,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}();return Object(n.createElement)(n.Fragment,null,""!=O?Object(n.createElement)(I.a,{title:O,updateTitle:j}):""!=O?O:""!==u?u:Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-20 bwf-w-210"}))};function J(e,t,r,n,a,c,o){try{var i=e[c](o),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function B(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var G=function(e){var t=e.templateId,r=Object(o.i)().editor,i=void 0===r?"":r,b=Object(n.useContext)(a.h),p=Object(s.a)(),m=p.fetch,w=p.setTemplateData,y=p.setTemplateListData,h=P(),v=h.getLoading,g=h.getTemplateData,E=h.getFormattedTemplateData,S=(0,h.getListData)(),I={rich:1,wc:2,html:3,editor:4},R=Object(c.a)().setL2Title,L=z(Object(n.useState)(!1),2),A=L[0],F=L[1],q=z(Object(n.useState)({loading:!1,status:!1}),2),H=q[0],$=q[1],G=z(Object(n.useState)([]),2),K=G[0],W=G[1];Object(n.useEffect)((function(){return parseInt(t)>0&&m(t),function(){w({}),y("")}}),[]);var Y=v(),Q=g();Object(n.useEffect)((function(){R(Q.hasOwnProperty("title")?Q.title:""!=S?S:Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-h-15 bwf-w-90"}))}),[Y,Q]);var V=function(){var e,r=(e=regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(a.Jb)()){e.next=3;break}return F(!0),e.abrupt("return");case 3:if(X()){e.next=16;break}return $({status:!0,loading:!0}),r={content:JSON.stringify(Q)},e.prev=6,e.next=9,l()({path:Object(a.u)("/template/".concat(t)),method:"POST",data:r}).then((function(e){200==e.code&&(b(e.message),Object(a.wb)(b,3e3),$({}))}));case 9:e.next=16;break;case 11:e.prev=11,e.t0=e.catch(6),b(e.t0.message),Object(a.wb)(b,3e3),$({});case 16:case"end":return e.stop()}}),e,null,[[6,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var c=e.apply(t,r);function o(e){J(c,n,a,o,i,"next",e)}function i(e){J(c,n,a,o,i,"throw",e)}o(void 0)}))});return function(){return r.apply(this,arguments)}}(),X=function(){var e=!1,t=[];return Q.hasOwnProperty("title")&&!Object(u.isEmpty)(Q.title)||(e=!0,t.push(Object(k.__)("Name is required.","wp-marketing-automations"))),Q.hasOwnProperty("subject")&&!Object(u.isEmpty)(Q.subject)||(e=!0,t.push(Object(k.__)("Subject is required.","wp-marketing-automations"))),Q.hasOwnProperty("template")&&!Object(u.isEmpty)(Q.template)||(e=!0,t.push(Object(k.__)("Email content cannot be empty.","wp-marketing-automations"))),W(t),e},Z="block"===i?Object(n.createElement)(O.Modal,{title:"",onRequestClose:function(){},overlayClassName:"bwf-recipe-preview-overlay bwf-fullscreen-overlay",className:"bwf-admin-modal bwf-admin-modal-no-header bwf-admin-modal-fullscreen bwf-c-block-save-content-loading",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(n.createElement)("div",{className:"bwf-c-save-content-loading"},Object(n.createElement)(_.a,{options:{loop:!0,autoplay:!0,animationData:D,rendererSettings:{preserveAspectRatio:"xMidYMid slice"}},height:480,width:480}),Object(n.createElement)("div",{style:{marginTop:"-60px",fontSize:"21px",fontWeight:"400",paddingLeft:"40px"}},Object(k.__)("Launching Editor","wp-marketing-automations")))):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(O.Card,{className:"bwf-template-card bwf-template-placeholder"},Object(n.createElement)("div",{className:"bwf-template-card-header bwf-h4"},"Template"),Object(n.createElement)("div",{className:"bwf-p-15"},[1,2,3].map((function(e){return Object(n.createElement)("div",{key:e,className:"bwf-placeholder-temp"})})),Object(n.createElement)("div",{className:"bwf-display-flex bwf-space-between"},Object(n.createElement)("div",{className:"bwf-btn-section"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn "}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn "}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn"})),Object(n.createElement)("div",{className:"bwf-btn-section"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn btn-small"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn btn-small"}))),Object(n.createElement)("div",{key:4,className:"bwf-editor-placeholder"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-small"}),Object(n.createElement)("div",{className:"bwf-btn-section"},Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-btn"})),Object(n.createElement)("div",{className:"bwf_clear_30"}),Object(n.createElement)("div",{key:5,className:"bwf-placeholder-temp bwf-medium"}),Object(n.createElement)("div",{className:"bwf_clear_30"}))),Object(n.createElement)("div",{className:"bwf_clear_20"}),Object(n.createElement)("div",{className:"bwf-display-flex bwf-space-between"},Object(n.createElement)("div",{className:"bwf-h-0"}),Object(n.createElement)("div",{className:"bwf-placeholder-temp bwf-w-90 bwf-h-30"}))),ee=f(t,Q);return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-section-header"},Object(n.createElement)("div",{className:"bwf-section-left"},Object(n.createElement)("span",{className:"bwf-svg-wrap",onClick:function(){Object(o.k)({page:"autonami",path:"/templates"},"/",{})}},Object(n.createElement)(T.a,{icon:"arrow-left",width:24,height:24})),Object(n.createElement)("span",{className:"bwf-section-title"},Object(n.createElement)(M,null)),Object(n.createElement)("span",{className:"bwf-tags bwf-tag-light-blue"},Object(k.__)("Template","wp-marketing-automations")))),Object(n.createElement)("div",{className:"bwf_clear_8"}),Object(n.createElement)("div",{className:"bwfcrm-overview-wrap bwf-crm-single-template-section"},Y||Object(u.isEmpty)(Q)?Z:Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-template-card"},Object(n.createElement)("div",{className:"bwf-template-card-header bwf-h4"},Object(k.__)("Template","wp-marketing-automations")),!Object(u.isEmpty)(K)&&Object(n.createElement)(O.Card,{className:"bwf-name-card bwf-p-25"},Object(n.createElement)(N.a,null),Object(n.createElement)(x.a,{status:"error",isDismissible:!1,className:"bwf-m-0 bwf-mb-10"},K.map((function(e,t){return Object(n.createElement)(n.Fragment,{key:"bwf-template-card-error-".concat(t)},e,Object(n.createElement)("br",null))})))),Object(n.createElement)(d.a,{disableDefaultButtons:!0,initData:{content:[E(Q)]},validateEmailContent:!1,apiMethods:ee,showSenderInfo:!1,showSaveTemplate:!1,showTemplateTypeSelector:!0,returnData:!0,setMailData:function(e){var t=Q;if((e=e[1]).hasOwnProperty("subject")&&(t.subject=e.subject),e.hasOwnProperty("preheader")&&(t.data=U(U({},t.data),{},{preheader:e.preheader})),e.hasOwnProperty("type")&&I.hasOwnProperty(e.type)&&(t.mode=I[e.type]),e.hasOwnProperty("utmEnabled")&&(t.data=U(U({},t.data),{},{utmEnabled:e.utmEnabled})),e.hasOwnProperty("utm")&&(t.data=U(U({},t.data),{},{utm:e.utm})),"editor"===e.type)e.hasOwnProperty("editor")&&(e.editor.hasOwnProperty("body")&&(t.template=e.editor.body),e.editor.hasOwnProperty("design")&&(t.data.design=e.editor.design));else if("block"===e.type){if(e.hasOwnProperty("block")){var r=e.block,n=r.template,a=void 0===n?"":n,c=B(r,["template"]);""!==a&&(t.template=e.block.template),t.data.block=c}}else t.template=e.body;w(U(U({},Q),t))},showTab:!1,disabled:H.loading,showTemplateButton:!1})),Object(n.createElement)("div",{className:"bwf_clear_20"}),Object(n.createElement)("div",{className:"bwf-display-flex bwf-j-end"},Object(n.createElement)(j.a,{isPrimary:!0,className:"bwf-crm-navigation-next bwf-display-flex",isBusy:H.loading,disabled:H.loading,onClick:function(){V()}},!Object(a.Jb)()&&Object(n.createElement)(T.a,{icon:"king",size:"16",color:"#fff"}),Object(k.__)("Save","wp-marketing-automations"))))),!Object(a.Jb)()&&Object(n.createElement)(C.b,{isOpen:A,onRequestClose:function(){return F(!1)},modalContent:{isFeature:!0,featureTitle:Object(k.__)("Templates","wp-marketing-automations")}}))},K=r(994);r(1277),t.default=function(e){var t=e.match.params.id,r=Object(o.i)(),i=Object(c.a)(),l=i.setBackLink,s=i.setBackLinkLabel;return Object(K.a)(Object(k.__)("Templates","wp-marketing-automations")),Object(n.useEffect)((function(){Object(a.k)("Template #"+t),l(Object(o.f)({},"/templates",r)),s(Object(k.__)("All Templates","wp-marketing-automations"))})),Object(n.createElement)(n.Fragment,null,Object(n.createElement)(N.a,null),Object(n.createElement)(G,{templateId:t,query:r}))}},959:function(e,t,r){"use strict";var n=r(0),a=r(5),c=r(4),o=r(3),i=r(1);r(960);function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(n=(o=i.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(a)throw c}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.updateTitle,r=e.title,s=e.className,u=void 0===s?"":s,b=e.isDisabled,p=void 0!==b&&b,m=l(Object(n.useState)(!1),2),f=m[0],d=m[1],O=l(Object(n.useState)(""),2),j=O[0],w=O[1],y=Object(n.useRef)();Object(n.useEffect)((function(){w(r)}),[r]),Object(c.lc)(y,(function(){h(j),d(!1)}));var h=function(e){if("string"==typeof e){var n=e.replace(/\s/g,"");d(!1),Object(o.isEmpty)(n)?w(r):(w(null==e?void 0:e.trim()),t(e))}};return Object(n.useEffect)((function(){if(f&&y.current){var e=function(){this.style.width=this.value.length+2+"ch"};y.current.addEventListener("input",e),e.call(y.current)}}),[f]),Object(n.useEffect)((function(){var e;f&&(null==y||null===(e=y.current)||void 0===e||e.focus())}),[f]),f?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(a.TextControl,{className:"bwf-editable-title ".concat(u),value:j,onChange:function(e){w(e)},ref:y,onBlur:h,autoComplete:"off",onKeyUp:function(e){"Enter"===e.key&&h(j)},disabled:p})):Object(n.createElement)("div",{onClick:function(){f||p||d(!0)},title:p?"":Object(i.__)("Click to edit","wp-marketing-automations"),className:"bwf-editable-title bwf-text ".concat(u," ").concat(p?"bwf-disable":"")},Object(n.createElement)("div",{dangerouslySetInnerHTML:{__html:j}}))}},960:function(e,t,r){},983:function(e,t,r){"use strict";var n=r(51),a=r(4);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}t.a=function(){var e=Object(n.a)("singleTemplateData"),t=e.fetch,r=e.setStateProp;return o(o({},l(e,["fetch","setStateProp"])),{},{fetch:function(e){t("GET",Object(a.u)("/template/".concat(e)))},setTemplateData:function(e){r("data",e)},setTemplateListData:function(e){r("listData",e)}})}},994:function(e,t,r){"use strict";var n=r(74),a=r(0),c=r(1);t.a=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},i=Object(n.a)(),l=i.setActiveMultiple,s=i.setL2NavType,u=i.setL2Nav,b=i.resetHeaderMenu,p=i.setPageHeader,m=i.setPageCountData,f=i.setL2Content;return Object(a.useEffect)((function(){b(),l({leftNav:"templates",rightNav:""!==r?r:"templates"}),s("menu"),u(o.templates_nav),p(Object(c.__)("Emails","wp-marketing-automations")),m({templates:t}),e&&f(e)}),[t]),!0}}}]);