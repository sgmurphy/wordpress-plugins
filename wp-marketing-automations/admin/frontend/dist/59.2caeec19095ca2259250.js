(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{1376:function(e,t,n){},1453:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),o=n(2),a=n(108),i=n(32),s=n(335),l=n(188),u=n(3),f=n(5),b=n(8),m=["isSyncable","isConnected","id","connector"];var d=function(e){var t=e.isSyncable,n=void 0!==t&&t,o=e.isConnected,s=e.id,l=e.connector,d=function(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}(e,m),p=Object(a.b)(),O=d.ispro,v=(void 0===O||O)&&(!Object(u.Sb)()||!Object(u.Kb)());return Object(r.createElement)("div",{className:"wfco-connector-btns"},Object(r.createElement)("div",{className:"wfco-connector-btns-left"},!v&&!!o&&Object(r.createElement)(f.Button,{className:"bwf-modal-cancel-btn bwf-display-flex",onClick:function(){return p(i.a.showDisconnectModal(l))}},Object(r.createElement)(b.a,{icon:"close",size:20}),Object(r.createElement)("span",null,Object(c.__)("Disconnect","wp-marketing-automations")))),Object(r.createElement)("div",{className:"wfco-connector-btns-right"},!!v&&Object(r.createElement)(f.Button,{className:"bwf-display-flex",isPrimary:!0,onClick:function(){return p(i.a.showGetPro(!0))}},Object(r.createElement)(b.a,{icon:"king",size:16,color:"#ffffff"}),Object(r.createElement)("span",null,Object(c.__)("Locked","wp-marketing-automations"))),!v&&!o&&Object(r.createElement)(f.Button,{isPrimary:!0,onClick:function(){return p(i.a.showSettingsModal(l))}},Object(c.__)("Connect","wp-marketing-automations")),!v&&!!n&&!!parseInt(s)&&!!o&&Object(r.createElement)(f.Button,{isPrimary:!0,onClick:function(){return p(i.a.showSyncModal(l))}},Object(c.__)("Sync","wp-marketing-automations")),!v&&!!o&&Object(r.createElement)(f.Button,{isSecondary:!0,onClick:function(){return p(i.a.showSettingsModal(l))}},Object(c.__)("Settings","wp-marketing-automations"))))},p=["connector","connector_id","name","logo","description","is_connected","is_syncable","meta","new"];function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var v=function(){return Object(r.createElement)("div",{className:"wfco-col-md-4"},Object(r.createElement)("div",{className:"wfco-connector-wrap"},Object(r.createElement)("div",{className:"wfco-connector_card_outer"},Object(r.createElement)("div",{className:"wfco-connector-img-outer"},Object(r.createElement)("div",{className:"wfco-connector-img"},Object(r.createElement)(l.a,{height:90,width:110}))),Object(r.createElement)("div",{className:"wfco_connector_info"},Object(r.createElement)("div",{className:"wfco_connector_info_head"},Object(r.createElement)(l.a,null)),Object(r.createElement)("div",{className:"wfco_connector_info_details"},Object(r.createElement)(l.a,{width:180}),Object(r.createElement)(l.a,{width:160}),Object(r.createElement)(l.a,{width:140})))),Object(r.createElement)("div",{className:"wfco-connector-action"},Object(r.createElement)("div",{className:"wfco-connector-btns"},Object(r.createElement)(l.a,{height:36})))))},j=function(e){var t=e.connector,n=e.connector_id,o=e.name,a=e.logo,i=e.description,s=e.is_connected,l=e.is_syncable,u=(e.meta,e.new),f=void 0===u?0:u,b=function(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}(e,p);return Object(r.createElement)("div",{className:"wfco-col-md-4"},Object(r.createElement)("div",{className:"wfco-connector-wrap"},Object(r.createElement)("div",{className:"wfco-connector_card_outer"},!!a&&Object(r.createElement)("div",{className:"wfco-connector-img-outer"},Object(r.createElement)("div",{className:"wfco-connector-img"},Object(r.createElement)("div",{className:"wfco-connector-img-section"},Object(r.createElement)("img",{src:a})))),Object(r.createElement)("div",{className:"wfco_connector_info"},f?Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(c.__)("New","wp-marketing-automations")):null,!!o&&Object(r.createElement)("div",{className:"wfco_connector_info_head"},o),!!i&&Object(r.createElement)("div",{className:"wfco_connector_info_details"},i))),Object(r.createElement)("div",{className:"wfco-connector-action"},Object(r.createElement)(d,O({isConnected:s,isSyncable:l,connector:t,id:n},b)))))},g=n(39),h=n(358);function w(){return(w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var y=function(e){!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e);var t=Object(a.b)(),n=Object(a.c)(s.a.shouldShowGetPro),o={modalContent:{title:Object(c.__)("Activate Connector Addon","wp-marketing-automations"),content:Object(c.__)("Download the addon from your FunnelKit Account and activate the license to access integrations. ","wp-marketing-automations"),demoLabel:Object(c.__)("Close","wp-marketing-automations"),proLabel:Object(c.__)("Login to FunnelKit","wp-marketing-automations"),proLink:u.u,isUpgrade:!1}};return Object(u.Sb)()&&!Object(u.Kb)()?Object(r.createElement)(h.a,w({},o,{isOpen:n,onRequestClose:function(){return t(i.a.showGetPro(!1))},showLock:!(!Object(u.Kb)()&&Object(u.Sb)())})):Object(r.createElement)(g.b,{isOpen:n,onRequestClose:function(){return t(i.a.showGetPro(!1))},modalContent:{isFeature:!0,featureTitle:Object(c.__)("Connector","wp-marketing-automations"),proLink:Object(u.ab)("upgrade",{utm_medium:"Connectors+Upgrade+Modal"})}})},_=n(367),E=n(68),k=n(344),C=n(19),S=n(29);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(){P=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,c=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof O?t:O,a=Object.create(o.prototype),i=new L(r||[]);return c(a,"_invoke",{value:k(e,n,i)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var b="suspendedStart",m="executing",d="completed",p={};function O(){}function v(){}function j(){}var g={};l(g,a,(function(){return this}));var h=Object.getPrototypeOf,w=h&&h(h(M([])));w&&w!==n&&r.call(w,a)&&(g=w);var y=j.prototype=O.prototype=Object.create(g);function _(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(c,o,a,i){var s=f(e[c],e,o);if("throw"!==s.type){var l=s.arg,u=l.value;return u&&"object"==N(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,a,i)}),(function(e){n("throw",e,a,i)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,i)}))}i(s.arg)}var o;c(this,"_invoke",{value:function(e,r){function c(){return new t((function(t,c){n(e,r,t,c)}))}return o=o?o.then(c,c):c()}})}function k(t,n,r){var c=b;return function(o,a){if(c===m)throw Error("Generator is already running");if(c===d){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=C(i,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(c===b)throw c=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);c=m;var l=f(t,n,r);if("normal"===l.type){if(c=r.done?d:"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(c=d,r.method="throw",r.arg=l.arg)}}}function C(t,n){var r=n.method,c=t.iterator[r];if(c===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=f(c,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,p;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var c=-1,o=function n(){for(;++c<t.length;)if(r.call(t,c))return n.value=t[c],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(N(t)+" is not iterable")}return v.prototype=j,c(y,"constructor",{value:j,configurable:!0}),c(j,"constructor",{value:v,configurable:!0}),v.displayName=l(j,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,j):(e.__proto__=j,l(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},_(E.prototype),l(E.prototype,i,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,c,o){void 0===o&&(o=Promise);var a=new E(u(e,n,r,c),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(y),l(y,s,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(x),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function c(r,c){return i.type="throw",i.arg=t,n.next=r,c&&(n.method="next",n.arg=e),!!c}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return c("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return c(a.catchLoc,!0);if(this.prev<a.finallyLoc)return c(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return c(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return c(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var c=this.tryEntries[n];if(c.tryLoc<=this.prev&&r.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var o=c;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var c=r.arg;x(n)}return c}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}function x(e,t,n,r,c,o,a){try{var i=e[o](a),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,c)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,c,o,a,i=[],s=!0,l=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(i.push(r.value),i.length!==t);s=!0);}catch(e){l=!0,c=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw c}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return M(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=N(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(){var e=Object(a.b)(),t=Object(a.c)(s.a.settingsModalOpen),n=Object(a.c)(s.a.saveConnectorError),l=Object(a.c)(s.a.saveConnectorStatus),u=!!l&&"idle"===l,b=!!l&&"loading"===l,m=!!l&&"connected"===l,d=Object(a.c)(s.a.getCurrentConnector),p=d.fields_schema,O=void 0===p?[]:p,v=d.fields_values,j=void 0===v?{}:v,g=d.name,h=void 0===g?"":g,w=d.is_connected,y=d.connector,N=d.connector_id,M=d.direct_connect,T=void 0!==M&&M,A=d.meta,F=void 0===A?{}:A,B=F.redirect_url,G=void 0===B?"":B,I=F.connect_type,z=void 0===I?"normal":I,K=F.action,U=void 0===K?"":K,R=F.buttonLabel,q=void 0===R?"":R,H=F.busyLabel,Y=void 0===H?"":H,J=Object(r.useCallback)((function(t){return e(i.a.saveConnector({connector:y,settings:w?D(D({},t),{},{id:N}):t}))}),[i.a,w,N]),$=Object(r.useCallback)((function(){window.location.href=G}),[G]);Object(r.useEffect)((function(){!w&&T&&ne(Object(o.isEmpty)(j)||Object(o.isUndefined)(j)?{}:j)}),[T]);var Q=L(Object(r.useState)(!1),2),V=Q[0],W=Q[1],X=L(Object(r.useState)(!1),2),Z=X[0],ee=X[1],te=function(){var t,n=(t=P().mark((function t(){var n,r,c,o;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==U){t.next=2;break}return t.abrupt("return");case 2:return n={v:2,action:U},W(!0),t.next=6,fetch(bwfanParams.ajax_url,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=utf-8"},credentials:"same-origin",body:Object(C.stringify)(n)});case 6:return r=t.sent,t.next=9,r.json();case 9:if(!(c=t.sent).hasOwnProperty("msg")||"string"!=typeof c.msg){t.next=25;break}o=c.hasOwnProperty("action")?c.action:"",t.t0=o,t.next="reload"===t.t0?15:19;break;case 15:return e(i.a.dummyConnectorSuccess()),window.location.reload(),setTimeout((function(){W(!1)}),1e3),t.abrupt("break",23);case 19:return ee(!0),setTimeout((function(){W(!1)}),1e3),window.location.href=G+"&n="+(new Date).getTime(),t.abrupt("break",23);case 23:t.next=26;break;case 25:W(!1);case 26:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,c){var o=t.apply(e,n);function a(e){x(o,r,c,a,i,"next",e)}function i(e){x(o,r,c,a,i,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),ne=function(e){switch(z){case"redirect_url":$();break;case"ajax_redirect_url":te();break;default:J(e)}};return Object(r.createElement)(r.Fragment,null,t&&Object(r.createElement)(f.Modal,{className:"bwf-admin-modal bwf-admin-modal-medium bwfan-connector-settings-modal",isDismissible:u,shouldCloseOnClickOutside:!1,shoulfCloseOnEsc:!1,onRequestClose:function(){return!!u&&e(i.a.hideSettingsModal())},title:!!h&&Object(c.__)("Connect with ","wp-amrketing-automations")+h},Object(r.createElement)("div",{className:"bwfan-connector-settings-modal-inner"},!!n&&Object(r.createElement)(S.a,{status:"error",isDismissible:!0,onRemove:function(){return e(i.a.clearSaveConnectorError())}},n),!!b&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(E.a,null)),!!m&&Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)(k.a,null),Object(r.createElement)("div",{className:"bwf-h1"},Object(c.__)("Connected / Updated Successfully","wp-marketing-automations"))),!!u&&Object(o.size)(O)>0&&Object(r.createElement)(_.a,{fields:O,values:Object(o.isEmpty)(j)||Object(o.isUndefined)(j)?{}:j,handleSubmit:function(e){return ne(e)},submitButtonTitle:function(){if(w&&0===Object(o.size)(j))return"";if("ajax_redirect_url"===z){var e=Object(c.__)("Connect","wp-marketing-automations");return Z?e="Redirecting...":V&&Y?e=Y:q&&(e=q),e}return w&&"redirect_url"!==z?Object(c.__)("Update","wp-marketing-automations"):Object(c.__)("Connect","wp-marketing-automations")}(),isLoading:V,connector:y}),!!u&&0===Object(o.size)(O)&&Object(r.createElement)("p",null,Object(c.__)("No settings available for this connector","wp-marketing-automations")))))},B=n(74),G=function(){var e=Object(a.b)(),t=Object(a.c)(s.a.disconnectModalOpen),n=Object(a.c)(s.a.deleteConnectorError),o=Object(a.c)(s.a.deleteConnectorStatus),l=!!o&&"idle"===o,u=!!o&&"loading"===o,f=!!o&&"success"===o,b=Object(a.c)(s.a.getCurrentConnector).connector;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(B.a,{isOpen:t,modalTitle:Object(c.__)("Disconnect Connector","wp-marketing-automations"),deleteDescriptionText:Object(c.__)("You are about to disconnect connector. All the action, tasks, logs of this connector will be deleted. Cancel to stop, Proceed to continue.","wp-marketing-automations"),confirmButtonText:Object(c.__)("Proceed","wp-marketing-automations"),cancelButtonText:Object(c.__)("Cancel","wp-marketing-automations"),onConfirm:function(){return e(i.a.deleteConnector(b))},isLoading:u,successMessage:!!f&&Object(c.__)("Disconnected Successfully!","wp-marketing-automations"),errorMessage:!!n&&n,onRequestClose:function(){return!!l&&e(i.a.hideDisconnectModal())},isDelete:!0,showSuccessMsg:!0}))},I=function(){var e=Object(a.b)(),t=Object(a.c)(s.a.syncModalOpen),n=Object(a.c)(s.a.syncConnectorError),o=Object(a.c)(s.a.syncConnectorStatus),l=!!o&&"idle"===o,u=!!o&&"loading"===o,f=!!o&&"success"===o,b=Object(a.c)(s.a.getCurrentConnector),m=b.connector,d=b.connector_id;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(B.a,{isOpen:t,modalTitle:Object(c.__)("Sync Connector","wp-marketing-automations"),deleteDescriptionText:Object(c.__)("You are about to sync connector. All the data of this connector will be synced. Cancel to stop, Proceed to continue","wp-marketing-automations"),confirmButtonText:Object(c.__)("Proceed","wp-marketing-automations"),cancelButtonText:Object(c.__)("Cancel","wp-marketing-automations"),onConfirm:function(){return e(i.a.syncConnector({connector:m,id:d}))},isLoading:u,successMessage:!!f&&Object(c.__)("Synced Successfully!","wp-marketing-automations"),errorMessage:!!n&&n,onRequestClose:function(){return!!l&&e(i.a.hideSyncModal())},isDelete:!0,showSuccessMsg:!0}))},z=n(53),K=n(13),U=function(e){var t=e.wfco_connector,n=void 0===t?"":t,c=e.access_token,l=void 0===c?"":c,u=e.bwfco_access_t,f=void 0===u?"":u,b=Object(a.b)(),m="success"===Object(a.c)(s.a.getConnectorsStatus),d=Object(r.useCallback)((function(){b(i.a.showSettingsModal(n)),b(i.a.saveConnector({connector:n,settings:{access_token:Object(o.isEmpty)(l)?f:l}})),Object(K.k)({page:e.page},e.path,{})}),[n,l,b,f]);return Object(r.useEffect)((function(){"bwfco_slack"===n&&(l||f)&&m&&d()}),[n,l,d,m,f]),null},R=function(e){var t=e.bitly,n=void 0===t?"":t,c=e.login,o=void 0===c?"":c,l=e.access_token,u=void 0===l?"":l,f=e.bwfco_access_t,b=void 0===f?"":f,m=Object(a.b)(),d="success"===Object(a.c)(s.a.getConnectorsStatus),p=Object(r.useCallback)((function(){m(i.a.showSettingsModal("bwfco_bitly")),m(i.a.saveConnectorSuccess({connector:"bwfco_bitly",id:"bitly"})),Object(K.k)({page:e.page},e.path,{});var t=setTimeout((function(){m(i.a.hideSettingsModal()),clearInterval(t)}),3e3)}),[m]);return Object(r.useEffect)((function(){"yes"===n&&(u||b)&&o&&p()}),[n,u,o,p,d,b]),null},q=function(e){var t=e.wfco_connector,n=void 0===t?"":t,o=e.status,l=void 0===o?0:o,u=e.error_msg,f=Object(a.b)(),b="success"===Object(a.c)(s.a.getConnectorsStatus);return Object(r.useEffect)((function(){if("bwfco_mautic"===n&&"success"===l&&b){f(i.a.showSettingsModal(n)),f(i.a.dummyConnectorSuccess()),Object(K.k)({page:e.page},e.path,{});var t=setTimeout((function(){f(i.a.hideSettingsModal()),clearInterval(t)}),3e3)}if("bwfco_mautic"===n&&"failed"===l&&b){f(i.a.showSettingsModal(n));var r=u||Object(c.__)("Unknown Error Occurred","wp-marketing-automations");f(i.a.saveConnectorFailed(r))}}),[n,l,b]),null},H=function(e){var t=e.wfco_connector,n=void 0===t?"":t,c=e.code,o=void 0===c?"":c,l=e.state,u=void 0===l?"":l,f=e.client_id,b=void 0===f?"":f,m=e.client_secret,d=void 0===m?"":m,p=e.redirect_url,O=void 0===p?"":p,v=Object(a.b)(),j="success"===Object(a.c)(s.a.getConnectorsStatus),g=Object(a.c)(s.a.getConnector("bwfco_zoom")),h=g&&g.fields_values?g.fields_values:{},w=g&&g.fields_schema?g.fields_schema:{},y=Object(r.useCallback)((function(){v(i.a.showSettingsModal(n)),v(i.a.saveConnector({connector:n,settings:{code:o,state:u,client_id:b,client_secret:d,redirect_url:O}}))}),[n,o,u,v,b,d,O]);return Object(r.useEffect)((function(){if((h.code||h.state)&&h.client_id&&h.client_secret&&h.redirect_url){var t={client_id:h.client_id,client_secret:h.client_secret,redirect_url:h.redirect_url};v(i.a.setConnectorSchema({connector:"bwfco_zoom",schema:w,values:t,saveStatus:"connected"})),Object(K.k)({page:e.page},e.path,{})}}),[h]),Object(r.useEffect)((function(){"bwfco_zoom"===n&&o&&u&&j&&y()}),[n,o,u,y,j]),null},Y=n(73),J=n(145),$=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,n=(bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data&&bwfcrm_contacts_data.header_data,Object(Y.a)()),c=n.setActiveMultiple,o=n.setL2NavType,a=n.setL2Nav,i=n.resetHeaderMenu,s=n.setPageHeader,l=n.setPageCountData,u=(n.setPageHeaderBelowContent,Object(J.a)()),f=u.getPageCountData,b=f();return Object(r.useEffect)((function(){b!==t&&(i(),c({leftNav:"connectors",rightNav:e}),o("menu"),a([]),s(""),t&&l(t))}),[e,t]),!0},Q=(n(1376),function(e){var t=e.connector,n=void 0===t?"":t,c=e.code,o=void 0===c?"":c,l=e.state,u=void 0===l?"":l,f=e.client_id,b=void 0===f?"":f,m=e.client_secret,d=void 0===m?"":m,p=Object(a.b)(),O="success"===Object(a.c)(s.a.getConnectorsStatus),v=Object(a.c)(s.a.getConnector("bwfco_keap")),j=v&&v.fields_values?v.fields_values:{},g=v&&v.fields_schema?v.fields_schema:{},h=Object(r.useCallback)((function(){p(i.a.showSettingsModal("bwfco_keap")),p(i.a.saveConnector({connector:"bwfco_keap",settings:{code:o,state:u,client_id:b,client_secret:d}}))}),[n,o,u,p,b,d]);return Object(r.useEffect)((function(){if((j.code||j.state)&&j.client_id&&j.client_secret){var t={client_id:j.client_id,client_secret:j.client_secret};p(i.a.setConnectorSchema({connector:"bwfco_keap",schema:g,values:t,saveStatus:"connected"})),Object(K.k)({page:e.page},e.path,{})}}),[j]),Object(r.useEffect)((function(){"keap"===n&&o&&u&&O&&h()}),[n,o,u,h,O]),null}),V=n(336);function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(){return(X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=W(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==W(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne=Object(r.memo)((function(e){var t=e.size,n=void 0===t?15:t;return Object(r.createElement)("div",{className:"wfco_global wfco_connector_listing bwf-mt-24"},Object(r.createElement)("div",{className:"wfco_connector_listing_wrap wfco_clearfix"},Object(r.createElement)("div",{className:"wfco-row"},Array.from(Array(n).keys()).map((function(e){return Object(r.createElement)(v,{key:e})})))))})),re=Object(r.memo)((function(e){var t,n=location&&location.search?Object(C.parse)(location.search.substring(1)):{},l=null!==(t=e.match.params.status)&&void 0!==t?t:"all";U(n),R(n),q(n),Q(n),H(n);var f=Object(Y.a)().setPageHeaderBelowContent,m=Object(a.c)(s.a.settingsModalOpen),d=Object(a.c)(s.a.disconnectModalOpen),p=Object(a.c)(s.a.syncModalOpen),O=Object(a.b)(),v=Object(a.c)(s.a.getConnectorsStatus),g=Object(a.c)(s.a.getConnectorsError),h=Object(a.c)(s.a.getConnectors),w="loading"===v,_=Object(a.c)(s.a.getConnectorsCount);Object(r.useEffect)((function(){return Object(u.l)(Object(c.__)("Connectors","wp-marketing-automations")),O(i.a.getConnectors()),0,function(){return f("")}}),[]);var E={all:Object(c.__)("No connector found","wp-marketing-automations"),active:Object(c.__)("No active connector found","wp-marketing-automations"),inactive:Object(c.__)("No inactive connector found","wp-marketing-automations")};$(Object(c.__)("Connectors","wp-marketing-automations"),l,_),Object(r.useEffect)((function(){if(!Object(o.isEmpty)(h)){var e=[],t={all:0,active:0,inactive:0};Object.keys(h).sort().forEach((function(n){var r=h[n];("all"===l||"inactive"===l&&!r.is_connected||"active"===l&&r.is_connected)&&(e.push(n)),t.all++,r.is_connected?t.active++:t.inactive++})),O(i.a.getCount(t))}}),[h,l]);var k=Object(r.useMemo)((function(){if(!Object(o.isEmpty)(h)){var e=[];return Object.keys(h).map((function(t){var n=h[t];("all"===l||"inactive"===l&&!n.is_connected||"active"===l&&n.is_connected)&&e.push(ee(ee({},n),{},{connector:t}))})),e.sort((function(e,t){return e.priority-t.priority})),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(z.a,null),Object(r.createElement)("div",{className:"wfco_global wfco_connector_listing"},Object(r.createElement)("div",{className:"wfco_connector_listing_wrap wfco_clearfix"},Object(r.createElement)("div",{className:"wfco-row"},e.map((function(e,t){return Object(r.createElement)(j,X({key:t},e))})),0===e.length&&Object(r.createElement)("div",{className:"bwf-p"},E[l])))))}}),[h,l]),N=[{slug:"all",name:Object(c.__)("All","wp-marketing-automations"),path:"/connectors/all"},{slug:"active",name:Object(c.__)("Active","wp-marketing-automations"),path:"/connectors/active"},{slug:"inactive",name:Object(c.__)("Inactive","wp-marketing-automations"),path:"/connectors/inactive"}];return Object(r.createElement)("div",{className:"bwfan_global bwfan_global_settings bwfan_connectors bwf-p-24"},Object(r.createElement)("div",{className:"bwf-section-header"},Object(r.createElement)("div",{className:"bwf-section-left"},Object(r.createElement)("span",{className:"bwf-section-title"},Object(c.__)("Connector","wp-marketing-automations")))),!Object(u.Kb)()&&Object(u.Sb)()&&Object(r.createElement)("div",{className:"bwf-shield-notice bwf-mb-16"},Object(r.createElement)("span",{className:"bwf-display-flex"},Object(r.createElement)(b.a,{icon:"shield"})),Object(r.createElement)("p",{className:"bwf-shield-notice-content"},Object(c.__)("FunnelKit Automations Connector Addon is not installed. To access integrations, download the addon from your FunnelKit account and activate the license. ","wp-marketing-automations"),Object(r.createElement)("a",{href:u.u,className:"bwf-noticebar-btn",target:"_blank",rel:"noreferrer"},Object(c.__)("Login to FunnelKit","wp-marketing-automations")))),Object(r.createElement)("div",{className:"bwfan_global_settings_wrap"},!!g&&Object(r.createElement)(S.a,{status:"error"},g),Object(r.createElement)(V.a,{tabs:N,selected:l,count:_}),!!w&&Object(r.createElement)(ne,null),Object(r.createElement)("div",{className:"bwf_clear_24"}),!w&&!!h&&k,m&&Object(r.createElement)(F,null),d&&Object(r.createElement)(G,null),p&&Object(r.createElement)(I,null),Object(r.createElement)(y,null)))}));t.default=re}}]);