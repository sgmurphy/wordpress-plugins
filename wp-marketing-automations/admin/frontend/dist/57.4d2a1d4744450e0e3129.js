(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1027:function(e,t,n){"use strict";var r=n(74),a=n(0),i=n(3),c=n(1);t.a=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=bwfcrm_contacts_data&&bwfcrm_contacts_data.header_data?bwfcrm_contacts_data.header_data:{},s=Object(r.a)(),l=s.setActiveMultiple,u=s.setL2NavType,b=s.setL2Nav,m=s.resetHeaderMenu,f=s.setPageHeader,g=s.setPageCountData,p=s.setL2Content;return Object(a.useEffect)((function(){m(),l({leftNav:"link-triggers",rightNav:t}),u("menu"),b(o.links_triggers_nav),f(Object(c.__)("Link Triggers","wp-marketing-automations")),!Object(i.isEmpty)(n)&&g({templates:n}),e&&p(e)}),[n]),!0}},1342:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(5),i=n(4),c=n(8),o=n(1),s=n(1027),l=n(303),u=n(14),b=n(119),m=n(66),f=n(57),g=n(58),p=n(18),O=n(9),d=n.n(O),j=n(74),w=n(982),y=n(993),k=n(122),h=n(121),v=n(3),_=n(123),E=n(944);function P(e,t,n,r,a,i,c){try{var o=e[i](c),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(r,a)}var C=function(e){var t=e.isOpen,n=e.links,a=e.onSuccess,c=e.onError,s=e.onRequestClose,l=Object(E.a)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d()({path:Object(i.u)("/link-triggers/delete"),method:"DELETE",data:{ids:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){P(i,r,a,c,o,"next",e)}function o(e){P(i,r,a,c,o,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}(),{onSuccess:function(){setTimeout((function(){return l.reset()}),2500),a&&a(),s&&s()},onError:function(){c&&c()}});return Object(r.createElement)(m.a,{modalTitle:Object(o.__)("Delete Trigger","wp-marketing-automations"),deleteEntityName:1===n.length?n[0].title:"".concat(n.length," Trigger"),confirmButtonText:Object(o.__)("Delete","wp-marketing-automations"),cancelButtonText:Object(o.__)("Cancel","wp-marketing-automations"),onConfirm:function(){return l.mutate(n.map((function(e){return e.ID})))},errorMessage:l.isError&&(l.error&&l.error.message?l.error.message:Object(o.__)("Unable to delete link triggers","wp-marketing-automations")),onRequestClose:function(){return!!s&&s()},isOpen:t,isDelete:!0})},S=n(41),L=n(176),D=n(31),A=n(306);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N(e,t,n,r,a,i,c){try{var o=e[i](c),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(r,a)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){N(i,r,a,c,o,"next",e)}function o(e){N(i,r,a,c,o,"throw",e)}c(void 0)}))}}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(e){var t=e.selected,n=void 0===t?"all":t,a=e.menuButtons,c=void 0===a?Object(r.createElement)(r.Fragment,null):a,s=e.pitchData,O=void 0===s?{}:s,E=e.setOpenProModal,P=void 0===E?function(){}:E,N=Object(u.i)(),I=N.s,M=void 0===I?"":I,B=Object(j.a)().setActiveMultiple,F={all:"",inactive:1,active:2},J=U(Object(r.useState)(!1),2),z=J[0],V=J[1],G=U(Object(r.useState)([]),2),H=G[0],$=G[1],Q=U(Object(r.useState)(!1),2),K=Q[0],W=Q[1],Y=function(){De&&De(),$([])},X=Object(r.useCallback)((function(e,t){switch(e){case"delete":$(t),W(!0)}}),[]);Object(r.useEffect)((function(){Y(),Object(i.k)(Object(o.__)("Link Triggers","wp-marketing-automations"))}),[]);var Z=Object(h.a)().getPageCountData,ee=Object(j.a)().setPageCountData;Object(r.useEffect)((function(){B({leftNav:"link-triggers",rightNav:n})}),[n]);var te=Object(w.a)(),ne=te.fetchAll,re=te.setLinkListValues,ae=te.setSingleLinkValue,ie=Object(y.a)(),ce=ie.getLoading,oe=ie.getAllLists,se=ie.getTotalCount,le=ie.getPageOffset,ue=ie.getPerPageCount,be=ie.getPageNumber,me=ie.getCountData,fe=ie.getActions,ge=ie.getError,pe=oe(),Oe=le(),de=ue(),je=ce(),we=se(),ye=be(),ke=me(),he=fe(),ve=Z(),_e=ge();Object(r.useEffect)((function(){ee(R(R({},ve),ke))}),[ke]);var Ee=Object(r.useMemo)((function(){var e={};if(Array.isArray(pe)){var t,n=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){o=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(o)throw i}}}}(pe);try{for(n.s();!(t=n.n()).done;){var r=t.value;e[r.ID]=r}}catch(e){n.e(e)}finally{n.f()}}return e}),[pe]),Pe=Object(k.b)(Ee),Ce=Pe.singleSelectProps,Se=Pe.selectAllProps,Le=Pe.floatingBarProps,De=Pe.resetSelection,Ae=Pe.selected,xe=void 0===Ae?{}:Ae,Ne=Object.keys(xe).filter((function(e){return xe[e]})).length;Object(r.useEffect)((function(){ne(N,Oe,de,F.hasOwnProperty(n)?F[n]:"")}),[Oe,de,N.s,n]),Object(r.useEffect)((function(){je||V(!1)}),[je]);var Te=U(Object(r.useState)({loading:!1,status:!1}),2),Ie=Te[0],Re=Te[1],Me=Object(r.useContext)(i.h),Ue=function(){var e=T(regeneratorRuntime.mark((function e(t){var r,a,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},Re(R(R({},r),{},{status:!0})),e.prev=2,e.next=5,d()({path:Object(i.u)("/link-triggers/delete"),method:"DELETE",data:{ids:[t]}});case 5:if(!(a=e.sent)||200!==a.code){e.next=12;break}Me("Link trigger deleted"),Re({status:!1}),ne(N,Oe,de,F.hasOwnProperty(n)?F[n]:""),e.next=13;break;case 12:throw Error(Object(i.p)(null==a?void 0:a.message));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),Re({status:!0,error:e.t0.message?e.t0.message:Object(o.__)("Error in deleting link","wp-marketing-automations")});case 18:Object(i.wb)(Me,3e3);case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=T(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Me(Object(o.__)("Cloningâ€¦","wp-marketing-automations")),e.prev=1,e.next=4,d()({path:Object(i.u)("/link-trigger/".concat(t,"/clone")),method:"GET"}).then((function(e){200==e.code&&(Me(Object(o.__)("Link Trigger cloned","wp-marketing-automations")),ne(N,0,de,F.hasOwnProperty(n)?F[n]:""))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Me(e.t0.message);case 9:Object(i.wb)(Me,3e3);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}(),Be=function(e){switch(e.hasOwnProperty("status")?parseInt(e.status):1){case 1:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-red"},Object(o.__)("Inactive","wp-marketing-automations")," ");case 2:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-green"},Object(o.__)("Active","wp-marketing-automations")," ");default:return Object(r.createElement)("span",{className:"bwf-tags bwf-tag-orange"},Object(o.__)("Draft","wp-marketing-automations")," ")}},Fe=function(e){return Object(r.createElement)(f.a,{label:Object(o.__)("Quick Actions","wp-marketing-automations"),menuPosition:"bottom right",renderContent:function(t){var n=t.onToggle;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(g.a,{isClickable:!0,onInvoke:function(){ae("listData",e),Object(u.k)({page:"autonami",path:"/link-trigger/"+parseInt(e.ID)},"/",{}),n()}},Object(r.createElement)(p.a,{justify:"space-between"},Object(r.createElement)(p.c,null,Object(o.__)("Edit","wp-marketing-automations")))),Object(r.createElement)(g.a,{isClickable:!0,onInvoke:function(){var t,r,a=Object(i.hb)()+"/?bwfan-link-trigger="+e.hash;t=a,(r=document.createElement("textarea")).value=t,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),Me(Object(o.__)("Link copied","wp-marketing-automations")),Object(i.wb)(Me,3e3),n()}},Object(r.createElement)(p.a,{justify:"flex-start"},Object(r.createElement)(p.c,null,Object(o.__)("Copy","wp-marketing-automations")))),Object(r.createElement)(g.a,{isClickable:!0,onInvoke:function(){Object(i.Jb)()?qe(parseInt(e.ID)):P(!0),n()}},Object(r.createElement)(p.a,{justify:"space-between"},Object(r.createElement)(p.c,null,Object(o.__)("Duplicate","wp-marketing-automations")),!Object(i.Jb)()&&Object(r.createElement)(p.c,null,i.e))),Object(r.createElement)(g.a,{isClickable:!0,onInvoke:function(){var t={modalTitle:Object(o.__)("Delete Trigger"),status:!0,deleteEntityName:e.title,buttonConfirm:Object(o.__)("Confirm","wp-marketing-automations"),buttonCancel:Object(o.__)("Cancel","wp-marketing-automations"),isDelete:!0};Re(R(R({},t),{},{onConfirm:function(){return Ue(e.ID,t)}})),n()}},Object(r.createElement)(p.a,{justify:"flex-start"},Object(r.createElement)(p.c,null,Object(o.__)("Delete","wp-marketing-automations")))))}})},Je=[{key:"select_link",label:Object(r.createElement)(S.a,x({type:"checkbox",checked:!1,onChange:function(){}},Se)),isLeftAligned:!1,required:!0,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"actions",label:"",isLeftAligned:!1,cellClassName:"bwf-col-action bwf-w-30 bwf-table-col-sticky bwf-sticky-left"},{key:"name",label:Object(o.__)("Name","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210 bwf-table-col-sticky bwf-sticky-left"},{key:"created_on",label:Object(o.__)("Created On","wp-marketing-automations"),isLeftAligned:!0,required:!0},{key:"desc",label:Object(o.__)("Description","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-210"},{key:"linkaction",label:Object(o.__)("Actions","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-360 bwf-max-w-360"},{key:"autologin",label:Object(o.__)("Auto Login","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-100"},{key:"clicks",label:Object(o.__)("Clicks","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-100"},{key:"status",label:Object(o.__)("Status","wp-marketing-automations"),isLeftAligned:!0,cellClassName:"bwf-w-100"}],ze=function(e){return Object(r.createElement)("a",{href:"admin.php?page=autonami&path=/link-trigger/"+e.ID,type:"bwf-crm",className:"bwf-a-no-underline",onClick:function(t){t.preventDefault(),ae("listData",e),Object(u.k)({page:"autonami",path:"/link-trigger/"+e.ID},"/",{})}},Object(r.createElement)("b",null,e.title.charAt(0).toUpperCase()+e.title.slice(1)+" "))},Ve=function(e){var t="-";return e.hasOwnProperty("data")&&e.data.hasOwnProperty("desc")&&!Object(v.isEmpty)(e.data.desc)&&(t=Object(r.createElement)("p",{className:"bwf-p-0 bwf-m-0"},e.data.desc)),t},Ge=function(e){if(e.hasOwnProperty("data")&&e.data.hasOwnProperty("actions")&&!Object(v.isEmpty)(e.data.actions)){var t=e.data.actions,n=[],a=[];return Object.keys(t).map((function(e){he.hasOwnProperty(e)&&(n.length<5&&n.push(he[e]),a.push(Object(r.createElement)("span",{key:e},he[e])))})),Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-table-v-center"},Object(r.createElement)("span",null,Object(v.isEmpty)(n)?"-":n.join(", ")),!Object(v.isEmpty)(a)&&a.length>5&&Object(r.createElement)(_.a,{items:a,count:5})))}return"-"},He=function(e){var t="No";return e.hasOwnProperty("data")&&e.data.hasOwnProperty("enable_auto_login")&&e.data.enable_auto_login&&(t="Yes"),t},$e=pe.map((function(e){return[{display:Ce&&Ce[e.ID]&&Object(r.createElement)(S.a,x({type:"checkbox",checked:!1,onChange:function(){}},Ce[e.ID])),value:""},{display:Fe(e),value:"action"},{display:e.hasOwnProperty("title")?ze(e):"-",value:""},{display:e.created_at?Object(i.W)(e.created_at):" - ",value:e.created_at},{display:Ve(e),value:""},{display:Ge(e),value:""},{display:He(e),value:""},{display:e.hasOwnProperty("total_clicked")?e.total_clicked:"-",value:""},{display:Be(e),value:""}]})),Qe=function(e){e!==de&&re("limit",e)},Ke=je||z||""!==M||0!==we||!["","all"].includes(n)||_e,We=[{slug:"link-triggers_all",name:Object(o.__)("All","wp-marketing-automations"),path:"/link-triggers/"},{slug:"link-triggers_active",name:Object(o.__)("Active","wp-marketing-automations"),path:"/link-triggers/active"},{slug:"link-triggers_inactive",name:Object(o.__)("Inactive","wp-marketing-automations"),path:"/link-triggers/inactive/"}];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(o.__)("Link Triggers","wp-marketing-automations")),parseInt(we)>0&&Object(r.createElement)("div",{className:"bwf-content-header-count"},Object(o.sprintf)(Object(o._n)("(%s Result)","(%s Results)",we,"wp-marketing-automations"),we))),Object(r.createElement)("div",{className:"bwf-content-header-right"},Ke&&c)),_e&&Object(r.createElement)(D.a,{status:"error"},_e.message),Ke?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(A.a,{tabs:We,selected:"link-triggers_".concat(n),count:ve,disableUrlUpdate:!0,onChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ae("offset",0),V(!0),Object(u.k)({page:"autonami",path:t},"/",{})}}),Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)(b.a,{className:"bwf-link-table has-search",title:"",rows:$e,headers:Je,query:{paged:ye},rowsPerPage:de,totalRows:we,isLoading:je,onPageChange:function(e,t){re("offset",(e-1)*de)},onQueryChange:function(e){return"per_page"!==e?function(){}:Qe},showMenu:!1,rowHeader:!0,actions:Ne>0?[Object(r.createElement)(k.a,x({key:"link-bulk-action",actions:[{id:"delete",icon:"delete",hint:Object(o.__)("Delete","wp-marketing-automations")}],onAction:X,inLine:!0,reset:Y},Le))]:[Object(r.createElement)(L.a,{key:"search",isLoading:je,searchTerm:null==N?void 0:N.s,showResultCount:!1,setSearchData:function(e){if(Object(v.size)(e))Object(u.k)({s:e},"/",N);else{var t=Object(v.cloneDeep)(N);t.hasOwnProperty("s")&&(null==t||delete t.s),V(!0),Object(u.k)(t,"/",{})}}})],emptyMessage:Object(o.__)("No link trigger found.","wp-marketing-automations")})):Object(r.createElement)(l.a,{data:O}),Object(r.createElement)(m.a,{modalTitle:Object(o.__)("Delete Trigger","wp-marketing-automations"),content:Ie.content,deleteEntityName:Ie.deleteEntityName,confirmText:Ie.confirmText,confirmButtonText:Ie.buttonConfirm,cancelButtonText:Ie.buttonCancel,onConfirm:Ie.onConfirm,isLoading:Ie.loading,successMessage:Ie.success,errorMessage:Ie.error,onRequestClose:function(){return Re({status:!1})},isOpen:Ie.status,isDelete:!Ie.hasOwnProperty("isDelete")||Ie.isDelete}),Object(r.createElement)(C,{links:H,isOpen:K,onSuccess:function(){ne(N,0,de,F.hasOwnProperty(n)?F[n]:""),Y()},onError:Y,onRequestClose:function(){return W(!1)}}))},J=n(16);function z(e,t,n,r,a,i,c){try{var o=e[i](c),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(r,a)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var H=function(e){var t=e.onCloseModal,n=Object(r.useContext)(i.h),s=V(Object(r.useState)(!1),2),l=s[0],b=s[1],m=V(Object(r.useState)(""),2),f=m[0],g=m[1],p=V(Object(r.useState)(null),2),O=p[0],j=p[1],y=V(Object(r.useState)(null),2),k=y[0],h=y[1],_=Object(w.a)().setSingleLinkValue;Object(r.useEffect)((function(){b(!1),j(""),g("")}),[]);var E=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),g(""),e.prev=2,e.next=5,d()({path:Object(i.u)("/link-trigger/"),method:"POST",data:{title:O,desc:k,only_title:!0}});case 5:if(!(t=e.sent)||200!=t.code){e.next=13;break}Object(i.R)()||(bwfcrm_contacts_data.first_link_trigger_id=1),n(t.message),_("listData",{title:O,status:0}),Object(u.k)({page:"autonami",path:"/link-trigger/"+t.result.id},"/",{}),e.next=14;break;case 13:throw Error(Object(i.p)(null==t?void 0:t.message));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),b(!1),g(e.t0.message);case 20:Object(i.wb)(n,3e3);case 21:case"end":return e.stop()}}),e,null,[[2,16]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function c(e){z(i,r,a,c,o,"next",e)}function o(e){z(i,r,a,c,o,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}(),P=function(){Object(v.isEmpty)(O)?g(Object(o.__)("Name is required.","wp-marketing-automations")):(g(""),E())};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(a.Modal,{className:"bwf-admin-modal bwf-admin-modal-480 bwf-admin-modal-no-header",shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1},Object(r.createElement)("div",{className:"bwf-admin-m-header-new"},Object(r.createElement)("div",{className:"bwf-admin-m-title"},Object(o.__)("Add Link Trigger","wp-marketing-automations")),Object(r.createElement)("div",{className:"bwf-admin-m-close",onClick:t},Object(r.createElement)(c.a,{icon:"close",size:20}))),Object(r.createElement)("div",{className:"bwf_clear_16"}),Object(r.createElement)("div",{className:"bwf-form-fields",onKeyPress:function(e){"Enter"==e.key&&P()}},f&&Object(r.createElement)(D.a,{status:"error",onRemove:function(){return g("")}},f),Object(r.createElement)(a.TextControl,{placeholder:Object(o.__)("Enter link trigger name","wp-marketing-automations"),autoFocus:!0,label:Object(o.__)("Name","wp-marketing-automations"),value:O||"",onChange:function(e){return j(e)},disabled:l}),Object(r.createElement)(a.TextareaControl,{label:Object(o.__)("Description","wp-marketing-automations"),type:"text",value:k||"",placeholder:Object(o.__)("Enter Description","wp-marketing-automations"),onChange:function(e){h(e)}}),Object(r.createElement)("div",{className:"bwf_text_right bwf-form-buttons"},Object(r.createElement)(J.a,{onClick:function(){return t()},className:"bwf-cancel-btn"},Object(o.__)("Cancel","wp-marketing-automations")),Object(r.createElement)(J.a,{isPrimary:!0,disabled:l,isBusy:l,onClick:function(){P()}},Object(o.__)("Add","wp-marketing-automations"))))))},$=n(49),Q=n(39);function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var c,o=e[Symbol.iterator]();!(r=(c=o.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=e.match.params.type,n=void 0===t?"all":t,u=K(Object(r.useState)(!1),2),b=u[0],m=u[1],f=K(Object(r.useState)(!1),2),g=f[0],p=f[1],O=Object(r.createElement)(a.Button,{isPrimary:!0,className:"bwf-display-flex",onClick:function(){Object(i.Jb)()?p(!0):m(!0)}},!Object(i.Jb)()&&Object(r.createElement)(c.a,{icon:"king",size:"16",color:"#fff"}),Object(r.createElement)("span",null,Object(o.__)("Create Link Trigger","wp-marketing-automations")));Object(s.a)(Object(o.__)("Link Triggers","wp-marketing-automations"),O,n);var d=[{type:"heading",data:{title:Object(o.__)("Explore the power of link interactions","wp-marketing-automations"),desc:Object(o.__)("Add responses, track behaviour, and automate workflows with link triggers maximize engagement.","wp-marketing-automations")}},{type:"image-desc",data:[{img:Object(i.o)()+"link-triggers/link-trigger1.png",title:Object(o.__)("Send dynamic links that trigger actions","wp-marketing-automations"),desc:Object(o.__)("Use link triggers to update tags, lists or trigger automations","wp-marketing-automations")},{img:Object(i.o)()+"link-triggers/link-trigger2.png",title:Object(o.__)("Track each click and get insights","wp-marketing-automations"),desc:Object(o.__)("Personalize contact journey based on their interactions","wp-marketing-automations")}]},{type:"buttons",data:{buttons:[{text:Object(o.__)("Create Link Trigger","wp-marketing-automations"),proCheck:!0,onClick:function(){Object(i.Jb)()?p(!0):m(!0)}}]}},{type:"link-wth-text",data:{text:Object(o.__)("Curious about link triggers?","wp-marketing-automations"),link:"https://funnelkit.com/docs/autonami-2/link-triggers/",linkText:Object(o.__)("Learn More","wp-marketing-automations")}}];return Object(r.createElement)("div",{className:"bwf-p-24 bwf-link-trigger-wrap"},Object(r.createElement)($.a,null),Object(i.R)()&&0!==i.n?Object(r.createElement)(F,{selected:n,menuButtons:O,pitchData:d,setOpenProModal:m}):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-content-header-new"},Object(r.createElement)("div",{className:"bwf-content-header-left"},Object(r.createElement)("div",{className:"bwf-content-header-title"},Object(o.__)("Link Triggers","wp-marketing-automations")),!Object(i.Jb)()&&i.e)),Object(r.createElement)(l.a,{data:d})),!Object(i.Jb)()&&Object(r.createElement)(Q.b,{isOpen:b,onRequestClose:function(){return m(!1)},modalContent:{isFeature:!0,featureTitle:Object(o.__)("Link Triggers","funnel-builder"),proLink:Object(i.T)("upgrade",{utm_medium:"Create+Link+Triggers+Upgrade+Modal"}),image:Object(i.db)("link-triggers.png"),benefit:Object(o.__)("Unlock Link Triggers and other awesome features.","wp-marketing-automations")}}),g&&Object(r.createElement)(H,{onCloseModal:function(){return p(!1)}}))}},982:function(e,t,n){"use strict";var r=n(51),a=n(4);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(){var e=Object(r.a)("linkTriggerListData"),t=e.fetch,n=e.setStateProp,i=s(e,["fetch","setStateProp"]),o=Object(r.a)("singleLinkTriggerData"),l=o.fetch,u=o.setStateProp;return c(c({},i),{},{fetchAll:function(e,r,i){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n("isLoading",!0);var o=e.s,s={offset:r,limit:i,search:o,status:c};t("GET",Object(a.u)("/link-triggers"),s)},setLinkListValues:function(e,t){n(e,t)},fetchSingleLink:function(e){u("error",{}),l("GET",Object(a.u)("/link-trigger/".concat(e)))},setSingleLinkValue:function(e,t){u(e,t)}})}},993:function(e,t,n){"use strict";var r=n(52);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(){var e=Object(r.a)("linkTriggerListData"),t=e.getStateProp,n=o(e,["getStateProp"]),a=Object(r.a)("singleLinkTriggerData"),c=a.getStateProp,s=a.getLoading;return i(i({},n),{},{getAllLists:function(){return t("data")},getPageNumber:function(){return parseInt(t("offset"))/parseInt(t("limit"))+1},getCountData:function(){return t("countData")},getPerPageCount:function(){return parseInt(t("limit"))},getPageOffset:function(){return parseInt(t("offset"))},getTotalCount:function(){return parseInt(t("total_count"))},getActions:function(){return t("actions")},getSingleLinkLoad:function(){return s()},getSingleLinkData:function(){return c("data")},getLinkActionList:function(){return c("actionList")},getLinkActionSchemaList:function(){return c("actionSchema")},getLinkEditableStatus:function(){return c("isEditable")},getSingleLinkError:function(){return c("error")},getSingleLinkListData:function(){return c("listData")}})}}}]);