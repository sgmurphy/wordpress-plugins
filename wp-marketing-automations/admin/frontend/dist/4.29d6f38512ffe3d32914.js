(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{995:function(e,t,a){"use strict";var n=a(0),s=a(945),c=a(120),r=a(9),o=a.n(r),i=a(4),l=a(3),m=a(8),b=a(1),d=function(e){var t=e.data,a=void 0===t?{}:t,c=a.date,r=void 0===c?"":c,o=a.nice_name,d=void 0===o?"":o,p=a.source,O=void 0===p?"":p;return Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick is-start-node-selected"},Object(n.createElement)("div",{className:"bwf-node-icon icon-start"},Object(n.createElement)(m.a,{size:22,icon:"rocket"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(l.isEmpty)(O)?"":O),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(l.isEmpty)(d)?"":d))),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},Object(b.__)("Started on ","wp-marketing-automations"),Object(i.W)(r))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},p=function(e){var t=e.data,a=void 0===t?{}:t,c=a.nice_name,r=void 0===c?"":c,o=a.integration,d=void 0===o?"":o;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon icon-action"},Object(n.createElement)(m.a,{size:22,icon:"charge"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Action","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},a.hasOwnProperty("step_status")&&3===parseInt(a.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&2===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&4===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&3===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Failed","wp-marketing-automations")))),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},!Object(l.isEmpty)(a)&&a.hasOwnProperty("selected")&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(l.isEmpty)(d)?"":d),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(l.isEmpty)(r)?"":r))))))),a.hasOwnProperty("msg")&&!Object(l.isEmpty)(a.msg)&&Object(n.createElement)("div",{className:"bwf-error-section-ref"},Object(n.createElement)("div",{className:"bwf-customer-journey-error"},a.msg)),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},a.hasOwnProperty("status")&&3===parseInt(a.status)?Object(b.__)("Failed on ","wp-marketing-automations"):Object(b.__)("Completed on ","wp-marketing-automations"),Object(i.W)(a.date))),Object(n.createElement)(s.d,{type:"source",isConnectable:!1,position:"bottom"}))},O=a(1008),u=function(e){var t=e.readables;return Object(n.createElement)("div",{className:"bwf-step-brick"},t.map((function(e,t){var a=e.map((function(e,t){return Object(n.createElement)("div",{key:t},0!==t&&Object(n.createElement)("div",{className:"bwf-step-divider"},Object(n.createElement)("span",{className:"bwf-divider"},"AND")),Object(n.createElement)("div",{className:"bwf-step-content-content"},e))}));return 0!==t?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-step-divider divider-line bwf-or"},Object(n.createElement)("span",{className:"bwf-divider"},"OR")),a):a})))},j=function(e){var t=e.data,a=void 0===t?{}:t,r=(e.selected,Object(c.a)().getAutomationId),o=a.event,d=a.sidebarValues,p=void 0===d?[]:d,j=r(),w=Object(O.a)(o,parseInt(j)),f=w.isLoading,E=w.error,v=w.getReadableTexts,_=f||E||Object(l.isEmpty)(o)?[]:v(p);return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon"},Object(n.createElement)(m.a,{size:26,icon:"condition"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Conditional","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},a.hasOwnProperty("step_status")&&3===parseInt(a.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&2===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&3===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Failed","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&4===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")))),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Array.isArray(_)&&_.length?Object(n.createElement)(u,{readables:_}):Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},f?Object(b.__)("Loading","wp-marketing-automations"):Object(b.__)("No Rules Selected","wp-marketing-automations")))))),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},a.hasOwnProperty("status")&&3===parseInt(a.status)?Object(b.__)("Failed on ","wp-marketing-automations"):Object(b.__)("Completed on ","wp-marketing-automations"),Object(i.W)(a.date))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.data,a=void 0===t?{}:t,c=a.reason,r=void 0===c?"":c;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"source",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-node-content bwf-end"},Object(n.createElement)("div",{className:"bwf-node-content-item"},Object(b.__)("End Automation","wp-marketing-automations"))),r&&!Object(l.isEmpty)(r)&&Object(n.createElement)("div",{className:"bwf-error-section-ref ishorizontalinfo"},Object(n.createElement)("div",{className:"bwf-customer-journey-error is-info",dangerouslySetInnerHTML:{__html:r}}))))},f=a(24),E=function(e){var t=e.data,a=void 0===t?{}:t,c=a.nice_name,r=void 0===c?"":c;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon icon-goal"},Object(n.createElement)(m.a,{size:26,icon:"goal"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Goal","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},a.hasOwnProperty("step_status")&&3===parseInt(a.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&2===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&4===parseInt(a.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")),a.hasOwnProperty("step_status")&&3!==parseInt(a.step_status)&&a.hasOwnProperty("status")&&!Object(l.isEmpty)(a.status)&&[4,3].includes(parseInt(a.status))&&a.hasOwnProperty("msg")&&!Object(l.isEmpty)(a.msg)&&Object(n.createElement)(f.a,{position:"bottom",abPos:!0,toolTipText:Object(n.createElement)("span",{className:"bwfan_tooltip_text","data-position":"top"},a.msg),icon:"info",iconSize:20,size:200}))),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(l.isEmpty)(r)?"-":r)))))),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},a.hasOwnProperty("status")&&1===parseInt(a.status)?Object(n.createElement)(n.Fragment,null,Object(b.__)("Completed on ","wp-marketing-automations"),Object(i.W)(a.date)):Object(n.createElement)(n.Fragment,null,Object(b.__)("Waiting","wp-marketing-automations")))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},v={1:Object(b.__)("Delay for a specific period","wp-marketing-automations"),2:Object(b.__)("Delay until a specific date and time","wp-marketing-automations"),3:Object(b.__)("Delay until a custom field date","wp-marketing-automations"),4:Object(b.__)("Delay with variable","wp-marketing-automations")},_=function(e){var t=e.data,a=!Object(l.isEmpty)(t)&&t.hasOwnProperty("value")?t.value:{},c=a.type,r=void 0===c?0:c,o=a.delayData,d=void 0===o?{}:o;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon icon-delay"},Object(n.createElement)(m.a,{size:28,icon:"time-left"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Delay","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},t.hasOwnProperty("step_status")&&3===parseInt(t.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&2===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&4===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")),t.hasOwnProperty("status")&&[4,3].includes(parseInt(t.status))&&t.hasOwnProperty("msg")&&!Object(l.isEmpty)(t.msg)&&Object(n.createElement)(f.a,{position:"bottom",abPos:!0,toolTipText:Object(n.createElement)("span",{className:"bwfan_tooltip_text","data-position":"top"},t.msg),icon:"info",iconSize:20,size:200}))),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},v.hasOwnProperty(r)&&Object(n.createElement)("div",{className:"bwf-node-content-type"},v[r]),Object(n.createElement)("div",{className:"bwf-node-content-label"},function(){switch(parseInt(r)){case 1:var e=d.day_delay,t=void 0===e?{}:e;if(!Object(l.isEmpty)(t))return Object(n.createElement)(n.Fragment,null," ","Delay ( ",t.text+" "+t.unit," )"," ");break;case 2:var a=data,s=a.date,c=void 0===s?"":s,o=a.time,i=void 0===o?"":o;if(!Object(l.isEmpty)(c)&&!Object(l.isEmpty)(i))return Object(n.createElement)(n.Fragment,null," Delay ( ",c+" at "+i," ) ");break;case 3:var m=data.custom_field,b=void 0===m?"":m;if(!Object(l.isEmpty)(b))return Object(n.createElement)(n.Fragment,null," Custom field ( #",b," ) ");break;default:return Object(n.createElement)(n.Fragment,null)}}())))))),t.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},function(){if(!t.hasOwnProperty("status"))return Object(b.__)("Completed on","wp-marketing-automations");switch(parseInt(t.status)){case 2:return Object(b.__)("Next run on","wp-marketing-automations");default:return Object(b.__)("Completed on","wp-marketing-automations")}}()," ",Object(i.W)(t.date))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},y=function(e){return Object(n.createElement)("div",{className:e&&e.data&&e.data.direction&&"no"===e.data.direction?"bwf-yes-no-node  bwf-no-node":"bwf-yes-no-node bwf-yes-node"},Object(n.createElement)(s.d,{type:"target",position:"top",style:{opacity:0},isConnectable:!1}),Object(n.createElement)("span",{className:"bwf-yes-no-wrap"},e&&e.data&&e.data.direction&&"no"===e.data.direction?Object(b.__)("No","wp-marketing-automations"):Object(b.__)("Yes","wp-marketing-automations")),Object(n.createElement)(s.d,{type:"source",position:"bottom",style:{opacity:0},isConnectable:!1}))},N=function(e){var t=e.data,a=void 0===t?{}:t,c=a.date,r=void 0===c?"":c;return Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick is-start-node-selected"},Object(n.createElement)("div",{className:"bwf-node-icon icon-exit"},Object(n.createElement)(m.a,{size:26,icon:"exit"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Exit Automation","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},a.hasOwnProperty("step_status")&&3===parseInt(a.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")))),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},Object(b.__)("Started On","wp-marketing-automations")+" ",Object(i.W)(r))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},g=function(e){var t=e.data;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick"},Object(n.createElement)("div",{className:"bwf-node-icon icon-jump"},Object(n.createElement)(m.a,{size:28,icon:"jump"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Jump","wp-marketing-automations"))),Object(n.createElement)("div",{className:"bwf-node-action"},t.hasOwnProperty("step_status")&&3===parseInt(t.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Deleted","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&2===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&4===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")))),Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},Object(n.createElement)("div",{className:"bwf-node-content-label"},t.hasOwnProperty("msg")?t.msg:"-")))))),t.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},Object(b.__)("Completed on ","wp-marketing-automations"),Object(i.W)(t.date))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},h=function(e){var t=e.data,a=t.sidebarValues,c=(void 0===a?{}:a).title,r=void 0===c?"":c;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",isConnectable:!1}),Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick is-start-node-selected"},Object(n.createElement)("div",{className:"bwf-node-icon icon-split-test"},Object(n.createElement)(m.a,{size:28,icon:"split-test"})),Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-type"},Object(b.__)("Step","wp-marketing-automations")),Object(n.createElement)("div",{className:"bwf-node-content-label"},Object(b.__)("Split Path","wp-marketing-automations")+(""!==r?" - "+r:""))),Object(n.createElement)("div",{className:"bwf-node-action"},t.hasOwnProperty("step_status")&&4===parseInt(t.step_status)&&Object(n.createElement)("div",{className:"bwf-node-stat deleted"},Object(b.__)("Archived","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&2===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat queued"},Object(b.__)("Queued","wp-marketing-automations")),t.hasOwnProperty("step_status")&&3!==parseInt(t.step_status)&&t.hasOwnProperty("status")&&4===parseInt(t.status)&&Object(n.createElement)("div",{className:"bwf-node-stat skipped"},Object(b.__)("Skipped","wp-marketing-automations")))),t.hasOwnProperty("msg")&&""!==t.msg&&Object(n.createElement)("div",{className:"bwf-node-step-content"},Object(n.createElement)("div",{className:"bwf-step-content"},Object(n.createElement)("div",{className:"bwf-step-brick"},Object(n.createElement)("div",{className:"bwf-step-content-content"},Object(n.createElement)("div",{className:"bwf-node-content-label"},t.msg)))))),t.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},Object(b.__)("On","wp-marketing-automations")+" ",Object(i.W)(t.date))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},k=function(e){var t=e.data,a=(void 0===t?{}:t).path,c=void 0===a?"":a,r=Object(i.kc)();return Object(n.createElement)("div",{className:"bwf-splitpath-node-wrapper"},Object(n.createElement)(s.d,{type:"target",position:"top",style:{opacity:0},isConnectable:!1}),Object(n.createElement)("span",{className:"bwf-split-node split-path-"+c},Object(b.__)("Path","wp-marketing-automations")+" "+r[c]),Object(n.createElement)(s.d,{type:"source",position:"bottom",style:{opacity:0},isConnectable:!1}))},P=function(e){var t=e.data,a=void 0===t?{}:t,c=a.date,r=void 0===c?"":c;return Object(n.createElement)("div",{className:"bwf-node-wrapper"},Object(n.createElement)("div",{className:"bwf-inner-wrapper "},Object(n.createElement)("div",{className:"bwf-node-brick is-start-node-selected",style:{background:"#f0f0f0"}},Object(n.createElement)("div",{className:"bwf-node-inner-content"},Object(n.createElement)("div",{className:"bwf-node-content-label bwf-t-center"},Object(b.__)("Step Deleted","wp-marketing-automations")))),a.hasOwnProperty("date")&&Object(n.createElement)("div",{className:"bwf-node-date"},Object(b.__)("Started On","wp-marketing-automations")+" ",Object(i.W)(r))),Object(n.createElement)(s.d,{type:"source",position:"bottom",isConnectable:!1}))},I=a(1011),S=(a(1005),a(1006),a(61));function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,s=!1,c=void 0;try{for(var r,o=e[Symbol.iterator]();!(n=(r=o.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(e){s=!0,c=e}finally{try{n||null==o.return||o.return()}finally{if(s)throw c}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}t.a=function(e){var t=e.setFullScreen,a=e.fullScreen,r=e.customerData,m=void 0===r?{}:r,b=e.isConatctTab,O=void 0!==b&&b,u=e.automatonID,f=void 0===u?0:u,v=e.defaultData,F=void 0===v?[]:v,D=e.getData,x=void 0===D||D,z=e.hasHeader,A=void 0!==z&&z,q=Object(c.a)(),T=q.getCustomerSelected,W=q.getAutomationId,Q=(O?m:T()).trail,R=void 0===Q?"":Q,J=O?f:W(),L={start:d,action:p,conditional:j,end:w,benchmark:E,wait:_,yesNoNode:y,exit:N,jump:g,split:h,splitpath:k,unknown:P},M=Object(s.m)((function(e){return e.setSelectedElements})),Z=C(Object(n.useState)(F),2),B=Z[0],G=Z[1],H=C(Object(n.useState)(!1),2),V=(H[0],H[1]),U=C(Object(n.useState)(!0),2),Y=U[0],$=U[1],K=Object(s.n)().setCenter,X=Object(s.l)();Object(n.useEffect)((function(){Object(l.isNull)(document.querySelector("#bwf-single-automation-wrap"))?Object(l.isNull)(document.querySelector(".bwf-automation-contact-journey"))||(te.current=document.querySelector(".bwf-automation-contact-journey").getBoundingClientRect()):te.current=document.querySelector("#bwf-single-automation-wrap").getBoundingClientRect()}),[Y]),Object(n.useEffect)((function(){""!==R&&x?function(){try{o()({path:Object(i.u)("/automation/".concat(J,"/trail?tid=").concat(R)),method:"GET"}).then((function(e){$(!1),200===e.code?Object(l.isEmpty)(e.result)||G(e.result):V(!0)}))}catch(e){V(!0),$(!1)}}():$(!1)}),[R]);var ee=Object(I.a)(B,!1),te=Object(n.useRef)();return Object(n.useEffect)((function(){if(!Y){var e=0,t=0,a=X.getState().nodes;if(a.length&&te.current){var n=a[0];n.hasOwnProperty("__rf")?(e=n.__rf.position.x+140,t=n.__rf.position.y):(e=n.position.x+140,t=n.position.y),t=parseFloat(t)+.4*parseFloat(te.current.height),K(e,t,1)}}}),[Y,ee]),Object(n.createElement)(n.Fragment,null,Y?Object(n.createElement)(S.a,null):Object(n.createElement)("div",{className:"bwf-automation-contact-journey full "+(A?"bwf-journey-has-header":"")},Object(n.createElement)(s.f,{defaultZoom:1,minZoom:.5,maxZoom:4,nodeTypes:L,nodesConnectable:!1,nodesDraggable:!1,zoomOnScroll:!1,zoomOnDoubleClick:!1,paneMoveable:!0,panOnScroll:!0,elements:ee},Object(n.createElement)(s.c,{showInteractive:!1},!O&&Object(n.createElement)(s.b,{onClick:function(){t(!a),document.body.style.overflow=a?"":"hidden",M([])}},a?Object(n.createElement)("span",{className:"dashicons dashicons-fullscreen-exit-alt custom-control-icon"}):Object(n.createElement)("span",{className:"dashicons dashicons-fullscreen-alt custom-control-icon"}))),Object(n.createElement)(s.a,null))))}}}]);