(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var s in n)e.o(n,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:n[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{FIRST_WP_VERSION_WITH_THUNK_SUPPORT:()=>S,INITIAL_STATE:()=>i,QLIGG_REST_ROUTES:()=>v,STORE_NAME:()=>c,WP_VERSION:()=>m,actions:()=>s,apiFetch:()=>b,applyThunkMiddleware:()=>P,clearFeedCache:()=>T,fetchRestApiAccounts:()=>E,fetchRestApiFeeds:()=>w,fetchRestApiSettings:()=>R,isVersionLessThan:()=>N,reducer:()=>n,resolvers:()=>o,selectors:()=>_,storeConfig:()=>Be,useAccountsEntities:()=>F,useFeedsEntities:()=>k,useSettingsEntities:()=>A});var n={};e.r(n),e.d(n,{accounts:()=>a,default:()=>d,feeds:()=>u,settings:()=>l});var s={};e.r(s),e.d(s,{createAccount:()=>H,createFeed:()=>D,deleteAccount:()=>U,deleteFeed:()=>I,editFeed:()=>j,saveSettings:()=>M,setAccounts:()=>O,setFeeds:()=>x,setSettings:()=>C});var _={};e.r(_),e.d(_,{getAccounts:()=>L,getFeeds:()=>W,getSettings:()=>$});var o={};e.r(o),e.d(o,{getAccounts:()=>qe,getFeeds:()=>Ge,getSettings:()=>Ve});const r=window.wp.data,c="qligg",i={accounts:{},feeds:[],settings:{}};function a(e=i.accounts,t){return"SET_ACCOUNTS"===t.type?t.payload:e}function u(e=i.feeds,t){return"SET_FEEDS"===t.type?t.payload:e}function l(e=i.settings,t){return"SET_SETTINGS"===t.type?t.payload:e}const d=(0,r.combineReducers)({accounts:a,feeds:u,settings:l}),f=window.lodash,p=window.wp.i18n,h=window.wp.notices,g=window.wp.apiFetch;var y=e.n(g);const{QLIGG_REST_ROUTES:v,WP_VERSION:m}=qligg_store,S="6.0";async function b(e){return y()(e).then((e=>(e.code,e))).catch((e=>{throw new Error(e)}))}const w=({method:e,data:t}={})=>b({path:v.feeds,method:e,data:t});function k(){const{createFeed:e,editFeed:t,deleteFeed:n}=(0,r.useDispatch)(c),{feeds:s,isResolvingFeeds:_,hasResolvedFeeds:o}=(0,r.useSelect)((e=>{const{isResolving:t,hasFinishedResolution:n,getFeeds:s}=e(c);return{feeds:Object.values(s()),isResolvingFeeds:t("getFeeds"),hasResolvedFeeds:n("getFeeds")}}),[]);return{feeds:s,isResolvingFeeds:_,hasResolvedFeeds:o,hasFeeds:!(!o||!Object.keys(s)?.length),createFeed:e,editFeed:t,deleteFeed:n}}function T({method:e,data:t}){return b({path:v.cache,method:e,data:t})}const E=({method:e,data:t}={})=>b({path:v.accounts,method:e,data:t});function F(){const{createAccount:e,deleteAccount:t}=(0,r.useDispatch)(c),{accounts:n,isResolvingAccounts:s,hasResolvedAccounts:_}=(0,r.useSelect)((e=>{const{isResolving:t,hasFinishedResolution:n,getAccounts:s}=e(c);return{accounts:Object.values(s()),isResolvingAccounts:t("getAccounts"),hasResolvedAccounts:n("getAccounts")}}),[]);return{accounts:n,isResolvingAccounts:s,hasResolvedAccounts:_,hasAccounts:!(!_||!Object.keys(n)?.length),createAccount:e,deleteAccount:t}}const R=({method:e,data:t}={})=>b({path:v.settings,method:e,data:t});function A(){const{saveSettings:e}=(0,r.useDispatch)(c),{settings:t,isResolvingSettings:n,hasResolvedSettings:s}=(0,r.useSelect)((e=>{const{isResolving:t,hasFinishedResolution:n,getSettings:s}=e(c);return{settings:s(),isResolvingSettings:t("getSettings"),hasResolvedSettings:n("getSettings")}}),[]);return{settings:t,isResolvingSettings:n,hasResolvedSettings:s,hasSettings:!(!s||!Object.keys(t)?.length),saveSettings:e}}const N=(e,t)=>{const n=e.split(".").map(Number),s=t.split(".").map(Number);for(let e=0;e<s.length;e++){if(n[e]<s[e])return!0;if(n[e]>s[e])return!1}return!1},P=e=>{const t=e.instantiate;return e.instantiate=e=>{const n=t(e);if(!n.store||!n.store.dispatch)throw new Error((0,p.__)("The created instance does not contain a valid store.","insta-gallery"));const s=n.store.dispatch,_=((e,t)=>({registry:t,get dispatch(){return Object.assign((t=>e.store.dispatch(t)),e.getActions())},get select(){return Object.assign((t=>t(e.store.__unstableOriginalGetState())),e.getSelectors())},get resolveSelect(){return e.getResolveSelectors()}}))(n,e);return n.store.dispatch=((e,t)=>n=>"function"==typeof n?n(e):t(n))(_,s),n},e},O=e=>({type:"SET_ACCOUNTS",payload:e}),x=e=>({type:"SET_FEEDS",payload:e}),C=e=>({type:"SET_SETTINGS",payload:e}),H=e=>async({registry:t,dispatch:n,select:s})=>{const _=await E({method:"POST",data:e});if(_?.code)return t.dispatch(h.store).createSuccessNotice((0,p.sprintf)("%s: %s",_.code,_.message),{type:"snackbar"}),!1;const o=s.getAccounts();return n.setAccounts({...o,[_.id]:_}),t.dispatch(h.store).createSuccessNotice((0,p.__)("The account has been updated successfully.","insta-gallery"),{type:"snackbar"}),!0},U=e=>async({registry:t,dispatch:n,select:s})=>{const _=await E({method:"DELETE",data:{id:e}});if(_?.code)return t.dispatch(h.store).createSuccessNotice((0,p.sprintf)("%s: %s",_.code,_.message),{type:"snackbar"}),!1;const o=s.getAccounts(),r=(0,f.filter)(o,(t=>t.id!==e));return n.setAccounts({...r}),t.dispatch(h.store).createSuccessNotice((0,p.sprintf)((0,p.__)("The account %s has been deleted.","insta-gallery"),e),{type:"snackbar"}),!0},D=e=>async({registry:t,dispatch:n,select:s})=>{const _=await w({method:"POST",data:{feed:e}});if(_?.code)return t.dispatch(h.store).createSuccessNotice((0,p.sprintf)("%s: %s",_.code,_.message),{type:"snackbar"}),!1;const o=s.getFeeds();return o.push(_),n.setFeeds([...o]),t.dispatch(h.store).createSuccessNotice((0,p.__)("The feed has been created successfully.","insta-gallery"),{type:"snackbar"}),!0},I=e=>async({registry:t,dispatch:n,select:s})=>{const _=await w({method:"DELETE",data:{feed_settings:e}});if(_?.code)return t.dispatch(h.store).createSuccessNotice((0,p.sprintf)("%s: %s",_.code,_.message),{type:"snackbar"}),!1;const o=s.getFeeds().filter((t=>t.id!==e.id));return n.setFeeds([...o]),t.dispatch(h.store).createSuccessNotice((0,p.sprintf)((0,p.__)("The feed %s has been deleted.","insta-gallery"),e.id),{type:"snackbar"}),!0},j=e=>async({registry:t,dispatch:n,select:s})=>{const _=await w({method:"PATCH",data:{feed:e}});if(_?.code)return t.dispatch(h.store).createSuccessNotice((0,p.sprintf)("%s: %s",_.code,_.message),{type:"snackbar"}),!1;const o=s.getFeeds();return n.setFeeds([...o.map((t=>t.id===e.id?e:t))]),t.dispatch(h.store).createSuccessNotice((0,p.__)("The feed has been updated successfully.","insta-gallery"),{type:"snackbar"}),!0},M=e=>async({registry:t,dispatch:n})=>{const s=await R({method:"POST",data:e});return s?.code?(t.dispatch(h.store).createSuccessNotice((0,p.sprintf)("%s: %s",s.code,s.message),{type:"snackbar"}),!1):(n.setSettings({...e}),t.dispatch(h.store).createSuccessNotice((0,p.__)("Settings saved.","insta-gallery"),{type:"snackbar"}),!0)},L=(e,t)=>t&&e.accounts[t]?e.accounts[t]:e.accounts,W=(e,t)=>t&&e.feeds[t]?e.feeds[t]:e.feeds,$=e=>e.settings;var q,G,V,B,Q,z,J,K,X,Y,Z={},ee=[],te=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ne=Array.isArray;function se(e,t){for(var n in t)e[n]=t[n];return e}function _e(e){var t=e.parentNode;t&&t.removeChild(e)}function oe(e,t,n,s,_){var o={type:e,props:t,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==_?++V:_,__i:-1,__u:0};return null==_&&null!=G.vnode&&G.vnode(o),o}function re(e){return e.children}function ce(e,t){this.props=e,this.context=t}function ie(e,t){if(null==t)return e.__?ie(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?ie(e):null}function ae(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return ae(e)}}function ue(e){(!e.__d&&(e.__d=!0)&&B.push(e)&&!le.__r++||Q!==G.debounceRendering)&&((Q=G.debounceRendering)||z)(le)}function le(){var e,t,n,s,_,o,r,c;for(B.sort(J);e=B.shift();)e.__d&&(t=B.length,s=void 0,o=(_=(n=e).__v).__e,r=[],c=[],n.__P&&((s=se({},_)).__v=_.__v+1,G.vnode&&G.vnode(s),me(n.__P,s,_,n.__n,n.__P.namespaceURI,32&_.__u?[o]:null,r,null==o?ie(_):o,!!(32&_.__u),c),s.__v=_.__v,s.__.__k[s.__i]=s,Se(r,s,c),s.__e!=o&&ae(s)),B.length>t&&B.sort(J));le.__r=0}function de(e,t,n,s,_,o,r,c,i,a,u){var l,d,f,p,h,g=s&&s.__k||ee,y=t.length;for(n.__d=i,fe(n,t,g),i=n.__d,l=0;l<y;l++)null!=(f=n.__k[l])&&"boolean"!=typeof f&&"function"!=typeof f&&(d=-1===f.__i?Z:g[f.__i]||Z,f.__i=l,me(e,f,d,_,o,r,c,i,a,u),p=f.__e,f.ref&&d.ref!=f.ref&&(d.ref&&we(d.ref,null,f),u.push(f.ref,f.__c||p,f)),null==h&&null!=p&&(h=p),65536&f.__u||d.__k===f.__k?i=pe(f,i,e):"function"==typeof f.type&&void 0!==f.__d?i=f.__d:p&&(i=p.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=i,n.__e=h}function fe(e,t,n){var s,_,o,r,c,i=t.length,a=n.length,u=a,l=0;for(e.__k=[],s=0;s<i;s++)r=s+l,null!=(_=e.__k[s]=null==(_=t[s])||"boolean"==typeof _||"function"==typeof _?null:"string"==typeof _||"number"==typeof _||"bigint"==typeof _||_.constructor==String?oe(null,_,null,null,null):ne(_)?oe(re,{children:_},null,null,null):void 0===_.constructor&&_.__b>0?oe(_.type,_.props,_.key,_.ref?_.ref:null,_.__v):_)?(_.__=e,_.__b=e.__b+1,c=he(_,n,r,u),_.__i=c,o=null,-1!==c&&(u--,(o=n[c])&&(o.__u|=131072)),null==o||null===o.__v?(-1==c&&l--,"function"!=typeof _.type&&(_.__u|=65536)):c!==r&&(c==r-1?l=c-r:c==r+1?l++:c>r?u>i-r?l+=c-r:l--:c<r&&l++,c!==s+l&&(_.__u|=65536))):(o=n[r])&&null==o.key&&o.__e&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=ie(o)),ke(o,o,!1),n[r]=null,u--);if(u)for(s=0;s<a;s++)null!=(o=n[s])&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=ie(o)),ke(o,o))}function pe(e,t,n){var s,_;if("function"==typeof e.type){for(s=e.__k,_=0;s&&_<s.length;_++)s[_]&&(s[_].__=e,t=pe(s[_],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=ie(e)),n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function he(e,t,n,s){var _=e.key,o=e.type,r=n-1,c=n+1,i=t[n];if(null===i||i&&_==i.key&&o===i.type&&!(131072&i.__u))return n;if(s>(null==i||131072&i.__u?0:1))for(;r>=0||c<t.length;){if(r>=0){if((i=t[r])&&!(131072&i.__u)&&_==i.key&&o===i.type)return r;r--}if(c<t.length){if((i=t[c])&&!(131072&i.__u)&&_==i.key&&o===i.type)return c;c++}}return-1}function ge(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||te.test(t)?n:n+"px"}function ye(e,t,n,s,_){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof s&&(e.style.cssText=s=""),s)for(t in s)n&&t in n||ge(e.style,t,"");if(n)for(t in n)s&&n[t]===s[t]||ge(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e||"onFocusOut"===t||"onFocusIn"===t?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?s?n.u=s.u:(n.u=K,e.addEventListener(t,o?Y:X,o)):e.removeEventListener(t,o?Y:X,o);else{if("http://www.w3.org/2000/svg"==_)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function ve(e){return function(t){if(this.l){var n=this.l[t.type+e];if(null==t.t)t.t=K++;else if(t.t<n.u)return;return n(G.event?G.event(t):t)}}}function me(e,t,n,s,_,o,r,c,i,a){var u,l,d,f,p,h,g,y,v,m,S,b,w,k,T,E,F=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(i=!!(32&n.__u),o=[c=t.__e=n.__e]),(u=G.__b)&&u(t);e:if("function"==typeof F)try{if(y=t.props,v="prototype"in F&&F.prototype.render,m=(u=F.contextType)&&s[u.__c],S=u?m?m.props.value:u.__:s,n.__c?g=(l=t.__c=n.__c).__=l.__E:(v?t.__c=l=new F(y,S):(t.__c=l=new ce(y,S),l.constructor=F,l.render=Te),m&&m.sub(l),l.props=y,l.state||(l.state={}),l.context=S,l.__n=s,d=l.__d=!0,l.__h=[],l._sb=[]),v&&null==l.__s&&(l.__s=l.state),v&&null!=F.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=se({},l.__s)),se(l.__s,F.getDerivedStateFromProps(y,l.__s))),f=l.props,p=l.state,l.__v=t,d)v&&null==F.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),v&&null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(v&&null==F.getDerivedStateFromProps&&y!==f&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(y,S),!l.__e&&(null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(y,l.__s,S)||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=y,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),b=0;b<l._sb.length;b++)l.__h.push(l._sb[b]);l._sb=[],l.__h.length&&r.push(l);break e}null!=l.componentWillUpdate&&l.componentWillUpdate(y,l.__s,S),v&&null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(f,p,h)}))}if(l.context=S,l.props=y,l.__P=e,l.__e=!1,w=G.__r,k=0,v){for(l.state=l.__s,l.__d=!1,w&&w(t),u=l.render(l.props,l.state,l.context),T=0;T<l._sb.length;T++)l.__h.push(l._sb[T]);l._sb=[]}else do{l.__d=!1,w&&w(t),u=l.render(l.props,l.state,l.context),l.state=l.__s}while(l.__d&&++k<25);l.state=l.__s,null!=l.getChildContext&&(s=se(se({},s),l.getChildContext())),v&&!d&&null!=l.getSnapshotBeforeUpdate&&(h=l.getSnapshotBeforeUpdate(f,p)),de(e,ne(E=null!=u&&u.type===re&&null==u.key?u.props.children:u)?E:[E],t,n,s,_,o,r,c,i,a),l.base=t.__e,t.__u&=-161,l.__h.length&&r.push(l),g&&(l.__E=l.__=null)}catch(e){if(t.__v=null,i||null!=o){for(t.__u|=i?160:32;c&&8===c.nodeType&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else t.__e=n.__e,t.__k=n.__k;G.__e(e,t,n)}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=be(n.__e,t,n,s,_,o,r,i,a);(u=G.diffed)&&u(t)}function Se(e,t,n){t.__d=void 0;for(var s=0;s<n.length;s++)we(n[s],n[++s],n[++s]);G.__c&&G.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){G.__e(e,t.__v)}}))}function be(e,t,n,s,_,o,r,c,i){var a,u,l,d,f,p,h,g=n.props,y=t.props,v=t.type;if("svg"===v?_="http://www.w3.org/2000/svg":"math"===v?_="http://www.w3.org/1998/Math/MathML":_||(_="http://www.w3.org/1999/xhtml"),null!=o)for(a=0;a<o.length;a++)if((f=o[a])&&"setAttribute"in f==!!v&&(v?f.localName===v:3===f.nodeType)){e=f,o[a]=null;break}if(null==e){if(null===v)return document.createTextNode(y);e=document.createElementNS(_,v,y.is&&y),o=null,c=!1}if(null===v)g===y||c&&e.data===y||(e.data=y);else{if(o=o&&q.call(e.childNodes),g=n.props||Z,!c&&null!=o)for(g={},a=0;a<e.attributes.length;a++)g[(f=e.attributes[a]).name]=f.value;for(a in g)if(f=g[a],"children"==a);else if("dangerouslySetInnerHTML"==a)l=f;else if("key"!==a&&!(a in y)){if("value"==a&&"defaultValue"in y||"checked"==a&&"defaultChecked"in y)continue;ye(e,a,null,f,_)}for(a in y)f=y[a],"children"==a?d=f:"dangerouslySetInnerHTML"==a?u=f:"value"==a?p=f:"checked"==a?h=f:"key"===a||c&&"function"!=typeof f||g[a]===f||ye(e,a,f,g[a],_);if(u)c||l&&(u.__html===l.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(l&&(e.innerHTML=""),de(e,ne(d)?d:[d],t,n,s,"foreignObject"===v?"http://www.w3.org/1999/xhtml":_,o,r,o?o[0]:n.__k&&ie(n,0),c,i),null!=o)for(a=o.length;a--;)null!=o[a]&&_e(o[a]);c||(a="value",void 0!==p&&(p!==e[a]||"progress"===v&&!p||"option"===v&&p!==g[a])&&ye(e,a,p,g[a],_),a="checked",void 0!==h&&h!==e[a]&&ye(e,a,h,g[a],_))}return e}function we(e,t,n){try{if("function"==typeof e){var s="function"==typeof e.__u;s&&e.__u(),s&&null==t||(e.__u=e(t))}else e.current=t}catch(e){G.__e(e,n)}}function ke(e,t,n){var s,_;if(G.unmount&&G.unmount(e),(s=e.ref)&&(s.current&&s.current!==e.__e||we(s,null,t)),null!=(s=e.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(e){G.__e(e,t)}s.base=s.__P=null}if(s=e.__k)for(_=0;_<s.length;_++)s[_]&&ke(s[_],t,n||"function"!=typeof e.type);n||null==e.__e||_e(e.__e),e.__c=e.__=e.__e=e.__d=void 0}function Te(e,t,n){return this.constructor(e,n)}q=ee.slice,G={__e:function(e,t,n,s){for(var _,o,r;t=t.__;)if((_=t.__c)&&!_.__)try{if((o=_.constructor)&&null!=o.getDerivedStateFromError&&(_.setState(o.getDerivedStateFromError(e)),r=_.__d),null!=_.componentDidCatch&&(_.componentDidCatch(e,s||{}),r=_.__d),r)return _.__E=_}catch(t){e=t}throw e}},V=0,ce.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=se({},this.state),"function"==typeof e&&(e=e(se({},n),this.props)),e&&se(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),ue(this))},ce.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ue(this))},ce.prototype.render=re,B=[],z="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,J=function(e,t){return e.__v.__b-t.__v.__b},le.__r=0,K=0,X=ve(!1),Y=ve(!0);var Ee,Fe,Re,Ae=[],Ne=G,Pe=Ne.__b,Oe=Ne.__r,xe=Ne.diffed,Ce=Ne.__c,He=Ne.unmount,Ue=Ne.__;function De(){for(var e;e=Ae.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Me),e.__H.__h.forEach(Le),e.__H.__h=[]}catch(t){e.__H.__h=[],Ne.__e(t,e.__v)}}Ne.__b=function(e){Ee=null,Pe&&Pe(e)},Ne.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ue&&Ue(e,t)},Ne.__r=function(e){Oe&&Oe(e);var t=(Ee=e.__c).__H;t&&(Fe===Ee?(t.__h=[],Ee.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.i=e.__N=void 0}))):(t.__h.forEach(Me),t.__h.forEach(Le),t.__h=[])),Fe=Ee},Ne.diffed=function(e){xe&&xe(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==Ae.push(t)&&Re===Ne.requestAnimationFrame||((Re=Ne.requestAnimationFrame)||je)(De)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.i=void 0}))),Fe=Ee=null},Ne.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Me),e.__h=e.__h.filter((function(e){return!e.__||Le(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],Ne.__e(n,e.__v)}})),Ce&&Ce(e,t)},Ne.unmount=function(e){He&&He(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{Me(e)}catch(e){t=e}})),n.__H=void 0,t&&Ne.__e(t,n.__v))};var Ie="function"==typeof requestAnimationFrame;function je(e){var t,n=function(){clearTimeout(s),Ie&&cancelAnimationFrame(t),setTimeout(e)},s=setTimeout(n,100);Ie&&(t=requestAnimationFrame(n))}function Me(e){var t=Ee,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),Ee=t}function Le(e){var t=Ee;e.__c=e.__(),Ee=t}function We(e,t){const n=[];for(const s in e)if(e.hasOwnProperty(s)){const _=t?t+"["+s+"]":s,o=e[s];n.push(null!==o&&"object"==typeof o?We(o,_):encodeURIComponent(_)+"="+encodeURIComponent(o))}return n.join("&")}async function $e(e){const t=window?.qligg_frontend?.restRoutePaths.userprofile,n=We({account_id:e.account_id}).toString(),s=`${t}${t.includes("?")?"&":"?"}${n}`;return await async function({url:e,data:t,method:n}){if(!e)throw new Error(`Empty url: ${e}`);return await fetch(e,{body:JSON.stringify(t),method:n}).then((e=>e.json())).then((e=>{if(e.code)throw new Error(`${e.code}: ${e?.message||"Unknown"}`);return e})).catch((e=>{throw new Error(e)}))}({url:s,method:"GET"})}const qe=async()=>{try{const e=await E(),t=Object.values(e),n=await Promise.all(t.map((async e=>{let t={};try{t=await $e({account_id:e.id})}catch(e){console.log(e)}return delete t.id,{...e,...t}})));return O(n)}catch(e){console.error(e)}},Ge=async()=>{try{const e=await w();return x(Object.values(e))}catch(e){console.error(e)}},Ve=async()=>{try{const e=await R();return C(e)}catch(e){console.error(e)}},Be={reducer:d,actions:s,selectors:_,resolvers:o},Qe=(0,r.createReduxStore)(c,Be);(0,r.register)(N(m,S)?P(Qe):Qe),(window.qligg=window.qligg||{}).store=t})();