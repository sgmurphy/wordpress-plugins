(function(){"use strict";window.kadenceCountdown={cache:{},timers:JSON.parse(kadence_blocks_countdown.timers),createCookie:function(a,b,c,d){if(c){var e=new Date;"minutes"==d?e.setTime(e.getTime()+1e3*(60*c)):"hours"==d?e.setTime(e.getTime()+1e3*(60*(60*c))):e.setTime(e.getTime()+1e3*(60*(60*(24*c))));var f="; expires="+e.toGMTString()}else var f="";document.cookie=kadence_blocks_countdown.site_slug+"-"+a+"="+b+f+"; path=/"},getCookie(a){var b="; "+document.cookie,c=b.split("; "+kadence_blocks_countdown.site_slug+"-"+a+"=");return 2==c.length?c.pop().split(";").shift():""},getRepeaterTimeStamp(a){var b=new Date,c=-1*(new Date().getTimezoneOffset()/60);if(+window.kadenceCountdown.timers[a].time_offset===c)var d=new Date(window.kadenceCountdown.timers[a].timestamp);else var e=c-window.kadenceCountdown.timers[a].time_offset,f=new Date(window.kadenceCountdown.timers[a].timestamp),d=new Date(f.getTime()+1e3*(60*(60*e)));const g=d.getSeconds(),h=d.getMinutes(),i=d.getHours();let j=new Date;const k=(b.getTime()-d.getTime())/86400000;let l=0,m=d.getDate();const n=b.getDate(),o=d.getMonth(),p=11===b.getMonth()?0:n>=m?b.getMonth()+1:b.getMonth();let q=11===b.getMonth()?b.getFullYear()+1:b.getFullYear();const r=new Date(q,p+1,0).getDate();switch(window.kadenceCountdown.timers[a].frequency){case"daily":l=k+1,j.setDate(d.getDate()+l),j.setHours(i),j.setMinutes(h),j.setSeconds(g);break;case"weekly":l=k+(7-k%7),j.setDate(d.getDate()+l),j.setHours(i),j.setMinutes(h),j.setSeconds(g);break;case"monthly":31===m&&30===r?m=30:0===p&&29<=m&&(m=29===m?m:28),j=new Date(q,p,m,i,h,g);break;case"yearly":const a=b.getMonth()>=d.getMonth()&&b.getDate()>=d.getDate()&&b.getHours()>=i&&b.getMinutes()>=h&&b.getSeconds()>=g,c=a?b.getFullYear():b.getFullYear()+1;j=new Date(c,o,m,i,h,g);break;default:}return j.getTime()},updateTimerInterval(a,b,c){var d=new Date,e=-1*(new Date().getTimezoneOffset()/60),f="";if("evergreen"===window.kadenceCountdown.timers[b].type){if(""!==window.kadenceCountdown.cache[b].cookie&&(f=Math.floor(window.kadenceCountdown.cache[b].cookie-d.getTime())),!f&&window.kadenceCountdown.timers[b].strict&&"query"===window.kadenceCountdown.timers[b].evergreen&&(window.kadenceCountdown.timers[b].evergreen="",window.kadenceCountdown.cache[b].request=new XMLHttpRequest,window.kadenceCountdown.cache[b].request.open("POST",kadence_blocks_countdown.ajax_url,!0),window.kadenceCountdown.cache[b].request.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),window.kadenceCountdown.cache[b].request.onload=function(){200<=this.status&&400>this.status&&(window.kadenceCountdown.cache[b].evergreen=parseInt(this.response),window.kadenceCountdown.cache[b].evergreen&&(f=Math.floor(window.kadenceCountdown.cache[b].evergreen-d.getTime()),window.kadenceCountdown.createCookie(window.kadenceCountdown.timers[b].campaign_id,window.kadenceCountdown.cache[b].evergreen,30,"days"),window.kadenceCountdown.cache[b].cookie=window.kadenceCountdown.cache[b].evergreen))},window.kadenceCountdown.cache[b].request.onerror=function(){},window.kadenceCountdown.cache[b].request.send("action=kadence_get_evergreen&nonce="+kadence_blocks_countdown.ajax_nonce+"&site_slug="+kadence_blocks_countdown.site_slug+"&reset="+window.kadenceCountdown.cache[b].reset+"&countdown_id="+window.kadenceCountdown.timers[b].campaign_id)),f||window.kadenceCountdown.timers[b].strict||!window.kadenceCountdown.timers[b].evergreen||"query"===window.kadenceCountdown.timers[b].evergreen||(f=Math.floor(window.kadenceCountdown.timers[b].evergreen-d.getTime())),!f&&window.kadenceCountdown.cache[b].evergreen&&(f=Math.floor(window.kadenceCountdown.cache[b].evergreen-d.getTime())),f&&0>f){var g=new Date;g.setTime(window.kadenceCountdown.cache[b].cookie+1e3*(60*(60*(24*Math.floor(window.kadenceCountdown.cache[b].reset)))));var h=Math.floor(g.getTime()-d.getTime());0>h&&(f="")}if(!f&&(window.kadenceCountdown.timers[b].strict&&window.kadenceCountdown.cache[b].request&&window.kadenceCountdown.cache[b].request.readyState&&4===window.kadenceCountdown.cache[b].request.readyState||!window.kadenceCountdown.timers[b].strict)){var i=new Date;i.setTime(i.getTime()+1e3*(60*(60*Math.floor(window.kadenceCountdown.timers[b].hours)))),i.setTime(i.getTime()+1e3*(60*Math.floor(window.kadenceCountdown.timers[b].minutes))),window.kadenceCountdown.cache[b].evergreen=i.getTime()+100,window.kadenceCountdown.createCookie(window.kadenceCountdown.timers[b].campaign_id,window.kadenceCountdown.cache[b].evergreen,30,"days"),f=Math.floor(i.getTime()-d.getTime());var j=new XMLHttpRequest;j.open("POST",kadence_blocks_countdown.ajax_url,!0),j.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),j.onload=function(){200<=this.status&&400>this.status},j.onerror=function(){},j.send("action=kadence_evergreen_timestamp&nonce="+kadence_blocks_countdown.ajax_nonce+"&site_slug="+kadence_blocks_countdown.site_slug+"&timestamp="+window.kadenceCountdown.cache[b].evergreen+"&countdown_id="+window.kadenceCountdown.timers[b].campaign_id)}}else{if(+window.kadenceCountdown.timers[b].time_offset===e)var k=new Date(window.kadenceCountdown.timers[b].timestamp);else var l=e-window.kadenceCountdown.timers[b].time_offset,m=new Date(window.kadenceCountdown.timers[b].timestamp),k=new Date(m.getTime()+1e3*(60*(60*l)));f=Math.floor(k.getTime()-d.getTime())}const n=!window.kadenceCountdown.timers[b].stopCount||!(new Date(window.kadenceCountdown.timers[b].endDate)<=new Date);if(window.kadenceCountdown.timers[b].repeat&&0>=f&&n){const a=window.kadenceCountdown.getRepeaterTimeStamp(b);f=Math.floor(a-d.getTime())}if(f&&0>f){if("redirect"===window.kadenceCountdown.timers[b].action)window.kadenceCountdown.timers[b].redirect&&(window.location.href=window.kadenceCountdown.timers[b].redirect);else if("hide"===window.kadenceCountdown.timers[b].action)c.style.display="none";else if("message"===window.kadenceCountdown.timers[b].action)c.querySelector(".kb-countdown-inner-first")&&(c.querySelector(".kb-countdown-inner-first").style.display="none"),c.querySelector(".kb-countdown-timer")&&(c.querySelector(".kb-countdown-timer").style.display="none"),c.querySelector(".kb-countdown-inner-second")&&(c.querySelector(".kb-countdown-inner-second").style.display="none"),c.querySelector(".kb-countdown-inner-complete")&&(c.querySelector(".kb-countdown-inner-complete").style.display="block"),c.style.opacity=1,window.kadenceCountdown.timers[b].revealOnLoad&&(c.style.height=c.scrollHeight+"px");else{if(window.kadenceCountdown.timers[b].timer){var o=window.kadenceCountdown.timers[b].dividers,p=window.kadenceCountdown.timers[b].stopWatch,q=window.kadenceCountdown.timers[b].units,r={};r.days=window.kadenceCountdown.timers[b].daysLabel,r.hours=window.kadenceCountdown.timers[b].hoursLabel,r.minutes=window.kadenceCountdown.timers[b].minutesLabel,r.seconds=window.kadenceCountdown.timers[b].secondsLabel;var s={};void 0===q||void 0===q[0]||void 0===q[0].days||q[0].days?(s.days=0,s.hours=0,s.minutes=0,s.seconds=0):void 0===q||void 0===q[0]||void 0===q[0].hours||q[0].hours?(s.hours=0,s.minutes=0,s.seconds=0):void 0===q||void 0===q[0]||void 0===q[0].minutes||q[0].minutes?(s.minutes=0,s.seconds=0):s.seconds=0;var t=window.kadenceCountdown.timers[b].preLabel?`<div class="kb-countdown-item kb-pre-timer"><span class="kb-pre-timer-inner">${window.kadenceCountdown.timers[b].preLabel}</span></div>`:"",u=window.kadenceCountdown.timers[b].postLabel?`<div class="kb-countdown-item kb-post-timer"><span class="kb-post-timer-inner">${window.kadenceCountdown.timers[b].postLabel}</span></div>`:"",v=Object.keys(s).map(a=>"seconds"!==a&&o?`<div class="kb-countdown-item kb-countdown-date-item kb-countdown-date-item-${a}"><span class="kb-countdown-number">${window.kadenceCountdown.calculateNumberDesign(s[a],p)}</span><span class="kb-countdown-label">${r[a]}</span></div><div class="kb-countdown-item kb-countdown-date-item kb-countdown-divider-item kb-countdown-divider-item-${a}"><span class="kb-countdown-number">:</span><span class="kb-countdown-label">&nbsp;</span></div>`:`<div class="kb-countdown-item kb-countdown-date-item kb-countdown-date-item-${a}"><span class="kb-countdown-number">${window.kadenceCountdown.calculateNumberDesign(s[a],p)}</span><span class="kb-countdown-label">${r[a]}</span></div>`).join(" ");a.innerHTML=t+v+u}c.style.opacity=1,window.kadenceCountdown.timers[b].revealOnLoad&&(c.style.height=c.scrollHeight+"px")}return void(window.kadenceCountdown.cache[b].interval&&clearInterval(window.kadenceCountdown.cache[b].interval))}if((f||0===f)&&window.kadenceCountdown.timers[b].timer){var o=window.kadenceCountdown.timers[b].dividers,p=window.kadenceCountdown.timers[b].stopWatch,q=window.kadenceCountdown.timers[b].units,r={};r.days=window.kadenceCountdown.timers[b].daysLabel,r.hours=window.kadenceCountdown.timers[b].hoursLabel,r.minutes=window.kadenceCountdown.timers[b].minutesLabel,r.seconds=window.kadenceCountdown.timers[b].secondsLabel;var w=Math.floor(f/3600000%24),x=Math.floor(f/1e3/60%60),y=Math.floor(f/1e3%60),s={};void 0===q||void 0===q[0]||void 0===q[0].days||q[0].days?(s.days=Math.floor(f/86400000),s.hours=w,s.minutes=x,s.seconds=y):(w=Math.floor(f/3600000),void 0===q||void 0===q[0]||void 0===q[0].hours||q[0].hours?(s.hours=w,s.minutes=x,s.seconds=y):(x=Math.floor(f/1e3/60),void 0===q||void 0===q[0]||void 0===q[0].minutes||q[0].minutes?(s.minutes=x,s.seconds=y):(y=Math.floor(f/1e3),s.seconds=y)));var t=window.kadenceCountdown.timers[b].preLabel?`<div class="kb-countdown-item kb-pre-timer"><span class="kb-pre-timer-inner">${window.kadenceCountdown.timers[b].preLabel}</span></div>`:"",u=window.kadenceCountdown.timers[b].postLabel?`<div class="kb-countdown-item kb-post-timer"><span class="kb-post-timer-inner">${window.kadenceCountdown.timers[b].postLabel}</span></div>`:"",v=Object.keys(s).map(a=>"seconds"!==a&&o?`<div class="kb-countdown-item kb-countdown-date-item kb-countdown-date-item-${a}"><span class="kb-countdown-number">${window.kadenceCountdown.calculateNumberDesign(s[a],p)}</span><span class="kb-countdown-label">${r[a]}</span></div><div class="kb-countdown-item kb-countdown-date-item kb-countdown-divider-item kb-countdown-divider-item-${a}"><span class="kb-countdown-number">:</span><span class="kb-countdown-label">&nbsp;</span></div>`:`<div class="kb-countdown-item kb-countdown-date-item kb-countdown-date-item-${a}"><span class="kb-countdown-number">${window.kadenceCountdown.calculateNumberDesign(s[a],p)}</span><span class="kb-countdown-label">${r[a]}</span></div>`).join(" ");a.innerHTML=t+v+u}if((f||0===f)&&!window.kadenceCountdown.cache[b].revealed&&(window.kadenceCountdown.cache[b].revealed=!0,c.style.opacity=1,window.kadenceCountdown.timers[b].revealOnLoad)){var z=c.closest(".kadence-pro-fixed-wrap");z&&!window.kadenceCountdown.timers[b].timer?(setTimeout(function(){c.style.height=c.scrollHeight+"px",z.style.transition="height 0.8s ease",z.style.height=Math.floor(z.scrollHeight+c.scrollHeight)+"px"},200),setTimeout(function(){var a=new CustomEvent("kadence-update-sticky");window.dispatchEvent(a),z.style.transition=""},1e3)):c.style.height=c.scrollHeight+"px"}},calculateNumberDesign(a,b=!1){return b?9<a?""+a:"0"+a:a},updateTimer(a,b,c){window.kadenceCountdown.cache[b]={},window.kadenceCountdown.cache[b].evergreen="",window.kadenceCountdown.cache[b].request="",window.kadenceCountdown.cache[b].revealed=!1,window.kadenceCountdown.cache[b].cookie="","evergreen"===window.kadenceCountdown.timers[b].type&&window.kadenceCountdown.timers[b].campaign_id&&(window.kadenceCountdown.cache[b].cookie=window.kadenceCountdown.getCookie(window.kadenceCountdown.timers[b].campaign_id)),window.kadenceCountdown.updateTimerInterval(a,b,c),window.kadenceCountdown.cache[b].interval=setInterval(function(){window.kadenceCountdown.updateTimerInterval(a,b,c)},1e3)},initTimer(){var a=document.querySelectorAll(".kb-countdown-container");if(a.length)for(var b,c=0;c<a.length;c++)if(b=a[c].getAttribute("data-id"),b&&window.kadenceCountdown.timers[b]){var d=a[c].querySelector(".kb-countdown-timer");window.kadenceCountdown.updateTimer(d,b,a[c])}}},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",window.kadenceCountdown.initTimer):window.kadenceCountdown.initTimer()})();