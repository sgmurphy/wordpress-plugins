/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var t={156:()=>{window.bt_bb_add_horizontal=function(t,e){let i=jQuery;if(void 0!==e){for(var b=[],a=function(t,e){b.push(t);var i=!1;if(""==(t=t.replace(/\s/gm,""))&&e>0)i=!1;else if(""==t)i=!0;else{var a=t.split("+");if(a.length>12)i=!0;else{var n=0,o=[],_=[];for(let t=0;t<a.length;t++){var r=a[t].split("/");if(2!=r.length){i=!0;break}var s=parseInt(r[0]);o.push(s);var d=parseInt(r[1]);if(_.push(d),s<1||s>12||d<1||d>12){i=!0;break}}if(!i){for(let t=0;t<o.length;t++){var l=12*o[t]/_[t];if(!Number.isInteger(l)&&window.bt_bb_custom_elements||!Number.isInteger(l)&&!Number.isInteger(l/2.4)){i=!0;break}n+=l}(12!=n&&0==e||!Number.isInteger(n/12))&&(i=!0)}}}return!i},n=function(t){return(t.match(/\+/g)||[]).length},o=!1,_=0;_<e.length;_++)if(!a(e[_],_)){o=!0;break}if(i(".bt_bb_dialog_enter_layout").parent().removeClass("bt_bb_layout_error_alert"),o)return i(".bt_bb_dialog_enter_layout").eq(_).parent().addClass("bt_bb_layout_error_alert"),setTimeout((function(){alert(window.bt_bb_text.layout_error)}),300),!1;var r=n(e[0]);for(let t=1;t<e.length;t++){let b=n(e[t]);if(r!=b&&b>0)return i(".bt_bb_dialog_enter_layout").parent().removeClass("bt_bb_layout_error_alert"),i(".bt_bb_dialog_enter_layout").eq(t).parent().addClass("bt_bb_layout_error_alert"),setTimeout((function(){alert(window.bt_bb_text.number_columns)}),300),!1}var s=window.bt_bb_from,d=b[0].split("+"),l=b[1].split("+"),c=b[2].split("+"),p=b[3].split("+"),w=b[4].split("+"),u=b[5].split("+");for(let b=0;b<t.children.length;b++){if(s.bt_ends_with(t.children[b].key)){var h=t.children[b].children.length;if(h>0)if(d.length>=h){for(let e=0;e<h;e++){for(var m in window.bt_bb_map[window.bt_bb_base].accept);var v=window.bt_bb_map[m].width_param;(g=attr_to_obj(t.children[b].children[e].attr))[v]=d[e],g.width_xl=l[e],g.width_lg=c[e],g.width_md=p[e],g.width_sm=w[e],g.width_xs=u[e],t.children[b].children[e].attr=JSON.stringify(g)}for(let e=h;e<d.length;e++){var f={};for(var m in window.bt_bb_map[window.bt_bb_base].accept);f.title=m,f.base=m,f.key=bt_bb_get_key(),f.children=[],v=window.bt_bb_map[m].width_param,f.attr='{"'+v+'":'+bt_bb_json_encode(d[e])+', "width_xl":'+bt_bb_json_encode(l[e])+', "width_lg":'+bt_bb_json_encode(c[e])+', "width_md":'+bt_bb_json_encode(p[e])+', "width_sm":'+bt_bb_json_encode(w[e])+', "width_xs":'+bt_bb_json_encode(u[e])+"}";var g=attr_to_obj(f.attr);void 0!==window.bt_bb_map[f.base]&&void 0!==window.bt_bb_map[f.base].params&&i.each(window.bt_bb_map[f.base].params,(function(t,e){e.hasOwnProperty("value")&&"string"==typeof e.value?g[e.param_name]=bt_bb_special_char_encode(e.value):e.hasOwnProperty("value")&&e.hasOwnProperty("default")&&(g[e.param_name]=e.default)})),f.attr=JSON.stringify(g),bt_bb_insert_inside(t,window.bt_bb_from,f)}}else{for(let e=0;e<d.length;e++){for(var m in window.bt_bb_map[window.bt_bb_base].accept);v=window.bt_bb_map[m].width_param,(g=attr_to_obj(t.children[b].children[e].attr))[v]=d[e],g.width_xl=l[e],g.width_lg=c[e],g.width_md=p[e],g.width_sm=w[e],g.width_xs=u[e],t.children[b].children[e].attr=JSON.stringify(g)}bt_bb_delete_obj(t,t.children[b].children[d.length].key,h-d.length)}else for(let e=0;e<d.length;e++){for(var m in f={},window.bt_bb_map[window.bt_bb_base].accept);f.title=m,f.base=m,f.key=bt_bb_get_key(),f.children=[],v=window.bt_bb_map[m].width_param,f.attr='{"'+v+'":'+bt_bb_json_encode(d[e])+', "width_xl":'+bt_bb_json_encode(l[e])+', "width_lg":'+bt_bb_json_encode(c[e])+', "width_md":'+bt_bb_json_encode(p[e])+', "width_sm":'+bt_bb_json_encode(w[e])+', "width_xs":'+bt_bb_json_encode(u[e])+"}",g=attr_to_obj(f.attr),void 0!==window.bt_bb_map[f.base]&&void 0!==window.bt_bb_map[f.base].params&&i.each(window.bt_bb_map[f.base].params,(function(t,e){e.hasOwnProperty("value")&&"string"==typeof e.value?g[e.param_name]=bt_bb_special_char_encode(e.value):e.hasOwnProperty("value")&&e.hasOwnProperty("default")&&(g[e.param_name]=e.default)})),f.attr=JSON.stringify(g),bt_bb_insert_inside(t,window.bt_bb_from,f)}return window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),!0}if(!0===bt_bb_add_horizontal(t.children[b],e))return!0}}else window.bt_bb_dialog.show("add_horizontal")}},567:()=>{window.bt_bb_add_horizontal_classic=function(t,e){if(jQuery,void 0!==e){var i=!1;if(""==(e=e.replace(/\s/gm,"").replace(/<\/?[^>]+(>|$)/gm,"")))i=!0;else{var b=e.split("+");if(b.length>12)i=!0;else{for(var a=0,n=[],o=[],_=0;_<b.length;_++){var r=b[_].split("/");if(2!=r.length){i=!0;break}var s=parseInt(r[0]);n.push(s);var d=parseInt(r[1]);if(o.push(d),s<1||s>12||d<1||d>12){i=!0;break}}if(!i){for(var l=0;l<n.length;l++){var c=12*n[l]/o[l];if(c!=Math.floor(c)&&(2.4!=c||window.bt_bb_custom_elements)){i=!0;break}a+=c}12!=a&&(i=!0)}}}if(i)return void alert(window.bt_bb_text.layout_error);var p=window.bt_bb_from;for(_=0;_<t.children.length;_++){if(p.bt_ends_with(t.children[_].key)){var w=t.children[_].children.length;if(w>0)if(b.length>=w){for(l=0;l<w;l++){for(var u in window.bt_bb_map[window.bt_bb_base].accept);var h=window.bt_bb_map[u].width_param;(v=attr_to_obj(t.children[_].children[l].attr))[h]=b[l],t.children[_].children[l].attr=JSON.stringify(v)}for(l=w;l<b.length;l++){var m={};for(var u in window.bt_bb_map[window.bt_bb_base].accept);m.title=u,m.base=u,m.key=bt_bb_get_key(),m.children=[],h=window.bt_bb_map[u].width_param,m.attr='{"'+h+'":'+bt_bb_json_encode(b[l])+"}",bt_bb_insert_inside(t,window.bt_bb_from,m)}}else{for(l=0;l<b.length;l++){for(var u in window.bt_bb_map[window.bt_bb_base].accept);var v;h=window.bt_bb_map[u].width_param,(v=attr_to_obj(t.children[_].children[l].attr))[h]=b[l],t.children[_].children[l].attr=JSON.stringify(v)}bt_bb_delete_obj(t,t.children[_].children[b.length].key,w-b.length)}else for(l=0;l<b.length;l++){for(var u in m={},window.bt_bb_map[window.bt_bb_base].accept);m.title=u,m.base=u,m.key=bt_bb_get_key(),m.children=[],h=window.bt_bb_map[u].width_param,m.attr='{"'+h+'":'+bt_bb_json_encode(b[l])+"}",bt_bb_insert_inside(t,window.bt_bb_from,m)}return window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),!0}if(!0===bt_bb_add_horizontal_classic(t.children[_],e))return!0}}else window.bt_bb_dialog.show("add_horizontal")}},629:()=>{window.bt_bb_edit_layout=function(){let t=jQuery;var e=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from),i="",b="",a="",n="",o="",_="";for(let t=0;t<e.children.length;t++){var r=window.bt_bb_map[e.children[t].base].width_param,s=attr_to_obj(e.children[t].attr);void 0!==s&&void 0!==s[r]&&(i+=s[r]),void 0!==s&&void 0!==s.width_xl&&(b+=s.width_xl),void 0!==s&&void 0!==s.width_lg&&(a+=s.width_lg),void 0!==s&&void 0!==s.width_md&&(n+=s.width_md),void 0!==s&&void 0!==s.width_sm&&(o+=s.width_sm),void 0!==s&&void 0!==s.width_xs&&(_+=s.width_xs),t<e.children.length-1&&(void 0!==s&&void 0!==s[r]&&""!==s[r]&&(i+="+"),void 0!==s&&void 0!==s.width_xl&&""!==s.width_xl&&(b+="+"),void 0!==s&&void 0!==s.width_lg&&""!==s.width_lg&&(a+="+"),void 0!==s&&void 0!==s.width_md&&""!==s.width_md&&(n+="+"),void 0!==s&&void 0!==s.width_sm&&""!==s.width_sm&&(o+="+"),void 0!==s&&void 0!==s.width_xs&&""!==s.width_xs&&(_+="+"))}t("#bt_bb_dialog").addClass("bt_bb_dialog_add_horizontal"),t("#bt_bb_dialog .bt_bb_dialog_content").html('<div class="bt_bb_dialog_pick_layout_container"><span class="bt_bb_dialog_pick_layout bt_bb_dialog_11" title="1/1"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_12_12" title="1/2+1/2"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_13_13_13" title="1/3+1/3+1/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_14_14_14" title="1/4+1/4+1/4+1/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_15_15_15_15_15" title="1/5+1/5+1/5+1/5+1/5"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_23_13" title="2/3+1/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_13_23" title="1/3+2/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_34_14" title="3/4+1/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_34" title="1/4+3/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_24_14" title="1/4+2/4+1/4"></span></div><div class="bt_bb_dialog_enter_layout_container"><div class="bt_bb_edit_layout_xxl"><b>&gt;1400px</b><input type="text" class="bt_bb_dialog_enter_layout bt_bb_dialog_enter_layout_xxl"></div><div class="bt_bb_edit_layout_xl"><b>1201-1400px</b><input type="text" class="bt_bb_dialog_enter_layout bt_bb_dialog_enter_layout_xl" placeholder="---"></div><div class="bt_bb_edit_layout_lg"><b>993-1200px</b><input type="text" class="bt_bb_dialog_enter_layout bt_bb_dialog_enter_layout_lg" placeholder="---"></div><div class="bt_bb_edit_layout_md"><b>769-992px</b><input type="text" class="bt_bb_dialog_enter_layout bt_bb_dialog_enter_layout_md" placeholder="---"></div><div class="bt_bb_edit_layout_sm"><b>481-768px</b><input type="text" class="bt_bb_dialog_enter_layout bt_bb_dialog_enter_layout_sm" placeholder="---"></div><div class="bt_bb_edit_layout_xs"><b>&le;480px</b><input type="text" class="bt_bb_dialog_enter_layout bt_bb_dialog_enter_layout_xs" placeholder="---"></div></div>'),t("#bt_bb_dialog").append('<input type="button" class="bt_bb_dialog_button bt_bb_edit button button-small" value="'+window.bt_bb_text.submit+'">'),""!=i&&t(".bt_bb_dialog_enter_layout_xxl").val(i),""!=b?t(".bt_bb_dialog_enter_layout_xl").val(b):""!=i&&t(".bt_bb_dialog_enter_layout_xl").val(i),""!=a&&t(".bt_bb_dialog_enter_layout_lg").val(a),""!=n&&t(".bt_bb_dialog_enter_layout_md").val(n),""!=o&&t(".bt_bb_dialog_enter_layout_sm").val(o),""!=_&&t(".bt_bb_dialog_enter_layout_xs").val(_),t(".bt_bb_dialog_pick_layout").click((function(e){var i=t(this).attr("title").replace(/\s/gm,"");t(".bt_bb_dialog_enter_layout").parent().removeClass("bt_bb_layout_error_alert"),t(".bt_bb_dialog_enter_layout").val(i),("bt_bb_row"==window.bt_bb_base||"bt_bb_row_inner"==window.bt_bb_base||window.bt_bb_responsive_layout_extra_elements&&window.bt_bb_responsive_layout_extra_elements.includes(window.bt_bb_base))&&("1/2+1/2"==i?t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1"):"1/3+1/3+1/3"==i?(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_md").val("1/1+1/1+1/1")):"1/4+1/4+1/4+1/4"==i?(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/2+1/2+1/2+1/2"),t(".bt_bb_dialog_enter_layout_md").val("1/2+1/2+1/2+1/2")):"2/3+1/3"==i||"1/3+2/3"==i||"3/4+1/4"==i||"1/4+3/4"==i?(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/1+1/1"),t(".bt_bb_dialog_enter_layout_md").val("1/1+1/1")):"1/4+2/4+1/4"==i?(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_md").val("1/1+1/1+1/1")):"1/5+1/5+1/5+1/5+1/5"==i&&(t(".bt_bb_dialog_enter_layout_xs").val("1/1+1/1+1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_sm").val("1/1+1/1+1/1+1/1+1/1"),t(".bt_bb_dialog_enter_layout_md").val("1/1+1/1+1/1+1/1+1/1")))})),t(".bt_bb_dialog_enter_layout").keypress((function(t){13==t.which&&t.preventDefault()})),t(".bt_bb_dialog_add_horizontal .bt_bb_dialog_button").click((function(e){bt_bb_add_horizontal(window.bt_bb_state_current,[t(".bt_bb_dialog_enter_layout_xxl").val(),t(".bt_bb_dialog_enter_layout_xl").val(),t(".bt_bb_dialog_enter_layout_lg").val(),t(".bt_bb_dialog_enter_layout_md").val(),t(".bt_bb_dialog_enter_layout_sm").val(),t(".bt_bb_dialog_enter_layout_xs").val()])&&window.bt_bb_dialog.hide()}))}},522:()=>{window.bt_bb_edit_layout_classic=function(){let t=jQuery;for(var e=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from),i="",b=0;b<e.children.length;b++){var a=window.bt_bb_map[e.children[b].base].width_param;i+=attr_to_obj(e.children[b].attr)[a],b<e.children.length-1&&(i+="+")}t("#bt_bb_dialog").addClass("bt_bb_dialog_add_horizontal bt_bb_dialog_add_horizontal_classic"),t("#bt_bb_dialog .bt_bb_dialog_content").html('<div class="bt_bb_dialog_pick_layout_container"><span class="bt_bb_dialog_pick_layout bt_bb_dialog_11" title="1/1"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_12_12" title="1/2+1/2"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_13_13_13" title="1/3+1/3+1/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_14_14_14" title="1/4+1/4+1/4+1/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_23_13" title="2/3+1/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_13_23" title="1/3+2/3"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_34_14" title="3/4+1/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_34" title="1/4+3/4"></span><span class="bt_bb_dialog_pick_layout bt_bb_dialog_14_24_14" title="1/4+2/4+1/4"></span></div><div class="bt_bb_dialog_enter_layout_container"><div contenteditable="true" class="bt_bb_dialog_enter_layout">1/1</div></div>'),t("#bt_bb_dialog").append('<input type="button" class="bt_bb_dialog_button bt_bb_edit button button-small" value="'+window.bt_bb_text.submit+'">'),""!=i&&t(".bt_bb_dialog_enter_layout").html(i),t(".bt_bb_dialog_pick_layout").click((function(e){t(".bt_bb_dialog_enter_layout").html(t(this).attr("title").replace(/\s/gm,"")),t(".bt_bb_dialog_enter_layout").focus()})),t(".bt_bb_dialog_enter_layout").keypress((function(e){13==e.which&&(e.preventDefault(),bt_bb_add_horizontal_classic(window.bt_bb_state_current,t(this).html()),window.bt_bb_dialog.hide())})),t(".bt_bb_dialog_add_horizontal .bt_bb_dialog_button").click((function(e){bt_bb_add_horizontal_classic(window.bt_bb_state_current,t(".bt_bb_dialog_enter_layout").html()),window.bt_bb_dialog.hide()}))}},678:()=>{window.bt_bb_resize_h_helper=function(t){"_root"==t.title&&(t=t.children);for(let l=0;l<t.length;l++){if(void 0!==window.bt_bb_map[t[l].title]&&"horizontal"==window.bt_bb_map[t[l].title].container&&void 0!==t[l].children){var e=!1,i=!1,b=[],a=[],n=t[l].children.length;for(let i=0;i<n;i++){if(void 0===window.bt_bb_map[t[l].children[i].title]||void 0===window.bt_bb_map[t[l].children[i].title].width_param){e=!0;break}var o=window.bt_bb_map[t[l].children[i].title].width_param;void 0===t[l].children[i].attr&&(t[l].children[i].attr="{}"),(s=attr_to_obj(t[l].children[i].attr)).hasOwnProperty(o)||(s[o]="1/12");var _=s[o].split("/");b.push(parseInt(_[0])),a.push(parseInt(_[1]))}var r=0;for(let t=0;t<b.length;t++){if((d=12*b[t]/a[t])!=Math.floor(d)&&(2.4!=d||window.bt_bb_custom_elements)){i=!0;break}r+=d}if(!e&&(12!=r||i))for(let e=0;e<n;e++){var s;o=window.bt_bb_map[t[l].children[e].title].width_param,(s=attr_to_obj(t[l].children[e].attr))[o]="1/"+n,s.width_xl=s[o],12==n?(s.width_lg="1/6",s.width_md="1/1",s.width_sm="1/1",s.width_xs="1/1"):6==n?(s.width_lg="1/3",s.width_md="1/1",s.width_sm="1/1",s.width_xs="1/1"):5==n?(s.width_lg="1/5",s.width_md="1/1",s.width_sm="1/1",s.width_xs="1/1"):4==n?(s.width_lg="1/4",s.width_md="1/2",s.width_sm="1/2",s.width_xs="1/1"):3==n?(s.width_lg="1/3",s.width_md="1/1",s.width_sm="1/1",s.width_xs="1/1"):2==n?(s.width_lg="1/2",s.width_md="1/2",s.width_sm="1/2",s.width_xs="1/1"):(s.width_lg="1/1",s.width_md="1/1",s.width_sm="1/1",s.width_xs="1/1"),b[e]=1,a[e]=n,t[l].children[e].attr=JSON.stringify(s)}i=!1;for(let t=0;t<b.length;t++){var d;if((d=12*b[t]/a[t])!=Math.floor(d)&&(2.4!=d||window.bt_bb_custom_elements)){i=!0;break}}t[l].has_alert=i?"bt_bb_item_alert":void 0}void 0!==t[l].children&&bt_bb_resize_h(t[l].children)}}},965:()=>{window.bt_bb_resize_h_helper_classic=function(t){"_root"==t.title&&(t=t.children);for(var e=0;e<t.length;e++){if(void 0!==window.bt_bb_map[t[e].title]&&"horizontal"==window.bt_bb_map[t[e].title].container&&void 0!==t[e].children){for(var i=!1,b=!1,a=[],n=[],o=0;o<t[e].children.length;o++){if(void 0===window.bt_bb_map[t[e].children[o].title]||void 0===window.bt_bb_map[t[e].children[o].title].width_param){i=!0;break}var _=window.bt_bb_map[t[e].children[o].title].width_param;void 0===t[e].children[o].attr&&(t[e].children[o].attr="{}"),(l=attr_to_obj(t[e].children[o].attr)).hasOwnProperty(_)||(l[_]="1/12");var r=l[_].split("/");a.push(parseInt(r[0])),n.push(parseInt(r[1]))}for(var s=0,d=0;d<a.length;d++){if((c=12*a[d]/n[d])!=Math.floor(c)&&(2.4!=c||window.bt_bb_custom_elements)){b=!0;break}s+=c}if(!i&&(12!=s||b))for(o=0;o<t[e].children.length;o++){var l;_=window.bt_bb_map[t[e].children[o].title].width_param,(l=attr_to_obj(t[e].children[o].attr))[_]="1/"+t[e].children.length,a[o]=1,n[o]=t[e].children.length,t[e].children[o].attr=JSON.stringify(l)}for(b=!1,d=0;d<a.length;d++){var c;if((c=12*a[d]/n[d])!=Math.floor(c)&&(2.4!=c||window.bt_bb_custom_elements)){b=!0;break}}t[e].has_alert=b?"bt_bb_item_alert":void 0}void 0!==t[e].children&&bt_bb_resize_h(t[e].children)}}},33:()=>{var t;t=jQuery,window.bt_bb_dialog_param={attach_image:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";return i+="<b>"+t.param.heading+"</b>",i+='<div class="bt_bb_dialog_image_container">',Number.isInteger(parseInt(t.attr_value))&&(i+='<div class="bt_bb_sortable_item" data-id="'+t.attr_value+'"><i class="fa fa-times"></i></div>',setTimeout(window.bt_bb_sortable_background,100,t.attr_value)),i+="</div>",i+='<div class="bt_bb_dialog_inline_buttons bt_bb_left">',i+='<input type="button" class="bt_bb_dialog_select_images_button button button-small" value="'+window.bt_bb_text.select+'">',i+="</div>",i+="<div>",Number.isInteger(parseInt(t.attr_value))?i+='<input disabled type="text" placeholder="'+window.bt_bb_text.or_enter_image_url+'">':i+='<input type="text" placeholder="'+window.bt_bb_text.or_enter_image_url+'" value="'+t.attr_value+'">',i+="</div>",e.innerHTML=i,e},attach_images:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";i+="<b>"+t.param.heading+"</b>",i+='<div class="bt_bb_dialog_image_container">';var b=t.attr_value.split(",");if(""!=b[0])for(var a=0;a<b.length;a++)Number.isInteger(parseInt(b[a]))&&(i+='<div class="bt_bb_sortable_item" data-id="'+b[a]+'"><i class="fa fa-times"></i></div>',setTimeout(window.bt_bb_sortable_background,100,b[a]));return i+="</div>",i+='<div class="bt_bb_dialog_inline_buttons bt_bb_left">',i+='<input type="button" class="bt_bb_dialog_select_images_button button button-small" value="'+window.bt_bb_text.select+'">',i+="</div>",e.innerHTML=i,e},textfield:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";""==t.attr_value?void 0!==t.param.value&&(i=t.param.value,i=bt_bb_special_char_decode(i)):i=bt_bb_special_char_decode(t.attr_value);var b="";return void 0!==t.param.placeholder&&(b=' placeholder="'+(b=t.param.placeholder)+'"'),e.innerHTML="<b>"+t.param.heading+'</b><input type="text" value="'+i+'"'+b+">",e},datetime_local:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";return""==t.attr_value?void 0!==t.param.value&&(i=t.param.value,i=bt_bb_special_char_decode(i)):i=bt_bb_special_char_decode(t.attr_value),e.innerHTML="<b>"+t.param.heading+'</b><input type="datetime-local" value="'+i+'">',e},textarea:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";return void 0!==t.param.placeholder&&(i=' placeholder="'+(i=t.param.placeholder)+'"'),e.innerHTML="<b>"+t.param.heading+'</b><textarea rows="5"'+i+">"+bt_bb_special_char_decode(t.attr_value)+"</textarea>",e},textarea_object:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]);try{e.innerHTML="<b>"+t.param.heading+'</b><textarea rows="5">'+window.bt_bb_b64DecodeUnicode(t.attr_value)+"</textarea>"}catch(i){e.innerHTML="<b>"+t.param.heading+'</b><textarea rows="5">'+t.attr_value+"</textarea>"}return e},dropdown:function(e){var i=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+e.group_class],["data-param_name",e.param.param_name],["data-type",e.param.type]]);e.param.responsive_override&&t(i).addClass("bt_bb_dialog_item_responsive_override");var b="";b+="<b>"+e.param.heading+"</b>";var a=function(t,i){var b="<select>";i&&(b+='<option value="">---</option>');for(var a=e.param.value,n=Object.keys(a),o=!1,_=0;_<n.length;_++)if(t==a[n[_]]){o=!0;break}for(_=0;_<n.length;_++)o&&t==a[n[_]]||!o&&a[n[_]]==e.param.default&&!i?b+='<option value="'+a[n[_]]+'" selected>'+n[_]+"</option>":b+='<option value="'+a[n[_]]+'">'+n[_]+"</option>";return b+"</select>"};if(e.attr_value.includes("%$%"))var n=e.attr_value.split("%$%");else n=e.attr_value.split(",;,");return 5!=n.length&&6!=n.length?n=[n[0],"","","","",""]:5==n.length&&(n=[n[0],n[1],n[1],n[2],n[3],n[4]]),b+=a(n[0]),b+='<div class="bt_bb_responsive_override_container">',e.param.responsive_override&&(b+='<div class="bt_bb_responsive_override"><span class="bt_bb_ro bt_bb_ro_xl" title="1200-1400px"></span>',b+=a(n[1],!0),b+="</div>",b+='<div class="bt_bb_responsive_override"><span class="bt_bb_ro bt_bb_ro_lg" title="993-1200px"></span>',b+=a(n[2],!0),b+="</div>",b+='<div class="bt_bb_responsive_override"><span class="bt_bb_ro bt_bb_ro_md" title="769-992px"></span>',b+=a(n[3],!0),b+="</div>",b+='<div class="bt_bb_responsive_override"><span class="bt_bb_ro bt_bb_ro_sm" title="481-768px"></span>',b+=a(n[4],!0),b+="</div>",b+='<div class="bt_bb_responsive_override"><span class="bt_bb_ro bt_bb_ro_xs" title="&le;480px"></span>',b+=a(n[5],!0),b+="</div>"),b+="</div>",i.innerHTML=b,i},iconpicker:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";return i+="<b>"+t.param.heading+"</b>",i+=window.bt_bb_iconpicker(t.param.value,t.attr_value),e.innerHTML=i,e},colorpicker:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item bt_bb_colorpicker"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";return i+="<b>"+t.param.heading+"</b>",i+='<input type="text" class="bt_bb_color_picker" value="'+bt_bb_special_char_decode(t.attr_value)+'" data-alpha-enabled="true">',e.innerHTML=i,e},link:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";return""==t.attr_value?void 0!==t.param.value&&(i=t.param.value,i=bt_bb_special_char_decode(i)):i=bt_bb_special_char_decode(t.attr_value),e.innerHTML="<b>"+t.param.heading+'</b><input type="text" value="'+i+'">',e.innerHTML+='<input type="search" placeholder="'+window.bt_bb_text.search_content+'" class="bt_bb_search_link"><span class="spinner"></span>',e.innerHTML+='<div class="bt_bb_search_link_results" data-empty-text="'+window.bt_bb_text.no_results+'"></div>',e},checkbox:function(t){var e=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+t.group_class],["data-param_name",t.param.param_name],["data-type",t.param.type]]),i="";i+="<b>"+t.param.heading+"</b>";var b=t.param.value,a=Object.keys(b),n="";return t.attr_value==b[a[0]]&&(n=" checked"),i+='<label for="bt_'+t.base+"_"+t.param.param_name+'"><input id="bt_'+t.base+"_"+t.param.param_name+'" type="checkbox" value="'+b[a[0]]+'"'+n+"><span>"+a[0]+"</span></label>",e.innerHTML=i,e},checkbox_group:function(e){var i=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+e.group_class],["data-param_name",e.param.param_name],["data-type",e.param.type]]),b="";b+="<b>"+e.param.heading+"</b>";var a=e.param.value,n=Object.keys(a),o=e.attr_value.split(" "),_={};if(!window.bt_bb.editing_element){var r=window.bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from);void 0!==r.attr&&(_=window.attr_to_obj(r.attr))}for(var s=!1,d=0;d<n.length;d++){var l="";-1!=t.inArray(a[n[d]],o)&&(l=" checked","hidden_lg"==a[n[d]]&&(s=!0)),s&&"hidden_xl"==a[n[d]]&&!_.bb_version&&(l=" checked"),b+='<label for="'+e.base+"_"+e.param.param_name+d+'"><input id="'+e.base+"_"+e.param.param_name+d+'" type="checkbox" value="'+a[n[d]]+'"'+l+"><span>"+n[d]+"</span></label>"}return i.innerHTML=b,i},radio:function(e){var i=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+e.group_class],["data-param_name",e.param.param_name],["data-type",e.param.type]]),b="";b+="<b>"+e.param.heading+"</b>";for(var a=e.param.value,n=Object.keys(a),o=e.attr_value.split(" "),_=0,r=0;r<n.length;r++){var s="";-1==t.inArray(a[n[r]],o)&&a[n[r]]!=e.param.default||(s=" checked"),"__text"==a[n[r]]?b+="<p>"+n[r]+"</p>":(b+='<label for="'+e.base+"_"+e.param.param_name+_+'"><input id="'+e.base+"_"+e.param.param_name+_+'" name="'+e.base+"_"+e.param.param_name+'" type="radio" value="'+a[n[r]]+'"'+s+"><span>"+n[r]+"</span></label>",_++)}return i.innerHTML=b,i},ai_prompt:function(e){const i=document.createDocumentFragment();var b=!1;if(void 0!==e.group_class)var a=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+e.group_class],["data-param_name",e.param.param_name],["data-type",e.param.type],["data-system_prompt",e.param.system_prompt],["data-target",JSON.stringify(e.param.target)]]);else b=!0,a=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"],["data-type","ai_prompt"],["data-target","_content"]]);var n="",o="",_="",r="",s="";if(""!=e.attr_value&&void 0!==e.attr_value){var d=JSON.parse(window.bt_bb_b64DecodeUnicode(e.attr_value));n=d.keywords?d.keywords:"",o=d.tone?d.tone:"",_=d.mode?d.mode:"",localStorage.getItem("bt_bb_ai_tone")&&(o=localStorage.getItem("bt_bb_ai_tone")),localStorage.getItem("bt_bb_ai_mode")&&(_=localStorage.getItem("bt_bb_ai_mode")),r=d.language?d.language:"",localStorage.getItem("bt_bb_ai_language")&&(r=localStorage.getItem("bt_bb_ai_language")),b?(s=d.length,localStorage.getItem("bt_bb_ai_length_"+window.bt_bb.editing_base)&&(s=localStorage.getItem("bt_bb_ai_length_"+window.bt_bb.editing_base))):(s=JSON.parse(d.length),localStorage.getItem("bt_bb_ai_length_"+window.bt_bb.editing_base)&&(s=localStorage.getItem("bt_bb_ai_length_"+window.bt_bb.editing_base).split(",")))}var l=!1;localStorage.getItem("bt_bb_ai_open")&&"true"===localStorage.getItem("bt_bb_ai_open")&&(l=!0);var c=document.createElement("div"),p="";l&&(window.bt_bb.editing_element||t(".bt_bb_dialog_tinymce_editor_container").height("220px"),a.classList.add("bt_bb_ai_open"),p=" bt_bb_ai_open"),c.innerHTML='<div class="bt_bb_ai_switch'+p+'" title="'+window.bt_bb_text.ai_content_generator+'">'+window.bt_bb_text.ai_content_generator+' <a href="https://documentation.bold-themes.com/bold-builder/ai-features/" target="_blank" title="'+window.bt_bb_text.help+'">?</a></div>';var w="",u="",h="",m="";"generate"!=_&&""!=_&&(w=" disabled",u=" disabled",h=" disabled",m=" disabled","translate"==_?m="":"rephrase"==_&&(h="")),a.innerHTML+='<div class="bt_bb_dialog_item_inner bt_bb_dialog_item_inner_ai_keywords"><b>'+window.bt_bb_text.keywords+'</b><input type="text" value="'+window.bt_bb_escape_html(n)+'" class="bt_bb_ai_keywords"'+w+"></div>";var v='<div class="bt_bb_dialog_item_inner bt_bb_dialog_item_inner_ai_length"><b>'+window.bt_bb_text.desired_length+"</b><i>"+window.bt_bb_text.leave_empty+'</i><div class="bt_bb_ai_length_container">',f=0;if(b)s.includes("c")&&(s=""),v+='<div><input type="number" value="'+s+'" data-target="_content"'+u+"></div>";else for(const[t,i]of Object.entries(e.param.target)){var g="";Array.isArray(s)&&(g=s[f]),g.includes("c")&&(g=""),v+="<div><b>"+i.title+'</b><input type="number" value="'+g+'" data-target="'+t+'"'+u+"></div>",f++}v+="</div></div>",a.innerHTML+=v;var y='<div class="bt_bb_dialog_item_inner bt_bb_dialog_item_inner_ai_tone"><b>'+window.bt_bb_text.tone+'</b><select class="bt_bb_ai_tone"'+h+">",k="bold"==o?" selected":"",x="conversational"==o?" selected":"",S="passionate"==o?" selected":"",E="professional"==o?" selected":"",C="witty"==o?" selected":"";y+='<option value="">'+window.bt_bb_text._tone.default+"</option>",y+='<option value="bold"'+k+">"+window.bt_bb_text._tone.bold+"</option>",y+='<option value="conversational"'+x+">"+window.bt_bb_text._tone.conversational+"</option>",y+='<option value="passionate"'+S+">"+window.bt_bb_text._tone.passionate+"</option>",y+='<option value="professional"'+E+">"+window.bt_bb_text._tone.professional+"</option>",y+='<option value="witty"'+C+">"+window.bt_bb_text._tone.witty+"</option>",y+="</select>",a.innerHTML+=y,a.innerHTML+='<div class="bt_bb_dialog_item_inner bt_bb_dialog_item_inner_ai_language"><b>'+window.bt_bb_text.language+'</b><input type="text" value="'+r+'" class="bt_bb_ai_language" placeholder="'+window.bt_bb_text.english+'"'+m+"></div>";var O='<div class="bt_bb_dialog_item_inner bt_bb_dialog_item_inner_ai_buttons">';O+='<span class="bt_bb_ai_counter">0/0</span>',O+='<input type="button" class="bt_bb_ai_prev_button button button-small" disabled value="&#8249;">',O+='<input type="button" class="bt_bb_ai_next_button button button-small" disabled value="&#8250;">',O+="<select class=\"bt_bb_ai_mode\" onchange=\"window.bt_bb_ai_mode_callback( {'el':this, 'val':this.value} )\">";var D="translate"==_?" selected":"",N="rephrase"==_?" selected":"",T="correct"==_?" selected":"";O+='<option value="generate">'+window.bt_bb_text.generate+"</option>",O+='<option value="translate"'+D+">"+window.bt_bb_text.translate+"</option>",O+='<option value="rephrase"'+N+">"+window.bt_bb_text.rephrase+"</option>",O+='<option value="correct"'+T+">"+window.bt_bb_text.correct+"</option>",O+="</select>",O+='<input type="button" class="bt_bb_ai_regenerate_button button button-small" value="'+window.bt_bb_text.go+'">',O+="</div>",a.innerHTML+=O;var M='<div class="bt_bb_dialog_item_inner bt_bb_dialog_item_inner_ai_error"><span>';return M+=window.bt_bb_text.ai_error,M+="</span></div>",a.innerHTML+=M,i.appendChild(c.firstChild),i.appendChild(a),i}},window.bt_bb_dialog_param.dropdown_color=window.bt_bb_dialog_param.dropdown,window.bt_bb_get_dialog_param=function(t){var e=window.bt_bb_dialog_param[t.param.type.replaceAll("-","_")](t);if(void 0!==t.param.description){var i=bt_bb_create_dom_element("i",[]);i.innerHTML=t.param.description,e.appendChild(i)}return e}},943:()=>{window.bt_bb_parse_data=function(t){window.bt_bb_parse_data_str="",t.children.length>0?(window.bt_bb_parse_data_helper(t),window.bt_bb.fe||(window.switchEditors.go("content","tmce"),tinyMCE.get("content").setContent(window.bt_bb_parse_data_str))):tinyMCE.get("content")&&(window.switchEditors.go("content","tmce"),tinyMCE.get("content").setContent(""))},window.bt_bb_parse_data_helper=function(t){"_root"==t.title&&(t=t.children);for(var e=0;e<t.length;e++){var i=!1;if("_content"==t[e].title&&(i=!0),i)t[e].content.includes("<p>")?window.bt_bb_parse_data_str+=t[e].content:window.bt_bb_parse_data_str+=window.switchEditors.wpautop(t[e].content);else{if(window.bt_bb_parse_data_str+="["+t[e].base,void 0!==t[e].attr&&t[e].attr.startsWith("{"))for(var b=attr_to_arr(t[e].attr),a=0;a<b.length;a++){var n=b[a][1];window.bt_bb_fe_ajax||(n=n.replace(/\n/gim,"<br />\n")),window.bt_bb_parse_data_str+=" "+b[a][0]+'="'+n+'"'}window.bt_bb_parse_data_str+="]"}void 0!==t[e].children&&bt_bb_parse_data_helper(t[e].children),i||(window.bt_bb_parse_data_str+="[/"+t[e].base+"]")}},window.bt_bb_get_edit_item_value=function(t,e,i){const b=jQuery;var a;if("textfield"==e||"datetime-local"==e||"colorpicker"==e||"link"==e)a=window.bt_bb_special_char_encode(i.find("input").val());else if("checkbox"==e)a=i.find("input").prop("checked")?i.find("input").val():"";else if("checkbox_group"==e||"radio"==e){var n=[];i.find("input").each((function(){b(this).prop("checked")&&n.push(b(this).val())})),a=n.join(" ")}else if("textarea"==e)a=window.bt_bb_special_char_encode(i.find("textarea").val());else if("textarea_object"==e)try{a=window.bt_bb_b64EncodeUnicode(i.find("textarea").val())}catch(t){a=i.find("textarea").val()}else if("dropdown"==e)if(i.hasClass("bt_bb_dialog_item_responsive_override")){var o=[];i.find("select :selected").each((function(){o.push(b(this).val())})),a=o.join(",;,")}else a=i.find("select :selected").val();else if("iconpicker"==e)a=i.find(".bt_bb_iconpicker_select .bt_bb_icon_preview").data("icon");else if("attach_image"==e){var _=i.find('input[type="text"]').val();0==i.find(".bt_bb_sortable_item").length&&(a=_)}else if("ai_prompt"==e){var r={};r.keywords=i.find(".bt_bb_ai_keywords").val(),r.tone=i.find(".bt_bb_ai_tone").val(),r.mode=i.find(".bt_bb_ai_mode").val(),r.language=i.find(".bt_bb_ai_language").val();var s=[];i.find(".bt_bb_ai_length_container input").each((function(){s.push(b(this).val())})),r.length=JSON.stringify(s),a=window.bt_bb_b64EncodeUnicode(JSON.stringify(r))}else void 0!==window["bt_bb_cf_"+e+"_on_submit"]&&(a=window["bt_bb_cf_"+e+"_on_submit"](i));return a},window.bt_bb_iconpicker=function(t,e){t=window.bt_bb_icons;var i,b='<div class="bt_bb_iconpicker">',a=Object.keys(t);b+='<div class="bt_bb_iconpicker_select">';for(var n=e.slice(0,-5),o=e.substr(-4),_="",r=0;r<a.length;r++){i=Object.keys(t[a[r]]);for(var s=0;s<i.length;s++)e==t[a[r]][i[s]]&&(_=i[s])}""!=o&&(o="&#x"+o),window.bt_bb.fe?b+='<div class="bt_bb_icon_preview bt_bb_icon_preview_'+n+'" style="font-family:\''+n+'\';" data-icon="'+e+'" data-icon-code="'+o+'"></div>':b+='<div class="bt_bb_icon_preview bt_bb_icon_preview_'+n+'" data-icon="'+e+'" data-icon-code="'+o+'"></div>',b+='<div class="bt_bb_iconpicker_select_text">'+_+"</div>",b+='<i class="fa fa-close bt_bb_iconpicker_clear" style="display:'+(""!=_?"block":"none")+'"></i>',b+='<i class="fa fa-angle-down"></i>',b+="</div>",b+='<div class="bt_bb_iconpicker_filter_container">',b+='<input type="text" class="bt_bb_filter" placeholder="'+window.bt_bb_text.filter+'">',b+="</div>",b+='<div class="bt_bb_iconpicker_icons">';for(var d=0;d<a.length;d++){b+='<div class="bt_bb_iconpicker_title" data-icon-set="'+(n=(e=t[a[d]][Object.keys(t[a[d]])[0]]).slice(0,-5))+'">'+a[d]+"</div>",i=Object.keys(t[a[d]]);for(var l=0;l<i.length;l++)n=(e=t[a[d]][i[l]]).slice(0,-5),o=e.substr(-4),window.bt_bb.fe?b+='<div class="bt_bb_icon_preview bt_bb_icon_preview_'+n+'" style="font-family:\''+n+'\';" data-icon="'+e+'" data-icon-code="&#x'+o+'" data-icon-set="'+n+'" title="'+i[l]+'"></div>':b+='<div class="bt_bb_icon_preview bt_bb_icon_preview_'+n+'" data-icon="'+e+'" data-icon-code="&#x'+o+'" data-icon-set="'+n+'" title="'+i[l]+'"></div>'}return(b+="</div>")+"</div>"},window.bt_bb_iconpicker_init=function(t){const e=jQuery;var i=function(t){e(this).next().toggle(),e(this).next().next().toggle()},b=function(i){var b=e(this).closest(".bt_bb_iconpicker").find(".bt_bb_iconpicker_select .bt_bb_icon_preview"),a=e(this).data("icon");if(b.attr("data-icon",a),b.attr("data-icon-code",e(this).data("icon-code")),b.removeClass(),b.addClass(e(this).attr("class")),"widgets"==t)e(this).closest(".bt_bb_iconpicker_widget_container").find("input").val(e(this).data("icon")),e(this).closest(".bt_bb_iconpicker_widget_container").find("input").trigger("change");else if("override"==t){var n=e(this).closest(".rwmb-boldthemestext-clone").find('input[type="hidden"]'),o=e(this).closest(".rwmb-boldthemestext-clone").find("select").val();""!=o?n.attr("value",o+":"+e(this).data("icon")):n.attr("value","")}window.bt_bb.fe&&b.css("font-family",e(this).css("font-family")),e(this).closest(".bt_bb_iconpicker").find(".bt_bb_iconpicker_select .bt_bb_iconpicker_select_text").html(e(this).attr("title")),e(this).closest(".bt_bb_iconpicker").find(".bt_bb_iconpicker_clear").show(),e(this).parent().hide(),e(this).parent().prev().find("input").val("").trigger("keyup"),e(this).parent().prev().hide(),window.bt_bb.fe&&t(b)},a=function(i){i.stopPropagation();var b=e(this).closest(".bt_bb_iconpicker").find(".bt_bb_iconpicker_select .bt_bb_icon_preview");b.attr("data-icon",""),b.attr("data-icon-code",""),b.parent().find(".bt_bb_iconpicker_select_text").html(""),e(this).closest(".bt_bb_iconpicker").find("input").val(""),"widgets"==t?(e(this).closest(".bt_bb_iconpicker_widget_container").find("input").val(""),e(this).closest(".bt_bb_iconpicker_widget_container").find("input").trigger("change")):"override"==t&&e(this).closest(".rwmb-boldthemestext-clone").find('input[type="hidden"]').attr("value",""),e(this).parent().next().find("input").val("").trigger("keyup"),e(this).parent().next().hide(),e(this).parent().next().next().hide(),e(this).hide(),window.bt_bb.fe&&t(b)},n=function(t){var i=e(this).val(),b=e(this).closest(".bt_bb_iconpicker"),a=[];b.find(".bt_bb_iconpicker_icons .bt_bb_icon_preview").each((function(){var t=e(this).attr("title"),n=new RegExp(i,"i");b.find(".bt_bb_iconpicker_title").hide(),n.test(t)?(a.push(e(this).data("icon-set")),e(this).show()):e(this).hide()}));for(const t in a)b.find('.bt_bb_iconpicker_title[data-icon-set="'+a[t]+'"]').show()};window.bt_bb.fe?e(bt_bb_fe_dialog_content.shadowRoot.querySelectorAll(".bt_bb_iconpicker_select")).on("click",i):"widgets"==t?e("body").on("click",".bt_bb_iconpicker_widget_container .bt_bb_iconpicker_select",i):e(".bt_bb_iconpicker_select").on("click",i),window.bt_bb.fe?e(bt_bb_fe_dialog_content.shadowRoot.querySelectorAll(".bt_bb_iconpicker_icons .bt_bb_icon_preview")).on("click",b):"widgets"==t?e("body").on("click",".bt_bb_iconpicker_icons .bt_bb_icon_preview",b):e(".bt_bb_iconpicker_icons .bt_bb_icon_preview").on("click",b),window.bt_bb.fe?e(bt_bb_fe_dialog_content.shadowRoot.querySelectorAll(".bt_bb_iconpicker .bt_bb_iconpicker_clear")).on("click",a):"widgets"==t?e("body").on("click",".bt_bb_iconpicker_widget_container .bt_bb_iconpicker_clear",a):e(".bt_bb_iconpicker .bt_bb_iconpicker_clear").on("click",a),window.bt_bb.fe?e(bt_bb_fe_dialog_content.shadowRoot.querySelectorAll(".bt_bb_iconpicker .bt_bb_filter")).on("keyup",n):"widgets"==t?e("body").on("keyup",".bt_bb_iconpicker_widget_container .bt_bb_filter",n):e(".bt_bb_iconpicker .bt_bb_filter").on("keyup",n)},window.bt_bb_image_sortable=function(t,e){if(!t.length)return;const i=jQuery;new window.bt_bb_sortable.Sortable(t[0],{animation:150,onSort:function(t){var b=i(t.item).closest(".bt_bb_dialog_item"),a=b.data("param_name"),n="";b.find(".bt_bb_sortable_item").each((function(){n+=i(this).data("id")+","})),n=n.slice(0,-1),e[a]=n,window.bt_bb.fe&&(window.bt_bb.editing_elements.data("bt-bb-fe-atts",e),window.bt_bb.editing_elements_atts=e,window.bt_bb_fe_ajax_preview([]))}})},window.bt_bb_delete_images=function(t,e){const i=jQuery;var b=i(t).closest(".bt_bb_dialog_item").data("param_name"),a=i(t).closest(".bt_bb_dialog_image_container");i(t).parent().remove();var n="";a.find(".bt_bb_sortable_item").each((function(){n+=i(this).data("id")+","})),""==(n=n.slice(0,-1))&&a.parent().find('input[type="text"]').prop("disabled",!1),e[b]=n},window.bt_bb_select_images=function(t,e,i){const b=jQuery;var a=window.bt_bb_get_key(),n=b(t).closest(".bt_bb_dialog_item"),o=n.find(".bt_bb_dialog_image_container"),r=n.data("param_name"),s="add";"attach_image"==n.data("type")&&(s=!1);var d=wp.media.controller.Library.extend({defaults:_.defaults({id:a,title:window.bt_bb_text.select_images,allowLocalEdits:!1,displaySettings:!1,displayUserSettings:!1,multiple:s,type:"image"},wp.media.controller.Library.prototype.defaults)}),l=wp.media({button:{text:window.bt_bb_text.select},state:a,states:[new d]});l.on("select",(function(){var t=l.state(a).get("selection"),_="",s="";t.each((function(t){if(void 0!==t.attributes.sizes){var e;e=void 0!==t.attributes.sizes.thumbnail?t.attributes.sizes.thumbnail.url:t.attributes.sizes.full.url,s+=t.id+",",window.bt_bb.cache[t.id]={},window.bt_bb.cache[t.id].url=e,window.bt_bb.cache[t.id].title=t.attributes.title,_+='<div class="bt_bb_sortable_item" data-id="'+t.id+'" style="background-image:url(\''+e+'\');background-size:cover;"><i class="fa fa-times"></i></div>',o.html(_)}})),""!=(s=s.slice(0,-1))&&(n.find('input[type="text"]').prop("disabled",!0),e[r]=s,window.bt_bb.fe&&(i(t),b("body").addClass("bt_bb_fe_save_on")))})),l.on("open",(function(){var t=l.state(a).get("selection");o.find(".bt_bb_sortable_item").each((function(){var e=wp.media.attachment(b(this).data("id"));t.add(e)}))})),l.open()},window.bt_bb_search_link_init=function(){const t=jQuery;var e=function(e,i,b){i.find(".spinner").show(),i.find(".spinner").css("visibility","visible");var a={action:"bt_bb_search_links",search:e,page:b};t.ajax({type:"POST",url:window.bt_bb_ajax_url,data:a,async:!0,success:function(t){var e=JSON.parse(t);e.length<20&&i.data("thats_all",!0);var a=i.find(".bt_bb_search_link_results");1==b&&(a.empty(),a[0].scrollTo(0,0)),e.forEach((function(t,e){var i=t.permalink;1==window.bt_bb_settings.slug_url&&(i=t.slug),a.append('<div data-link="'+i+'" title="'+i+'">'+t.title+"<span>"+t.info+"</span></div>")})),i.find(".spinner").hide(),i.data("page",b)}})};if(window.bt_bb.fe)var i=t(bt_bb_fe_dialog_content.shadowRoot.querySelectorAll('div[data-type="link"]'));else i=t('div[data-type="link"]');i.each((function(){var i=t(this);e("",i,1),t(this).find(".bt_bb_search_link").on("input",(function(t){var b=(new Date).getTime();void 0!==i.data("last_input_time")&&b-i.data("last_input_time")<500||(i.data("thats_all",!1),setTimeout((function(){e(i.find(".bt_bb_search_link").val(),i,1)}),500),i.data("last_input_time",(new Date).getTime()))})),t(this).find(".bt_bb_search_link").on("focus",(function(t){i.find(".bt_bb_search_link_results").show()})),t(this).find(".bt_bb_search_link").on("blur",(function(t){setTimeout((function(){i.find(".bt_bb_search_link_results").hide()}),200)})),t(this).on("click",".bt_bb_search_link_results div",(function(){i.find('input[type="text"]').val(t(this).data("link")),window.bt_bb.fe&&i.find('input[type="text"]').trigger("input")})),t(this).find(".bt_bb_search_link_results").on("scroll",(function(b){var a=(new Date).getTime();void 0!==i.data("last_scroll_time")&&a-i.data("last_scroll_time")<500||this.scrollTop>.8*(this.scrollHeight-this.clientHeight)&&!i.data("thats_all")&&(e(t(this).val(),i,i.data("page")+1),i.data("last_scroll_time",(new Date).getTime()))}))}))},window.bt_bb_special_char_encode=function(t){for(var e,i=/([\s\S]*?<[a-zA-Z]+?)(\s[^<]*?)(>[\s\S]*)/;null!==(e=i.exec(t));)t=t.replace(i,"$1$3");i=/<\/\s*([a-zA-Z]+)\s*>/g,t=t.replace(i,"</$1>");var b=["address","b","big","cite","code","del","em","i","ins","pre","small","strong","sub","sup","s","u","ul","ol","li"];for(i=/<\/?([a-zA-Z]+)?>/g;null!==(e=i.exec(t));)b.includes(e[1])||(t=t.replace(e[0],""));for(i=/<([a-zA-Z]+)?>/g;null!==(e=i.exec(t));)-1==t.indexOf("</"+e[1]+">")&&(t=t.replace(e[0],""));for(i=/<\/?([a-zA-Z]+)?>/g;null!==(e=i.exec(t));)-1==t.indexOf("<"+e[1]+">")&&(t=t.replace(e[0],""));for(i=/<([a-zA-Z]+)?>/g;null!==(e=i.exec(t));){var a=t.lastIndexOf("<"+e[1]+">");if(a>t.lastIndexOf("</"+e[1]+">")){var n=t.substring(0,a),o=t.substring(a+2+e[1].length);t=n+o}}i=/<([a-zA-Z]+)?>/g;for(var _=Array();null!==(e=i.exec(t));)_.push(e[1]);i=/<([a-zA-Z]+)?>/g;for(var r=Array();null!==(e=i.exec(t));)r.push(e[1]);_.forEach((function(e){if((t.match(new RegExp("<"+e+">","g"))||[]).length>(t.match(new RegExp("</"+e+">","g"))||[]).length){var i=t.indexOf("<"+e+">"),b=t.substring(0,i),a=t.substring(i+2+e.length);t=b+a}})),r.forEach((function(e){if((t.match(new RegExp("<"+e+">","g"))||[]).length<(t.match(new RegExp("</"+e+">","g"))||[]).length){var i=t.indexOf("</"+e+">"),b=t.substring(0,i),a=t.substring(i+3+e.length);t=b+a}}));var s=t.replace(/"/gim,"``");return(s=s.replace(/\[/gim,"`{`")).replace(/\]/gim,"`}`")},window.bt_bb_special_char_decode=function(t){var e=t.replace(/`{`/gim,"[");return(e=(e=e.replace(/`}`/gim,"]")).replace(/``/gim,"&quot;")).replace(/"/gim,"&quot;")},window.bt_bb_json_encode=function(t){var e=/[\b\t\n\f\r\\\"\/\u00A1-\uFFFF]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","/":"\\/"};return e.lastIndex=0,e.test(t)?'"'+t.replace(e,(function(t){var e=i[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+t+'"'},String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.lastIndexOf(t,e)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var i=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>i.length)&&(e=i.length),e-=t.length;var b=i.indexOf(t,e);return-1!==b&&b===e}),window.bt_bb_create_dom_element=function(t,e){for(var i,b=document.createElement(t),a=0;a<e.length;a++)(i=document.createAttribute(e[a][0])).value=e[a][1],b.setAttributeNode(i);return b},window.attr_to_arr=function(t){var e=JSON.parse(t),i=[];for(var b in e)i.push([b,e[b]]);return i},window.attr_to_obj=function(t){return JSON.parse(t)},window.bt_bb_sortable_background=function(t){const e=jQuery;void 0===window.bt_bb.cache[t]?wp.media.attachment(t).fetch().done((function(t){var i;i=void 0!==t.sizes.thumbnail?t.sizes.thumbnail.url:t.sizes.full.url,window.bt_bb.fe?(e(bt_bb_fe_dialog_content.shadowRoot).find('.bt_bb_sortable_item[data-id="'+t.id+'"]').css("background-image",'url("'+i+'")'),e(bt_bb_fe_dialog_content.shadowRoot).find('.bt_bb_sortable_item[data-id="'+t.id+'"]').css("background-size","cover")):(e('.bt_bb_sortable_item[data-id="'+t.id+'"]').css("background-image",'url("'+i+'")'),e('.bt_bb_sortable_item[data-id="'+t.id+'"]').css("background-size","cover")),window.bt_bb.cache[t.id]={},window.bt_bb.cache[t.id].url=i,window.bt_bb.cache[t.id].title=t.title})):window.bt_bb.fe?(e(bt_bb_fe_dialog_content.shadowRoot).find('.bt_bb_sortable_item[data-id="'+t+'"]').css("background-image",'url("'+window.bt_bb.cache[t].url+'")'),e(bt_bb_fe_dialog_content.shadowRoot).find('.bt_bb_sortable_item[data-id="'+t+'"]').css("background-size","cover")):(e('.bt_bb_sortable_item[data-id="'+t+'"]').css("background-image",'url("'+window.bt_bb.cache[t].url+'")'),e('.bt_bb_sortable_item[data-id="'+t+'"]').css("background-size","cover"))},window.bt_bb_get_key=function(){var t="bt_bb_"+Math.random().toString();return t.replace(".","")},window.bt_bb_b64EncodeUnicode=function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})))},window.bt_bb_b64DecodeUnicode=function(t){return decodeURIComponent(Array.prototype.map.call(atob(t),(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))},window.bt_bb_escape_html=function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return t.replace(/[&<>"']/g,(function(t){return e[t]}))}},427:()=>{var t;window.bt_bb_map={},window.bt_bb_map_primary={},window.bt_bb_map_secondary={},window.addEventListener("beforeunload",(function(t){window.bt_bb_dirty&&(t.preventDefault(),t.returnValue="")})),(t=jQuery)(document).ready((function(){try{window.bt_bb_alo=JSON.parse(localStorage.getItem("bt_bb_alo"))}catch(t){console.error(t),window.bt_bb_alo={}}if(window.bt_bb_alo||(window.bt_bb_alo={}),t(window).unload((function(){window.bt_bb_alo||(window.bt_bb_alo={}),localStorage.setItem("bt_bb_alo",JSON.stringify(window.bt_bb_alo))})),window.bt_bb_mouse={},window.bt_bb_drag_item=null,t("#bt_bb").length>0&&window.bt_bb_data.children.length>0&&(void 0!==window.bt_bb_map[window.bt_bb_data.children[0].base]&&!0===window.bt_bb_map[window.bt_bb_data.children[0].base].root||(window.bt_bb_data.children=[],window.bt_bb.is_bb_content=!1)),t("#postdivrich").length>0&&t("#bt_bb").length>0){t("#postdivrich").before('<div id="bt_bb_editor_toolbar"></div>'),window.bt_bb.is_bb_content?(window.bt_bb.editor="bb",t("#postdivrich").addClass("bt_bb_hidden"),t("#bt_bb_editor_toolbar").addClass("bt_bb_is_bb_editor")):(window.bt_bb.editor="wp",t("#bt_bb_sectionid").hide());var e="bb"==window.bt_bb.editor;t("#bt_bb_editor_toolbar").html('<button type="button" class="button bt_bb_switch_editor">'+window.bt_bb_text.switch_editor+'</button> <button type="button" class="button bt_bb_custom_css" disabled>'+window.bt_bb_text.custom_css+"</button>");var i={action:"bt_bb_get_custom_css",post_id:t("#post_ID").val()};t.ajax({type:"POST",url:window.bt_bb_ajax_url,data:i,async:!0,success:function(i){window.bt_bb_custom_css=window.bt_bb_b64EncodeUnicode(i),e&&t(".bt_bb_custom_css").removeAttr("disabled"),""!=i&&t(".bt_bb_custom_css").addClass("button-primary")}})}function b(t){var e=window.location.href;t=t.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}if(t("#publish, #post-preview, #save-post, #save").on("click",(function(e){window.bt_bb_dirty=!1,"bb"==window.bt_bb.editor&&(t("#bt_bb_front_end_preview iframe").remove(),t("#bt_bb_front_end_preview").append('<iframe name="bt_bb_front_end_preview_iframe"></iframe>'),t("#bt_bb_front_end_preview").hide(),window.bt_bb_action="update_wp_editor",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"))})),window.bt_bb_item_mousedown=function(){t(".bt_bb_item").each((function(){t(this).unbind("mousedown"),t(this).on("mousedown",(function(e){e.stopPropagation();var i=this.getBoundingClientRect(),b=e.clientX-i.left,a=e.clientY-i.top;window.bt_bb_mouse.initOffsetX=b,window.bt_bb_mouse.initOffsetY=a,window.bt_bb_action=null,window.bt_bb_drag_item=t(this),t(".bt_bb_toolbar_tools_visible").removeClass("bt_bb_toolbar_tools_visible");var n=t(this).parent()[0].getBoundingClientRect();t(this).parent().css("height",n.height),t(this).parent().addClass("bt_bb_wrap_drag"),t(this).addClass("bt_bb_drag"),t(this).find(".bt_bb_horizontal").css("height","auto"),t(this).find(".bt_bb_width .bt_bb_item").css("height","auto"),t(this).css("width",t(this).width()),t(this).hasClass("bt_bb_toggled")||(n=t(this)[0].getBoundingClientRect(),t(this).css("height",n.height)),t(this).css("position","fixed"),t(this).css("zIndex","100000"),t(this).css("top",bt_bb_mouse.y-bt_bb_mouse.initOffsetY),t(this).css("left",bt_bb_mouse.x-bt_bb_mouse.initOffsetX)}))}))},bt_bb_item_mousedown(),t(document).mouseup((function(e){t(".bt_bb_marker").removeClass("bt_bb_marker"),null!=window.bt_bb_drag_item&&(window.bt_bb_dialog.hide(),t(".bt_bb_toolbar_tools").css("opacity",""),null!=window.bt_bb_action&&window.bt_bb_action.startsWith("move")&&(window.bt_bb_ctrl=e.ctrlKey,bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")),window.bt_bb_drag_item.parent().css("height",""),window.bt_bb_drag_item.parent().removeClass("bt_bb_wrap_drag"),window.bt_bb_drag_item.removeClass("bt_bb_drag"),window.bt_bb_drag_item.find(".bt_bb_horizontal").css("height",""),window.bt_bb_drag_item.find(".bt_bb_width .bt_bb_item").css("height",""),window.bt_bb_drag_item.css("position",""),window.bt_bb_drag_item.css("zIndex",""),window.bt_bb_drag_item.css("opacity",""),window.bt_bb_drag_item.css("width",""),window.bt_bb_drag_item.hasClass("bt_bb_toggled")||window.bt_bb_drag_item.css("height",""),window.bt_bb_drag_item.css("top",""),window.bt_bb_drag_item.css("left","")),window.bt_bb_drag_item=null})),t(document).mousemove((function(e){if(bt_bb_mouse.x=e.clientX,bt_bb_mouse.y=e.clientY,null!=window.bt_bb_drag_item){window.bt_bb_drag_item.css("top",bt_bb_mouse.y-bt_bb_mouse.initOffsetY),window.bt_bb_drag_item.css("left",bt_bb_mouse.x-bt_bb_mouse.initOffsetX);var i=bt_bb_get_action();t(".bt_bb_marker").removeClass("bt_bb_marker bt_bb_marker_up bt_bb_marker_down bt_bb_marker_left bt_bb_marker_right bt_bb_marker_inside"),null!=window.bt_bb_action&&("up"==i[1]?i[0].addClass("bt_bb_marker bt_bb_marker_up"):"down"==i[1]?i[0].addClass("bt_bb_marker bt_bb_marker_down"):"left"==i[1]?i[0].addClass("bt_bb_marker bt_bb_marker_left"):"right"==i[1]?i[0].addClass("bt_bb_marker bt_bb_marker_right"):"inside"==i[1]&&i[0].addClass("bt_bb_marker bt_bb_marker_inside"))}})),t(document).on("mouseover","#bt_bb_dialog",(function(e){e.stopPropagation(),window.bt_bb_dialog.is_mouseover=!0,t(".bt_bb_toolbar_tools_visible").removeClass("bt_bb_toolbar_tools_visible")})),t(document).on("mouseleave","#bt_bb_dialog",(function(t){window.bt_bb_dialog.is_mouseover=!1})),t("#bt_bb_add_root").click((function(t){t.preventDefault(),window.bt_bb_dialog.hide(),window.bt_bb_action="add_root",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")})),t("#bt_bb_main_toolbar .bt_bb_undo").click((function(t){bt_bb_undo()})),t("#bt_bb_main_toolbar .bt_bb_redo").click((function(t){bt_bb_redo()})),t("#bt_bb_main_toolbar .bt_bb_paste_root").click((function(t){bt_bb_paste_main_toolbar()})),t("#bt_bb_main_toolbar .bt_bb_manage_clipboard").click((function(t){window.bt_bb_dialog.hide(),window.bt_bb_dialog.show("manage_cb")})),t("#bt_bb_main_toolbar .bt_bb_sc_mapper").click((function(t){window.bt_bb_dialog.hide(),window.bt_bb_dialog.show("sc_mapper")})),t("#bt_bb_editor_toolbar .bt_bb_switch_editor").click((function(e){"bb"==window.bt_bb.editor?(window.bt_bb.editor="wp",window.bt_bb_action="update_wp_editor",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),t("#postdivrich").removeClass("bt_bb_hidden"),t("#bt_bb_sectionid").hide(),t("#postdivrich").hide().show(0),t(this).parent().removeClass("bt_bb_is_bb_editor"),t(".bt_bb_custom_css").attr("disabled","")):confirm(window.bt_bb_text.switch_editor_confirm)&&(window.bt_bb.editor="bb",t("#postdivrich").addClass("bt_bb_hidden"),t("#bt_bb_sectionid").show(0),t(this).parent().addClass("bt_bb_is_bb_editor"),t(".bt_bb_custom_css").removeAttr("disabled"))})),t("#bt_bb_editor_toolbar .bt_bb_custom_css").on("click",(function(e){window.bt_bb_dialog.hide(),window.bt_bb_dialog.show("custom_css"),t("#bt_bb_dialog").addClass("bt_bb_dialog_custom_css")})),t("#bt_bb_main_toolbar .bt_bb_preview").on("click",(function(e){t("#post-preview").click()})),t("#bt_bb_main_toolbar .bt_bb_save").on("click",(function(e){t("#publish").click()})),window.bt_bb_toolbar=function(){t(document).unbind("keydown.bt_bb"),t(document).unbind("keyup.bt_bb"),t(".bt_bb_toolbar").unbind("mouseover"),t(".bt_bb_toolbar").unbind("mouseout"),t(".bt_bb_toolbar i").unbind("mousedown"),t(".bt_bb_toolbar i").unbind("click"),t(".bt_bb_toolbar i").mousedown((function(t){t.stopPropagation()})),t(".bt_bb_toolbar .bt_bb_order").mousedown((function(t){t.stopPropagation()})),t(".bt_bb_toolbar .bt_bb_toggle").on("click",(function(e){window.bt_bb_from=t(this).closest(".bt_bb_item").parent().data("reactid"),t(this).closest(".bt_bb_item").hasClass("bt_bb_toggled")?window.bt_bb_action="toggle_off":window.bt_bb_action="toggle_on",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")})),t(".bt_bb_toolbar .bt_bb_delete").click((function(e){window.bt_bb_action="delete",window.bt_bb_from=t(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")})),t(".bt_bb_toolbar .bt_bb_add").click((function(e){e.preventDefault(),window.bt_bb_dialog.hide(),"horizontal"==t(this).closest(".bt_bb_item").data("container")?window.bt_bb_action="add_horizontal":window.bt_bb_action="add",window.bt_bb_from=t(this).closest(".bt_bb_item").parent().data("reactid"),window.bt_bb_base=t(this).closest(".bt_bb_item").data("base"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")})),t(".bt_bb_toolbar .bt_bb_edit").click((function(e){e.preventDefault(),window.bt_bb_dialog.hide(),window.bt_bb_action="edit",window.bt_bb_from=t(this).closest(".bt_bb_item").parent().data("reactid"),window.bt_bb_base=t(this).closest(".bt_bb_item").data("base"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")})),t(".bt_bb_toolbar .bt_bb_clone").click((function(e){e.preventDefault(),window.bt_bb_action="clone",window.bt_bb_from=t(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")})),t(".bt_bb_toolbar .bt_bb_copy").click((function(e){e.preventDefault(),window.bt_bb_action="copy",window.bt_bb_from=t(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),e.ctrlKey&&(window.bt_bb_action="delete",window.bt_bb_from=t(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"))})),t(".bt_bb_toolbar .bt_bb_copy_plus").click((function(e){e.preventDefault(),window.bt_bb_action="copy_plus",window.bt_bb_from=t(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),e.ctrlKey&&(window.bt_bb_action="delete",window.bt_bb_from=t(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"))})),t(".bt_bb_toolbar .bt_bb_paste").click((function(e){e.preventDefault(),e.ctrlKey?window.bt_bb_action="paste_before":window.bt_bb_action="paste",window.bt_bb_from=t(this).closest(".bt_bb_item").parent().data("reactid"),bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")})),t(".bt_bb_toolbar .bt_bb_order").click((function(e){e.preventDefault(),window.bt_bb_dialog.hide();var i=t(this).find(".bt_bb_order_inner").html();t("#bt_bb_front_end_preview").show(),t("#bt_bb_front_end_preview").append('<div class="bt_bb_front_end_preview_loading"><div class="bt_bb_fe_loader"><div class="sk-cube sk-cube1"></div><div class="sk-cube sk-cube2"></div><div class="sk-cube sk-cube3"></div><div class="sk-cube sk-cube4"></div><div class="sk-cube sk-cube5"></div><div class="sk-cube sk-cube6"></div><div class="sk-cube sk-cube7"></div><div class="sk-cube sk-cube8"></div><div class="sk-cube sk-cube9"></div></div>\x3c!-- /bt_bb_fe_loader --\x3e</div>'),t("#bt_bb_front_end_preview iframe").remove(),t("#bt_bb_front_end_preview").append('<iframe name="bt_bb_front_end_preview_iframe"></iframe>'),t("#bt_bb_front_end_preview iframe").css("opacity","0"),t("#bt_bb_front_end_preview iframe").load((function(){var e;(e=t("#bt_bb_front_end_preview iframe").contents()).find("#wpadminbar").hide(),e.find("html").attr("style","margin-top: 0px !important"),e.find("body").removeClass("admin-bar"),e.find("body").imagesLoaded().always((function(b){t("#bt_bb_front_end_preview .bt_bb_front_end_preview_loading").remove();var a=e.find(".bt_bb_fe_wrap"),n=[];a.each((function(t,e){null===e.closest(".menu")&&n.push(e)})),t("#bt_bb_front_end_preview iframe").css("opacity","1"),e.find("html, body").scrollTop(t(n[i-1]).offset().top)}))})),window.bt_bb_resize_front_end_preview(),window.bt_bb_action="update_wp_editor",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event");var b=t("form#post");t("<input>").attr({type:"hidden",value:"true",name:"bt_bb_fe_preview"}).appendTo(b);var a=t("input#wp-preview"),n=navigator.userAgent.toLowerCase();wp.autosave&&wp.autosave.server.tempBlockSave(),a.val("dopreview"),b.attr("target","bt_bb_front_end_preview_iframe").submit().attr("target",""),t('input[name="bt_bb_fe_preview"]').remove(),-1!==n.indexOf("safari")&&-1===n.indexOf("chrome")&&b.attr("action",(function(t,e){return e+"?t="+(new Date).getTime()})),a.val("")})),t(".bt_bb_front_end_preview_close").click((function(e){t("#bt_bb_front_end_preview").hide()}))},window.bt_bb_toolbar(),t("#bt_bb").length>0&&window.bt_bb_init_number_items(),Number.isInteger(parseInt(b("bt_bb_order")))){var a=parseInt(b("bt_bb_order"));setTimeout((function(){t("html, body").scrollTop(t(".bt_bb_order").eq(a-1).offset().top-t("#wpadminbar").height()-24)}),500)}t("#bt_bb_front_end_preview").on("click",".bt_bb_front_end_preview_resize",(function(e){t("#bt_bb_front_end_preview").removeClass("bt_bb_front_end_preview_xxl"),t("#bt_bb_front_end_preview").removeClass("bt_bb_front_end_preview_xl"),t("#bt_bb_front_end_preview").removeClass("bt_bb_front_end_preview_lg"),t("#bt_bb_front_end_preview").removeClass("bt_bb_front_end_preview_md"),t("#bt_bb_front_end_preview").removeClass("bt_bb_front_end_preview_sm"),t("#bt_bb_front_end_preview").removeClass("bt_bb_front_end_preview_xs"),t(this).siblings().removeClass("bt_bb_front_end_preview_selected"),t(this).addClass("bt_bb_front_end_preview_selected");var i=t(this).data("preview-size");t("#bt_bb_front_end_preview").addClass("bt_bb_front_end_preview_"+i);var b=!1;"xxl"==i?((b=Math.round(.9*t(window).width()))<1400&&(b=1400),b+="px"):"xl"==i?b="1400px":"lg"==i?b="1200px":"md"==i?b="992px":"sm"==i?b="768px":"xs"==i&&(b="480px"),t("#bt_bb_front_end_preview").data("width",b),window.bt_bb_resize_front_end_preview()}))})),window.bt_bb_get_action=function(){var e=bt_bb_mouse.x,i=bt_bb_mouse.y;window.bt_bb_action=null;var b=null,a=null;if(!bt_bb_point_coll(bt_bb_drag_item.parent(),e,i)){var n=bt_bb_drag_item.data("base"),o=t(".bt_bb_item").not(".bt_bb_drag").not(".bt_bb_drag .bt_bb_item");"bt_bb_section"!=n&&"bt_section"!=n||(o=t('.bt_bb_item[data-base="bt_bb_section"],.bt_bb_item[data-base="bt_section"]').not(".bt_bb_drag").not(".bt_bb_drag .bt_bb_item"));var _=bt_bb_get_closest(o,e,i);if(null!=_){var r=bt_bb_get_position(_);if(window.bt_bb_from=bt_bb_drag_item.parent().data("reactid"),window.bt_bb_to=_.parent().data("reactid"),"inside"==r)var s=_.data("base"),d=_;else s=_.parent().closest(".bt_bb_item").data("base"),d=_.parent().closest(".bt_bb_item");b=_;var l=!1;_.parent().parent().hasClass("bt_bb_item_list")&&"inside"!=r?l=void 0!==window.bt_bb_map[n]&&!0===window.bt_bb_map[n].root:void 0===window.bt_bb_map[s]||void 0===window.bt_bb_map[s].accept?l=!1:!0===window.bt_bb_map[s].accept[n]?l=!0:!1===window.bt_bb_map[s].accept[n]?l=!1:!0===window.bt_bb_map[s].accept_all?l=!0:!1===window.bt_bb_map[s].accept_all&&(l=!1),d.find(".bt_bb_horizontal").length>0&&d.find(".bt_bb_horizontal")[0].children.length>=12&&(l=!1),l&&("down"==r?(window.bt_bb_action="move_down",a="down",b.parent().hasClass("bt_bb_width")&&(a="right")):"up"==r||"left"==r?(window.bt_bb_action="move_up",a="up",b.parent().hasClass("bt_bb_width")&&(a="left")):"right"==r?(window.bt_bb_action="move_down",a="down",b.parent().hasClass("bt_bb_width")&&(a="right")):"inside"==r&&(window.bt_bb_action="move_inside",a="inside"))}}return[b,a]},window.bt_bb_point_coll=function(e,i,b){var a=e.offset().top-t(window).scrollTop(),n=e.offset().left,o=e.innerWidth(),_=e.innerHeight();return bt_bb_point_coll_base(a,n,o,_,i,b)},window.bt_bb_point_coll_top=function(e,i,b){var a=e.offset().top-t(window).scrollTop(),n=e.offset().left,o=e.innerWidth(),_=e.find(".bt_bb_toolbar").height()+2*window.bt_bb.padding;return bt_bb_point_coll_base(a,n,o,_,i,b)},window.bt_bb_point_coll_base=function(t,e,i,b,a,n){for(var o,_,r,s=[e,e,e+i,e+i],d=[t,t+b,t+b,t],l=!0,c=0;c<4;c++)r=3==c?-((o=-(d[0]-d[c]))*s[c]+(_=s[0]-s[c])*d[c]):-((o=-(d[c+1]-d[c]))*s[c]+(_=s[c+1]-s[c])*d[c]),o*a+_*n+r>0&&(l=!1);return l},window.bt_bb_point_dist=function(e,i,b){var a=e.offset().top-t(window).scrollTop(),n=e.offset().left,o=a+e.innerHeight(),_=n+e.innerWidth();return i>n&&i<_&&b>a&&b<o?Math.min(Math.min(Math.abs(b-a),Math.abs(b-o)),Math.min(Math.abs(i-n),Math.abs(i-_))):i>n&&i<_?Math.min(Math.abs(b-a),Math.abs(b-o)):b>a&&b<o?Math.min(Math.abs(i-n),Math.abs(i-_)):null},window.bt_bb_get_closest=function(e,i,b){var a=1e5,n=null;e.each((function(){var e=bt_bb_point_dist(t(this),i,b);null!=e&&e<=a&&(a=e,n=t(this))}));var o=bt_bb_drag_item.data("base");return null!==n&&"bt_bb_column"==n.data("base")&&"bt_bb_column"!=o&&n.find(t(".bt_bb_item")).length&&(n=window.bt_bb_get_closest(n.find(t(".bt_bb_item").not(".bt_bb_drag").not(".bt_bb_drag .bt_bb_item")),i,b)),n},window.bt_bb_get_position=function(e){var i=e.offset().top-t(window).scrollTop(),b=e.offset().left,a=i+e.innerHeight(),n=b+e.innerWidth();if(bt_bb_mouse.y<i)var o="up";else o=bt_bb_mouse.y>a?"down":bt_bb_mouse.x<b?"left":bt_bb_mouse.x>n?"right":"inside";return o},window.bt_bb_event=function(t){window.bt_bb_action=t,bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")},window.bt_bb_resize_dialog=function(e){if(t(window).innerHeight()<800)var i=Math.round(.5*t(window).innerHeight());else i=Math.round(.65*t(window).innerHeight());t("#bt_bb_dialog .bt_bb_dialog_content").css("max-height",i),t("#bt_bb_dialog").css("width",Math.round(.5*t(window).width())+"px");var b=t("#bt_bb_dialog").width();t("#bt_bb_dialog").css({transform:"translateX("+Math.round(.5*-b)+"px)"})},window.bt_bb_resize_front_end_preview=function(){var e=t("#bt_bb_front_end_preview").data("width");e?t("#bt_bb_front_end_preview").css("width",e):t("#bt_bb_front_end_preview").css("width",Math.round(.9*t(window).width())+"px"),t("#bt_bb_front_end_preview").css("height",Math.round(.8*t(window).innerHeight())),e?parseFloat(e):t("#bt_bb_front_end_preview").width(),t("#bt_bb_front_end_preview").height()},t(window).resize((function(){window.bt_bb_resize_dialog(),window.bt_bb_resize_front_end_preview()}))},831:()=>{var t,e,i,b;window.bt_bb={},window.bt_bb.cache={},window.bt_bb.min_width=200,window.bt_bb.padding=10,window.bt_bb_state=[],window.bt_bb_state_pointer=-1,window.bt_bb_state_current=null,window.bt_bb_dirty=!1,t=jQuery,e=BTReact.createClass({render:function(){var i="",a="bt_bb_wrap",n="bt_bb_item";if(void 0!==this.props.data.has_alert&&(n+=" bt_bb_item_alert"),void 0!==this.props.data.extra_class&&(n=n+" "+this.props.data.extra_class),void 0!==this.props.data.attr&&"true"===(g=JSON.parse(this.props.data.attr)).bt_bb_toggled&&(n+=" bt_bb_toggled"),void 0!==window.bt_bb_map[this.props.data.base]&&(void 0!==window.bt_bb_map[this.props.data.base].container&&"horizontal"==window.bt_bb_map[this.props.data.base].container&&(i="bt_bb_horizontal"),void 0!==window.bt_bb_map[this.props.data.base].highlight&&!0===window.bt_bb_map[this.props.data.base].highlight&&(n+=" bt_bb_item_highlight"),void 0!==window.bt_bb_map[this.props.data.base].icon&&(n=n+" bt_bb_icon "+window.bt_bb_map[this.props.data.base].icon),void 0!==window.bt_bb_map[this.props.data.base].width_param&&void 0!==this.props.data.attr)){var o=(g=JSON.parse(this.props.data.attr))[window.bt_bb_map[this.props.data.base].width_param];void 0!==o&&(o=o.split("/"),a=a+" bt_bb_is_width bt_bb_width bt_bb_width"+(o=Math.round(12*o[0]/o[1])))}var _=this.props.data.key,r=this.props.data.base,s=this.props.data.children.map((function(t,i){return void 0===t.key&&(t.key="bt_bb_"+bt_bb_get_key()),BTReact.createElement(e,{key:t.key,data:t,p_key:_,p_base:r})}));if(this.props.data.p_key=this.props.p_key,this.props.data.p_base=this.props.p_base,window.bt_bb_state_current){var d=window.bt_bb_get_obj_by_id(window.bt_bb_state_current,_),l={};void 0!==d.attr&&(l=window.attr_to_obj(d.attr))}if("_content"==this.props.data.base)return this.props.data.content.includes("<p>")?BTReact.createElement("div",{className:a},BTReact.createElement("div",{className:n,"data-base":this.props.data.base},BTReact.createElement("div",{className:"bt_bb_toolbar"},"]...[",BTReact.createElement(b,{has_params:"true"})),BTReact.createElement("div",{className:"bt_bb_content",dangerouslySetInnerHTML:{__html:this.props.data.content}}))):BTReact.createElement("div",{className:a},BTReact.createElement("div",{className:n,"data-base":this.props.data.base},BTReact.createElement("div",{className:"bt_bb_toolbar"},"]...[",BTReact.createElement(b,{has_params:"true"})),BTReact.createElement("div",{className:"bt_bb_content",dangerouslySetInnerHTML:{__html:window.switchEditors.wpautop(this.props.data.content)}})));var c=void 0!==window.bt_bb_map[this.props.data.base]&&void 0!==window.bt_bb_map[this.props.data.base].params&&window.bt_bb_map[this.props.data.base].params.length>0?"true":"false",p="";if("true"==c)for(var w=bt_bb_get_param(this.props.data.base,"params"),u=!1,h="",m=0;m<w.length;m++)if(void 0!==w[m].preview||void 0!==w[m].holder&&""!=w[m].holder){var v="",f=w[m].param_name;if(void 0!==this.props.data.attr)var g=JSON.parse(this.props.data.attr);if(void 0!==this.props.data.attr&&void 0!==g[w[m].param_name])v=g[w[m].param_name];else if("checkbox"==w[m].type||"checkbox_group"==w[m].type||"radio"==w[m].type)v=void 0!==w[m].default?w[m].default:"";else if("object"==typeof w[m].value)if(void 0!==w[m].default)v=w[m].default;else{var y=Object.keys(w[m].value);v=w[m].value[y[0]]}else void 0!==w[m].value&&(v=w[m].value);if("string"==typeof v&&(v=bt_bb_special_char_decode(v)),"attach_image"==w[m].type&&!u){h=this.props.data.key;var k=bt_bb_special_char_decode(v),x=localStorage.getItem("bt_bb_cache_"+k);null!==x&&(void 0===window.bt_bb.cache[k]&&(window.bt_bb.cache[k]={}),window.bt_bb.cache[k].url=x),""==k?t("."+h+">.bt_bb_toolbar").css("background-image",""):void 0!==window.bt_bb.cache[k]?setTimeout((function(){t("."+h+">.bt_bb_toolbar").css("background-image","url("+window.bt_bb.cache[k].url+")")}),100):t(window).load((function(){wp.media.ajax({data:{action:"get-attachment",id:k}}).done((function(e,i,b){if(void 0!==e.sizes){var a="";void 0!==e.sizes.thumbnail?a=e.sizes.thumbnail.url:void 0!==e.sizes.full&&e.sizes.full.width<=300&&e.sizes.full.height<=300&&(a=e.sizes.full.url),""!=a?(t("."+h+">.bt_bb_toolbar").css("background-image","url("+a+")"),window.bt_bb.cache[e.id]={},window.bt_bb.cache[e.id].url=a,localStorage.setItem("bt_bb_cache_"+e.id,a)):localStorage.removeItem("bt_bb_cache_"+e.id)}}))})),v="",u=!0}if("iconpicker"==w[m].type)if("string"==typeof v&&""!=v){var S=bt_bb_special_char_decode(v);v='<span class="bt_bb_icon_preview bt_bb_icon_preview_'+S.slice(0,-5)+'" data-icon-code="&#x'+S.substr(-4)+'"></span>'}else v="";else if("colorpicker"==w[m].type)v='<span style="color:'+bt_bb_special_char_decode(v)+';font-weight: bold;">'+bt_bb_special_char_decode(v)+"</span>";else if("textarea_object"==w[m].type)try{v=window.bt_bb_b64DecodeUnicode(v)}catch(t){}else void 0!==window["bt_bb_cf_"+w[m].type+"_param_value_preview"]&&(v=bt_bb_special_char_decode(window["bt_bb_cf_"+w[m].type+"_param_value_preview"](v)));"string"==typeof v&&(v=v.includes("%$%")?v.split("%$%")[0]:v.split(",;,")[0]),void 0!==w[m].preview_strong?v='<span class="bt_bb_preview_strong bt_bb_preview_param_'+f+'">'+v+"</span>":(l&&!l.hasOwnProperty("bb_version")&&"responsive"==f&&v.includes("hidden_lg")&&(v+=" hidden_xl"),v='<span class="bt_bb_preview_normal bt_bb_preview_param_'+f+'">'+v+"</span>"),p+=v}var E=void 0!==window.bt_bb_map[this.props.data.base]&&1==window.bt_bb_map[this.props.data.base].toggle?"true":"false",C=this.props.data.base;if(void 0!==window.bt_bb_map[this.props.data.base]&&void 0!==window.bt_bb_map[this.props.data.base].name&&"1"!=window.bt_bb_settings.tag_as_name&&(C=window.bt_bb_map[this.props.data.base].name),p='<span class="bt_bb_preview_name">'+C+"</span>"+p,u&&(n=n+" bt_bb_image_preview "+h),void 0!==window.bt_bb_map[this.props.data.base]&&void 0!==window.bt_bb_map[this.props.data.base].container){var O=window.bt_bb_map[this.props.data.base].container;return BTReact.createElement("div",{className:a},BTReact.createElement("div",{className:n,"data-base":this.props.data.base,"data-container":O},BTReact.createElement("div",{className:"bt_bb_toolbar"},BTReact.createElement("span",{className:"bt_bb_preview",dangerouslySetInnerHTML:{__html:p}}),BTReact.createElement(b,{container:O,mapped:"true",has_params:c,toggle:E})),BTReact.createElement("div",{className:i},s)))}var D=window.bt_bb_map[this.props.data.base],N="bt_bb_toolbar",T="true";return null!=D&&!1!==D.is_mapped||(T="false",window.bt_bb_map[this.props.data.base]={},window.bt_bb_map[this.props.data.base].is_mapped=!1,window.bt_bb_map[this.props.data.base].show_settings_on_create=!1,window.bt_bb_map[this.props.data.base].base=this.props.data.base,window.bt_bb_map[this.props.data.base].description=this.props.data.base,window.bt_bb_map[this.props.data.base].name=this.props.data.base,window.bt_bb_map[this.props.data.base].params=[],N="bt_bb_toolbar bt_bb_alert"),BTReact.createElement("div",{className:a},BTReact.createElement("div",{className:n,"data-base":this.props.data.base},BTReact.createElement("div",{className:N},""!=p?BTReact.createElement("span",{className:"bt_bb_preview",dangerouslySetInnerHTML:{__html:p}}):"",BTReact.createElement(b,{has_params:c,toggle:E,mapped:T})),BTReact.createElement("div",{className:i},s)))}}),i=BTReact.createClass({getInitialState:function(){return{data:this.props.data}},render:function(){var t=this.state.data.children.map((function(t,i){return BTReact.createElement(e,{key:t.key,data:t})}));return BTReact.createElement("div",{className:"bt_bb_item_list"},t)},componentDidMount:function(){this.getDOMNode().addEventListener("bt_bb_event",this.handle),window.bt_bb_state_current=this.state.data},componentDidUpdate:function(){var e=0;t(".bt_bb_item_list > .bt_bb_wrap").each((function(){e++;var i=t(this).find(".bt_bb_preview_name").first().data("title");void 0===i&&(i=t(this).find(".bt_bb_preview_name").first().html(),t(this).find(".bt_bb_preview_name").first().data("title",i)),t(this).find(".bt_bb_preview_name").first().html('<span class="bt_bb_order" title="'+window.bt_bb_text.preview+'"><span class="bt_bb_order_inner">'+e+"</span></span>"+i)}))},componentWillUnmount:function(){this.getDOMNode().removeEventListener("bt_bb_event",this.handle)},handle:function(e){if(void 0===window.bt_bb_alo[window.bt_bb_action]?window.bt_bb_alo[window.bt_bb_action]=1:window.bt_bb_alo[window.bt_bb_action]++,window.bt_bb_callback_action=null,"move_up"==window.bt_bb_action){var i=bt_bb_get_obj_copy_by_id(this.state.data,window.bt_bb_from);bt_bb_insert_before(this.state.data,window.bt_bb_to,i),window.bt_bb_ctrl||bt_bb_delete_obj(this.state.data,window.bt_bb_from)}else if("move_down"==window.bt_bb_action)i=bt_bb_get_obj_copy_by_id(this.state.data,window.bt_bb_from),bt_bb_insert_after(this.state.data,window.bt_bb_to,i),window.bt_bb_ctrl||bt_bb_delete_obj(this.state.data,window.bt_bb_from);else if("move_inside"==window.bt_bb_action)bt_bb_insert_inside(this.state.data,window.bt_bb_to,bt_bb_get_obj_copy_by_id(this.state.data,window.bt_bb_from))&&(window.bt_bb_ctrl||bt_bb_delete_obj(this.state.data,window.bt_bb_from));else if("delete"==window.bt_bb_action)bt_bb_delete_obj(this.state.data,window.bt_bb_from);else if("add_root"==window.bt_bb_action||"add_root_from_dialog"==window.bt_bb_action){if("add_root"==window.bt_bb_action){if(void 0!==(a=bt_bb_add_root(this.state.data))&&void 0!==window.bt_bb_map[a[1]].auto_add){var b={};b.title=window.bt_bb_map[a[1]].auto_add,b.base=window.bt_bb_map[a[1]].auto_add,b.key=bt_bb_get_key(),b.children=[],bt_bb_insert_inside(this.state.data,a[0],b)}}else var a=bt_bb_add_root(this.state.data,window.bt_bb_base);void 0!==a&&!1!==bt_bb_get_param(a[1],"show_settings_on_create")&&(window.bt_bb_from=a[0],window.bt_bb_callback_action="edit")}else if("add"==window.bt_bb_action||"add_from_dialog"==window.bt_bb_action){if(void 0!==(a="add"==window.bt_bb_action?bt_bb_add(this.state.data):bt_bb_add(this.state.data,window.bt_bb_base))&&!1!==bt_bb_get_param(a[1],"show_settings_on_create"))window.bt_bb_from=a[0],window.bt_bb_callback_action="edit";else if(void 0!==a&&!0!==bt_bb_get_param(a[1],"show_settings_on_create")){var n,o=bt_bb_get_param(a[1],"accept"),_=0;for(n in o)o.hasOwnProperty(n)&&_++;void 0!==o&&!0===o._content&&1==_&&(window.bt_bb_from=a[0],window.bt_bb_base=a[1],window.bt_bb_callback_action="add")}}else if("add_horizontal"==window.bt_bb_action)window.bt_bb_custom_elements||!window.bt_bb_responsive_override_layout?bt_bb_add_horizontal_classic(this.state.data):bt_bb_add_horizontal(this.state.data);else if("edit"==window.bt_bb_action)bt_bb_edit(this.state.data,window.bt_bb_from);else if("clone"==window.bt_bb_action)bt_bb_clone(this.state.data,window.bt_bb_from);else if("update_state"==window.bt_bb_action)this.replaceState({data:window.bt_bb_state_current},window.bt_bb_state_callback);else if("copy"==window.bt_bb_action)bt_bb_copy(this.state.data,window.bt_bb_from),t(".bt_bb_cb_items").addClass("bt_bb_cb_items_flash").delay(500).queue((function(e){t(this).removeClass("bt_bb_cb_items_flash"),e()}));else if("copy_plus"==window.bt_bb_action)bt_bb_copy_plus(this.state.data,window.bt_bb_from),t(".bt_bb_cb_items").addClass("bt_bb_cb_items_flash").delay(500).queue((function(e){t(this).removeClass("bt_bb_cb_items_flash"),e()}));else if("paste"==window.bt_bb_action)bt_bb_paste(this.state.data,window.bt_bb_from);else if("paste_before"==window.bt_bb_action)bt_bb_paste(this.state.data,window.bt_bb_from,!0);else if("toggle_on"==window.bt_bb_action){var r={};void 0!==(s=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from)).attr&&(r=attr_to_obj(s.attr)),r.bt_bb_toggled="true",s.attr=JSON.stringify(r)}else if("toggle_off"==window.bt_bb_action){var s;r={},void 0!==(s=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from)).attr&&(r=attr_to_obj(s.attr)),r.bt_bb_toggled="false",s.attr=JSON.stringify(r)}null!=window.bt_bb_action&&"edit"!=window.bt_bb_action&&"copy"!=window.bt_bb_action&&"copy_plus"!=window.bt_bb_action&&(bt_bb_resize_h(this.state.data),"update_state"!=window.bt_bb_action&&(bt_bb_push_state(this.state.data),this.replaceState({data:this.state.data},window.bt_bb_state_callback)),this.state.data.children.length>=0&&"update_wp_editor"==window.bt_bb_action&&bt_bb_parse_data(this.state.data),"refresh_on_ready"!=window.bt_bb_action&&"update_wp_editor"!=window.bt_bb_action&&(window.bt_bb_dirty=!0),bt_bb_item_mousedown(),bt_bb_toolbar())}}),b=BTReact.createClass({render:function(){var t=window.bt_bb_text.add;return"horizontal"==this.props.container&&(t=window.bt_bb_text.edit_layout),BTReact.createElement("div",{className:"bt_bb_toolbar_tools"},"true"==this.props.toggle?BTReact.createElement("i",{className:"bt_bb_toggle",title:window.bt_bb_text.toggle}):"","vertical"==this.props.container?BTReact.createElement("i",{className:"bt_bb_add",title:t}):"","horizontal"==this.props.container?BTReact.createElement("i",{className:"bt_bb_add bt_bb_edit_layout",title:t}):"","true"==this.props.has_params?BTReact.createElement("i",{className:"bt_bb_edit",title:window.bt_bb_text.edit}):"",BTReact.createElement("i",{className:"bt_bb_clone",title:window.bt_bb_text.clone}),"true"==this.props.mapped?BTReact.createElement("i",{className:"bt_bb_copy",title:window.bt_bb_text.copy}):"","true"==this.props.mapped?BTReact.createElement("i",{className:"bt_bb_copy_plus",title:window.bt_bb_text.copy_plus}):"","true"==this.props.mapped?BTReact.createElement("i",{className:"bt_bb_paste",title:window.bt_bb_text.paste}):"",BTReact.createElement("i",{className:"bt_bb_delete",title:window.bt_bb_text.delete}))}}),window.bt_bb_resize_h=function(t){window.bt_bb_custom_elements||!window.bt_bb_responsive_override_layout?window.bt_bb_resize_h_helper_classic(t):window.bt_bb_resize_h_helper(t)},window.bt_bb_get_obj_copy_by_id=function(t,e){var i=bt_bb_get_obj_by_id(t,e),b=JSON.parse(JSON.stringify(i));return null!=b&&(b=bt_bb_set_new_keys(b)),b},window.bt_bb_set_new_keys=function(t){t.key=bt_bb_get_key();for(var e=0;e<t.children.length;e++)bt_bb_set_new_keys(t.children[e]);return t},window.bt_bb_delete_obj=function(t,e,i){if("_content"!=t.title)for(var b=0;b<t.children.length;b++){if(e.bt_ends_with(t.children[b].key)){void 0!==i?t.children.splice(b,i):t.children.splice(b,1);break}bt_bb_delete_obj(t.children[b],e,i)}},window.bt_bb_insert_before=function(t,e,i){if("_content"!=t.title)for(var b=0;b<t.children.length;b++){if(e.bt_ends_with(t.children[b].key)){t.children.splice(b,0,i);break}bt_bb_insert_before(t.children[b],e,i)}},window.bt_bb_insert_after=function(t,e,i){if("_content"!=t.title)for(var b=0;b<t.children.length;b++){if(e.bt_ends_with(t.children[b].key)){t.children.splice(b+1,0,i);break}bt_bb_insert_after(t.children[b],e,i)}},window.bt_bb_insert_inside=function(e,i,b){if("_content"!=e.title)for(var a=0;a<e.children.length;a++){if(i.bt_ends_with(e.children[a].key)&&void 0!==e.children[a].children){if(e.children[a].children.push(b),"paste"!=window.bt_bb_action&&"paste_before"!=window.bt_bb_action&&"move_inside"!=window.bt_bb_action&&void 0!==window.bt_bb_map[b.base]&&void 0!==window.bt_bb_map[b.base].auto_add){var n={};n.title=window.bt_bb_map[b.base].auto_add,n.base=window.bt_bb_map[b.base].auto_add,n.key=bt_bb_get_key(),n.children=[];var o={};void 0!==window.bt_bb_map[n.base]&&void 0!==window.bt_bb_map[n.base].params&&t.each(window.bt_bb_map[n.base].params,(function(t,e){e.hasOwnProperty("value")&&"string"==typeof e.value?o[e.param_name]=bt_bb_special_char_encode(e.value):e.hasOwnProperty("value")&&e.hasOwnProperty("default")&&(o[e.param_name]=e.default)})),n.attr=JSON.stringify(o),b.children.push(n)}return!0}if(!0===bt_bb_insert_inside(e.children[a],i,b))return!0}},window.bt_bb_add_root=function(e,i){var b=[];if(void 0!==i?b.push(i):t.each(window.bt_bb_map,(function(t,e){1==e.root&&b.push(e.base)})),1==b.length){var a={};a.title=b[0],a.base=b[0],a.key=bt_bb_get_key(),a.children=[];var n={};return void 0!==window.bt_bb_map[a.base]&&void 0!==window.bt_bb_map[a.base].params&&t.each(window.bt_bb_map[a.base].params,(function(t,e){e.hasOwnProperty("value")&&"string"==typeof e.value?n[e.param_name]=bt_bb_special_char_encode(e.value):e.hasOwnProperty("value")&&e.hasOwnProperty("default")&&(n[e.param_name]=e.default)})),a.attr=JSON.stringify(n),e.children.push(a),[a.key,a.base]}b.length>1&&window.bt_bb_dialog.show("add_root")},window.bt_bb_add=function(e,i){var b=[];if(void 0!==i?b.push(i):(t.each(window.bt_bb_map,(function(t,e){var i;void 0!==window.bt_bb_map[window.bt_bb_base].accept&&(i=window.bt_bb_map[window.bt_bb_base].accept[e.base]),(!0===i||!0===window.bt_bb_map[window.bt_bb_base].accept_all&&!1!==i||void 0!==window.bt_bb_map[e.base].as_child&&-1!=window.bt_bb_map[e.base].as_child.only.indexOf(window.bt_bb_base))&&(void 0===window.bt_bb_map[e.base].as_child||void 0!==window.bt_bb_map[e.base].as_child&&-1!=window.bt_bb_map[e.base].as_child.only.indexOf(window.bt_bb_base))&&b.push(e.base)})),void 0!==window.bt_bb_map[window.bt_bb_base].accept&&!0===window.bt_bb_map[window.bt_bb_base].accept._content&&(b=[]).push("_content")),1==b.length){var a={};a.title=b[0],a.base=b[0],"_content"==a.base&&(a.content=""),a.key=bt_bb_get_key(),a.children=[];var n={};return void 0!==window.bt_bb_map[a.base]&&void 0!==window.bt_bb_map[a.base].params&&t.each(window.bt_bb_map[a.base].params,(function(t,e){e.hasOwnProperty("value")&&"string"==typeof e.value?"textarea_object"==e.type?n[e.param_name]=e.value:n[e.param_name]=bt_bb_special_char_encode(e.value):e.hasOwnProperty("value")&&e.hasOwnProperty("default")&&(n[e.param_name]=e.default)})),a.attr=JSON.stringify(n),bt_bb_insert_inside(e,window.bt_bb_from,a),[a.key,a.base]}b.length>1&&window.bt_bb_dialog.show("add")},window.bt_bb_edit=function(t,e){for(var i=0;i<t.children.length;i++){if(e.bt_ends_with(t.children[i].key)){"_content"==t.children[i].title?(window.bt_bb_content=t.children[i].content,window.bt_bb_dialog.show("edit_content")):window.bt_bb_dialog.show("edit");break}bt_bb_edit(t.children[i],e)}},window.bt_bb_clone=function(e,i){t(".bt_bb_toolbar_tools").css("transition","all 0s");for(var b=0;b<e.children.length;b++){if(i.bt_ends_with(e.children[b].key)){if("_root"==e.title||void 0===window.bt_bb_map[e.base]||"horizontal"!=window.bt_bb_map[e.base].container||"horizontal"==window.bt_bb_map[e.base].container&&e.children.length<12){var a=bt_bb_get_obj_copy_by_id(e,i);e.children.splice(b+1,0,a)}break}bt_bb_clone(e.children[b],i)}},window.bt_bb_init_number_items=function(){window.bt_bb_cb_items=localStorage.getItem("bt_bb_cb_items"),null===window.bt_bb_cb_items&&(window.bt_bb_cb_items=0),t(".bt_bb_cb_items").html(window.bt_bb_cb_items)},window.bt_bb_set_number_items=function(e){localStorage.setItem("bt_bb_cb_items",e),t(".bt_bb_cb_items").html(e),window.bt_bb_cb_items=e},window.bt_bb_allowed=function(t,e){if(void 0===e)return!1;var i=window.bt_bb_map[e],b=!1;return(void 0!==i.accept&&!0===i.accept[t]||void 0!==i.accept&&void 0===i.accept[t]&&!0===i.accept_all||void 0===i.accept&&!0===i.accept_all)&&(b=!0),b},window.bt_bb_cb_import=function(t){for(var e=decodeURIComponent(window.bt_bb_b64DecodeUnicode(t)),i=JSON.parse(e),b=1;b<=i.length;b++)localStorage.setItem("bt_bb_cb_"+b,decodeURIComponent(window.bt_bb_b64DecodeUnicode(i[b-1].bt_bb_cb))),bt_bb_set_number_items(i.length)},window.bt_bb_copy=function(t,e){if(window.bt_bb_cb_items>1)for(var i=2;i<=window.bt_bb_cb_items;i++)localStorage.removeItem("bt_bb_cb_"+i);t=bt_bb_get_obj_by_id(t,e),localStorage.setItem("bt_bb_cb_1",JSON.stringify(t)),bt_bb_set_number_items(1)},window.bt_bb_copy_plus=function(t,e){var i=bt_bb_get_obj_by_id(t,e);if(0==window.bt_bb_cb_items)localStorage.setItem("bt_bb_cb_1",JSON.stringify(i)),bt_bb_set_number_items(1);else{var b=JSON.parse(localStorage.getItem("bt_bb_cb_1")),a=!1;void 0!==i.p_base?a=bt_bb_allowed(b.base,i.p_base):void 0!==window.bt_bb_map[i.base].root&&void 0!==window.bt_bb_map[b.base].root&&(a=!0),a?(window.bt_bb_cb_items++,localStorage.setItem("bt_bb_cb_"+window.bt_bb_cb_items,JSON.stringify(i)),bt_bb_set_number_items(window.bt_bb_cb_items)):alert(window.bt_bb_text.not_allowed)}},window.bt_bb_paste=function(t,e,i){if(window.bt_bb_cb_items>0){var b=bt_bb_get_obj_by_id(t,e),a=JSON.parse(localStorage.getItem("bt_bb_cb_1"));if(void 0!==window.bt_bb_map[b.base].root&&void 0!==window.bt_bb_map[a.base].root)for(var n=window.bt_bb_cb_items;n>=1;n--)a=JSON.parse(localStorage.getItem("bt_bb_cb_"+n)),a=bt_bb_set_new_keys(a),i?bt_bb_insert_before(t,e,a):bt_bb_insert_after(t,e,a);else if(bt_bb_allowed(a.base,b.p_base))if(i)for(n=1;n<=window.bt_bb_cb_items;n++)a=JSON.parse(localStorage.getItem("bt_bb_cb_"+n)),a=bt_bb_set_new_keys(a),bt_bb_insert_before(t,e,a);else for(n=window.bt_bb_cb_items;n>=1;n--)a=JSON.parse(localStorage.getItem("bt_bb_cb_"+n)),a=bt_bb_set_new_keys(a),bt_bb_insert_after(t,e,a);else if(bt_bb_allowed(a.base,b.base))for(n=1;n<=window.bt_bb_cb_items;n++)a=JSON.parse(localStorage.getItem("bt_bb_cb_"+n)),a=bt_bb_set_new_keys(a),bt_bb_insert_inside(t,e,a);else alert(window.bt_bb_text.not_allowed)}},window.bt_bb_paste_main_toolbar=function(){var t=JSON.parse(localStorage.getItem("bt_bb_cb_1"));if(void 0!==window.bt_bb_map[t.base].root){for(var e=1;e<=window.bt_bb_cb_items;e++)t=JSON.parse(localStorage.getItem("bt_bb_cb_"+e)),t=bt_bb_set_new_keys(t),window.bt_bb_state_current.children.push(t);bt_bb_event("refresh")}else alert(window.bt_bb_text.not_allowed)},window.bt_bb_refresh_cb_items=function(){var t=localStorage.getItem("bt_bb_cb_items");window.bt_bb_set_number_items(null===t?0:t)},window.bt_bb_dialog={},window.bt_bb_dialog.show=function(e){t("#bt_bb_front_end_preview").hide(),window.bt_bb_dialog.is_showing=!0;var i="";if("add_root"==e){var b=window.bt_bb_text.add_element,a=[];t.each(window.bt_bb_map,(function(t,e){1==e.root&&a.push({base:e.base,name:e.name,description:e.description,icon:e.icon})})),a.sort((function(t,e){return t.name.toLowerCase().localeCompare(e.name.toLowerCase())})),t.each(a,(function(t,e){i+='<div class="bt_bb_dialog_item bt_bb_dialog_add_element'+e.icon!==void 0?" "+e.icon:0})),t("#bt_bb_dialog .bt_bb_dialog_content").html(i),t(".bt_bb_dialog_add_element").click((function(e){window.bt_bb_base=t(this).data("base"),window.bt_bb_dialog.hide(),bt_bb_event("add_root_from_dialog")}))}else if("add"==e){b=window.bt_bb_text.add_element,a=[],t.each(window.bt_bb_map,(function(t,e){var i;void 0!==window.bt_bb_map[window.bt_bb_base].accept&&(i=window.bt_bb_map[window.bt_bb_base].accept[e.base]),(!0===i||!0===window.bt_bb_map[window.bt_bb_base].accept_all&&!1!==i||void 0!==window.bt_bb_map[e.base].as_child&&-1!=window.bt_bb_map[e.base].as_child.only.indexOf(window.bt_bb_base))&&(void 0===window.bt_bb_map[e.base].as_child||void 0!==window.bt_bb_map[e.base].as_child&&-1!=window.bt_bb_map[e.base].as_child.only.indexOf(window.bt_bb_base))&&!1!==window.bt_bb_map[e.base].is_mapped&&a.push({base:e.base,name:e.name,description:e.description,icon:e.icon})})),a.sort((function(t,e){return t.name.toLowerCase().localeCompare(e.name.toLowerCase())}));var n="";n+='<div class="bt_bb_dialog_item bt_bb_add_filter_container">',n+='<input type="text" class="bt_bb_filter" placeholder="'+window.bt_bb_text.filter+'">',n+="</div>",t("#bt_bb_dialog .bt_bb_dialog_header_tools").append(n);var o,_,r=document.createDocumentFragment();t.each(a,(function(t,e){g=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item bt_bb_dialog_add_element"+(void 0!==e.icon?" bt_bb_icon "+e.icon:"")],["data-base",e.base]]),o=bt_bb_create_dom_element("b",[]),_=document.createTextNode(e.name),o.appendChild(_),g.appendChild(o),v=bt_bb_create_dom_element("i",[]),_=document.createTextNode(e.description),v.appendChild(_),g.appendChild(v),r.appendChild(g)})),t("#bt_bb_dialog .bt_bb_dialog_content")[0].appendChild(r),t(".bt_bb_dialog_add_element").click((function(e){window.bt_bb_base=t(this).data("base"),window.bt_bb_dialog.hide(),bt_bb_event("add_from_dialog")})),t(".bt_bb_filter").keyup((function(e){var i=t(this).val();t(".bt_bb_dialog_item").not(".bt_bb_add_filter_container").each((function(){var e=t(this).html().replace(/(<([^>]+)>)/gi,"");new RegExp(i,"i").test(e)?t(this).show():t(this).hide()}))}))}else if("add_horizontal"==e)b=window.bt_bb_text.edit_layout,window.bt_bb_custom_elements||!window.bt_bb_responsive_override_layout?window.bt_bb_edit_layout_classic():window.bt_bb_edit_layout();else if("edit_content"==e){t(document).trigger("bt_bb_edit_content"),b=window.bt_bb_text.edit_content,t("#bt_bb_dialog").addClass("bt_bb_dialog_tinymce_container"),t(".bt_bb_dialog_tinymce").show();var s,d=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from),l=bt_bb_get_obj_by_id(window.bt_bb_state_current,d.p_key),c={};void 0!==l.attr&&(c=attr_to_obj(l.attr)),window.bt_bb.editing_base=l.base,t(".bt_bb_dialog_button").unbind("click"),t(".bt_bb_dialog_button").click((function(){window.switchEditors.go("bt_bb_tinymce","tmce");var e=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from);e.content=tinyMCE.get("bt_bb_tinymce").getContent(),e.content.startsWith("<p>[")&&e.content.endsWith("]</p>")&&(e.content=e.content.substring(3),e.content=e.content.substring(0,e.content.length-4));var i={};i.keywords=t(".bt_bb_ai_keywords").val(),i.tone=t(".bt_bb_ai_tone").val(),i.mode=t(".bt_bb_ai_mode").val(),i.language=t(".bt_bb_ai_language").val(),i.length=t(".bt_bb_ai_length_container input").val(),c.ai_prompt_helper=window.bt_bb_b64EncodeUnicode(JSON.stringify(i)),l.attr=JSON.stringify(c),window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"),window.bt_bb_dialog.hide()})),t("#bt_bb_dialog").css("visibility","visible"),t("#bt_bb_dialog .mce-i-resize").show(),s=void 0!==c.ai_prompt_helper?window.bt_bb_dialog_param.ai_prompt({attr_value:c.ai_prompt_helper}):window.bt_bb_dialog_param.ai_prompt({}),t(".bt_bb_dialog_content").append(s)}else if("edit"==e){t(document).trigger("bt_bb_edit_element"),b=window.bt_bb_text.edit,d=bt_bb_get_obj_by_id(window.bt_bb_state_current,window.bt_bb_from);var p={};if(void 0!==d.attr&&"[]"!=d.attr&&(p=attr_to_obj(d.attr)),void 0!==window.bt_bb_map[d.base]){window.bt_bb.editing_base=d.base,b=b+" "+window.bt_bb_map[d.base].name,t("#bt_bb_dialog").removeClass(),t("#bt_bb_dialog").addClass("bt_bb_dialog "+d.base);var w=window.bt_bb_map[d.base].params;if(void 0!==w){r=document.createDocumentFragment();var u=new Array,h="",m="";window.bt_bb.param_groups=[];for(var v=0;v<w.length;v++){h="",i="";var f="";if(void 0!==p[w[v].param_name]?f=p[w[v].param_name]:p[w[v].param_name]="",void 0!==w[v].group?h=w[v].group:"hidden"!=w[v].type&&(h=window.bt_bb_text.general),""!=h&&(m=" bt_bb_group_"+window.bt_bb_b64EncodeUnicode(h).replace(/[=+\/]/g,""),-1==window.bt_bb.param_groups.indexOf(h)&&window.bt_bb.param_groups.push(h)),"attach_images"==w[v].type||"attach_image"==w[v].type||"textfield"==w[v].type||"datetime-local"==w[v].type||"textarea"==w[v].type||"textarea_object"==w[v].type||"dropdown"==w[v].type||"dropdown_color"==w[v].type||"dropdown_color"==w[v].type||"iconpicker"==w[v].type||"colorpicker"==w[v].type||"link"==w[v].type||"checkbox"==w[v].type||"checkbox_group"==w[v].type||"radio"==w[v].type||"ai_prompt"==w[v].type)var g=window.bt_bb_get_dialog_param({param:w[v],attr_value:f,group_class:m,base:d.base});else if("hidden"==w[v].type){var y=new Object;y.name=w[v].param_name,y.value=w[v].value,u.push(y)}else if(void 0!==window["bt_bb_cf_"+w[v].type+"_content"]){g=bt_bb_create_dom_element("div",[["class","bt_bb_dialog_item"+m],["data-param_name",w[v].param_name],["data-type",w[v].type]]);var k={};k.param_heading=w[v].heading,k.param_value=w[v].value,k.param_name=w[v].param_name,k.val=f,k.base=d.base,g.innerHTML=window["bt_bb_cf_"+w[v].type+"_content"](k)}"hidden"!=w[v].type&&r.appendChild(g)}t("#bt_bb_dialog").data("hidden",JSON.stringify(u)),t("#bt_bb_dialog .bt_bb_dialog_content")[0].appendChild(r),t(".bt_bb_color_picker").wpColorPicker(),window.bt_bb_search_link_init(),window.bt_bb_iconpicker_init(),window.bt_bb_image_sortable(t('#bt_bb_dialog .bt_bb_dialog_item[data-type="attach_images"] .bt_bb_dialog_image_container'),p),t("#bt_bb_dialog .bt_bb_dialog_image_container").on("click",".fa-times",(function(t){window.bt_bb_delete_images(this,p)})),t(".bt_bb_dialog_item").on("click",".bt_bb_dialog_select_images_button",(function(t){window.bt_bb_select_images(this,p)}))}}window.bt_bb.param_groups.length>0&&t(".bt_bb_dialog_item").hide(),t.each(window.bt_bb.param_groups,(function(e,i){var b="bt_bb_group_tab";0==e&&(b="bt_bb_group_tab bt_bb_group_tab_active",t(".bt_bb_group_"+window.bt_bb_b64EncodeUnicode(i).replace(/[=+\/]/g,"")).removeAttr("style")),t(".bt_bb_dialog_header_tools").append('<span class="'+b+'">'+i+"</span>")})),t("#bt_bb_dialog .bt_bb_group_tab").click((function(e){var i=t(this).html();t(".bt_bb_dialog_item").hide(),t(".bt_bb_group_"+window.bt_bb_b64EncodeUnicode(i).replace(/[=+\/]/g,"")).removeAttr("style"),t(".bt_bb_group_tab").removeClass("bt_bb_group_tab_active"),t(this).addClass("bt_bb_group_tab_active"),window.bt_bb_resize_dialog()})),t("#bt_bb_dialog").append('<input type="button" class="bt_bb_dialog_button bt_bb_edit button button-small" value="'+window.bt_bb_text.submit+'">'),t("#bt_bb_dialog .bt_bb_dialog_button").click((function(e){t("#bt_bb_dialog .bt_bb_dialog_item").each((function(){var e=t(this).data("param_name"),i=t(this).data("type"),b=window.bt_bb_get_edit_item_value(e,i,t(this));void 0!==b&&(p[e]=b)}));for(var i=JSON.parse(t("#bt_bb_dialog").data("hidden")),b=0;b<i.length;b++)p[""+i[b].name]=i[b].value;d.attr=JSON.stringify(p),window.bt_bb_dialog.hide(),window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")}))}else if("manage_cb"==e)b=window.bt_bb_text.manage_cb,i+='<div class="bt_bb_dialog_item">',i+='<input type="text" class="bt_bb_impex_input">',i+="</div>",t("#bt_bb_dialog .bt_bb_dialog_content").html(i),t("#bt_bb_dialog").append('<div class="bt_bb_dialog_inline_buttons"><input type="button" class="bt_bb_dialog_button bt_bb_edit button button-small bt_bb_button_export" value="'+window.bt_bb_text.export+'"><input type="button" class="bt_bb_dialog_button bt_bb_edit button button-small bt_bb_button_import" value="'+window.bt_bb_text.import+'"></div>'),t("#bt_bb_dialog .bt_bb_button_export").click((function(e){if(window.bt_bb_cb_items>0){for(var i="[",b=1;b<=window.bt_bb_cb_items;b++)i+='{"bt_bb_cb":"'+window.bt_bb_b64EncodeUnicode(encodeURIComponent(localStorage.getItem("bt_bb_cb_"+b)))+'"},';i=i.substring(0,i.length-1),i+="]",t(".bt_bb_impex_input").val(window.bt_bb_b64EncodeUnicode(encodeURIComponent(i))),t(".bt_bb_impex_input").select()}})),t("#bt_bb_dialog .bt_bb_button_import").click((function(e){t(".bt_bb_impex_input").val()&&bt_bb_cb_import(t(".bt_bb_impex_input").val())}));else if("sc_mapper"==e){b=window.bt_bb_text.sc_mapper,t("#bt_bb_dialog").addClass("bt_bb_dialog_sc_mapper_container"),n="",n+='<div class="bt_bb_dialog_item bt_bb_sc_mapper_filter_container">',n+='<input type="text" class="bt_bb_filter" placeholder="'+window.bt_bb_text.filter+'">',n+="</div>",t("#bt_bb_dialog .bt_bb_dialog_header_tools").append(n);var x=function(t){var e=t;return void 0!==window.bt_bb_map_primary[t]&&(e+=" / p"),void 0!==window.bt_bb_map_secondary[t]&&(e+=" / s"),e};for(r=document.createDocumentFragment(),g=bt_bb_create_dom_element("div",[["id","bt_bb_sc_mapper_accordion"]]),v=0;v<window.bt_bb.all_sc.length;v++){if(void 0!==window.bt_bb_map[window.bt_bb.all_sc[v]]&&!1!==window.bt_bb_map[window.bt_bb.all_sc[v]].is_mapped){(E=bt_bb_create_dom_element("h3",[["class","bt_bb_sc_mapper_item"]])).innerHTML='<i class="fa fa-chevron-down"></i><span>'+x(window.bt_bb.all_sc[v])+"</span>";var S=bt_bb_create_dom_element("div",[["data-base",window.bt_bb.all_sc[v]]])}else{var E;(E=bt_bb_create_dom_element("h3",[["class","bt_bb_sc_mapper_item bt_bb_sc_mapper_unmapped"]])).innerHTML='<i class="fa fa-chevron-down"></i><span>'+window.bt_bb.all_sc[v]+"</span>",S=bt_bb_create_dom_element("div",[["data-base",window.bt_bb.all_sc[v]]])}g.appendChild(E),g.appendChild(S)}r.appendChild(g),t("#bt_bb_dialog .bt_bb_dialog_content")[0].appendChild(r),t(".bt_bb_filter").keyup((function(e){var i=t(this).val();t("#bt_bb_sc_mapper_accordion > div").removeClass("bt_bb_map_item_active"),t("#bt_bb_sc_mapper_accordion > h3").removeClass("bt_bb_map_header_active"),t("#bt_bb_sc_mapper_accordion > h3 > i").removeClass("fa-chevron-up").addClass("fa-chevron-down"),t(".bt_bb_sc_mapper_item").each((function(){var e=t(this).html().replace(/(<([^>]+)>)/gi,"");new RegExp(i,"i").test(e)?t(this).show():t(this).hide()}))})),t(".bt_bb_sc_map").keydown((function(e){if(9===e.keyCode){e.preventDefault();var i=this.selectionStart,b=this.selectionEnd,a=t(this);a.val(a.val().substring(0,i)+"\t"+a.val().substring(b)),this.selectionStart=this.selectionEnd=i+1,t(this).parent().find(".bt_bb_save_mapping_button").prop("disabled",!1)}})),t("#bt_bb_sc_mapper_accordion h3").click((function(e){var i=t(this).next();if(i.hasClass("bt_bb_map_item_active"))i[0].innerHTML="",i.removeClass("bt_bb_map_item_active"),t(this).removeClass("bt_bb_map_header_active"),t(this).find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down");else{var b='<input type="button" class="button button-small bt_bb_insert_mapping_template_button" value="'+window.bt_bb_text.insert_mapping+'"><input type="button" class="button button-small bt_bb_delete_mapping_button" disabled value="'+window.bt_bb_text.delete+'"><input type="button" class="button button-small bt_bb_save_mapping_button" disabled value="'+window.bt_bb_text.save+'"><span class="spinner" style="display: none;"></span><textarea class="bt_bb_sc_map" rows="10"></textarea>';i[0].innerHTML=b,autosize(t(".bt_bb_sc_map")),i.addClass("bt_bb_map_item_active"),t(this).addClass("bt_bb_map_header_active"),t(this).find("i").removeClass("fa-chevron-down").addClass("fa-chevron-up");var a=i.data("base");void 0!==window.bt_bb_map_secondary[a]&&(i.find(".bt_bb_delete_mapping_button").prop("disabled",!1),i.find(".bt_bb_insert_existing_mapping_button").click(),i.find(".bt_bb_save_mapping_button").prop("disabled",!0))}})),t("#bt_bb_sc_mapper_accordion").on("keydown",".bt_bb_sc_map",(function(){t(this).parent().find(".bt_bb_save_mapping_button").prop("disabled",!1)})),t("#bt_bb_sc_mapper_accordion").on("click",".bt_bb_insert_mapping_template_button",(function(e){var i=t(this).parent().find("textarea"),b=t(this).parent().data("base");if(void 0!==window.bt_bb_map[b]&&!1!==window.bt_bb_map[b].is_mapped)var a=JSON.stringify(window.bt_bb_map[b],null,"\t");else if(void 0!==window.vc_mapper&&void 0!==window.vc_mapper[b]){var n=window.vc_mapper[b];(a={}).name=void 0!==n.name?n.name:"",a.base=void 0!==n.base?n.base:"",a.description=void 0!==n.description?n.description:"",a.show_settings_on_create=void 0===n.show_settings_on_create||n.show_settings_on_create,!0===n.is_container&&("vc_row"==n.base?(a.root=!0,a.container="horizontal",a.accept={vc_column:!0},a.toggle=!0):"vc_row_inner"==n.base?(a.container="horizontal",a.accept={vc_column_inner:!0}):"vc_column"==n.base?(a.container="vertical",a.width_param="width",a.accept_all=!0,a.accept={vc_row:!1,vc_column:!1,vc_column_inner:!1}):"vc_column_inner"==n.base?(a.container="vertical",a.width_param="width",a.accept_all=!0,a.accept={vc_row:!1,vc_column:!1,vc_row_inner:!1,vc_column_inner:!1}):a.container="vertical"),a.params=[];for(var o="",_=0,r=0;r<n.params.length;r++)"textarea_html"!=n.params[r].type&&!1!==n.params[r].admin_label?(a.params[_]={},a.params[_].type="textfield","textarea"!=(o=n.params[r].type)&&"dropdown"!=o&&"attach_image"!=o&&"attach_images"!=o&&"colorpicker"!=o&&"checkbox"!=o&&"checkbox_group"!=o&&"hidden"!=o||(a.params[_].type=o),a.params[_].heading=void 0!==n.params[r].heading?n.params[r].heading:"",void 0!==n.params[r].description&&(a.params[_].heading+=" ("+n.params[r].description+")"),a.params[_].param_name=void 0!==n.params[r].param_name?n.params[r].param_name:"",a.params[_].value=void 0!==n.params[r].value?n.params[r].value:"",void 0!==n.params[r].holder&&(a.params[_].preview=!0),_++):"textarea_html"==n.params[r].type&&(a.container="vertical",a.accept={_content:!0});a=JSON.stringify(a,null,"\t")}else(a={}).name=b,a.base=b,a.description="",a.show_settings_on_create=!0,a.params=[],a.params[0]={},a.params[0].type="textfield",a.params[0].heading="Param 1",a.params[0].param_name="param_1",a.params[0].value="",a.params[0].preview=!0,a.params[1]={},a.params[1].type="dropdown",a.params[1].heading="Param 2",a.params[1].param_name="param_2",a.params[1].value={"Option 1":"value 1","Option 2":"value 2"},a.params[1].preview=!0,a=JSON.stringify(a,null,"\t");i.val(a);var s=document.createEvent("Event");s.initEvent("autosize:update",!0,!1),i[0].dispatchEvent(s),t(this).parent().find(".bt_bb_save_mapping_button").prop("disabled",!1)})),t("#bt_bb_sc_mapper_accordion").on("click",".bt_bb_save_mapping_button",(function(e){var i=t(this).parent().data("base"),b=t(this);try{var a=JSON.parse(t(this).parent().find(".bt_bb_sc_map").val())}catch(e){return alert(e),!1}var n=JSON.stringify(a);b.siblings(".spinner").show(),b.siblings(".spinner").css("visibility","visible");var o={action:"bt_bb_save_mapping",base:i,map:n};t.ajax({type:"POST",url:window.bt_bb_ajax_url,data:o,async:!0,success:function(t){"ok"==t&&(b.prop("disabled",!0),b.siblings(".spinner").hide(),b.closest("div").prev(".bt_bb_sc_mapper_item").removeClass("bt_bb_sc_mapper_unmapped"),window.bt_bb_map[i]=JSON.parse(n),void 0===window.bt_bb_map_secondary[i]&&(window.bt_bb_map_secondary[i]=!0),b.closest("div").prev(".bt_bb_sc_mapper_item").find("span").html(x(i)),void 0!==window.bt_bb_map_secondary[i]&&b.parent("div").find(".bt_bb_delete_mapping_button").prop("disabled",!1),window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event"))}})})),t("#bt_bb_sc_mapper_accordion").on("click",".bt_bb_delete_mapping_button",(function(e){var i=t(this).parent().data("base"),b=t(this);b.siblings(".spinner").show(),b.siblings(".spinner").css("visibility","visible");var a={action:"bt_bb_delete_mapping",base:i};t.ajax({type:"POST",url:window.bt_bb_ajax_url,data:a,async:!0,success:function(t){"ok"==t&&(b.prop("disabled",!0),b.siblings(".spinner").hide(),void 0!==window.bt_bb_map_secondary[i]&&delete window.bt_bb_map_secondary[i],b.parent().find("textarea").val(""),void 0===window.bt_bb_map_primary[i]?(b.closest("div").prev(".bt_bb_sc_mapper_item").addClass("bt_bb_sc_mapper_unmapped"),delete window.bt_bb_map[i],window.bt_bb_action="refresh",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")):window.bt_bb_map[i]=window.bt_bb_map_primary[i],b.closest("div").prev(".bt_bb_sc_mapper_item").find("span").html(x(i)))}})}))}else"custom_css"==e?(b=window.bt_bb_text.custom_css,i+='<div class="bt_bb_dialog_item">',i+='<textarea id="bt_bb_custom_css_content" class="bt_bb_custom_css_content" rows="10">'+window.bt_bb_b64DecodeUnicode(window.bt_bb_custom_css)+"</textarea>",i+="</div>",t("#bt_bb_dialog .bt_bb_dialog_content").html(i),t("#bt_bb_dialog").append('<div class="bt_bb_dialog_inline_buttons"><input type="button" class="bt_bb_dialog_button button button-small bt_bb_button_save_custom_css" value="'+window.bt_bb_text.save+'"></div>'),void 0!==wp.codeEditor?window.bt_bb_ce=wp.codeEditor.initialize("bt_bb_custom_css_content"):t("#bt_bb_dialog").on("keydown",".bt_bb_custom_css_content",(function(e){if(9===e.keyCode){e.preventDefault();var i=this.selectionStart,b=this.selectionEnd,a=t(this);a.val(a.val().substring(0,i)+"\t"+a.val().substring(b)),this.selectionStart=this.selectionEnd=i+1}}))):"custom"==e&&(b=window.bt_bb_custom_dialog.title);t("#bt_bb_dialog .bt_bb_dialog_header span").html(b),t('.bt_bb_dialog_item input[type="text"]').keypress((function(t){13==t.which&&t.preventDefault()})),"edit_content"==e?(t(".bt_bb_dialog_tinymce").css("height","auto"),window.switchEditors.go("bt_bb_tinymce","tmce"),window.bt_bb_content.includes("<p>")?tinyMCE.get("bt_bb_tinymce").setContent(window.bt_bb_content):tinyMCE.get("bt_bb_tinymce").setContent(window.switchEditors.wpautop(window.bt_bb_content))):(t("#bt_bb_dialog").css("visibility","visible"),t("#bt_bb_dialog .mce-i-resize").show()),"add"!=e&&"sc_mapper"!=e||t(".bt_bb_filter").focus(),window.bt_bb_resize_dialog()},window.bt_bb_dialog.hide=function(e){window.bt_bb_dialog.is_showing=!1,window.bt_bb_dialog.is_mouseover=!1,t(".wp-picker-open").click(),t(".bt_bb_dialog_tinymce").hide(),t("#bt_bb_dialog").data("hidden",""),t("#bt_bb_dialog").removeClass("bt_bb_dialog_tinymce_container"),t("#bt_bb_dialog").removeClass("bt_bb_dialog_sc_mapper_container"),t("#bt_bb_dialog").removeClass("bt_bb_dialog_add_horizontal"),t("#bt_bb_dialog").removeClass("bt_bb_dialog_custom_css");for(var i=t("#bt_bb_dialog .bt_bb_dialog_content")[0];i.firstChild;)i.removeChild(i.firstChild);t("#bt_bb_dialog .bt_bb_dialog_header")[0].innerHTML='<div class="bt_bb_dialog_close"></div><span></span>',t("#bt_bb_dialog .bt_bb_dialog_header_tools")[0].innerHTML="",t("#bt_bb_dialog > input").remove(),t("#bt_bb_dialog > .bt_bb_dialog_inline_buttons").remove(),t("#bt_bb_dialog").css("visibility","hidden")},t(document).ready((function(){t("#bt_bb_dialog").on("click",".bt_bb_dialog_close",(function(t){window.bt_bb_dialog.hide()}))})),window.bt_bb_get_obj_by_id=function(t,e){for(var i=null,b=0;b<t.children.length;b++){if(e.bt_ends_with(t.children[b].key)){i=t.children[b];break}if(null!=(i=bt_bb_get_obj_by_id(t.children[b],e)))break}return i},window.bt_bb_get_param=function(t,e){if(void 0!==window.bt_bb_map[t])return window.bt_bb_map[t][e]},window.bt_bb_state_callback=function(){bt_bb_horizontal_responsive(),null!==window.bt_bb_callback_action&&bt_bb_event(window.bt_bb_callback_action)},window.bt_bb_horizontal_responsive=function(){t(".bt_bb_horizontal").each((function(){var e=t(this).width(),i=!1;t(this).find(".bt_bb_is_width").each((function(){var b=bt_bb_get_obj_by_id(window.bt_bb_state_current,t(this).data("reactid")),a=window.bt_bb_map[b.base].width_param,n=attr_to_obj(b.attr)[a];if(n=12*(n=n.split("/"))[0]/n[1],e*n/12<window.bt_bb.min_width)return i=!0,!1})),i?(t(this).find(".bt_bb_is_width").removeClass("bt_bb_width"),t(this).css("display","block")):(t(this).find(".bt_bb_is_width").addClass("bt_bb_width"),t(this).css("display","table"))}))},t(window).resize((function(){bt_bb_horizontal_responsive()})),window.bt_bb_push_state=function(t){window.bt_bb_state_current=t,window.bt_bb_state.splice(window.bt_bb_state_pointer+1),window.bt_bb_state.push(JSON.stringify(t)),window.bt_bb_state_pointer=window.bt_bb_state.length-1},window.bt_bb_undo=function(){window.bt_bb_dialog.hide(),window.bt_bb_state_pointer--,window.bt_bb_state_pointer>-1?(window.bt_bb_state_current=JSON.parse(window.bt_bb_state[window.bt_bb_state_pointer]),window.bt_bb_action="update_state",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")):window.bt_bb_state_pointer++},window.bt_bb_redo=function(){window.bt_bb_dialog.hide(),window.bt_bb_state_pointer++,window.bt_bb_state_pointer<=window.bt_bb_state.length-1?(window.bt_bb_state_current=JSON.parse(window.bt_bb_state[window.bt_bb_state_pointer]),window.bt_bb_action="update_state",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")):window.bt_bb_state_pointer--},String.prototype.bt_ends_with=function(t){return-1!==this.indexOf(t,this.length-t.length)},window.bt_bb_dispatch=function(e,i){try{var b=new Event(i)}catch(t){(b=document.createEvent("Event")).initEvent(i,!1,!1)}t(e)[0].dispatchEvent(b)},t(document).ready((function(){if(t("#bt_bb").length>0&&(window.bt_bb_element_list=BTReact.render(BTReact.createElement(i,{data:window.bt_bb_data}),t("#bt_bb")[0],(function(){bt_bb_horizontal_responsive(),bt_bb_resize_h(window.bt_bb_data),window.bt_bb_action="refresh_on_ready",bt_bb_dispatch(".bt_bb_item_list","bt_bb_event")}))),t("body").hasClass("widgets-php")||t("body").hasClass("wp-customizer")||t("body").hasClass("nav-menus-php")){if(t(".bt_bb_iconpicker_widget_placeholder").each((function(){t(this).replaceWith(window.bt_bb_iconpicker(!1,t(this).data("icon")))})),t("body").hasClass("nav-menus-php")&&setInterval((function(){t("#menu-to-edit .bt_bb_iconpicker_widget_placeholder").each((function(){t(this).replaceWith(window.bt_bb_iconpicker(!1,t(this).data("icon")))}))}),100),t("body").hasClass("wp-customizer")){const i=document.getElementsByClassName("customize-control-widget_form"),b={attributes:!0},a=function(e,i){for(const i of e)"attributes"===i.type&&"class"===i.attributeName&&i.target.className.includes("expanded")&&t(".bt_bb_iconpicker_widget_placeholder").each((function(){t(this).replaceWith(window.bt_bb_iconpicker(!1,t(this).data("icon")))}))},n=[];for(var e=0;e<i.length;e++)n[e]=new MutationObserver(a),n[e].observe(i[e],b);setInterval((function(){t(".customize-widgets__sidebar-section .bt_bb_iconpicker_widget_placeholder, .customize-control .bt_bb_iconpicker_widget_placeholder").each((function(){t(this).replaceWith(window.bt_bb_iconpicker(!1,t(this).data("icon")))}))}),100)}window.bt_bb_iconpicker_init("widgets"),t(document).ajaxSuccess((function(e,i,b){b.data.includes("bt_bb_iconpicker")&&t(".bt_bb_iconpicker_widget_placeholder").each((function(){t(this).replaceWith(window.bt_bb_iconpicker(!1,t(this).data("icon")))}))}));const i=document.getElementById("widgets-editor");if(i){const e={attributes:!0,childList:!0,subtree:!0};new MutationObserver((function(e,i){for(const i of e)"childList"==i.type&&t(".bt_bb_iconpicker_widget_placeholder").each((function(){t(this).replaceWith(window.bt_bb_iconpicker(!1,t(this).data("icon")))}))})).observe(i,e)}}})),t(document).ready((function(){t("body").on("keyup",(function(e){"Escape"===e.key&&(t(e.target).is(":focus")&&1==t(e.target).closest("#bt_bb_dialog").length?t(e.target).blur():"body"==e.target.tagName.toLowerCase()&&window.bt_bb_dialog.hide())})),t(window).on("focus",(function(){window.bt_bb_refresh_cb_items()}))}))},246:(t,e,i)=>{function b(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(t);e&&(b=b.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,b)}return i}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?b(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _(){return _=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var b in i)Object.prototype.hasOwnProperty.call(i,b)&&(t[b]=i[b])}return t},_.apply(this,arguments)}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,b=new Array(e);i<e;i++)b[i]=t[i];return b}function s(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}i.r(e),i.d(e,{MultiDrag:()=>fe,Sortable:()=>Jt,Swap:()=>re,default:()=>ke});var d=s(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),l=s(/Edge/i),c=s(/firefox/i),p=s(/safari/i)&&!s(/chrome/i)&&!s(/android/i),w=s(/iP(ad|od|hone)/i),u=s(/chrome/i)&&s(/android/i),h={capture:!1,passive:!1};function m(t,e,i){t.addEventListener(e,i,!d&&h)}function v(t,e,i){t.removeEventListener(e,i,!d&&h)}function f(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return!1}return!1}}function g(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function y(t,e,i,b){if(t){i=i||document;do{if(null!=e&&(">"===e[0]?t.parentNode===i&&f(t,e):f(t,e))||b&&t===i)return t;if(t===i)break}while(t=g(t))}return null}var k,x=/\s+/g;function S(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var b=(" "+t.className+" ").replace(x," ").replace(" "+e+" "," ");t.className=(b+(i?" "+e:"")).replace(x," ")}}function E(t,e,i){var b=t&&t.style;if(b){if(void 0===i)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),void 0===e?i:i[e];e in b||-1!==e.indexOf("webkit")||(e="-webkit-"+e),b[e]=i+("string"==typeof i?"":"px")}}function C(t,e){var i="";if("string"==typeof t)i=t;else do{var b=E(t,"transform");b&&"none"!==b&&(i=b+" "+i)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(i)}function O(t,e,i){if(t){var b=t.getElementsByTagName(e),a=0,n=b.length;if(i)for(;a<n;a++)i(b[a],a);return b}return[]}function D(){return document.scrollingElement||document.documentElement}function N(t,e,i,b,a){if(t.getBoundingClientRect||t===window){var n,o,_,r,s,l,c;if(t!==window&&t.parentNode&&t!==D()?(o=(n=t.getBoundingClientRect()).top,_=n.left,r=n.bottom,s=n.right,l=n.height,c=n.width):(o=0,_=0,r=window.innerHeight,s=window.innerWidth,l=window.innerHeight,c=window.innerWidth),(e||i)&&t!==window&&(a=a||t.parentNode,!d))do{if(a&&a.getBoundingClientRect&&("none"!==E(a,"transform")||i&&"static"!==E(a,"position"))){var p=a.getBoundingClientRect();o-=p.top+parseInt(E(a,"border-top-width")),_-=p.left+parseInt(E(a,"border-left-width")),r=o+n.height,s=_+n.width;break}}while(a=a.parentNode);if(b&&t!==window){var w=C(a||t),u=w&&w.a,h=w&&w.d;w&&(r=(o/=h)+(l/=h),s=(_/=u)+(c/=u))}return{top:o,left:_,bottom:r,right:s,width:c,height:l}}}function T(t,e,i){for(var b=z(t,!0),a=N(t)[e];b;){var n=N(b)[i];if(!("top"===i||"left"===i?a>=n:a<=n))return b;if(b===D())break;b=z(b,!1)}return!1}function M(t,e,i,b){for(var a=0,n=0,o=t.children;n<o.length;){if("none"!==o[n].style.display&&o[n]!==Jt.ghost&&(b||o[n]!==Jt.dragged)&&y(o[n],i.draggable,t,!1)){if(a===e)return o[n];a++}n++}return null}function I(t,e){for(var i=t.lastElementChild;i&&(i===Jt.ghost||"none"===E(i,"display")||e&&!f(i,e));)i=i.previousElementSibling;return i||null}function j(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Jt.clone||e&&!f(t,e)||i++;return i}function A(t){var e=0,i=0,b=D();if(t)do{var a=C(t),n=a.a,o=a.d;e+=t.scrollLeft*n,i+=t.scrollTop*o}while(t!==b&&(t=t.parentNode));return[e,i]}function z(t,e){if(!t||!t.getBoundingClientRect)return D();var i=t,b=!1;do{if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var a=E(i);if(i.clientWidth<i.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||i.clientHeight<i.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!i.getBoundingClientRect||i===document.body)return D();if(b||e)return i;b=!0}}}while(i=i.parentNode);return D()}function R(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function P(t,e){return function(){if(!k){var i=arguments;1===i.length?t.call(this,i[0]):t.apply(this,i),k=setTimeout((function(){k=void 0}),e)}}}function L(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function H(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function J(t,e){E(t,"position","absolute"),E(t,"top",e.top),E(t,"left",e.left),E(t,"width",e.width),E(t,"height",e.height)}function X(t){E(t,"position",""),E(t,"top",""),E(t,"left",""),E(t,"width",""),E(t,"height","")}var Y="Sortable"+(new Date).getTime();var B=[],F={initializeByDefault:!0},U={mount:function(t){for(var e in F)F.hasOwnProperty(e)&&!(e in t)&&(t[e]=F[e]);B.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),B.push(t)},pluginEvent:function(t,e,i){var b=this;this.eventCanceled=!1,i.cancel=function(){b.eventCanceled=!0};var n=t+"Global";B.forEach((function(b){e[b.pluginName]&&(e[b.pluginName][n]&&e[b.pluginName][n](a({sortable:e},i)),e.options[b.pluginName]&&e[b.pluginName][t]&&e[b.pluginName][t](a({sortable:e},i)))}))},initializePlugins:function(t,e,i,b){for(var a in B.forEach((function(b){var a=b.pluginName;if(t.options[a]||b.initializeByDefault){var n=new b(t,e,t.options);n.sortable=t,n.options=t.options,t[a]=n,_(i,n.defaults)}})),t.options)if(t.options.hasOwnProperty(a)){var n=this.modifyOption(t,a,t.options[a]);void 0!==n&&(t.options[a]=n)}},getEventProperties:function(t,e){var i={};return B.forEach((function(b){"function"==typeof b.eventProperties&&_(i,b.eventProperties.call(e[b.pluginName],t))})),i},modifyOption:function(t,e,i){var b;return B.forEach((function(a){t[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[e]&&(b=a.optionListeners[e].call(t[a.pluginName],i))})),b}};function W(t){var e=t.sortable,i=t.rootEl,b=t.name,n=t.targetEl,o=t.cloneEl,_=t.toEl,r=t.fromEl,s=t.oldIndex,c=t.newIndex,p=t.oldDraggableIndex,w=t.newDraggableIndex,u=t.originalEvent,h=t.putSortable,m=t.extraEventProperties;if(e=e||i&&i[Y]){var v,f=e.options,g="on"+b.charAt(0).toUpperCase()+b.substr(1);!window.CustomEvent||d||l?(v=document.createEvent("Event")).initEvent(b,!0,!0):v=new CustomEvent(b,{bubbles:!0,cancelable:!0}),v.to=_||i,v.from=r||i,v.item=n||i,v.clone=o,v.oldIndex=s,v.newIndex=c,v.oldDraggableIndex=p,v.newDraggableIndex=w,v.originalEvent=u,v.pullMode=h?h.lastPutMode:void 0;var y=a(a({},m),U.getEventProperties(b,e));for(var k in y)v[k]=y[k];i&&i.dispatchEvent(v),f[g]&&f[g].call(e,v)}}var K=["evt"],q=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},b=i.evt,n=function(t,e){if(null==t)return{};var i,b,a=function(t,e){if(null==t)return{};var i,b,a={},n=Object.keys(t);for(b=0;b<n.length;b++)i=n[b],e.indexOf(i)>=0||(a[i]=t[i]);return a}(t,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);for(b=0;b<n.length;b++)i=n[b],e.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(a[i]=t[i])}return a}(i,K);U.pluginEvent.bind(Jt)(t,e,a({dragEl:$,parentEl:G,ghostEl:Z,rootEl:V,nextEl:tt,lastDownEl:et,cloneEl:it,cloneHidden:bt,dragStarted:ht,putSortable:st,activeSortable:Jt.active,originalEvent:b,oldIndex:at,oldDraggableIndex:ot,newIndex:nt,newDraggableIndex:_t,hideGhostForTarget:Rt,unhideGhostForTarget:Pt,cloneNowHidden:function(){bt=!0},cloneNowShown:function(){bt=!1},dispatchSortableEvent:function(t){Q({sortable:e,name:t,originalEvent:b})}},n))};function Q(t){W(a({putSortable:st,cloneEl:it,targetEl:$,rootEl:V,oldIndex:at,oldDraggableIndex:ot,newIndex:nt,newDraggableIndex:_t},t))}var $,G,Z,V,tt,et,it,bt,at,nt,ot,_t,rt,st,dt,lt,ct,pt,wt,ut,ht,mt,vt,ft,gt,yt=!1,kt=!1,xt=[],St=!1,Et=!1,Ct=[],Ot=!1,Dt=[],Nt="undefined"!=typeof document,Tt=w,Mt=l||d?"cssFloat":"float",It=Nt&&!u&&!w&&"draggable"in document.createElement("div"),jt=function(){if(Nt){if(d)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),At=function(t,e){var i=E(t),b=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),a=M(t,0,e),n=M(t,1,e),o=a&&E(a),_=n&&E(n),r=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+N(a).width,s=_&&parseInt(_.marginLeft)+parseInt(_.marginRight)+N(n).width;if("flex"===i.display)return"column"===i.flexDirection||"column-reverse"===i.flexDirection?"vertical":"horizontal";if("grid"===i.display)return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&o.float&&"none"!==o.float){var d="left"===o.float?"left":"right";return!n||"both"!==_.clear&&_.clear!==d?"horizontal":"vertical"}return a&&("block"===o.display||"flex"===o.display||"table"===o.display||"grid"===o.display||r>=b&&"none"===i[Mt]||n&&"none"===i[Mt]&&r+s>b)?"vertical":"horizontal"},zt=function(t){function e(t,i){return function(b,a,n,o){var _=b.options.group.name&&a.options.group.name&&b.options.group.name===a.options.group.name;if(null==t&&(i||_))return!0;if(null==t||!1===t)return!1;if(i&&"clone"===t)return t;if("function"==typeof t)return e(t(b,a,n,o),i)(b,a,n,o);var r=(i?b:a).options.group.name;return!0===t||"string"==typeof t&&t===r||t.join&&t.indexOf(r)>-1}}var i={},b=t.group;b&&"object"==n(b)||(b={name:b}),i.name=b.name,i.checkPull=e(b.pull,!0),i.checkPut=e(b.put),i.revertClone=b.revertClone,t.group=i},Rt=function(){!jt&&Z&&E(Z,"display","none")},Pt=function(){!jt&&Z&&E(Z,"display","")};Nt&&document.addEventListener("click",(function(t){if(kt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),kt=!1,!1}),!0);var Lt=function(t){if($){t=t.touches?t.touches[0]:t;var e=(a=t.clientX,n=t.clientY,xt.some((function(t){var e=t[Y].options.emptyInsertThreshold;if(e&&!I(t)){var i=N(t),b=a>=i.left-e&&a<=i.right+e,_=n>=i.top-e&&n<=i.bottom+e;return b&&_?o=t:void 0}})),o);if(e){var i={};for(var b in t)t.hasOwnProperty(b)&&(i[b]=t[b]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[Y]._onDragOver(i)}}var a,n,o},Ht=function(t){$&&$.parentNode[Y]._isOutsideThisEl(t.target)};function Jt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=_({},e),t[Y]=this;var i,b,n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return At(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Jt.supportPointer&&"PointerEvent"in window&&!p,emptyInsertThreshold:5};for(var o in U.initializePlugins(this,t,n),n)!(o in e)&&(e[o]=n[o]);for(var r in zt(e),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!e.forceFallback&&It,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?m(t,"pointerdown",this._onTapStart):(m(t,"mousedown",this._onTapStart),m(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(m(t,"dragover",this),m(t,"dragenter",this)),xt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),_(this,(b=[],{captureAnimationState:function(){b=[],this.options.animation&&[].slice.call(this.el.children).forEach((function(t){if("none"!==E(t,"display")&&t!==Jt.ghost){b.push({target:t,rect:N(t)});var e=a({},b[b.length-1].rect);if(t.thisAnimationDuration){var i=C(t,!0);i&&(e.top-=i.f,e.left-=i.e)}t.fromRect=e}}))},addAnimationState:function(t){b.push(t)},removeAnimationState:function(t){b.splice(function(t,e){for(var i in t)if(t.hasOwnProperty(i))for(var b in e)if(e.hasOwnProperty(b)&&e[b]===t[i][b])return Number(i);return-1}(b,{target:t}),1)},animateAll:function(t){var e=this;if(!this.options.animation)return clearTimeout(i),void("function"==typeof t&&t());var a=!1,n=0;b.forEach((function(t){var i=0,b=t.target,o=b.fromRect,_=N(b),r=b.prevFromRect,s=b.prevToRect,d=t.rect,l=C(b,!0);l&&(_.top-=l.f,_.left-=l.e),b.toRect=_,b.thisAnimationDuration&&R(r,_)&&!R(o,_)&&(d.top-_.top)/(d.left-_.left)==(o.top-_.top)/(o.left-_.left)&&(i=function(t,e,i,b){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*b.animation}(d,r,s,e.options)),R(_,o)||(b.prevFromRect=o,b.prevToRect=_,i||(i=e.options.animation),e.animate(b,d,_,i)),i&&(a=!0,n=Math.max(n,i),clearTimeout(b.animationResetTimer),b.animationResetTimer=setTimeout((function(){b.animationTime=0,b.prevFromRect=null,b.fromRect=null,b.prevToRect=null,b.thisAnimationDuration=null}),i),b.thisAnimationDuration=i)})),clearTimeout(i),a?i=setTimeout((function(){"function"==typeof t&&t()}),n):"function"==typeof t&&t(),b=[]},animate:function(t,e,i,b){if(b){E(t,"transition",""),E(t,"transform","");var a=C(this.el),n=a&&a.a,o=a&&a.d,_=(e.left-i.left)/(n||1),r=(e.top-i.top)/(o||1);t.animatingX=!!_,t.animatingY=!!r,E(t,"transform","translate3d("+_+"px,"+r+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),E(t,"transition","transform "+b+"ms"+(this.options.easing?" "+this.options.easing:"")),E(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){E(t,"transition",""),E(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),b)}}}))}function Xt(t,e,i,b,a,n,o,_){var r,s,c=t[Y],p=c.options.onMove;return!window.CustomEvent||d||l?(r=document.createEvent("Event")).initEvent("move",!0,!0):r=new CustomEvent("move",{bubbles:!0,cancelable:!0}),r.to=e,r.from=t,r.dragged=i,r.draggedRect=b,r.related=a||e,r.relatedRect=n||N(e),r.willInsertAfter=_,r.originalEvent=o,t.dispatchEvent(r),p&&(s=p.call(c,r,o)),s}function Yt(t){t.draggable=!1}function Bt(){Ot=!1}function Ft(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,b=0;i--;)b+=e.charCodeAt(i);return b.toString(36)}function Ut(t){return setTimeout(t,0)}function Wt(t){return clearTimeout(t)}Jt.prototype={constructor:Jt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(mt=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,$):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,i=this.el,b=this.options,a=b.preventOnFilter,n=t.type,o=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,_=(o||t).target,r=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||_,s=b.filter;if(function(t){Dt.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var b=e[i];b.checked&&Dt.push(b)}}(i),!$&&!(/mousedown|pointerdown/.test(n)&&0!==t.button||b.disabled)&&!r.isContentEditable&&(this.nativeDraggable||!p||!_||"SELECT"!==_.tagName.toUpperCase())&&!((_=y(_,b.draggable,i,!1))&&_.animated||et===_)){if(at=j(_),ot=j(_,b.draggable),"function"==typeof s){if(s.call(this,t,_,this))return Q({sortable:e,rootEl:r,name:"filter",targetEl:_,toEl:i,fromEl:i}),q("filter",e,{evt:t}),void(a&&t.cancelable&&t.preventDefault())}else if(s&&(s=s.split(",").some((function(b){if(b=y(r,b.trim(),i,!1))return Q({sortable:e,rootEl:b,name:"filter",targetEl:_,fromEl:i,toEl:i}),q("filter",e,{evt:t}),!0}))))return void(a&&t.cancelable&&t.preventDefault());b.handle&&!y(r,b.handle,i,!1)||this._prepareDragStart(t,o,_)}}},_prepareDragStart:function(t,e,i){var b,a=this,n=a.el,o=a.options,_=n.ownerDocument;if(i&&!$&&i.parentNode===n){var r=N(i);if(V=n,G=($=i).parentNode,tt=$.nextSibling,et=i,rt=o.group,Jt.dragged=$,dt={target:$,clientX:(e||t).clientX,clientY:(e||t).clientY},wt=dt.clientX-r.left,ut=dt.clientY-r.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,$.style["will-change"]="all",b=function(){q("delayEnded",a,{evt:t}),Jt.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!c&&a.nativeDraggable&&($.draggable=!0),a._triggerDragStart(t,e),Q({sortable:a,name:"choose",originalEvent:t}),S($,o.chosenClass,!0))},o.ignore.split(",").forEach((function(t){O($,t.trim(),Yt)})),m(_,"dragover",Lt),m(_,"mousemove",Lt),m(_,"touchmove",Lt),m(_,"mouseup",a._onDrop),m(_,"touchend",a._onDrop),m(_,"touchcancel",a._onDrop),c&&this.nativeDraggable&&(this.options.touchStartThreshold=4,$.draggable=!0),q("delayStart",this,{evt:t}),!o.delay||o.delayOnTouchOnly&&!e||this.nativeDraggable&&(l||d))b();else{if(Jt.eventCanceled)return void this._onDrop();m(_,"mouseup",a._disableDelayedDrag),m(_,"touchend",a._disableDelayedDrag),m(_,"touchcancel",a._disableDelayedDrag),m(_,"mousemove",a._delayedDragTouchMoveHandler),m(_,"touchmove",a._delayedDragTouchMoveHandler),o.supportPointer&&m(_,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(b,o.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){$&&Yt($),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;v(t,"mouseup",this._disableDelayedDrag),v(t,"touchend",this._disableDelayedDrag),v(t,"touchcancel",this._disableDelayedDrag),v(t,"mousemove",this._delayedDragTouchMoveHandler),v(t,"touchmove",this._delayedDragTouchMoveHandler),v(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?m(document,"pointermove",this._onTouchMove):m(document,e?"touchmove":"mousemove",this._onTouchMove):(m($,"dragend",this),m(V,"dragstart",this._onDragStart));try{document.selection?Ut((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){if(yt=!1,V&&$){q("dragStarted",this,{evt:e}),this.nativeDraggable&&m(document,"dragover",Ht);var i=this.options;!t&&S($,i.dragClass,!1),S($,i.ghostClass,!0),Jt.active=this,t&&this._appendGhost(),Q({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(lt){this._lastX=lt.clientX,this._lastY=lt.clientY,Rt();for(var t=document.elementFromPoint(lt.clientX,lt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(lt.clientX,lt.clientY))!==e;)e=t;if($.parentNode[Y]._isOutsideThisEl(t),e)do{if(e[Y]&&e[Y]._onDragOver({clientX:lt.clientX,clientY:lt.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break;t=e}while(e=e.parentNode);Pt()}},_onTouchMove:function(t){if(dt){var e=this.options,i=e.fallbackTolerance,b=e.fallbackOffset,a=t.touches?t.touches[0]:t,n=Z&&C(Z,!0),o=Z&&n&&n.a,_=Z&&n&&n.d,r=Tt&&gt&&A(gt),s=(a.clientX-dt.clientX+b.x)/(o||1)+(r?r[0]-Ct[0]:0)/(o||1),d=(a.clientY-dt.clientY+b.y)/(_||1)+(r?r[1]-Ct[1]:0)/(_||1);if(!Jt.active&&!yt){if(i&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(Z){n?(n.e+=s-(ct||0),n.f+=d-(pt||0)):n={a:1,b:0,c:0,d:1,e:s,f:d};var l="matrix(".concat(n.a,",").concat(n.b,",").concat(n.c,",").concat(n.d,",").concat(n.e,",").concat(n.f,")");E(Z,"webkitTransform",l),E(Z,"mozTransform",l),E(Z,"msTransform",l),E(Z,"transform",l),ct=s,pt=d,lt=a}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Z){var t=this.options.fallbackOnBody?document.body:V,e=N($,!0,Tt,!0,t),i=this.options;if(Tt){for(gt=t;"static"===E(gt,"position")&&"none"===E(gt,"transform")&&gt!==document;)gt=gt.parentNode;gt!==document.body&&gt!==document.documentElement?(gt===document&&(gt=D()),e.top+=gt.scrollTop,e.left+=gt.scrollLeft):gt=D(),Ct=A(gt)}S(Z=$.cloneNode(!0),i.ghostClass,!1),S(Z,i.fallbackClass,!0),S(Z,i.dragClass,!0),E(Z,"transition",""),E(Z,"transform",""),E(Z,"box-sizing","border-box"),E(Z,"margin",0),E(Z,"top",e.top),E(Z,"left",e.left),E(Z,"width",e.width),E(Z,"height",e.height),E(Z,"opacity","0.8"),E(Z,"position",Tt?"absolute":"fixed"),E(Z,"zIndex","100000"),E(Z,"pointerEvents","none"),Jt.ghost=Z,t.appendChild(Z),E(Z,"transform-origin",wt/parseInt(Z.style.width)*100+"% "+ut/parseInt(Z.style.height)*100+"%")}},_onDragStart:function(t,e){var i=this,b=t.dataTransfer,a=i.options;q("dragStart",this,{evt:t}),Jt.eventCanceled?this._onDrop():(q("setupClone",this),Jt.eventCanceled||((it=H($)).draggable=!1,it.style["will-change"]="",this._hideClone(),S(it,this.options.chosenClass,!1),Jt.clone=it),i.cloneId=Ut((function(){q("clone",i),Jt.eventCanceled||(i.options.removeCloneOnHide||V.insertBefore(it,$),i._hideClone(),Q({sortable:i,name:"clone"}))})),!e&&S($,a.dragClass,!0),e?(kt=!0,i._loopId=setInterval(i._emulateDragOver,50)):(v(document,"mouseup",i._onDrop),v(document,"touchend",i._onDrop),v(document,"touchcancel",i._onDrop),b&&(b.effectAllowed="move",a.setData&&a.setData.call(i,b,$)),m(document,"drop",i),E($,"transform","translateZ(0)")),yt=!0,i._dragStartId=Ut(i._dragStarted.bind(i,e,t)),m(document,"selectstart",i),ht=!0,p&&E(document.body,"user-select","none"))},_onDragOver:function(t){var e,i,b,n,o=this.el,_=t.target,r=this.options,s=r.group,d=Jt.active,l=rt===s,c=r.sort,p=st||d,w=this,u=!1;if(!Ot){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),_=y(_,r.draggable,o,!0),H("dragOver"),Jt.eventCanceled)return u;if($.contains(t.target)||_.animated&&_.animatingX&&_.animatingY||w._ignoreWhileAnimating===_)return X(!1);if(kt=!1,d&&!r.disabled&&(l?c||(b=G!==V):st===this||(this.lastPutMode=rt.checkPull(this,d,$,t))&&s.checkPut(this,d,$,t))){if(n="vertical"===this._getDirection(t,_),e=N($),H("dragOverValid"),Jt.eventCanceled)return u;if(b)return G=V,J(),this._hideClone(),H("revert"),Jt.eventCanceled||(tt?V.insertBefore($,tt):V.appendChild($)),X(!0);var h=I(o,r.draggable);if(!h||function(t,e,i){var b=N(I(i.el,i.options.draggable));return e?t.clientX>b.right+10||t.clientX<=b.right&&t.clientY>b.bottom&&t.clientX>=b.left:t.clientX>b.right&&t.clientY>b.top||t.clientX<=b.right&&t.clientY>b.bottom+10}(t,n,this)&&!h.animated){if(h===$)return X(!1);if(h&&o===t.target&&(_=h),_&&(i=N(_)),!1!==Xt(V,o,$,e,_,i,t,!!_))return J(),o.appendChild($),G=o,B(),X(!0)}else if(h&&function(t,e,i){var b=N(M(i.el,0,i.options,!0));return e?t.clientX<b.left-10||t.clientY<b.top&&t.clientX<b.right:t.clientY<b.top-10||t.clientY<b.bottom&&t.clientX<b.left}(t,n,this)){var m=M(o,0,r,!0);if(m===$)return X(!1);if(i=N(_=m),!1!==Xt(V,o,$,e,_,i,t,!1))return J(),o.insertBefore($,m),G=o,B(),X(!0)}else if(_.parentNode===o){i=N(_);var v,f,g,k=$.parentNode!==o,x=!function(t,e,i){var b=i?t.left:t.top,a=i?t.right:t.bottom,n=i?t.width:t.height,o=i?e.left:e.top,_=i?e.right:e.bottom,r=i?e.width:e.height;return b===o||a===_||b+n/2===o+r/2}($.animated&&$.toRect||e,_.animated&&_.toRect||i,n),C=n?"top":"left",O=T(_,"top","top")||T($,"top","top"),D=O?O.scrollTop:void 0;if(mt!==_&&(f=i[C],St=!1,Et=!x&&r.invertSwap||k),v=function(t,e,i,b,a,n,o,_){var r=b?t.clientY:t.clientX,s=b?i.height:i.width,d=b?i.top:i.left,l=b?i.bottom:i.right,c=!1;if(!o)if(_&&ft<s*a){if(!St&&(1===vt?r>d+s*n/2:r<l-s*n/2)&&(St=!0),St)c=!0;else if(1===vt?r<d+ft:r>l-ft)return-vt}else if(r>d+s*(1-a)/2&&r<l-s*(1-a)/2)return function(t){return j($)<j(t)?1:-1}(e);return(c=c||o)&&(r<d+s*n/2||r>l-s*n/2)?r>d+s/2?1:-1:0}(t,_,i,n,x?1:r.swapThreshold,null==r.invertedSwapThreshold?r.swapThreshold:r.invertedSwapThreshold,Et,mt===_),0!==v){var A=j($);do{A-=v,g=G.children[A]}while(g&&("none"===E(g,"display")||g===Z))}if(0===v||g===_)return X(!1);mt=_,vt=v;var z=_.nextElementSibling,R=!1,P=Xt(V,o,$,e,_,i,t,R=1===v);if(!1!==P)return 1!==P&&-1!==P||(R=1===P),Ot=!0,setTimeout(Bt,30),J(),R&&!z?o.appendChild($):_.parentNode.insertBefore($,R?z:_),O&&L(O,0,D-O.scrollTop),G=$.parentNode,void 0===f||Et||(ft=Math.abs(f-N(_)[C])),B(),X(!0)}if(o.contains($))return X(!1)}return!1}function H(r,s){q(r,w,a({evt:t,isOwner:l,axis:n?"vertical":"horizontal",revert:b,dragRect:e,targetRect:i,canSort:c,fromSortable:p,target:_,completed:X,onMove:function(i,b){return Xt(V,o,$,e,i,N(i),t,b)},changed:B},s))}function J(){H("dragOverAnimationCapture"),w.captureAnimationState(),w!==p&&p.captureAnimationState()}function X(e){return H("dragOverCompleted",{insertion:e}),e&&(l?d._hideClone():d._showClone(w),w!==p&&(S($,st?st.options.ghostClass:d.options.ghostClass,!1),S($,r.ghostClass,!0)),st!==w&&w!==Jt.active?st=w:w===Jt.active&&st&&(st=null),p===w&&(w._ignoreWhileAnimating=_),w.animateAll((function(){H("dragOverAnimationComplete"),w._ignoreWhileAnimating=null})),w!==p&&(p.animateAll(),p._ignoreWhileAnimating=null)),(_===$&&!$.animated||_===o&&!_.animated)&&(mt=null),r.dragoverBubble||t.rootEl||_===document||($.parentNode[Y]._isOutsideThisEl(t.target),!e&&Lt(t)),!r.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),u=!0}function B(){nt=j($),_t=j($,r.draggable),Q({sortable:w,name:"change",toEl:o,newIndex:nt,newDraggableIndex:_t,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",Lt),v(document,"mousemove",Lt),v(document,"touchmove",Lt)},_offUpEvents:function(){var t=this.el.ownerDocument;v(t,"mouseup",this._onDrop),v(t,"touchend",this._onDrop),v(t,"pointerup",this._onDrop),v(t,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(t){var e=this.el,i=this.options;nt=j($),_t=j($,i.draggable),q("drop",this,{evt:t}),G=$&&$.parentNode,nt=j($),_t=j($,i.draggable),Jt.eventCanceled||(yt=!1,Et=!1,St=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Wt(this.cloneId),Wt(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),p&&E(document.body,"user-select",""),E($,"transform",""),t&&(ht&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),Z&&Z.parentNode&&Z.parentNode.removeChild(Z),(V===G||st&&"clone"!==st.lastPutMode)&&it&&it.parentNode&&it.parentNode.removeChild(it),$&&(this.nativeDraggable&&v($,"dragend",this),Yt($),$.style["will-change"]="",ht&&!yt&&S($,st?st.options.ghostClass:this.options.ghostClass,!1),S($,this.options.chosenClass,!1),Q({sortable:this,name:"unchoose",toEl:G,newIndex:null,newDraggableIndex:null,originalEvent:t}),V!==G?(nt>=0&&(Q({rootEl:G,name:"add",toEl:G,fromEl:V,originalEvent:t}),Q({sortable:this,name:"remove",toEl:G,originalEvent:t}),Q({rootEl:G,name:"sort",toEl:G,fromEl:V,originalEvent:t}),Q({sortable:this,name:"sort",toEl:G,originalEvent:t})),st&&st.save()):nt!==at&&nt>=0&&(Q({sortable:this,name:"update",toEl:G,originalEvent:t}),Q({sortable:this,name:"sort",toEl:G,originalEvent:t})),Jt.active&&(null!=nt&&-1!==nt||(nt=at,_t=ot),Q({sortable:this,name:"end",toEl:G,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){q("nulling",this),V=$=G=Z=tt=it=et=bt=dt=lt=ht=nt=_t=at=ot=mt=vt=st=rt=Jt.dragged=Jt.ghost=Jt.clone=Jt.active=null,Dt.forEach((function(t){t.checked=!0})),Dt.length=ct=pt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":$&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],i=this.el.children,b=0,a=i.length,n=this.options;b<a;b++)y(t=i[b],n.draggable,this.el,!1)&&e.push(t.getAttribute(n.dataIdAttr)||Ft(t));return e},sort:function(t,e){var i={},b=this.el;this.toArray().forEach((function(t,e){var a=b.children[e];y(a,this.options.draggable,b,!1)&&(i[t]=a)}),this),e&&this.captureAnimationState(),t.forEach((function(t){i[t]&&(b.removeChild(i[t]),b.appendChild(i[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return y(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var i=this.options;if(void 0===e)return i[t];var b=U.modifyOption(this,t,e);i[t]=void 0!==b?b:e,"group"===t&&zt(i)},destroy:function(){q("destroy",this);var t=this.el;t[Y]=null,v(t,"mousedown",this._onTapStart),v(t,"touchstart",this._onTapStart),v(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(t,"dragover",this),v(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),xt.splice(xt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!bt){if(q("hideClone",this),Jt.eventCanceled)return;E(it,"display","none"),this.options.removeCloneOnHide&&it.parentNode&&it.parentNode.removeChild(it),bt=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(bt){if(q("showClone",this),Jt.eventCanceled)return;$.parentNode!=V||this.options.group.revertClone?tt?V.insertBefore(it,tt):V.appendChild(it):V.insertBefore(it,$),this.options.group.revertClone&&this.animate($,it),E(it,"display",""),bt=!1}}else this._hideClone()}},Nt&&m(document,"touchmove",(function(t){(Jt.active||yt)&&t.cancelable&&t.preventDefault()})),Jt.utils={on:m,off:v,css:E,find:O,is:function(t,e){return!!y(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t},throttle:P,closest:y,toggleClass:S,clone:H,index:j,nextTick:Ut,cancelNextTick:Wt,detectDirection:At,getChild:M},Jt.get=function(t){return t[Y]},Jt.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Jt.utils=a(a({},Jt.utils),t.utils)),U.mount(t)}))},Jt.create=function(t,e){return new Jt(t,e)},Jt.version="1.14.0";var Kt,qt,Qt,$t,Gt,Zt,Vt=[],te=!1;function ee(){Vt.forEach((function(t){clearInterval(t.pid)})),Vt=[]}function ie(){clearInterval(Zt)}var be,ae=P((function(t,e,i,b){if(e.scroll){var a,n=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,_=e.scrollSensitivity,r=e.scrollSpeed,s=D(),d=!1;qt!==i&&(qt=i,ee(),Kt=e.scroll,a=e.scrollFn,!0===Kt&&(Kt=z(i,!0)));var l=0,c=Kt;do{var p=c,w=N(p),u=w.top,h=w.bottom,m=w.left,v=w.right,f=w.width,g=w.height,y=void 0,k=void 0,x=p.scrollWidth,S=p.scrollHeight,C=E(p),O=p.scrollLeft,T=p.scrollTop;p===s?(y=f<x&&("auto"===C.overflowX||"scroll"===C.overflowX||"visible"===C.overflowX),k=g<S&&("auto"===C.overflowY||"scroll"===C.overflowY||"visible"===C.overflowY)):(y=f<x&&("auto"===C.overflowX||"scroll"===C.overflowX),k=g<S&&("auto"===C.overflowY||"scroll"===C.overflowY));var M=y&&(Math.abs(v-n)<=_&&O+f<x)-(Math.abs(m-n)<=_&&!!O),I=k&&(Math.abs(h-o)<=_&&T+g<S)-(Math.abs(u-o)<=_&&!!T);if(!Vt[l])for(var j=0;j<=l;j++)Vt[j]||(Vt[j]={});Vt[l].vx==M&&Vt[l].vy==I&&Vt[l].el===p||(Vt[l].el=p,Vt[l].vx=M,Vt[l].vy=I,clearInterval(Vt[l].pid),0==M&&0==I||(d=!0,Vt[l].pid=setInterval(function(){b&&0===this.layer&&Jt.active._onTouchMove(Gt);var e=Vt[this.layer].vy?Vt[this.layer].vy*r:0,i=Vt[this.layer].vx?Vt[this.layer].vx*r:0;"function"==typeof a&&"continue"!==a.call(Jt.dragged.parentNode[Y],i,e,t,Gt,Vt[this.layer].el)||L(Vt[this.layer].el,i,e)}.bind({layer:l}),24))),l++}while(e.bubbleScroll&&c!==s&&(c=z(c,!1)));te=d}}),30),ne=function(t){var e=t.originalEvent,i=t.putSortable,b=t.dragEl,a=t.activeSortable,n=t.dispatchSortableEvent,o=t.hideGhostForTarget,_=t.unhideGhostForTarget;if(e){var r=i||a;o();var s=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,d=document.elementFromPoint(s.clientX,s.clientY);_(),r&&!r.el.contains(d)&&(n("spill"),this.onSpill({dragEl:b,putSortable:i}))}};function oe(){}function _e(){}function re(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){var e=t.dragEl;be=e},dragOverValid:function(t){var e=t.completed,i=t.target,b=t.onMove,a=t.activeSortable,n=t.changed,o=t.cancel;if(a.options.swap){var _=this.sortable.el,r=this.options;if(i&&i!==_){var s=be;!1!==b(i)?(S(i,r.swapClass,!0),be=i):be=null,s&&s!==be&&S(s,r.swapClass,!1)}n(),e(!0),o()}},drop:function(t){var e,i,b,a,n,o,_=t.activeSortable,r=t.putSortable,s=t.dragEl,d=r||this.sortable,l=this.options;be&&S(be,l.swapClass,!1),be&&(l.swap||r&&r.options.swap)&&s!==be&&(d.captureAnimationState(),d!==_&&_.captureAnimationState(),i=be,n=(e=s).parentNode,o=i.parentNode,n&&o&&!n.isEqualNode(i)&&!o.isEqualNode(e)&&(b=j(e),a=j(i),n.isEqualNode(o)&&b<a&&a++,n.insertBefore(i,n.children[b]),o.insertBefore(e,o.children[a])),d.animateAll(),d!==_&&_.animateAll())},nulling:function(){be=null}},_(t,{pluginName:"swap",eventProperties:function(){return{swapItem:be}}})}oe.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var b=M(this.sortable.el,this.startIndex,this.options);b?this.sortable.el.insertBefore(e,b):this.sortable.el.appendChild(e),this.sortable.animateAll(),i&&i.animateAll()},drop:ne},_(oe,{pluginName:"revertOnSpill"}),_e.prototype={onSpill:function(t){var e=t.dragEl,i=t.putSortable||this.sortable;i.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),i.animateAll()},drop:ne},_(_e,{pluginName:"removeOnSpill"});var se,de,le,ce,pe,we=[],ue=[],he=!1,me=!1,ve=!1;function fe(){function t(t){for(var e in this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this));t.options.supportPointer?m(document,"pointerup",this._deselectMultiDrag):(m(document,"mouseup",this._deselectMultiDrag),m(document,"touchend",this._deselectMultiDrag)),m(document,"keydown",this._checkKeyDown),m(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(e,i){var b="";we.length&&de===t?we.forEach((function(t,e){b+=(e?", ":"")+t.textContent})):b=i.textContent,e.setData("Text",b)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){var e=t.dragEl;le=e},delayEnded:function(){this.isMultiDrag=~we.indexOf(le)},setupClone:function(t){var e=t.sortable,i=t.cancel;if(this.isMultiDrag){for(var b=0;b<we.length;b++)ue.push(H(we[b])),ue[b].sortableIndex=we[b].sortableIndex,ue[b].draggable=!1,ue[b].style["will-change"]="",S(ue[b],this.options.selectedClass,!1),we[b]===le&&S(ue[b],this.options.chosenClass,!1);e._hideClone(),i()}},clone:function(t){var e=t.sortable,i=t.rootEl,b=t.dispatchSortableEvent,a=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||we.length&&de===e&&(ge(!0,i),b("clone"),a()))},showClone:function(t){var e=t.cloneNowShown,i=t.rootEl,b=t.cancel;this.isMultiDrag&&(ge(!1,i),ue.forEach((function(t){E(t,"display","")})),e(),pe=!1,b())},hideClone:function(t){var e=this,i=(t.sortable,t.cloneNowHidden),b=t.cancel;this.isMultiDrag&&(ue.forEach((function(t){E(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)})),i(),pe=!0,b())},dragStartGlobal:function(t){t.sortable,!this.isMultiDrag&&de&&de.multiDrag._deselectMultiDrag(),we.forEach((function(t){t.sortableIndex=j(t)})),we=we.sort((function(t,e){return t.sortableIndex-e.sortableIndex})),ve=!0},dragStarted:function(t){var e=this,i=t.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){we.forEach((function(t){t!==le&&E(t,"position","absolute")}));var b=N(le,!1,!0,!0);we.forEach((function(t){t!==le&&J(t,b)})),me=!0,he=!0}i.animateAll((function(){me=!1,he=!1,e.options.animation&&we.forEach((function(t){X(t)})),e.options.sort&&ye()}))}},dragOver:function(t){var e=t.target,i=t.completed,b=t.cancel;me&&~we.indexOf(e)&&(i(!1),b())},revert:function(t){var e=t.fromSortable,i=t.rootEl,b=t.sortable,a=t.dragRect;we.length>1&&(we.forEach((function(t){b.addAnimationState({target:t,rect:me?N(t):a}),X(t),t.fromRect=a,e.removeAnimationState(t)})),me=!1,function(t,e){we.forEach((function(i,b){var a=e.children[i.sortableIndex+(t?Number(b):0)];a?e.insertBefore(i,a):e.appendChild(i)}))}(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(t){var e=t.sortable,i=t.isOwner,b=t.insertion,a=t.activeSortable,n=t.parentEl,o=t.putSortable,_=this.options;if(b){if(i&&a._hideClone(),he=!1,_.animation&&we.length>1&&(me||!i&&!a.options.sort&&!o)){var r=N(le,!1,!0,!0);we.forEach((function(t){t!==le&&(J(t,r),n.appendChild(t))})),me=!0}if(!i)if(me||ye(),we.length>1){var s=pe;a._showClone(e),a.options.animation&&!pe&&s&&ue.forEach((function(t){a.addAnimationState({target:t,rect:ce}),t.fromRect=ce,t.thisAnimationDuration=null}))}else a._showClone(e)}},dragOverAnimationCapture:function(t){var e=t.dragRect,i=t.isOwner,b=t.activeSortable;if(we.forEach((function(t){t.thisAnimationDuration=null})),b.options.animation&&!i&&b.multiDrag.isMultiDrag){ce=_({},e);var a=C(le,!0);ce.top-=a.f,ce.left-=a.e}},dragOverAnimationComplete:function(){me&&(me=!1,ye())},drop:function(t){var e=t.originalEvent,i=t.rootEl,b=t.parentEl,a=t.sortable,n=t.dispatchSortableEvent,o=t.oldIndex,_=t.putSortable,r=_||this.sortable;if(e){var s=this.options,d=b.children;if(!ve)if(s.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),S(le,s.selectedClass,!~we.indexOf(le)),~we.indexOf(le))we.splice(we.indexOf(le),1),se=null,W({sortable:a,rootEl:i,name:"deselect",targetEl:le,originalEvt:e});else{if(we.push(le),W({sortable:a,rootEl:i,name:"select",targetEl:le,originalEvt:e}),e.shiftKey&&se&&a.el.contains(se)){var l,c,p=j(se),w=j(le);if(~p&&~w&&p!==w)for(w>p?(c=p,l=w):(c=w,l=p+1);c<l;c++)~we.indexOf(d[c])||(S(d[c],s.selectedClass,!0),we.push(d[c]),W({sortable:a,rootEl:i,name:"select",targetEl:d[c],originalEvt:e}))}else se=le;de=r}if(ve&&this.isMultiDrag){if(me=!1,(b[Y].options.sort||b!==i)&&we.length>1){var u=N(le),h=j(le,":not(."+this.options.selectedClass+")");if(!he&&s.animation&&(le.thisAnimationDuration=null),r.captureAnimationState(),!he&&(s.animation&&(le.fromRect=u,we.forEach((function(t){if(t.thisAnimationDuration=null,t!==le){var e=me?N(t):u;t.fromRect=e,r.addAnimationState({target:t,rect:e})}}))),ye(),we.forEach((function(t){d[h]?b.insertBefore(t,d[h]):b.appendChild(t),h++})),o===j(le))){var m=!1;we.forEach((function(t){t.sortableIndex===j(t)||(m=!0)})),m&&n("update")}we.forEach((function(t){X(t)})),r.animateAll()}de=r}(i===b||_&&"clone"!==_.lastPutMode)&&ue.forEach((function(t){t.parentNode&&t.parentNode.removeChild(t)}))}},nullingGlobal:function(){this.isMultiDrag=ve=!1,ue.length=0},destroyGlobal:function(){this._deselectMultiDrag(),v(document,"pointerup",this._deselectMultiDrag),v(document,"mouseup",this._deselectMultiDrag),v(document,"touchend",this._deselectMultiDrag),v(document,"keydown",this._checkKeyDown),v(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==ve&&ve||de!==this.sortable||t&&y(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;we.length;){var e=we[0];S(e,this.options.selectedClass,!1),we.shift(),W({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},_(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[Y];e&&e.options.multiDrag&&!~we.indexOf(t)&&(de&&de!==e&&(de.multiDrag._deselectMultiDrag(),de=e),S(t,e.options.selectedClass,!0),we.push(t))},deselect:function(t){var e=t.parentNode[Y],i=we.indexOf(t);e&&e.options.multiDrag&&~i&&(S(t,e.options.selectedClass,!1),we.splice(i,1))}},eventProperties:function(){var t,e=this,i=[],b=[];return we.forEach((function(t){var a;i.push({multiDragElement:t,index:t.sortableIndex}),a=me&&t!==le?-1:me?j(t,":not(."+e.options.selectedClass+")"):j(t),b.push({multiDragElement:t,index:a})})),{items:(t=we,function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return r(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?r(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),clones:[].concat(ue),oldIndicies:i,newIndicies:b}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":t.length>1&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}function ge(t,e){ue.forEach((function(i,b){var a=e.children[i.sortableIndex+(t?Number(b):0)];a?e.insertBefore(i,a):e.appendChild(i)}))}function ye(){we.forEach((function(t){t!==le&&t.parentNode&&t.parentNode.removeChild(t)}))}Jt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?m(document,"dragover",this._handleAutoScroll):this.options.supportPointer?m(document,"pointermove",this._handleFallbackAutoScroll):e.touches?m(document,"touchmove",this._handleFallbackAutoScroll):m(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),ie(),ee(),clearTimeout(k),k=void 0},nulling:function(){Gt=qt=Kt=te=Zt=Qt=$t=null,Vt.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var i=this,b=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,n=document.elementFromPoint(b,a);if(Gt=t,e||this.options.forceAutoScrollFallback||l||d||p){ae(t,this.options,n,e);var o=z(n,!0);!te||Zt&&b===Qt&&a===$t||(Zt&&ie(),Zt=setInterval((function(){var n=z(document.elementFromPoint(b,a),!0);n!==o&&(o=n,ee()),ae(t,i.options,n,e)}),10),Qt=b,$t=a)}else{if(!this.options.bubbleScroll||z(n,!0)===D())return void ee();ae(t,this.options,z(n,!1),!1)}}},_(t,{pluginName:"scroll",initializeByDefault:!0})}),Jt.mount(_e,oe);const ke=Jt}},e={};function i(b){var a=e[b];if(void 0!==a)return a.exports;var n=e[b]={exports:{}};return t[b](n,n.exports,i),n.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var b in e)i.o(e,b)&&!i.o(t,b)&&Object.defineProperty(t,b,{enumerable:!0,get:e[b]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i(427),i(943),i(629),i(522),i(156),i(567),i(678),i(965),i(33),i(831),window.bt_bb_sortable=i(246)})();