(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1123:function(e,t,n){},1148:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(2),c=n(9),l=n(1),u=n(13),o=n.n(u),i=n(8),s=n(14),b=n(27),f=n(4),m=n(22),p=n(20),d=n(250),O=function(e){var t=e.nextStep,n=e.enableTracking,a=e.onChangeEnableTracking;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("img",{height:"240",width:"360",src:Object(f.B)()+"onboarding/start.png",alt:""}),Object(r.createElement)("div",{className:"bwf-user-setup-step__heading"},"ðŸ‘‹",Object(l.__)(" Welcome! Thank you for choosing FunnelKit","funnel-builder")),Object(r.createElement)("div",{className:"bwf-user-setup-step__subheading"},Object(l.__)("You are a step away from having a store that makes more money!","funnel-builder")),Object(r.createElement)(p.a,{isPrimary:!0,className:"bwf-user-setup-step__action",onClick:t},Object(l.__)("Get Started","funnel-builder")),Object(r.createElement)(d.a,{checked:n,label:Object(r.createElement)(r.Fragment,null,Object(l.__)("I want updates! Opt in for security, features updates and non sensitive diagnostic tracking. ","funnel-builder"),Object(r.createElement)("a",{href:"https://funnelkit.com/non-sensitive-usage-tracking?utm_source=WordPress&utm_campaign=Lite+Plugin&utm_medium=User+Setup",target:"_blank",rel:"noreferrer"},Object(l.__)("Learn More.","funnel-builder"))),onChange:function(e){return a(e)},className:"bwf-user-setup-step__tracking-checkbox"}))};function y(e,t,n,r,a,c,l){try{var u=e[c](l),o=u.value}catch(e){return void n(e)}u.done?t(o):Promise.resolve(o).then(r,a)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _=function(e){var t=e.nextStep,n=j(Object(r.useState)(""),2),a=n[0],u=n[1],i=j(Object(r.useState)(""),2),s=i[0],b=i[1],m=j(Object(r.useState)(!1),2),d=m[0],O=m[1],h=function(){var e,n=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,o()({path:Object(f.r)("/license/"),method:"POST",data:{name:"ffec4bb68f0841db41213ce12305aaef7e0237f3",action:"activate",key:a}}).then((function(e){200===e.code?(t(!0),O(!1)):400===e.code&&(O(!1),b(e.error))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),b(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function l(e){y(c,r,a,l,u,"next",e)}function u(e){y(c,r,a,l,u,"throw",e)}l(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-user-setup-step__heading"},Object(l.__)("Activate FunnelKit Funnel Builder Pro on your site","funnel-builder"),Object(r.createElement)("br",null)),Object(r.createElement)("div",{className:"bwf-user-setup-step__subheading"},Object(l.__)("Get your license keys from your ","funnel-builder"),Object(r.createElement)("a",{href:"https://myaccount.funnelkit.com/",target:"_blank",rel:"noreferrer"},Object(l.__)("accounts page","funnel-builder")),Object(l.__)(" and paste them here below to get started.","funnel-builder"),Object(r.createElement)("br",null)),Object(r.createElement)("div",{className:"bwf-flex bwf--g24 bwf-user-setup__input-wrap",onKeyPress:function(e){"Enter"===e.key&&h()}},Object(r.createElement)(c.TextControl,{placeholder:Object(l.__)("Enter you License Key","funnel-builder"),value:a,type:"text",onChange:function(e){return u(e)},className:"bwf-w-420"})),Object(r.createElement)("div",{className:"bwf-user-setup__msg is-error-msg"},Object(r.createElement)("span",null,s)),Object(r.createElement)(p.a,{isPrimary:!0,className:"bwf-user-setup-step__action",onClick:h,isBusy:d},d?Object(l.__)("Activatingâ€¦","funnel-builder"):Object(l.__)("Activate","funnel-builder")))},g=function(){return Object(r.createElement)("div",{className:"bwf-user-setup__msg is-pending-msg bwf-flex bwf--g4"},Object(r.createElement)(i.a,{icon:"waiting",size:"20"}),Object(r.createElement)("span",null,Object(l.__)("Please wait! We will autoredirect to next stepâ€¦","funnel-builder")))},w=n(25);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=[{key:"woocommerce",label:"WooCommerce"},{key:"automations",label:"Funnelkit Automations"},{key:"stripe",label:"Stripe"},{key:"fkcart",label:"FunnelKit Cart"}],k=function(e){var t=e.nextStep,n=v(Object(r.useState)(!1),2),a=n[0],u=n[1],s=v(Object(r.useState)(!1),2),b=s[0],f=s[1],m=function(e){e&&o()({path:"/funnelkit-app/wizard/".concat(e)}).then((function(e){e.status&&(e.steps&&(window.wffn.steps_data=e.steps),e.substep&&(window.wffn.substeps=e.substep))})).catch((function(e){return console.log(e)}))};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-user-setup-step__heading"},Object(l.__)("Fantastic! Get essential plugins installed with one-click","funnel-builder")),Object(r.createElement)("div",{className:"bwf-user-setup-step__subheading"},Object(l.__)("FunnelKit uses WooCommerce to processes payments. We will install it along with Stripe for taking payments.","funnel-builder"),Object(r.createElement)("br",null),Object(l.__)("And FunnelKit Automations for cart abandoned & post purchase follow-ups.","funnel-builder")),Object(r.createElement)("div",{className:"bwf-user-setup-modal__plugins"},S.map((function(e,t){return Object(r.createElement)(w.b,{content:e.label,key:"bwf-user-setup-modal__plugin-".concat(t)})}))),a&&Object(r.createElement)(g,null),b&&Object(r.createElement)("div",{className:"bwf-user-setup__msg is-error-msg bwf-flex bwf--g4"},Object(r.createElement)(i.a,{icon:"error-alt",size:"20",color:"#B00C0C"}),Object(r.createElement)("span",null,Object(l.__)("There is some technical error to install. Please retry","funnel-builder"))),!a&&Object(r.createElement)(c.Button,{isPrimary:!0,className:"bwf-user-setup-step__action",onClick:function(){u(!0),f(!1),o()({path:"/funnelkit-app/wizard/other-plugins",method:"POST"}).then((function(e){e.status?(m(e.api),u(!1),t()):u(!1)})).catch((function(e){console.log(e),u(!1)}))},isBusy:a,disabled:a},b?Object(l.__)("Skip","funnel-builder"):Object(l.__)("Install and Activate","funnel-builder")),b&&Object(r.createElement)(c.Button,{className:"bwf-user-setup__retry-btn"},Object(l.__)("Retry","funnel-builder")))},A=n(50);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function(e){var t=e.nextStep,n=P(Object(r.useState)({op_email:Object(a.get)(wffn,"user_email","")}),2),u=n[0],i=n[1],s=P(Object(r.useState)(""),2),m=s[0],d=s[1],O=P(Object(r.useState)(!1),2),y=O[0],j=O[1],h=Object(b.a)().setWizardStatus,_=function(){d("");var e="";Object(a.isEmpty)(u.op_email)?e+=" Email is required.":Object(f.n)(u.op_email)||(e+=" Please enter a valid email address."),Object(a.isEmpty)(e)?(j(!0),o()({path:"/funnelkit-app/wizard/optin-setup/?op_email=".concat(u.op_email),method:"POST"}).then((function(e){e.status?(j(!1),h(!1),t()):(j(!1),d(e.message))})).catch((function(e){console.log(e),j(!1)}))):d(e)};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"bwf-user-setup-step__heading"},Object(l.__)("You're Almost Done!","funnel-builder"),Object(r.createElement)("br",null)),Object(r.createElement)("div",{className:"bwf-user-setup-step__subheading"},Object(l.__)("We send out helpful video tutorials and guides that help you build high converting funnels.","funnel-builder"),Object(r.createElement)("br",null)),Object(r.createElement)("div",{className:"bwf-flex bwf--g24 bwf-user-setup__input-wrap",onKeyPress:function(e){"Enter"===e.key&&_()}},Object(r.createElement)(c.TextControl,{placeholder:Object(l.__)("Enter you email","funnel-builder"),label:Object(l.__)("Email"),value:u.op_email,type:"email",onChange:function(e){return t="op_email",n=e,void i((function(e){return C(C({},e),{},x({},t,n))}));var t,n},className:"bwf-w-420"})),!Object(a.isEmpty)(m)&&Object(r.createElement)("div",{className:"bwf-user-setup__msg is-error-msg"},Object(r.createElement)("span",null,m)),Object(r.createElement)(p.a,{isPrimary:!0,className:"bwf-user-setup-step__action",onClick:_,isBusy:y,disabled:y},Object(r.createElement)("span",{style:C({},y&&{visibility:"hidden"})},Object(l.__)("Submit & Finish","funnel-builder")),y&&Object(r.createElement)(A.a,{color:"#ffffff",style:{position:"absolute"}})))};function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=function(){var e=Object(b.a)().removeWizard,t=F(Object(r.useState)(!1),2),n=t[0],a=t[1];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("img",{height:"240",width:"360",src:Object(f.B)()+"onboarding/complete.png",alt:""}),Object(r.createElement)("div",{className:"bwf-user-setup-step__heading"},"ðŸŽ‰",Object(l.__)(" Congratulations! Lets create your checkout","funnel-builder")),Object(r.createElement)("div",{className:"bwf-user-setup-step__subheading"},Object(l.__)("You are on your way to building your checkout with Funnelkit.","funnel-builder")),Object(r.createElement)(p.a,{isPrimary:!0,isBusy:n,disabled:n,className:"bwf-user-setup-step__action",onClick:function(){a(!0),e()}},Object(l.__)("Setup Checkout","funnel-builder")))},W=(n(1123),n(21));function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e){return function(e){if(Array.isArray(e))return R(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw a}}return c}(e,t)||$(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D={1:"welcome",2:"editor",3:"plugins",4:"store-checkout",5:"optin"},L=wffn_contacts_data&&wffn_contacts_data.header_data?wffn_contacts_data.header_data:{};t.default=function(){var e=Object(m.a)().currentAppState,t=M(Object(r.useState)(1),2),n=t[0],u=t[1],p=M(Object(r.useState)([]),2),d=p[0],y=(p[1],M(Object(r.useState)(!0),2)),j=y[0],h=y[1],g=Object(b.a)().removeWizard,w=(0,Object(W.a)().getClosedNotices)(),v=Object(b.a)().setClosedNotices,E=M(Object(r.useState)(0),2),S=E[0],A=E[1],N=e===f.b.PRO_WITHOUT_LICENSE?4:3;Object(r.useEffect)((function(){var e="wizard_open";Object(a.isArray)(w)&&w.includes(e)||Object(f.db)(e).then((function(t){if(t.success){var n=[].concat(U(w),[e]);v(n)}})).catch((function(e){console.log(e)}))}),[]);var C=function(){5===n?g():1===n?(j&&I(),e===f.b.PRO_WITHOUT_LICENSE?u(2):u(3)):u((function(e){return d.includes(e+1)?e+2:e+1})),A((function(e){return e+1}))},x={nextStep:C,steps:D},P=function(e){h(e)},I=function(){o()({path:Object(f.r)("/wizard/optin-track"),method:"POST"}).then((function(e){null!=e&&e.status||console.log(e)})).catch((function(e){return console.log(e)}))};return Object(r.createElement)(c.Modal,{isDismissible:!1,title:Object(r.createElement)(r.Fragment,null,Object(r.createElement)("img",{src:L.logo,alt:"FunnelKit Funnel Builder"}),Object(r.createElement)("div",{className:"bwf-user-setup-modal__header-right"},Object(r.createElement)("span",{className:"bwf-user-setup-modal__completed-count"},Object(l.sprintf)(
/* translators: completed steps count */
Object(l.__)("%1$d/%2$d Completed","funnel-builder"),S,N)),5!==n&&Object(r.createElement)(c.Button,{onClick:function(){Object(s.k)({},"/funnels")}},Object(r.createElement)(i.a,{icon:"exit-alt",size:24,color:"#353030"})))),onRequestClose:function(){},shouldCloseOnClickOutside:!1,className:"bwf-admin-modal bwf-admin-modal-full-screen bwf-user-setup-modal"},Object(r.createElement)("div",{className:"bwf-user-setup-modal__content"},Object(r.createElement)("div",{className:"bwf-user-setup-modal__body"},function(){switch(n){case 1:return Object(r.createElement)(O,K({},x,{enableTracking:j,onChangeEnableTracking:P}));case 2:return Object(r.createElement)(_,{nextStep:function(e){e&&u(3)}});case 3:return Object(r.createElement)(k,x);case 4:return Object(r.createElement)(T,x);case 5:return Object(r.createElement)(z,x)}}()),![1,5].includes(n)&&Object(r.createElement)("div",{className:"bwf-user-setup-modal__footer"},Object(r.createElement)(c.Button,{onClick:function(){u(3===n?1:function(e){return d.includes(e-1)?e-2:e-1}),A((function(e){return e-1}))}},Object(r.createElement)(i.a,{icon:"arrow-left",size:18}),Object(r.createElement)("span",null,Object(l.__)("Back","funnel-builder"))),![2,5].includes(n)&&Object(r.createElement)(c.Button,{onClick:C},Object(r.createElement)("span",null,Object(l.__)("Skip","funnel-builder"))))))}},250:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(0),a=n(7),c=n.n(a),l=(n(261),["className","onChange","label","color","disabled"]);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,c=[],l=!0,u=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{l||null==n.return||n.return()}finally{if(u)throw a}}return c}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function b(e){var t=e.className,n=e.onChange,a=e.label,i=e.color,b=e.disabled,f=s(e,l),m=o(Object(r.useState)(!0),2),p=m[0],d=m[1],O=Object(r.useRef)();return Object(r.createElement)("div",{className:c()("bwf-checkbox-control bwf-checkbox",t)},Object(r.createElement)("span",{className:"bwf-checkbox-control-inner"},Object(r.createElement)("input",u({type:"checkbox"},f,{onChange:function(e){b||(n(e.target.checked),d(!1))},ref:O,className:c()({"bwf-no-animation":p,"bwf-disable":b}),style:{"--current-checkbox-color":i}}))),a&&Object(r.createElement)("label",{className:"bwf-checkbox-control__label ".concat(b?"bwf-disable":""),onClick:function(){return O.current.click()}},a))}},261:function(e,t,n){}}]);