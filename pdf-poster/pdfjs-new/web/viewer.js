/*! For license information please see viewer.js.LICENSE.txt */
(()=>{var t,e,n={754:t=>{function e(t){return Promise.resolve().then((()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}e.keys=()=>[],e.resolve=e,e.id=754,t.exports=e},766:(t,e,n)=>{"use strict";n.d(e,{Bz:()=>a,bT:()=>s,ce:()=>u});var r=n(681);function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function a(t){switch(t.kind){case r.yI.GRAYSCALE_1BPP:return u(t);case r.yI.RGB_24BPP:return function(t){var e=t.src,n=t.srcPos,i=void 0===n?0:n,o=t.dest,a=t.destPos,u=void 0===a?0:a,s=(t.width,t.height,0),l=e.length>>2,c=new Uint32Array(e.buffer,i,l);if(r.TV.isLittleEndian){for(;s<l-2;s+=3,u+=4){var h=c[s],f=c[s+1],d=c[s+2];o[u]=4278190080|h,o[u+1]=h>>>24|f<<8|4278190080,o[u+2]=f>>>16|d<<16|4278190080,o[u+3]=d>>>8|4278190080}for(var p=4*s,v=e.length;p<v;p+=3)o[u++]=e[p]|e[p+1]<<8|e[p+2]<<16|4278190080}else{for(;s<l-2;s+=3,u+=4){var y=c[s],g=c[s+1],m=c[s+2];o[u]=255|y,o[u+1]=y<<24|g>>>8|255,o[u+2]=g<<16|m>>>16|255,o[u+3]=m<<8|255}for(var b=4*s,w=e.length;b<w;b+=3)o[u++]=e[b]<<24|e[b+1]<<16|e[b+2]<<8|255}return{srcPos:i,destPos:u}}(t)}return null}function u(t){var e=t.src,n=t.srcPos,o=void 0===n?0:n,a=t.dest,u=t.width,s=t.height,l=t.nonBlackColor,c=void 0===l?4294967295:l,h=t.inverseDecode,f=void 0!==h&&h,d=r.TV.isLittleEndian?4278190080:255,p=i(f?[c,d]:[d,c],2),v=p[0],y=p[1],g=u>>3,m=7&u,b=e.length;a=new Uint32Array(a.buffer);for(var w=0,D=0;D<s;D++){for(var E=o+g;o<E;o++){var A=o<b?e[o]:255;a[w++]=128&A?y:v,a[w++]=64&A?y:v,a[w++]=32&A?y:v,a[w++]=16&A?y:v,a[w++]=8&A?y:v,a[w++]=4&A?y:v,a[w++]=2&A?y:v,a[w++]=1&A?y:v}if(0!==m)for(var k=o<b?e[o++]:255,S=0;S<m;S++)a[w++]=k&1<<7-S?y:v}return{srcPos:o,destPos:w}}function s(t,e){if(r.TV.isLittleEndian)for(var n=0,i=t.length;n<i;n++)e[n]=65793*t[n]|4278190080;else for(var o=0,a=t.length;o<a;o++)e[o]=16843008*t[o]|255}},613:(t,e,n)=>{"use strict";n.d(e,{a:()=>A});var r=n(681);function i(){i=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},u=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function h(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),u=new O(r||[]);return o(a,"_invoke",{value:_(t,n,u)}),a}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",v="suspendedYield",y="executing",g="completed",m={};function b(){}function w(){}function D(){}var E={};h(E,u,(function(){return this}));var A=Object.getPrototypeOf,k=A&&A(A(T([])));k&&k!==n&&r.call(k,u)&&(E=k);var S=D.prototype=b.prototype=Object.create(E);function C(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function n(i,o,a,u){var s=d(t[i],t,o);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"==c(h)&&r.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(o,o):o()}})}function _(e,n,r){var i=p;return function(o,a){if(i===y)throw Error("Generator is already running");if(i===g){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=F(u,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===p)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=y;var l=d(e,n,r);if("normal"===l.type){if(i=r.done?g:v,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function F(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,F(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var o=d(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(c(e)+" is not iterable")}return w.prototype=D,o(S,"constructor",{value:D,configurable:!0}),o(D,"constructor",{value:w,configurable:!0}),w.displayName=h(D,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,D):(t.__proto__=D,h(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},C(x.prototype),h(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},C(S),h(S,l,"Generator"),h(S,u,(function(){return this})),h(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),L(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;L(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function o(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u(r.key),r)}}function u(t){var e=function(t,e){if("object"!=c(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==c(e)?e:e+""}function s(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function l(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}var h=1,f=2,d=1,p=2,v=3,y=4,g=5,m=6,b=7,w=8;function D(t){switch(t instanceof Error||"object"===c(t)&&null!==t||(0,r.HB)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new r.e3(t.message);case"MissingPDFException":return new r.ew(t.message);case"PasswordException":return new r.JC(t.message,t.code);case"UnexpectedResponseException":return new r.wW(t.message,t.status);case"UnknownErrorException":return new r.S9(t.message,t.details);default:return new r.S9(t.message,t.toString())}}var E=new WeakSet,A=function(){return t=function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),s(this,E),this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(t){var e=t.data;if(e.targetName===i.sourceName)if(e.stream)l(E,i,S).call(i,e);else if(e.callback){var n=e.callbackId,o=i.callbackCapabilities[n];if(!o)throw new Error("Cannot resolve callback ".concat(n));if(delete i.callbackCapabilities[n],e.callback===h)o.resolve(e.data);else{if(e.callback!==f)throw new Error("Unexpected callback case");o.reject(D(e.reason))}}else{var a=i.actionHandler[e.action];if(!a)throw new Error("Unknown action from worker: ".concat(e.action));if(e.callbackId){var u=i.sourceName,s=e.sourceName;new Promise((function(t){t(a(e.data))})).then((function(t){r.postMessage({sourceName:u,targetName:s,callback:h,callbackId:e.callbackId,data:t})}),(function(t){r.postMessage({sourceName:u,targetName:s,callback:f,callbackId:e.callbackId,reason:D(t)})}))}else e.streamId?l(E,i,k).call(i,e):a(e.data)}},r.addEventListener("message",this._onComObjOnMessage)},(e=[{key:"on",value:function(t,e){("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"))&&(0,r.vA)("function"==typeof e,'MessageHandler.on: Expected "handler" to be a function.');var n=this.actionHandler;if(n[t])throw new Error('There is already an actionName called "'.concat(t,'"'));n[t]=e}},{key:"send",value:function(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}},{key:"sendWithPromise",value:function(t,e,n){var r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:r,data:e},n)}catch(t){i.reject(t)}return i.promise}},{key:"sendWithStream",value:function(t,e,n,i){var o=this,a=this.streamId++,u=this.sourceName,s=this.targetName,l=this.comObj;return new ReadableStream({start:function(n){var r=Promise.withResolvers();return o.streamControllers[a]={controller:n,startCall:r,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:u,targetName:s,action:t,streamId:a,data:e,desiredSize:n.desiredSize},i),r.promise},pull:function(t){var e=Promise.withResolvers();return o.streamControllers[a].pullCall=e,l.postMessage({sourceName:u,targetName:s,stream:m,streamId:a,desiredSize:t.desiredSize}),e.promise},cancel:function(t){(0,r.vA)(t instanceof Error,"cancel must have a valid reason");var e=Promise.withResolvers();return o.streamControllers[a].cancelCall=e,o.streamControllers[a].isClosed=!0,l.postMessage({sourceName:u,targetName:s,stream:d,streamId:a,reason:D(t)}),e.promise}},n)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}])&&a(t.prototype,e),n&&a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function k(t){var e=t.streamId,n=this.sourceName,i=t.sourceName,o=this.comObj,a=this,u=this.actionHandler[t.action],s={enqueue:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var u=this.desiredSize;this.desiredSize-=r,u>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:n,targetName:i,stream:y,streamId:e,chunk:t},a)}},close:function(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:v,streamId:e}),delete a.streamSinks[e])},error:function(t){(0,r.vA)(t instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:n,targetName:i,stream:g,streamId:e,reason:D(t)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};s.sinkCapability.resolve(),s.ready=s.sinkCapability.promise,this.streamSinks[e]=s,new Promise((function(e){e(u(t.data,s))})).then((function(){o.postMessage({sourceName:n,targetName:i,stream:w,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:n,targetName:i,stream:w,streamId:e,reason:D(t)})}))}function S(t){var e=t.streamId,n=this.sourceName,i=t.sourceName,o=this.comObj,a=this.streamControllers[e],u=this.streamSinks[e];switch(t.stream){case w:t.success?a.startCall.resolve():a.startCall.reject(D(t.reason));break;case b:t.success?a.pullCall.resolve():a.pullCall.reject(D(t.reason));break;case m:if(!u){o.postMessage({sourceName:n,targetName:i,stream:b,streamId:e,success:!0});break}u.desiredSize<=0&&t.desiredSize>0&&u.sinkCapability.resolve(),u.desiredSize=t.desiredSize,new Promise((function(t){var e;t(null===(e=u.onPull)||void 0===e?void 0:e.call(u))})).then((function(){o.postMessage({sourceName:n,targetName:i,stream:b,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:n,targetName:i,stream:b,streamId:e,reason:D(t)})}));break;case y:if((0,r.vA)(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(t.chunk);break;case v:if((0,r.vA)(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),l(E,this,C).call(this,a,e);break;case g:(0,r.vA)(a,"error should have stream controller"),a.controller.error(D(t.reason)),l(E,this,C).call(this,a,e);break;case p:t.success?a.cancelCall.resolve():a.cancelCall.reject(D(t.reason)),l(E,this,C).call(this,a,e);break;case d:if(!u)break;new Promise((function(e){var n;e(null===(n=u.onCancel)||void 0===n?void 0:n.call(u,D(t.reason)))})).then((function(){o.postMessage({sourceName:n,targetName:i,stream:p,streamId:e,success:!0})}),(function(t){o.postMessage({sourceName:n,targetName:i,stream:p,streamId:e,reason:D(t)})})),u.sinkCapability.reject(D(t.reason)),u.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}}function C(t,e){return x.apply(this,arguments)}function x(){var t;return t=i().mark((function t(e,n){var r,o,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.allSettled([null===(r=e.startCall)||void 0===r?void 0:r.promise,null===(o=e.pullCall)||void 0===o?void 0:o.promise,null===(a=e.cancelCall)||void 0===a?void 0:a.promise]);case 2:delete this.streamControllers[n];case 3:case"end":return t.stop()}}),t,this)})),x=function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function u(t){o(a,r,i,u,s,"next",t)}function s(t){o(a,r,i,u,s,"throw",t)}u(void 0)}))},x.apply(this,arguments)}},460:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o(r.key),r)}}function o(t){var e=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==r(e)?e:e+""}n.d(e,{F:()=>l});var a=3285377520,u=4294901760,s=65535,l=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.h1=e?4294967295&e:a,this.h2=e?4294967295&e:a},(e=[{key:"update",value:function(t){var e,n;if("string"==typeof t){e=new Uint8Array(2*t.length),n=0;for(var r=0,i=t.length;r<i;r++){var o=t.charCodeAt(r);o<=255?e[n++]=o:(e[n++]=o>>>8,e[n++]=255&o)}}else{if(!ArrayBuffer.isView(t))throw new Error("Invalid data format, must be a string or TypedArray.");n=(e=t.slice()).byteLength}for(var a=n>>2,l=n-4*a,c=new Uint32Array(e.buffer,0,a),h=0,f=0,d=this.h1,p=this.h2,v=3432918353,y=461845907,g=11601,m=13715,b=0;b<a;b++)1&b?d=5*(d=(d^=h=(h=(h=(h=c[b])*v&u|h*g&s)<<15|h>>>17)*y&u|h*m&s)<<13|d>>>19)+3864292196:p=5*(p=(p^=f=(f=(f=(f=c[b])*v&u|f*g&s)<<15|f>>>17)*y&u|f*m&s)<<13|p>>>19)+3864292196;switch(h=0,l){case 3:h^=e[4*a+2]<<16;case 2:h^=e[4*a+1]<<8;case 1:h=(h=(h=(h^=e[4*a])*v&u|h*g&s)<<15|h>>>17)*y&u|h*m&s,1&a?d^=h:p^=h}this.h1=d,this.h2=p}},{key:"hexdigest",value:function(){var t=this.h1,e=this.h2;return t=3981806797*(t^=e>>>1)&u|36045*t&s,t=444984403*(t^=(e=4283543511*e&u|(2950163797*(e<<16|t>>>16)&u)>>>16)>>>1)&u|60499*t&s,((t^=(e=3301882366*e&u|(3120437893*(e<<16|t>>>16)&u)>>>16)>>>1)>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}])&&i(t.prototype,e),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}()},681:(t,e,n)=>{"use strict";var r;function i(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c(r.key),r)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t){var e=function(t,e){if("object"!=g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==g(e)?e:e+""}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e,n){return e=p(e),function(t,e){if(e&&("object"==g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,d()?Reflect.construct(e,n||[],p(t).constructor):e.apply(t,n))}function d(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(d=function(){return!!t})()}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function g(t){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}n.d(e,{Af:()=>lt,Ar:()=>st,Bb:()=>S,Cq:()=>bt,Do:()=>V,Gz:()=>m,HB:()=>q,IF:()=>at,Ij:()=>k,J0:()=>vt,JC:()=>et,JZ:()=>Dt,KX:()=>N,Ky:()=>A,N5:()=>F,Ob:()=>Et,PL:()=>w,Pb:()=>b,Qp:()=>Ft,R8:()=>X,RD:()=>ht,S9:()=>nt,SS:()=>U,T7:()=>x,TV:()=>dt,UF:()=>ft,UJ:()=>T,UU:()=>H,YB:()=>W,YJ:()=>xt,Ye:()=>J,Z7:()=>rt,_i:()=>P,c3:()=>_t,cV:()=>I,cw:()=>R,e3:()=>ut,ew:()=>it,fY:()=>E,hj:()=>At,hu:()=>L,id:()=>B,j_:()=>Ct,kA:()=>D,mQ:()=>G,md:()=>M,ng:()=>C,pq:()=>K,q1:()=>Y,r7:()=>$,ru:()=>j,tu:()=>tt,vA:()=>Z,vP:()=>_,vq:()=>wt,wW:()=>ot,xU:()=>ct,yI:()=>O,z7:()=>Q});var m=("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&"object"===("undefined"==typeof process?"undefined":g(process))&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),b=[1,0,0,1,0,0],w=[.001,0,0,.001,0,0],D=1e7,E=1.35,A=.35,k=A/E,S={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},C={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},x="pdfjs_internal_editor_",_={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},F={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},P={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},L={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},O={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},T={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},I={GROUP:"Group",REPLY:"R"},M={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},B={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},j={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},N={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},R={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},W={O:"PageOpen",C:"PageClose"},G={ERRORS:0,WARNINGS:1,INFOS:5},H={NONE:0,BINARY:1},V={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},U={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},z=G.WARNINGS;function J(t){Number.isInteger(t)&&(z=t)}function Y(){return z}function K(t){z>=G.INFOS&&console.log("Info: ".concat(t))}function X(t){z>=G.WARNINGS&&console.log("Warning: ".concat(t))}function q(t){throw new Error(t)}function Z(t,e){t||q(e)}function Q(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;try{if(n&&"string"==typeof t){if(n.addDefaultProtocol&&t.startsWith("www.")){var r=t.match(/\./g);(null==r?void 0:r.length)>=2&&(t="http://".concat(t))}if(n.tryConvertEncoding)try{t=wt(t)}catch(t){}}var i=e?new URL(t,e):new URL(t);if(function(t){switch(null==t?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(t){}return null}function $(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"))&&Z(e in t,'shadow: Property "'.concat(e&&e.toString(),'" not found in object.')),Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}var tt=function(){function t(e,n){this.constructor===t&&q("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}(),et=function(t){function e(t,n){var r;return h(this,e),(r=f(this,e,[t,"PasswordException"])).code=n,r}return v(e,t),l(e)}(tt),nt=function(t){function e(t,n){var r;return h(this,e),(r=f(this,e,[t,"UnknownErrorException"])).details=n,r}return v(e,t),l(e)}(tt),rt=function(t){function e(t){return h(this,e),f(this,e,[t,"InvalidPDFException"])}return v(e,t),l(e)}(tt),it=function(t){function e(t){return h(this,e),f(this,e,[t,"MissingPDFException"])}return v(e,t),l(e)}(tt),ot=function(t){function e(t,n){var r;return h(this,e),(r=f(this,e,[t,"UnexpectedResponseException"])).status=n,r}return v(e,t),l(e)}(tt),at=function(t){function e(t){return h(this,e),f(this,e,[t,"FormatError"])}return v(e,t),l(e)}(tt),ut=function(t){function e(t){return h(this,e),f(this,e,[t,"AbortException"])}return v(e,t),l(e)}(tt);function st(t){"object"===g(t)&&void 0!==(null==t?void 0:t.length)||q("Invalid argument for bytesToString");var e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);for(var r=[],i=0;i<e;i+=n){var o=Math.min(i+n,e),a=t.subarray(i,o);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function lt(t){"string"!=typeof t&&q("Invalid argument for stringToBytes");for(var e=t.length,n=new Uint8Array(e),r=0;r<e;++r)n[r]=255&t.charCodeAt(r);return n}function ct(t){return("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"))&&Z("number"==typeof t&&Math.abs(t)<Math.pow(2,32),'string32: Unexpected input "'.concat(t,'".')),String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function ht(t){return Object.keys(t).length}function ft(t){var e,n=Object.create(null),r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){s=!0,o=t},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}(t);try{for(r.s();!(e=r.n()).done;){var i=o(e.value,2),u=i[0],s=i[1];n[u]=s}}catch(t){r.e(t)}finally{r.f()}return n}var dt=function(){return l((function t(){h(this,t)}),null,[{key:"isLittleEndian",get:function(){return $(this,"isLittleEndian",((t=new Uint8Array(4))[0]=1,1===new Uint32Array(t.buffer,0,1)[0]));var t}},{key:"isEvalSupported",get:function(){return $(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(t){return!1}}())}},{key:"isOffscreenCanvasSupported",get:function(){return $(this,"isOffscreenCanvasSupported","undefined"!=typeof OffscreenCanvas)}},{key:"platform",get:function(){var t;return"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||"undefined"!=typeof navigator&&"string"==typeof(null===(t=navigator)||void 0===t?void 0:t.platform)?$(this,"platform",{isMac:navigator.platform.includes("Mac")}):$(this,"platform",{isMac:!1})}},{key:"isCSSRoundSupported",get:function(){var t,e;return $(this,"isCSSRoundSupported",null===(t=globalThis.CSS)||void 0===t||null===(e=t.supports)||void 0===e?void 0:e.call(t,"width: round(1.5px, 1px)"))}}])}(),pt=Array.from(Array(256).keys(),(function(t){return t.toString(16).padStart(2,"0")})),vt=function(){function t(){h(this,t)}return l(t,null,[{key:"makeHexColor",value:function(t,e,n){return"#".concat(pt[t]).concat(pt[e]).concat(pt[n])}},{key:"scaleMinMax",value:function(t,e){var n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}},{key:"transform",value:function(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}},{key:"applyTransform",value:function(t,e){return[t[0]*e[0]+t[1]*e[2]+e[4],t[0]*e[1]+t[1]*e[3]+e[5]]}},{key:"applyInverseTransform",value:function(t,e){var n=e[0]*e[3]-e[1]*e[2];return[(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(t,e){var n=this.applyTransform(t,e),r=this.applyTransform(t.slice(2,4),e),i=this.applyTransform([t[0],t[3]],e),o=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],r[0],i[0],o[0]),Math.min(n[1],r[1],i[1],o[1]),Math.max(n[0],r[0],i[0],o[0]),Math.max(n[1],r[1],i[1],o[1])]}},{key:"inverseTransform",value:function(t){var e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}},{key:"singularValueDecompose2dScale",value:function(t){var e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],r=t[0]*e[1]+t[1]*e[3],i=t[2]*e[0]+t[3]*e[2],o=t[2]*e[1]+t[3]*e[3],a=(n+o)/2,u=Math.sqrt(Math.pow(n+o,2)-4*(n*o-i*r))/2,s=a+u||1,l=a-u||1;return[Math.sqrt(s),Math.sqrt(l)]}},{key:"normalizeRect",value:function(t){var e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}},{key:"intersect",value:function(t,e){var n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),r=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>r)return null;var i=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),o=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return i>o?null:[n,i,r,o]}},{key:"bezierBoundingBox",value:function(e,n,r,o,a,u,s,l,c){return c?(c[0]=Math.min(c[0],e,s),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,s),c[3]=Math.max(c[3],n,l)):c=[Math.min(e,s),Math.min(n,l),Math.max(e,s),Math.max(n,l)],i(t,this,gt).call(this,e,r,a,s,n,o,u,l,3*(3*(r-a)-e+s),6*(e-2*r+a),3*(r-e),c),i(t,this,gt).call(this,e,r,a,s,n,o,u,l,3*(3*(o-u)-n+l),6*(n-2*o+u),3*(o-n),c),c}}])}();function yt(t,e,n,r,i,o,a,u,s,l){if(!(s<=0||s>=1)){var c=1-s,h=s*s,f=h*s,d=c*(c*(c*t+3*s*e)+3*h*n)+f*r,p=c*(c*(c*i+3*s*o)+3*h*a)+f*u;l[0]=Math.min(l[0],d),l[1]=Math.min(l[1],p),l[2]=Math.max(l[2],d),l[3]=Math.max(l[3],p)}}function gt(t,e,n,o,a,u,s,l,c,h,f,d){if(Math.abs(c)<1e-12)Math.abs(h)>=1e-12&&i(r,this,yt).call(this,t,e,n,o,a,u,s,l,-f/h,d);else{var p=Math.pow(h,2)-4*f*c;if(!(p<0)){var v=Math.sqrt(p),y=2*c;i(r,this,yt).call(this,t,e,n,o,a,u,s,l,(-h+v)/y,d),i(r,this,yt).call(this,t,e,n,o,a,u,s,l,(-h-v)/y,d)}}}r=vt;var mt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function bt(t){var e;if(t[0]>="ï"&&("þ"===t[0]&&"ÿ"===t[1]?(e="utf-16be",t.length%2==1&&(t=t.slice(0,-1))):"ÿ"===t[0]&&"þ"===t[1]?(e="utf-16le",t.length%2==1&&(t=t.slice(0,-1))):"ï"===t[0]&&"»"===t[1]&&"¿"===t[2]&&(e="utf-8"),e))try{var n=new TextDecoder(e,{fatal:!0}),r=lt(t),i=n.decode(r);return i.includes("")?i.replaceAll(/\x1b[^\x1b]*(?:\x1b|$)/g,""):i}catch(t){X('stringToPDFString: "'.concat(t,'".'))}for(var o=[],a=0,u=t.length;a<u;a++){var s=t.charCodeAt(a);if(27!==s){var l=mt[s];o.push(l?String.fromCharCode(l):t.charAt(a))}else for(;++a<u&&27!==t.charCodeAt(a););}return o.join("")}function wt(t){return decodeURIComponent(escape(t))}function Dt(t){return unescape(encodeURIComponent(t))}function Et(t,e){if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function At(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return[t.getUTCFullYear().toString(),(t.getUTCMonth()+1).toString().padStart(2,"0"),t.getUTCDate().toString().padStart(2,"0"),t.getUTCHours().toString().padStart(2,"0"),t.getUTCMinutes().toString().padStart(2,"0"),t.getUTCSeconds().toString().padStart(2,"0")].join("")}var kt=null,St=null;function Ct(t){return kt||(kt=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,St=new Map([["ﬅ","ſt"]])),t.replaceAll(kt,(function(t,e,n){return e?e.normalize("NFKC"):St.get(n)}))}function xt(){var t,e;if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||"undefined"!=typeof crypto&&"function"==typeof(null===(t=crypto)||void 0===t?void 0:t.randomUUID))return crypto.randomUUID();var n=new Uint8Array(32);if("undefined"!=typeof crypto&&"function"==typeof(null===(e=crypto)||void 0===e?void 0:e.getRandomValues))crypto.getRandomValues(n);else for(var r=0;r<32;r++)n[r]=Math.floor(255*Math.random());return st(n)}var _t="pdfjs_internal_id_",Ft={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8}}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={exports:{}};return n[t](o,o.exports,i),o.exports}i.m=n,i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce(((e,n)=>(i.f[n](t,e),e)),[])),i.u=t=>t+".js",i.miniCssF=t=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),t={},e="pdf.js:",i.l=(n,r,o,a)=>{if(t[n])t[n].push(r);else{var u,s;if(void 0!==o)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var h=l[c];if(h.getAttribute("src")==n||h.getAttribute("data-webpack")==e+o){u=h;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.setAttribute("data-webpack",e+o),u.src=n),t[n]=[r];var f=(e,r)=>{u.onerror=u.onload=null,clearTimeout(d);var i=t[n];if(delete t[n],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((t=>t(r))),e)return e(r)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=f.bind(null,u.onerror),u.onload=f.bind(null,u.onload),s&&document.head.appendChild(u)}},i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=n[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{var t={869:0};i.f.j=(e,n)=>{var r=i.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,i)=>r=t[e]=[n,i]));n.push(r[2]=o);var a=i.p+i.u(e),u=new Error;i.l(a,(n=>{if(i.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,r[1](u)}}),"chunk-"+e,e)}};var e=(e,n)=>{var r,o,[a,u,s]=n,l=0;if(a.some((e=>0!==t[e]))){for(r in u)i.o(u,r)&&(i.m[r]=u[r]);if(s)s(i)}for(e&&e(n);l<a.length;l++)o=a[l],i.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunkpdf_js=self.webpackChunkpdf_js||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),(()=>{"use strict";function t(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function e(t,e){return t.get(r(t,e))}function n(t,e,n){return t.set(r(t,e),n),n}function r(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function h(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var d="auto",p=1.25,v=40,y=5,g={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},m={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},b=-1,w=0,D=1,E=2,A=3,k=4,S=0,C=1,x=2,_={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},F={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2},P={SELECT:0,HAND:1,ZOOM:2},L=/\bprint\s*\(/,O=function(){return h((function t(){l(this,t);var e=window.devicePixelRatio||1;this.sx=e,this.sy=e}),[{key:"scaled",get:function(){return 1!==this.sx||1!==this.sy}}])}();function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.offsetParent;if(r){for(var i=t.offsetTop+t.clientTop,o=t.offsetLeft+t.clientLeft;r.clientHeight===r.scrollHeight&&r.clientWidth===r.scrollWidth||n&&(r.classList.contains("markedContent")||"hidden"===getComputedStyle(r).overflow);)if(i+=r.offsetTop,o+=r.offsetLeft,!(r=r.offsetParent))return;e&&(void 0!==e.top&&(i+=e.top),void 0!==e.left&&(o+=e.left,r.scrollLeft=o)),r.scrollTop=i}else console.error("offsetParent is not set -- cannot scroll")}function I(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=function(n){o||(o=window.requestAnimationFrame((function(){o=null;var n=t.scrollLeft,r=i.lastX;n!==r&&(i.right=n>r),i.lastX=n;var a=t.scrollTop,u=i.lastY;a!==u&&(i.down=a>u),i.lastY=a,e(i)})))},i={right:!0,down:!0,lastX:t.scrollLeft,lastY:t.scrollTop,_eventHandler:r},o=null;return t.addEventListener("scroll",r,{useCapture:!0,signal:n}),i}function M(t){var e,n=new Map,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){s=!0,o=t},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw o}}}}(new URLSearchParams(t));try{for(r.s();!(e=r.n()).done;){var i=o(e.value,2),u=i[0],s=i[1];n.set(u.toLowerCase(),s)}}catch(t){r.e(t)}finally{r.f()}return n}var B=/[\x00-\x1F]/g;function j(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return B.test(t)?e?t.replaceAll(B,(function(t){return"\0"===t?"":" "})):t.replaceAll("\0",""):t}function N(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=t.length-1;if(r<0||!e(t[r]))return t.length;if(e(t[n]))return n;for(;n<r;){var i=n+r>>1;e(t[i])?r=i:n=i+1}return n}function R(t){if(Math.floor(t)===t)return[t,1];var e=1/t;if(e>8)return[1,8];if(Math.floor(e)===e)return[1,e];for(var n=t>1?e:t,r=0,i=1,o=1,a=1;;){var u=r+o,s=i+a;if(s>8)break;n<=u/s?(o=u,a=s):(r=u,i=s)}return n-r/i<o/a-n?n===t?[r,i]:[i,r]:n===t?[o,a]:[a,o]}function W(t,e){var n=t%e;return 0===n?t:Math.round(t-n+e)}function G(t){var e=t.scrollEl,n=t.views,r=t.sortByVisibility,i=void 0!==r&&r,o=t.horizontal,a=void 0!==o&&o,u=t.rtl,s=void 0!==u&&u,l=e.scrollTop,c=l+e.clientHeight,h=e.scrollLeft,f=h+e.clientWidth;var d=[],p=new Set,v=n.length,y=N(n,a?function(t){var e=t.div,n=e.offsetLeft+e.clientLeft,r=n+e.clientWidth;return s?n<f:r>h}:function(t){var e=t.div;return e.offsetTop+e.clientTop+e.clientHeight>l});y>0&&y<v&&!a&&(y=function(t,e,n){if(t<2)return t;var r=e[t].div,i=r.offsetTop+r.clientTop;i>=n&&(i=(r=e[t-1].div).offsetTop+r.clientTop);for(var o=t-2;o>=0&&!((r=e[o].div).offsetTop+r.clientTop+r.clientHeight<=i);--o)t=o;return t}(y,n,l));for(var g=a?f:-1,m=y;m<v;m++){var b=n[m],w=b.div,D=w.offsetLeft+w.clientLeft,E=w.offsetTop+w.clientTop,A=w.clientWidth,k=w.clientHeight,S=D+A,C=E+k;if(-1===g)C>=c&&(g=C);else if((a?D:E)>g)break;if(!(C<=l||E>=c||S<=h||D>=f)){var x=Math.max(0,l-E)+Math.max(0,C-c),_=(A-(Math.max(0,h-D)+Math.max(0,S-f)))/A,F=(k-x)/k*_*100|0;d.push({id:b.id,x:D,y:E,view:b,percent:F,widthPercent:100*_|0}),p.add(b.id)}}var P=d[0],L=d.at(-1);return i&&d.sort((function(t,e){var n=t.percent-e.percent;return Math.abs(n)>.001?-n:t.id-e.id})),{first:P,last:L,views:d,ids:p}}function H(t){var e=Math.hypot(t.deltaX,t.deltaY),n=Math.atan2(t.deltaY,t.deltaX);return-.25*Math.PI<n&&n<.75*Math.PI&&(e=-e),e}function V(t){return Number.isInteger(t)&&t%90==0}function U(t){return Number.isInteger(t)&&Object.values(_).includes(t)&&t!==_.UNKNOWN}function z(t){return Number.isInteger(t)&&Object.values(F).includes(t)&&t!==F.UNKNOWN}function J(t){return t.width<=t.height}var Y=new Promise((function(t){"undefined"!=typeof PDFJSDev&&PDFJSDev.test("LIB")&&"undefined"==typeof window?setTimeout(t,20):window.requestAnimationFrame(t)})),K="undefined"!=typeof PDFJSDev&&PDFJSDev.test("LIB")&&"undefined"==typeof document?null:document.documentElement.style;var X=new WeakMap,q=new WeakMap,Z=new WeakMap,Q=new WeakMap,$=new WeakMap,tt=function(){return h((function e(r){l(this,e),t(this,X,null),t(this,q,null),t(this,Z,0),t(this,Q,null),t(this,$,!0),n(X,this,r.classList),n(Q,this,r.style)}),[{key:"percent",get:function(){return e(Z,this)},set:function(t){var r,i,o;n(Z,this,(r=t,i=0,o=100,Math.min(Math.max(r,i),o))),isNaN(t)?e(X,this).add("indeterminate"):(e(X,this).remove("indeterminate"),e(Q,this).setProperty("--progressBar-percent","".concat(e(Z,this),"%")))}},{key:"setWidth",value:function(t){if(t){var n=t.parentNode.offsetWidth-t.offsetWidth;n>0&&e(Q,this).setProperty("--progressBar-end-offset","".concat(n,"px"))}}},{key:"setDisableAutoFetch",value:function(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;isNaN(e(Z,this))||(e(q,this)&&clearTimeout(e(q,this)),this.show(),n(q,this,setTimeout((function(){n(q,t,null),t.hide()}),r)))}},{key:"hide",value:function(){e($,this)&&(n($,this,!1),e(X,this).add("hidden"))}},{key:"show",value:function(){e($,this)||(n($,this,!0),e(X,this).remove("hidden"))}}])}();function et(t){var e=_.VERTICAL,n=F.NONE;switch(t){case"SinglePage":e=_.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=_.PAGE;case"TwoColumnLeft":n=F.ODD;break;case"TwoPageRight":e=_.PAGE;case"TwoColumnRight":n=F.EVEN}return{scrollMode:e,spreadMode:n}}function nt(t){switch(t){case"UseNone":return w;case"UseThumbs":return D;case"UseOutlines":return E;case"UseAttachments":return A;case"UseOC":return k}return w}function rt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.classList.toggle("toggled",e),t.setAttribute("aria-checked",e),null==n||n.classList.toggle("hidden",!e)}function it(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.classList.toggle("toggled",e),t.setAttribute("aria-expanded",e),null==n||n.classList.toggle("hidden",!e)}function ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,at(r.key),r)}}function at(t){var e=function(t,e){if("object"!=ut(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ut(e)?e:e+""}function ut(t){return ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ut(t)}if("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC")){var st=Object.create(null);"undefined"!=typeof PDFJSDev&&PDFJSDev.test("LIB")&&"undefined"==typeof navigator&&(globalThis.navigator=Object.create(null));var lt=navigator.userAgent||"",ct=navigator.platform||"",ht=navigator.maxTouchPoints||1,ft=/Android/.test(lt);(/\b(iPad|iPhone|iPod)(?=;)/.test(lt)||"MacIntel"===ct&&ht>1||ft)&&(st.maxCanvasPixels=5242880)}var dt=1,pt=2,vt=4,yt=8,gt=128,mt={canvasMaxAreaInBytes:{value:-1,kind:dt+vt},isInAutomation:{value:!1,kind:dt},supportsCaretBrowsingMode:{value:!1,kind:dt},supportsDocumentFonts:{value:!0,kind:dt},supportsIntegratedFind:{value:!1,kind:dt},supportsMouseWheelZoomCtrlKey:{value:!0,kind:dt},supportsMouseWheelZoomMetaKey:{value:!0,kind:dt},supportsPinchToZoom:{value:!0,kind:dt},annotationEditorMode:{value:0,kind:pt+gt},annotationMode:{value:2,kind:pt+gt},cursorToolOnLoad:{value:0,kind:pt+gt},debuggerSrc:{value:"./debugger.mjs",kind:pt},defaultZoomDelay:{value:400,kind:pt+gt},defaultZoomValue:{value:"200",kind:pt+gt},disableHistory:{value:!1,kind:pt},disablePageLabels:{value:!1,kind:pt+gt},enableHighlightEditor:{value:"undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"),kind:pt+gt},enableHighlightFloatingButton:{value:"undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"),kind:pt+gt},enableML:{value:!1,kind:pt+gt},enablePermissions:{value:!1,kind:pt+gt},enablePrintAutoRotate:{value:!0,kind:pt+gt},enableScripting:{value:"undefined"==typeof PDFJSDev||!PDFJSDev.test("CHROME"),kind:pt+gt},enableStampEditor:{value:!0,kind:pt+gt},externalLinkRel:{value:"noopener noreferrer nofollow",kind:pt},externalLinkTarget:{value:0,kind:pt+gt},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:pt+gt},historyUpdateUrl:{value:!1,kind:pt+gt},ignoreDestinationZoom:{value:!1,kind:pt+gt},imageResourcesPath:{value:"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")?"resource://pdf.js/web/images/":"./images/",kind:pt},maxCanvasPixels:{value:Math.pow(2,25),kind:pt},forcePageColors:{value:!1,kind:pt+gt},pageColorsBackground:{value:"Canvas",kind:pt+gt},pageColorsForeground:{value:"CanvasText",kind:pt+gt},pdfBugEnabled:{value:"undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"),kind:pt+gt},printResolution:{value:150,kind:pt},sidebarViewOnLoad:{value:-1,kind:pt+gt},scrollModeOnLoad:{value:-1,kind:pt+gt},spreadModeOnLoad:{value:-1,kind:pt+gt},textLayerMode:{value:1,kind:pt+gt},viewOnLoad:{value:0,kind:pt+gt},cMapPacked:{value:!0,kind:vt},cMapUrl:{value:"undefined"==typeof PDFJSDev?"../external/bcmaps/":PDFJSDev.test("MOZCENTRAL")?"resource://pdf.js/web/cmaps/":"../web/cmaps/",kind:vt},disableAutoFetch:{value:!1,kind:vt+gt},disableFontFace:{value:!1,kind:vt+gt},disableRange:{value:!1,kind:vt+gt},disableStream:{value:!1,kind:vt+gt},docBaseUrl:{value:"",kind:vt},enableXfa:{value:!0,kind:vt+gt},fontExtraProperties:{value:!1,kind:vt},isEvalSupported:{value:!0,kind:vt},isOffscreenCanvasSupported:{value:!0,kind:vt},maxImageSize:{value:-1,kind:vt},pdfBug:{value:!1,kind:vt},standardFontDataUrl:{value:"undefined"==typeof PDFJSDev?"../external/standard_fonts/":PDFJSDev.test("MOZCENTRAL")?"resource://pdf.js/web/standard_fonts/":"../web/standard_fonts/",kind:vt},verbosity:{value:1,kind:vt},workerPort:{value:null,kind:yt},workerSrc:{value:"undefined"==typeof PDFJSDev?"../src/pdf.worker.js":PDFJSDev.test("MOZCENTRAL")?"resource://pdf.js/build/pdf.worker.mjs":"../build/pdf.worker.mjs",kind:yt}};"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||(mt.defaultUrl={value:"undefined"!=typeof PDFJSDev&&PDFJSDev.test("CHROME")?"":"compressed.tracemonkey-pldi-09.pdf",kind:pt},mt.sandboxBundleSrc={value:"undefined"==typeof PDFJSDev?"../build/dev-sandbox/pdf.sandbox.mjs":"../build/pdf.sandbox.mjs",kind:pt},mt.viewerCssTheme={value:"undefined"!=typeof PDFJSDev&&PDFJSDev.test("CHROME")?2:0,kind:pt+gt}),"undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC")?(mt.disablePreferences={value:"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING"),kind:pt},mt.locale={value:navigator.language||"en-US",kind:pt}):PDFJSDev.test("CHROME")&&(mt.disableTelemetry={value:!1,kind:pt+gt});var bt=Object.create(null);if("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))for(var wt in st)bt[wt]=st[wt];if("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING || LIB"))for(var Dt in mt){var Et=mt[Dt],At=Et.value,kt=Et.kind;if(kt&gt){if(kt===gt)throw new Error('Cannot use only "PREFERENCE" kind: '.concat(Dt));if(kt&dt)throw new Error('Cannot mix "PREFERENCE" and "BROWSER" kind: '.concat(Dt));if("object"===ut(st)&&void 0!==st[Dt])throw new Error('Should not have compatibility-value for "PREFERENCE" kind: '.concat(Dt));if("boolean"!=typeof At&&"string"!=typeof At&&!Number.isInteger(At))throw new Error('Invalid value for "PREFERENCE" kind: '.concat(Dt))}}var St=function(){return t=function t(){throw function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),new Error("Cannot initialize AppOptions.")},n=[{key:"get",value:function(t){var e,n,r;return null!==(e=null!==(n=bt[t])&&void 0!==n?n:null===(r=mt[t])||void 0===r?void 0:r.value)&&void 0!==e?e:void 0}},{key:"getAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.create(null);for(var r in mt){var i,o=mt[r];(!t||t&o.kind)&&(n[r]=e?o.value:null!==(i=bt[r])&&void 0!==i?i:o.value)}return n}},{key:"set",value:function(t,e){bt[t]=e}},{key:"setAll",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&e){if(this.get("disablePreferences"))return;for(var n in bt)if(void 0===st[n]){console.warn('setAll: The Preferences may override manually set AppOptions; please use the "disablePreferences"-option in order to prevent that.');break}}for(var r in t)bt[r]=t[r]}},{key:"remove",value:function(t){if(delete bt[t],"undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC")){var e=st[t];void 0!==e&&(bt[t]=e)}}}],(e=null)&&ot(t.prototype,e),n&&ot(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Ct(t){return jt(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Mt(t)||It()}function xt(t,e,n){return e=Ft(e),function(t,e){if(e&&("object"==Ot(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_t()?Reflect.construct(e,n||[],Ft(t).constructor):e.apply(t,n))}function _t(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_t=function(){return!!t})()}function Ft(t){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ft(t)}function Pt(t,e){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pt(t,e)}function Lt(){Lt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==Ot(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Ot(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function Ot(t){return Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ot(t)}function Tt(t,e){return jt(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||Mt(t,e)||It()}function It(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Mt(t,e){if(t){if("string"==typeof t)return Bt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(t,e):void 0}}function Bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function jt(t){if(Array.isArray(t))return t}function Nt(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Rt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Nt(o,r,i,a,u,"next",t)}function u(t){Nt(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vt(r.key),r)}}function Ht(t,e,n){return e&&Gt(t.prototype,e),n&&Gt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vt(t){var e=function(t,e){if("object"!=Ot(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ot(e)?e:e+""}var Ut={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},zt=function(){function t(){var e,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=i.eventBus,a=i.externalLinkTarget,u=void 0===a?null:a,s=i.externalLinkRel,l=void 0===s?null:s,c=i.ignoreDestinationZoom,h=void 0!==c&&c;Wt(this,t),e=this,r=!0,(n=Vt(n="externalLinkEnabled"))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.eventBus=o,this.externalLinkTarget=u,this.externalLinkRel=l,this._ignoreDestinationZoom=h,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}return Ht(t,[{key:"setDocument",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.baseUrl=e,this.pdfDocument=t}},{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setHistory",value:function(t){this.pdfHistory=t}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1},set:function(t){this.pdfDocument&&(this.pdfViewer.currentPageNumber=t)}},{key:"rotation",get:function(){return this.pdfDocument?this.pdfViewer.pagesRotation:0},set:function(t){this.pdfDocument&&(this.pdfViewer.pagesRotation=t)}},{key:"isInPresentationMode",get:function(){return!!this.pdfDocument&&this.pdfViewer.isInPresentationMode}},{key:"goToDestination",value:(n=Rt(Lt().mark((function t(e){var n,r,i,o,a;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.pdfDocument){t.next=2;break}return t.abrupt("return");case 2:if("string"!=typeof e){t.next=9;break}return n=e,t.next=6,this.pdfDocument.getDestination(e);case 6:r=t.sent,t.next=13;break;case 9:return n=null,t.next=12,e;case 12:r=t.sent;case 13:if(Array.isArray(r)){t.next=16;break}return console.error('goToDestination: "'.concat(r,'" is not a valid destination array, for dest="').concat(e,'".')),t.abrupt("return");case 16:if(o=Tt(r,1),!(a=o[0])||"object"!==Ot(a)){t.next=33;break}if(i=this.pdfDocument.cachedPageNumber(a)){t.next=31;break}return t.prev=20,t.next=23,this.pdfDocument.getPageIndex(a);case 23:t.t0=t.sent,i=t.t0+1,t.next=31;break;case 27:return t.prev=27,t.t1=t.catch(20),console.error('goToDestination: "'.concat(a,'" is not a valid page reference, for dest="').concat(e,'".')),t.abrupt("return");case 31:t.next=34;break;case 33:Number.isInteger(a)&&(i=a+1);case 34:if(!(!i||i<1||i>this.pagesCount)){t.next=37;break}return console.error('goToDestination: "'.concat(i,'" is not a valid page number, for dest="').concat(e,'".')),t.abrupt("return");case 37:this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:n,explicitDest:r,pageNumber:i})),this.pdfViewer.scrollPageIntoView({pageNumber:i,destArray:r,ignoreDestinationZoom:this._ignoreDestinationZoom});case 39:case"end":return t.stop()}}),t,this,[[20,27]])}))),function(t){return n.apply(this,arguments)})},{key:"goToPage",value:function(t){if(this.pdfDocument){var e="string"==typeof t&&this.pdfViewer.pageLabelToPageNumber(t)||0|t;Number.isInteger(e)&&e>0&&e<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(e)),this.pdfViewer.scrollPageIntoView({pageNumber:e})):console.error('PDFLinkService.goToPage: "'.concat(t,'" is not a valid page.'))}}},{key:"addLinkAttributes",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e||"string"!=typeof e)throw new Error('A valid "url" parameter must provided.');var r=n?Ut.BLANK:this.externalLinkTarget,i=this.externalLinkRel;this.externalLinkEnabled?t.href=t.title=e:(t.href="",t.title="Disabled: ".concat(e),t.onclick=function(){return!1});var o="";switch(r){case Ut.NONE:break;case Ut.SELF:o="_self";break;case Ut.BLANK:o="_blank";break;case Ut.PARENT:o="_parent";break;case Ut.TOP:o="_top"}t.target=o,t.rel="string"==typeof i?i:"noopener noreferrer nofollow"}},{key:"getDestinationHash",value:function(t){if("string"==typeof t){if(t.length>0)return this.getAnchorUrl("#"+escape(t))}else if(Array.isArray(t)){var e=JSON.stringify(t);if(e.length>0)return this.getAnchorUrl("#"+escape(e))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(t){return this.baseUrl?this.baseUrl+t:t}},{key:"setHash",value:function(e){if(this.pdfDocument){var n,r;if(e.includes("=")){var i=M(e);if(i.has("search")){var o=i.get("search").replaceAll('"',""),a="true"===i.get("phrase");this.eventBus.dispatch("findfromurlhash",{source:this,query:a?o:o.match(/\S+/g)})}if(i.has("page")&&(n=0|i.get("page")||1),i.has("zoom")){var u=i.get("zoom").split(","),s=u[0],l=parseFloat(s);s.includes("Fit")?"Fit"===s||"FitB"===s?r=[null,{name:s}]:"FitH"===s||"FitBH"===s||"FitV"===s||"FitBV"===s?r=[null,{name:s},u.length>1?0|u[1]:null]:"FitR"===s?5!==u.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):r=[null,{name:s},0|u[1],0|u[2],0|u[3],0|u[4]]:console.error('PDFLinkService.setHash: "'.concat(s,'" is not a valid zoom value.')):r=[null,{name:"XYZ"},u.length>1?0|u[1]:null,u.length>2?0|u[2]:null,l?l/100:s]}if(r?this.pdfViewer.scrollPageIntoView({pageNumber:n||this.page,destArray:r,allowNegativeOffset:!0}):n&&(this.page=n),i.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:i.get("pagemode")}),i.has("nameddest")&&this.goToDestination(i.get("nameddest")),"undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL"))return;if(!i.has("filename")||!i.has("filedest"))return;e=i.get("filedest")}r=unescape(e);try{r=JSON.parse(r),Array.isArray(r)||(r=r.toString())}catch(t){}"string"==typeof r||Jt.call(t,r)?this.goToDestination(r):console.error('PDFLinkService.setHash: "'.concat(unescape(e),'" is not a valid destination.'))}}},{key:"executeNamedAction",value:function(t){var e,n;if(this.pdfDocument){switch(t){case"GoBack":null===(e=this.pdfHistory)||void 0===e||e.back();break;case"GoForward":null===(n=this.pdfHistory)||void 0===n||n.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:t})}}},{key:"executeSetOCGState",value:(e=Rt(Lt().mark((function t(e){var n,r;return Lt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.pdfDocument){t.next=2;break}return t.abrupt("return");case 2:return n=this.pdfDocument,t.next=5,this.pdfViewer.optionalContentConfigPromise;case 5:if(r=t.sent,n===this.pdfDocument){t.next=8;break}return t.abrupt("return");case 8:r.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(r);case 10:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})}]);var e,n}();function Jt(t){if(!Array.isArray(t)||t.length<2)return!1;var e=Ct(t),n=e[0],r=e[1],i=e.slice(2);if(!("object"===Ot(n)&&Number.isInteger(null==n?void 0:n.num)&&Number.isInteger(null==n?void 0:n.gen)||Number.isInteger(n)))return!1;if("object"!==Ot(r)||"string"!=typeof(null==r?void 0:r.name))return!1;var o=!0;switch(r.name){case"XYZ":if(3!==i.length)return!1;break;case"Fit":case"FitB":return 0===i.length;case"FitH":case"FitBH":case"FitV":case"FitBV":if(1!==i.length)return!1;break;case"FitR":if(4!==i.length)return!1;o=!1;break;default:return!1}var a,u=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Mt(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(i);try{for(u.s();!(a=u.n()).done;){var s=a.value;if(!("number"==typeof s||o&&null===s))return!1}}catch(t){u.e(t)}finally{u.f()}return!0}var Yt=function(t){function e(){return Wt(this,e),xt(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pt(t,e)}(e,t),Ht(e,[{key:"setDocument",value:function(t){}}])}(zt),Kt=i(681);function Xt(){Xt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==Qt(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Qt(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function qt(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Zt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){qt(o,r,i,a,u,"next",t)}function u(t){qt(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Qt(t){return Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qt(t)}function $t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function te(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ne(r.key),r)}}function ee(t,e,n){return e&&te(t.prototype,e),n&&te(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ne(t){var e=function(t,e){if("object"!=Qt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qt(e)?e:e+""}var re,ie=function(){return ee((function t(){$t(this,t),this.constructor===t&&(0,Kt.HB)("Cannot initialize BaseFilterFactory.")}),[{key:"addFilter",value:function(t){return"none"}},{key:"addHCMFilter",value:function(t,e){return"none"}},{key:"addAlphaFilter",value:function(t){return"none"}},{key:"addLuminosityFilter",value:function(t){return"none"}},{key:"addHighlightHCMFilter",value:function(t,e,n,r,i){return"none"}},{key:"destroy",value:function(){}}])}(),oe=function(){return ee((function t(){$t(this,t),this.constructor===t&&(0,Kt.HB)("Cannot initialize BaseCanvasFactory.")}),[{key:"create",value:function(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");var n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d")}}},{key:"reset",value:function(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}},{key:"destroy",value:function(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}},{key:"_createCanvas",value:function(t,e){(0,Kt.HB)("Abstract method `_createCanvas` called.")}}])}(),ae=function(){return ee((function t(e){var n=e.baseUrl,r=void 0===n?null:n,i=e.isCompressed,o=void 0===i||i;$t(this,t),this.constructor===t&&(0,Kt.HB)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=r,this.isCompressed=o}),[{key:"fetch",value:(t=Zt(Xt().mark((function t(e){var n,r,i,o=this;return Xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.name,this.baseUrl){t.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){t.next=5;break}throw new Error("CMap name must be specified.");case 5:return r=this.baseUrl+n+(this.isCompressed?".bcmap":""),i=this.isCompressed?Kt.UU.BINARY:Kt.UU.NONE,t.abrupt("return",this._fetchData(r,i).catch((function(t){throw new Error("Unable to load ".concat(o.isCompressed?"binary ":"","CMap at: ").concat(r))})));case 8:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"_fetchData",value:function(t,e){(0,Kt.HB)("Abstract method `_fetchData` called.")}}]);var t}(),ue=function(){return ee((function t(e){var n=e.baseUrl,r=void 0===n?null:n;$t(this,t),this.constructor===t&&(0,Kt.HB)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=r}),[{key:"fetch",value:(t=Zt(Xt().mark((function t(e){var n,r;return Xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.filename,this.baseUrl){t.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');case 3:if(n){t.next=5;break}throw new Error("Font filename must be specified.");case 5:return r="".concat(this.baseUrl).concat(n),t.abrupt("return",this._fetchData(r).catch((function(t){throw new Error("Unable to load font data at: ".concat(r))})));case 7:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"_fetchData",value:function(t){(0,Kt.HB)("Abstract method `_fetchData` called.")}}]);var t}(),se=function(){return ee((function t(){$t(this,t),this.constructor===t&&(0,Kt.HB)("Cannot initialize BaseSVGFactory.")}),[{key:"create",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");var r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width","".concat(t,"px")),r.setAttribute("height","".concat(e,"px"))),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(t," ").concat(e)),r}},{key:"createElement",value:function(t){if("string"!=typeof t)throw new Error("Invalid SVG element type");return this._createSVG(t)}},{key:"_createSVG",value:function(t){(0,Kt.HB)("Abstract method `_createSVG` called.")}}])}();function le(){le=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==ce(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(ce(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function ce(t){return ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ce(t)}function he(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=ve(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function fe(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function de(t){return function(t){if(Array.isArray(t))return ye(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||ve(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pe(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||ve(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(t,e){if(t){if("string"==typeof t)return ye(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(t,e):void 0}}function ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ge(t,e,n){return e=be(e),function(t,e){if(e&&("object"==ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,me()?Reflect.construct(e,n||[],be(t).constructor):e.apply(t,n))}function me(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(me=function(){return!!t})()}function be(t){return be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},be(t)}function we(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&De(t,e)}function De(t,e){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},De(t,e)}function Ee(t,e,n){Ae(t,e),e.set(t,n)}function Ae(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ke(t,e,n){return n(xe(t,e))}function Se(t,e){return t.get(xe(t,e))}function Ce(t,e,n){return t.set(xe(t,e),n),n}function xe(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function _e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oe(r.key),r)}}function Fe(t,e,n){return e&&_e(t.prototype,e),n&&_e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Le(t,e,n){return(e=Oe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oe(t){var e=function(t,e){if("object"!=ce(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ce(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ce(e)?e:e+""}var Te="http://www.w3.org/2000/svg",Ie=Fe((function t(){Pe(this,t)}));re=Ie,Le(Ie,"CSS",96),Le(Ie,"PDF",72),Le(Ie,"PDF_TO_CSS_UNITS",re.CSS/re.PDF);var Me=new WeakMap,Be=new WeakMap,je=new WeakMap,Ne=new WeakMap,Re=new WeakMap,We=new WeakMap,Ge=new WeakSet,He=function(t){function e(){var t,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=i.docId,a=i.ownerDocument,u=void 0===a?globalThis.document:a;return Pe(this,e),t=ge(this,e),Ae(n=t,r=Ge),r.add(n),Ee(t,Me,void 0),Ee(t,Be,void 0),Ee(t,je,void 0),Ee(t,Ne,void 0),Ee(t,Re,void 0),Ee(t,We,0),Ce(je,t,o),Ce(Ne,t,u),t}return we(e,t),Fe(e,[{key:"addFilter",value:function(t){var e,n;if(!t)return"none";var r=ke(Ge,this,Ve).get(t);if(r)return r;var i=pe(xe(Ge,this,Je).call(this,t),3),o=i[0],a=i[1],u=i[2],s=1===t.length?o:"".concat(o).concat(a).concat(u);if(r=ke(Ge,this,Ve).get(s))return ke(Ge,this,Ve).set(t,r),r;var l="g_".concat(Se(je,this),"_transfer_map_").concat((Ce(We,this,(e=Se(We,this),n=e++,e)),n)),c="url(#".concat(l,")");ke(Ge,this,Ve).set(t,c),ke(Ge,this,Ve).set(s,c);var h=xe(Ge,this,Xe).call(this,l);return xe(Ge,this,Ze).call(this,o,a,u,h),c}},{key:"addHCMFilter",value:function(t,e){var n,r,i="".concat(t,"-").concat(e),o="base",a=ke(Ge,this,Ue).get(o);if((null===(n=a)||void 0===n?void 0:n.key)===i)return a.url;a?(null===(r=a.filter)||void 0===r||r.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},ke(Ge,this,Ue).set(o,a));if(!t||!e)return a.url;var u=xe(Ge,this,$e).call(this,t);t=Kt.J0.makeHexColor.apply(Kt.J0,de(u));var s=xe(Ge,this,$e).call(this,e);if(e=Kt.J0.makeHexColor.apply(Kt.J0,de(s)),ke(Ge,this,ze).style.color="","#000000"===t&&"#ffffff"===e||t===e)return a.url;for(var l=new Array(256),c=0;c<=255;c++){var h=c/255;l[c]=h<=.03928?h/12.92:Math.pow((h+.055)/1.055,2.4)}var f=l.join(","),d="g_".concat(Se(je,this),"_hcm_filter"),p=a.filter=xe(Ge,this,Xe).call(this,d);xe(Ge,this,Ze).call(this,f,f,f,p),xe(Ge,this,Ke).call(this,p);var v=function(t,e){for(var n=u[t]/255,r=s[t]/255,i=new Array(e+1),o=0;o<=e;o++)i[o]=n+o/e*(r-n);return i.join(",")};return xe(Ge,this,Ze).call(this,v(0,5),v(1,5),v(2,5),p),a.url="url(#".concat(d,")"),a.url}},{key:"addAlphaFilter",value:function(t){var e,n,r=ke(Ge,this,Ve).get(t);if(r)return r;var i=pe(xe(Ge,this,Je).call(this,[t]),1)[0],o="alpha_".concat(i);if(r=ke(Ge,this,Ve).get(o))return ke(Ge,this,Ve).set(t,r),r;var a="g_".concat(Se(je,this),"_alpha_map_").concat((Ce(We,this,(e=Se(We,this),n=e++,e)),n)),u="url(#".concat(a,")");ke(Ge,this,Ve).set(t,u),ke(Ge,this,Ve).set(o,u);var s=xe(Ge,this,Xe).call(this,a);return xe(Ge,this,Qe).call(this,i,s),u}},{key:"addLuminosityFilter",value:function(t){var e,n,r,i,o=ke(Ge,this,Ve).get(t||"luminosity");if(o)return o;t?(r=pe(xe(Ge,this,Je).call(this,[t]),1)[0],i="luminosity_".concat(r)):i="luminosity";if(o=ke(Ge,this,Ve).get(i))return ke(Ge,this,Ve).set(t,o),o;var a="g_".concat(Se(je,this),"_luminosity_map_").concat((Ce(We,this,(e=Se(We,this),n=e++,e)),n)),u="url(#".concat(a,")");ke(Ge,this,Ve).set(t,u),ke(Ge,this,Ve).set(i,u);var s=xe(Ge,this,Xe).call(this,a);return xe(Ge,this,Ye).call(this,s),t&&xe(Ge,this,Qe).call(this,r,s),u}},{key:"addHighlightHCMFilter",value:function(t,e,n,r,i){var o,a,u="".concat(e,"-").concat(n,"-").concat(r,"-").concat(i),s=ke(Ge,this,Ue).get(t);if((null===(o=s)||void 0===o?void 0:o.key)===u)return s.url;s?(null===(a=s.filter)||void 0===a||a.remove(),s.key=u,s.url="none",s.filter=null):(s={key:u,url:"none",filter:null},ke(Ge,this,Ue).set(t,s));if(!e||!n)return s.url;var l=pe([e,n].map(xe(Ge,this,$e).bind(this)),2),c=l[0],h=l[1],f=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),p=pe([r,i].map(xe(Ge,this,$e).bind(this)),2),v=p[0],y=p[1];if(d<f){var g=[d,f,y,v];f=g[0],d=g[1],v=g[2],y=g[3]}ke(Ge,this,ze).style.color="";var m=function(t,e,n){for(var r=new Array(256),i=(d-f)/n,o=t/255,a=(e-t)/(255*n),u=0,s=0;s<=n;s++){for(var l=Math.round(f+s*i),c=o+s*a,h=u;h<=l;h++)r[h]=c;u=l+1}for(var p=u;p<256;p++)r[p]=r[u-1];return r.join(",")},b="g_".concat(Se(je,this),"_hcm_").concat(t,"_filter"),w=s.filter=xe(Ge,this,Xe).call(this,b);return xe(Ge,this,Ke).call(this,w),xe(Ge,this,Ze).call(this,m(v[0],y[0],5),m(v[1],y[1],5),m(v[2],y[2],5),w),s.url="url(#".concat(b,")"),s.url}},{key:"destroy",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==ke(Ge,this,Ue).size||(Se(Be,this)&&(Se(Be,this).parentNode.parentNode.remove(),Ce(Be,this,null)),Se(Me,this)&&(Se(Me,this).clear(),Ce(Me,this,null)),Ce(We,this,0))}}])}(ie);function Ve(t){return Se(Me,t)||Ce(Me,t,new Map)}function Ue(t){return Se(Re,t)||Ce(Re,t,new Map)}function ze(t){if(!Se(Be,t)){var e=Se(Ne,t).createElement("div"),n=e.style;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;var r=Se(Ne,t).createElementNS(Te,"svg");r.setAttribute("width",0),r.setAttribute("height",0),Ce(Be,t,Se(Ne,t).createElementNS(Te,"defs")),e.append(r),r.append(Se(Be,t)),Se(Ne,t).body.append(e)}return Se(Be,t)}function Je(t){if(1===t.length){for(var e=t[0],n=new Array(256),r=0;r<256;r++)n[r]=e[r]/255;var i=n.join(",");return[i,i,i]}for(var o=pe(t,3),a=o[0],u=o[1],s=o[2],l=new Array(256),c=new Array(256),h=new Array(256),f=0;f<256;f++)l[f]=a[f]/255,c[f]=u[f]/255,h[f]=s[f]/255;return[l.join(","),c.join(","),h.join(",")]}function Ye(t){var e=Se(Ne,this).createElementNS(Te,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(e)}function Ke(t){var e=Se(Ne,this).createElementNS(Te,"feColorMatrix");e.setAttribute("type","matrix"),e.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(e)}function Xe(t){var e=Se(Ne,this).createElementNS(Te,"filter");return e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("id",t),ke(Ge,this,ze).append(e),e}function qe(t,e,n){var r=Se(Ne,this).createElementNS(Te,e);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),t.append(r)}function Ze(t,e,n,r){var i=Se(Ne,this).createElementNS(Te,"feComponentTransfer");r.append(i),xe(Ge,this,qe).call(this,i,"feFuncR",t),xe(Ge,this,qe).call(this,i,"feFuncG",e),xe(Ge,this,qe).call(this,i,"feFuncB",n)}function Qe(t,e){var n=Se(Ne,this).createElementNS(Te,"feComponentTransfer");e.append(n),xe(Ge,this,qe).call(this,n,"feFuncA",t)}function $e(t){return ke(Ge,this,ze).style.color=t,mn(getComputedStyle(ke(Ge,this,ze)).getPropertyValue("color"))}var tn=function(t){function e(){var t,n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ownerDocument,r=void 0===n?globalThis.document:n;return Pe(this,e),(t=ge(this,e))._document=r,t}return we(e,t),Fe(e,[{key:"_createCanvas",value:function(t,e){var n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}])}(oe);function en(t){return nn.apply(this,arguments)}function nn(){var t;return t=le().mark((function t(e){var n,r,i=arguments;return le().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:"text",!("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||pn(e,document.baseURI))){t.next=15;break}return console.log({url:e}),t.next=5,fetch(e);case 5:if((r=t.sent).ok){t.next=8;break}throw new Error(r.statusText);case 8:t.t0=n,t.next="arraybuffer"===t.t0?11:"blob"===t.t0?12:"json"===t.t0?13:14;break;case 11:return t.abrupt("return",r.arrayBuffer());case 12:return t.abrupt("return",r.blob());case 13:return t.abrupt("return",r.json());case 14:return t.abrupt("return",r.text());case 15:return t.abrupt("return",new Promise((function(t,r){var i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=n,i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)r(new Error(i.statusText));else{switch(n){case"arraybuffer":case"blob":case"json":return void t(i.response)}t(i.responseText)}},i.send(null)})));case 16:case"end":return t.stop()}}),t)})),nn=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){fe(o,r,i,a,u,"next",t)}function u(t){fe(o,r,i,a,u,"throw",t)}a(void 0)}))},nn.apply(this,arguments)}var rn=function(t){function e(){return Pe(this,e),ge(this,e,arguments)}return we(e,t),Fe(e,[{key:"_fetchData",value:function(t,e){return en(t,this.isCompressed?"arraybuffer":"text").then((function(t){return{cMapData:t instanceof ArrayBuffer?new Uint8Array(t):(0,Kt.Af)(t),compressionType:e}}))}}])}(ae),on=function(t){function e(){return Pe(this,e),ge(this,e,arguments)}return we(e,t),Fe(e,[{key:"_fetchData",value:function(t){return en(t,"arraybuffer").then((function(t){return new Uint8Array(t)}))}}])}(ue),an=function(t){function e(){return Pe(this,e),ge(this,e,arguments)}return we(e,t),Fe(e,[{key:"_createSVG",value:function(t){return document.createElementNS(Te,t)}}])}(se),un=function(){function t(e){var n=e.viewBox,r=e.scale,i=e.rotation,o=e.offsetX,a=void 0===o?0:o,u=e.offsetY,s=void 0===u?0:u,l=e.dontFlip,c=void 0!==l&&l;Pe(this,t),this.viewBox=n,this.scale=r,this.rotation=i,this.offsetX=a,this.offsetY=s;var h,f,d,p,v,y,g,m,b=(n[2]+n[0])/2,w=(n[3]+n[1])/2;switch((i%=360)<0&&(i+=360),i){case 180:h=-1,f=0,d=0,p=1;break;case 90:h=0,f=1,d=1,p=0;break;case 270:h=0,f=-1,d=-1,p=0;break;case 0:h=1,f=0,d=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(d=-d,p=-p),0===h?(v=Math.abs(w-n[1])*r+a,y=Math.abs(b-n[0])*r+s,g=(n[3]-n[1])*r,m=(n[2]-n[0])*r):(v=Math.abs(b-n[0])*r+a,y=Math.abs(w-n[1])*r+s,g=(n[2]-n[0])*r,m=(n[3]-n[1])*r),this.transform=[h*r,f*r,d*r,p*r,v-h*r*b-d*r*w,y-f*r*b-p*r*w],this.width=g,this.height=m}return Fe(t,[{key:"rawDims",get:function(){var t=this.viewBox;return(0,Kt.r7)(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scale,r=void 0===n?this.scale:n,i=e.rotation,o=void 0===i?this.rotation:i,a=e.offsetX,u=void 0===a?this.offsetX:a,s=e.offsetY,l=void 0===s?this.offsetY:s,c=e.dontFlip,h=void 0!==c&&c;return new t({viewBox:this.viewBox.slice(),scale:r,rotation:o,offsetX:u,offsetY:l,dontFlip:h})}},{key:"convertToViewportPoint",value:function(t,e){return Kt.J0.applyTransform([t,e],this.transform)}},{key:"convertToViewportRectangle",value:function(t){var e=Kt.J0.applyTransform([t[0],t[1]],this.transform),n=Kt.J0.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(t,e){return Kt.J0.applyInverseTransform([t,e],this.transform)}}])}(),sn=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Pe(this,e),(n=ge(this,e,[t,"RenderingCancelledException"])).extraDelay=r,n}return we(e,t),Fe(e)}(Kt.tu);function ln(t){for(var e=t.length,n=0;n<e&&""===t[n].trim();)n++;return"data:"===t.substring(n,n+5).toLowerCase()}function cn(t){return"string"==typeof t&&/\.pdf$/i.test(t)}function hn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof t)return e;if(ln(t))return(0,Kt.R8)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;var n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(t),i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0]).includes("%"))try{i=n.exec(decodeURIComponent(i))[0]}catch(t){}return i||e}var fn,dn=function(){return Fe((function t(){Pe(this,t),Le(this,"started",Object.create(null)),Le(this,"times",[])}),[{key:"time",value:function(t){t in this.started&&(0,Kt.R8)("Timer is already running for ".concat(t)),this.started[t]=Date.now()}},{key:"timeEnd",value:function(t){t in this.started||(0,Kt.R8)("Timer has not been started for ".concat(t)),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}},{key:"toString",value:function(){var t,e=[],n=0,r=he(this.times);try{for(r.s();!(t=r.n()).done;){var i=t.value.name;n=Math.max(i.length,n)}}catch(t){r.e(t)}finally{r.f()}var o,a=he(this.times);try{for(a.s();!(o=a.n()).done;){var u=o.value,s=u.name,l=u.start,c=u.end;e.push("".concat(s.padEnd(n)," ").concat(c-l,"ms\n"))}}catch(t){a.e(t)}finally{a.f()}return e.join("")}}])}();function pn(t,e){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL"))throw new Error("Not implemented: isValidFetchUrl");try{var n=(e?new URL(t,e):new URL(t)).protocol;return"http:"===n||"https:"===n}catch(t){return!1}}function vn(t){t.preventDefault()}var yn=function(){return Fe((function t(){Pe(this,t)}),null,[{key:"toDateObject",value:function(t){if(!t||"string"!=typeof t)return null;fn||(fn=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var e=fn.exec(t);if(!e)return null;var n=parseInt(e[1],10),r=parseInt(e[2],10);r=r>=1&&r<=12?r-1:0;var i=parseInt(e[3],10);i=i>=1&&i<=31?i:1;var o=parseInt(e[4],10);o=o>=0&&o<=23?o:0;var a=parseInt(e[5],10);a=a>=0&&a<=59?a:0;var u=parseInt(e[6],10);u=u>=0&&u<=59?u:0;var s=e[7]||"Z",l=parseInt(e[8],10);l=l>=0&&l<=23?l:0;var c=parseInt(e[9],10)||0;return c=c>=0&&c<=59?c:0,"-"===s?(o+=l,a+=c):"+"===s&&(o-=l,a-=c),new Date(Date.UTC(n,r,i,o,a,u))}}])}();function gn(t,e){var n=e.scale,r=void 0===n?1:n,i=e.rotation,o=void 0===i?0:i,a=t.attributes.style,u=a.width,s=a.height,l=[0,0,parseInt(u),parseInt(s)];return new un({viewBox:l,scale:r,rotation:o})}function mn(t){if(t.startsWith("#")){var e=parseInt(t.slice(1),16);return[(16711680&e)>>16,(65280&e)>>8,255&e]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map((function(t){return parseInt(t)})):t.startsWith("rgba(")?t.slice(5,-1).split(",").map((function(t){return parseInt(t)})).slice(0,3):((0,Kt.R8)('Not a valid color format: "'.concat(t,'"')),[0,0,0])}function bn(t){var e=t.getTransform();return[e.a,e.b,e.c,e.d,e.e,e.f]}function wn(t){var e=t.getTransform().invertSelf();return[e.a,e.b,e.c,e.d,e.e,e.f]}function Dn(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e instanceof un){var i=e.rawDims,o=i.pageWidth,a=i.pageHeight,u=t.style,s=Kt.TV.isCSSRoundSupported,l="var(--scale-factor) * ".concat(o,"px"),c="var(--scale-factor) * ".concat(a,"px"),h=s?"round(".concat(l,", 1px)"):"calc(".concat(l,")"),f=s?"round(".concat(c,", 1px)"):"calc(".concat(c,")");n&&e.rotation%180!=0?(u.width=f,u.height=h):(u.width=h,u.height=f)}r&&t.setAttribute("data-main-rotation",e.rotation)}function En(t){return En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},En(t)}function An(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||kn(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kn(t,e){if(t){if("string"==typeof t)return Sn(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sn(t,e):void 0}}function Sn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Cn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fn(r.key),r)}}function _n(t,e,n){return e&&xn(t.prototype,e),n&&xn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fn(t){var e=function(t,e){if("object"!=En(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=En(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==En(e)?e:e+""}function Pn(t,e){On(t,e),e.add(t)}function Ln(t,e,n){On(t,e),e.set(t,n)}function On(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tn(t,e,n){return n(Bn(t,e))}function In(t,e){return t.get(Bn(t,e))}function Mn(t,e,n){return t.set(Bn(t,e),n),n}function Bn(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var jn=new WeakMap,Nn=new WeakMap,Rn=new WeakMap,Wn=new WeakMap,Gn=new WeakSet,Hn=function(){return _n((function t(e){Cn(this,t),Pn(this,Gn),Ln(this,jn,null),Ln(this,Nn,null),Ln(this,Rn,void 0),Ln(this,Wn,null),Mn(Rn,this,e)}),[{key:"render",value:function(){var t=Mn(jn,this,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",vn),t.addEventListener("pointerdown",Vn);var e=Mn(Wn,this,document.createElement("div"));e.className="buttons",t.append(e);var n=In(Rn,this).toolbarPosition;if(n){var r=t.style,i="ltr"===In(Rn,this)._uiManager.direction?1-n[0]:n[0];r.insetInlineEnd="".concat(100*i,"%"),r.top="calc(".concat(100*n[1],"% + var(--editor-toolbar-vert-offset))")}return Bn(Gn,this,Yn).call(this),t}},{key:"hide",value:function(){var t;In(jn,this).classList.add("hidden"),null===(t=In(Nn,this))||void 0===t||t.hideDropdown()}},{key:"show",value:function(){In(jn,this).classList.remove("hidden")}},{key:"addAltTextButton",value:function(t){Bn(Gn,this,Jn).call(this,t),In(Wn,this).prepend(t,Tn(Gn,this,Kn))}},{key:"addColorPicker",value:function(t){Mn(Nn,this,t);var e=t.renderButton();Bn(Gn,this,Jn).call(this,e),In(Wn,this).prepend(e,Tn(Gn,this,Kn))}},{key:"remove",value:function(){var t;In(jn,this).remove(),null===(t=In(Nn,this))||void 0===t||t.destroy(),Mn(Nn,this,null)}}])}();function Vn(t){t.stopPropagation()}function Un(t){In(Rn,this)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()}function zn(t){In(Rn,this)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()}function Jn(t){t.addEventListener("focusin",Bn(Gn,this,Un).bind(this),{capture:!0}),t.addEventListener("focusout",Bn(Gn,this,zn).bind(this),{capture:!0}),t.addEventListener("contextmenu",vn)}function Yn(){var t=this,e=document.createElement("button");e.className="delete",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-editor-remove-".concat(In(Rn,this).editorType,"-button")),Bn(Gn,this,Jn).call(this,e),e.addEventListener("click",(function(e){In(Rn,t)._uiManager.delete()})),In(Wn,this).append(e)}function Kn(t){var e=document.createElement("div");return e.className="divider",e}var Xn,qn=new WeakMap,Zn=new WeakMap,Qn=new WeakMap,$n=new WeakSet,tr=function(){return _n((function t(e){Cn(this,t),Pn(this,$n),Ln(this,qn,null),Ln(this,Zn,null),Ln(this,Qn,void 0),Mn(Qn,this,e)}),[{key:"show",value:function(t,e,n){var r=An(Bn($n,this,nr).call(this,e,n),2),i=r[0],o=r[1],a=(In(Zn,this)||Mn(Zn,this,Bn($n,this,er).call(this))).style;t.append(In(Zn,this)),a.insetInlineEnd="".concat(100*i,"%"),a.top="calc(".concat(100*o,"% + var(--editor-toolbar-vert-offset))")}},{key:"hide",value:function(){In(Zn,this).remove()}}])}();function er(){var t=Mn(Zn,this,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",vn);var e=Mn(qn,this,document.createElement("div"));return e.className="buttons",t.append(e),Bn($n,this,rr).call(this),t}function nr(t,e){var n,r=0,i=0,o=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=kn(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,u=a.y+a.height;if(!(u<r)){var s=a.x+(e?a.width:0);u>r?(i=s,r=u):e?s>i&&(i=s):s<i&&(i=s)}}}catch(t){o.e(t)}finally{o.f()}return[e?1-i:i,r]}function rr(){var t=this,e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");var n=document.createElement("span");e.append(n),n.className="visuallyHidden",n.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label"),e.addEventListener("contextmenu",vn),e.addEventListener("click",(function(){In(Qn,t).highlightSelection("floating_button")})),In(qn,this).append(e)}function ir(t){return ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ir(t)}function or(t,e,n){return(e=vr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ar(t){return function(t){if(Array.isArray(t))return Ar(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Er(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ur(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||Er(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sr(){sr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==ir(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(ir(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function lr(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function cr(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){lr(o,r,i,a,u,"next",t)}function u(t){lr(o,r,i,a,u,"throw",t)}a(void 0)}))}}function hr(t,e){gr(t,e),e.add(t)}function fr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vr(r.key),r)}}function pr(t,e,n){return e&&dr(t.prototype,e),n&&dr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vr(t){var e=function(t,e){if("object"!=ir(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ir(e)?e:e+""}function yr(t,e,n){gr(t,e),e.set(t,n)}function gr(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mr(t,e){return t.get(wr(t,e))}function br(t,e,n){return t.set(wr(t,e),n),n}function wr(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Dr(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Er(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Er(t,e){if(t){if("string"==typeof t)return Ar(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ar(t,e):void 0}}function Ar(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function kr(t,e,n){var r,i=Dr(n);try{for(i.s();!(r=i.n()).done;){var o=r.value;e.addEventListener(o,t[o].bind(t))}}catch(t){i.e(t)}finally{i.f()}}var Sr=new WeakMap,Cr=function(){return pr((function t(){var e=this;fr(this,t),yr(this,Sr,0),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&Object.defineProperty(this,"reset",{value:function(){return br(Sr,e,0)}})}),[{key:"id",get:function(){var t,e;return"".concat(Kt.T7).concat((br(Sr,this,(t=mr(Sr,this),e=t++,t)),e))}}])}(),xr=new WeakMap,_r=new WeakMap,Fr=new WeakMap,Pr=new WeakSet,Lr=function(){return pr((function t(){fr(this,t),hr(this,Pr),yr(this,xr,(0,Kt.YJ)()),yr(this,_r,0),yr(this,Fr,null)}),[{key:"getFromFile",value:(n=cr(sr().mark((function t(e){var n,r,i,o;return sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.lastModified,r=e.name,i=e.size,o=e.type,t.abrupt("return",wr(Pr,this,Or).call(this,"".concat(n,"_").concat(r,"_").concat(i,"_").concat(o),e));case 2:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"getFromUrl",value:(e=cr(sr().mark((function t(e){return sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",wr(Pr,this,Or).call(this,e,e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"getFromId",value:(t=cr(sr().mark((function t(e){var n;return sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(mr(Fr,this)||br(Fr,this,new Map),n=mr(Fr,this).get(e)){t.next=4;break}return t.abrupt("return",null);case 4:if(!n.bitmap){t.next=7;break}return n.refCounter+=1,t.abrupt("return",n);case 7:if(!n.file){t.next=9;break}return t.abrupt("return",this.getFromFile(n.file));case 9:return t.abrupt("return",this.getFromUrl(n.url));case 10:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"getSvgUrl",value:function(t){var e=mr(Fr,this).get(t);return null!=e&&e.isSvg?e.svgUrl:null}},{key:"deleteId",value:function(t){mr(Fr,this)||br(Fr,this,new Map);var e=mr(Fr,this).get(t);e&&(e.refCounter-=1,0===e.refCounter&&(e.bitmap=null))}},{key:"isValidId",value:function(t){return t.startsWith("image_".concat(mr(xr,this),"_"))}}],[{key:"_isSVGFittingCanvas",get:function(){var t=new OffscreenCanvas(1,3).getContext("2d"),e=new Image;e.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';var n=e.decode().then((function(){return t.drawImage(e,0,0,1,1,0,0,1,3),0===new Uint32Array(t.getImageData(0,0,1,1).data.buffer)[0]}));return(0,Kt.r7)(this,"_isSVGFittingCanvas",n)}}]);var t,e,n}();function Or(t,e){return Tr.apply(this,arguments)}function Tr(){return Tr=cr(sr().mark((function t(e,n){var r,i,o,a,u,s,l,c,h;return sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(mr(Fr,this)||br(Fr,this,new Map),null!==(i=mr(Fr,this).get(e))){t.next=4;break}return t.abrupt("return",null);case 4:if(null===(r=i)||void 0===r||!r.bitmap){t.next=7;break}return i.refCounter+=1,t.abrupt("return",i);case 7:if(t.prev=7,i||(i={bitmap:null,id:"image_".concat(mr(xr,this),"_").concat((br(_r,this,(o=mr(_r,this),a=o++,o)),a)),refCounter:0,isSvg:!1}),"string"!=typeof n){t.next=16;break}return i.url=n,t.next=13,en(n,"blob");case 13:u=t.sent,t.next=17;break;case 16:u=i.file=n;case 17:if("image/svg+xml"!==u.type){t.next=27;break}return s=Xn._isSVGFittingCanvas,l=new FileReader,c=new Image,h=new Promise((function(t,e){c.onload=function(){i.bitmap=c,i.isSvg=!0,t()},l.onload=cr(sr().mark((function t(){var e;return sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.svgUrl=l.result,t.next=3,s;case 3:if(!t.sent){t.next=7;break}t.t0="".concat(e,"#svgView(preserveAspectRatio(none))"),t.next=8;break;case 7:t.t0=e;case 8:c.src=t.t0;case 9:case"end":return t.stop()}}),t)}))),c.onerror=l.onerror=e})),l.readAsDataURL(u),t.next=25,h;case 25:t.next=30;break;case 27:return t.next=29,createImageBitmap(u);case 29:i.bitmap=t.sent;case 30:i.refCounter=1,t.next=37;break;case 33:t.prev=33,t.t0=t.catch(7),console.error(t.t0),i=null;case 37:return mr(Fr,this).set(e,i),i&&mr(Fr,this).set(i.id,i),t.abrupt("return",i);case 40:case"end":return t.stop()}}),t,this,[[7,33]])}))),Tr.apply(this,arguments)}Xn=Lr;var Ir=new WeakMap,Mr=new WeakMap,Br=new WeakMap,jr=new WeakMap,Nr=function(){return pr((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;fr(this,t),yr(this,Ir,[]),yr(this,Mr,!1),yr(this,Br,void 0),yr(this,jr,-1),br(Br,this,e)}),[{key:"add",value:function(t){var e=t.cmd,n=t.undo,r=t.post,i=t.mustExec,o=t.type,a=void 0===o?NaN:o,u=t.overwriteIfSameType,s=void 0!==u&&u,l=t.keepUndo,c=void 0!==l&&l;if(i&&e(),!mr(Mr,this)){var h={cmd:e,undo:n,post:r,type:a};if(-1===mr(jr,this))return mr(Ir,this).length>0&&(mr(Ir,this).length=0),br(jr,this,0),void mr(Ir,this).push(h);if(s&&mr(Ir,this)[mr(jr,this)].type===a)return c&&(h.undo=mr(Ir,this)[mr(jr,this)].undo),void(mr(Ir,this)[mr(jr,this)]=h);var f=mr(jr,this)+1;f===mr(Br,this)?mr(Ir,this).splice(0,1):(br(jr,this,f),f<mr(Ir,this).length&&mr(Ir,this).splice(f)),mr(Ir,this).push(h)}}},{key:"undo",value:function(){if(-1!==mr(jr,this)){br(Mr,this,!0);var t=mr(Ir,this)[mr(jr,this)],e=t.undo,n=t.post;e(),null==n||n(),br(Mr,this,!1),br(jr,this,mr(jr,this)-1)}}},{key:"redo",value:function(){if(mr(jr,this)<mr(Ir,this).length-1){br(jr,this,mr(jr,this)+1),br(Mr,this,!0);var t=mr(Ir,this)[mr(jr,this)],e=t.cmd,n=t.post;e(),null==n||n(),br(Mr,this,!1)}}},{key:"hasSomethingToUndo",value:function(){return-1!==mr(jr,this)}},{key:"hasSomethingToRedo",value:function(){return mr(jr,this)<mr(Ir,this).length-1}},{key:"destroy",value:function(){br(Ir,this,null)}}])}(),Rr=new WeakSet,Wr=function(){return pr((function t(e){fr(this,t),hr(this,Rr),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;var n,r=Kt.TV.platform.isMac,i=Dr(e);try{for(i.s();!(n=i.n()).done;){var o,a=ur(n.value,3),u=a[0],s=a[1],l=a[2],c=void 0===l?{}:l,h=Dr(u);try{for(h.s();!(o=h.n()).done;){var f=o.value,d=f.startsWith("mac+");r&&d?(this.callbacks.set(f.slice(4),{callback:s,options:c}),this.allKeys.add(f.split("+").at(-1))):r||d||(this.callbacks.set(f,{callback:s,options:c}),this.allKeys.add(f.split("+").at(-1)))}}catch(t){h.e(t)}finally{h.f()}}}catch(t){i.e(t)}finally{i.f()}}),[{key:"exec",value:function(t,e){if(this.allKeys.has(e.key)){var n=this.callbacks.get(wr(Rr,this,Gr).call(this,e));if(n){var r=n.callback,i=n.options,o=i.bubbles,a=void 0!==o&&o,u=i.args,s=void 0===u?[]:u,l=i.checker,c=void 0===l?null:l;c&&!c(t,e)||(r.bind.apply(r,[t].concat(ar(s),[e]))(),a||(e.stopPropagation(),e.preventDefault()))}}}}])}();function Gr(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);var e=this.buffer.join("+");return this.buffer.length=0,e}var Hr=function(){function t(){fr(this,t)}return pr(t,[{key:"_colors",get:function(){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("LIB")&&"undefined"==typeof document)return(0,Kt.r7)(this,"_colors",t._colorsMapping);var e=new Map([["CanvasText",null],["Canvas",null]]);return function(t){var e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);var n,r=he(t.keys());try{for(r.s();!(n=r.n()).done;){var i=n.value;e.style.color=i;var o=window.getComputedStyle(e).color;t.set(i,mn(o))}}catch(t){r.e(t)}finally{r.f()}e.remove()}(e),(0,Kt.r7)(this,"_colors",e)}},{key:"convert",value:function(e){var n=mn(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;var r,i=Dr(this._colors);try{for(i.s();!(r=i.n()).done;){var o=ur(r.value,2),a=o[0];if(o[1].every((function(t,e){return t===n[e]})))return t._colorsMapping.get(a)}}catch(t){i.e(t)}finally{i.f()}return n}},{key:"getHexCode",value:function(t){var e=this._colors.get(t);return e?Kt.J0.makeHexColor.apply(Kt.J0,ar(e)):t}}])}();or(Hr,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var Vr,Ur=new WeakMap,zr=new WeakMap,Jr=new WeakMap,Yr=new WeakMap,Kr=new WeakMap,Xr=new WeakMap,qr=new WeakMap,Zr=new WeakMap,Qr=new WeakMap,$r=new WeakMap,ti=new WeakMap,ei=new WeakMap,ni=new WeakMap,ri=new WeakMap,ii=new WeakMap,oi=new WeakMap,ai=new WeakMap,ui=new WeakMap,si=new WeakMap,li=new WeakMap,ci=new WeakMap,hi=new WeakMap,fi=new WeakMap,di=new WeakMap,pi=new WeakMap,vi=new WeakMap,yi=new WeakMap,gi=new WeakMap,mi=new WeakMap,bi=new WeakMap,wi=new WeakMap,Di=new WeakMap,Ei=new WeakMap,Ai=new WeakMap,ki=new WeakMap,Si=new WeakMap,Ci=new WeakMap,xi=new WeakMap,_i=new WeakMap,Fi=new WeakMap,Pi=new WeakMap,Li=new WeakMap,Oi=new WeakMap,Ti=new WeakMap,Ii=new WeakMap,Mi=new WeakMap,Bi=new WeakMap,ji=new WeakMap,Ni=new WeakSet,Ri=function(){function t(e,n,r,i,o,a,u,s,l){var c=this;fr(this,t),hr(this,Ni),yr(this,Ur,null),yr(this,zr,new Map),yr(this,Jr,new Map),yr(this,Yr,null),yr(this,Kr,null),yr(this,Xr,null),yr(this,qr,new Nr),yr(this,Zr,0),yr(this,Qr,new Set),yr(this,$r,null),yr(this,ti,null),yr(this,ei,new Set),yr(this,ni,!1),yr(this,ri,null),yr(this,ii,null),yr(this,oi,null),yr(this,ai,!1),yr(this,ui,null),yr(this,si,new Cr),yr(this,li,!1),yr(this,ci,!1),yr(this,hi,null),yr(this,fi,null),yr(this,di,null),yr(this,pi,Kt.vP.NONE),yr(this,vi,new Set),yr(this,yi,null),yr(this,gi,null),yr(this,mi,null),yr(this,bi,this.blur.bind(this)),yr(this,wi,this.focus.bind(this)),yr(this,Di,this.copy.bind(this)),yr(this,Ei,this.cut.bind(this)),yr(this,Ai,this.dragOver.bind(this)),yr(this,ki,this.drop.bind(this)),yr(this,Si,this.paste.bind(this)),yr(this,Ci,this.keydown.bind(this)),yr(this,xi,this.keyup.bind(this)),yr(this,_i,this.onEditingAction.bind(this)),yr(this,Fi,this.onPageChanging.bind(this)),yr(this,Pi,this.onScaleChanging.bind(this)),yr(this,Li,wr(Ni,this,Hi).bind(this)),yr(this,Oi,this.onRotationChanging.bind(this)),yr(this,Ti,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),yr(this,Ii,[0,0]),yr(this,Mi,null),yr(this,Bi,null),yr(this,ji,null),br(Bi,this,e),br(ji,this,n),br(Yr,this,r),this._eventBus=i,this._eventBus._on("editingaction",mr(_i,this)),this._eventBus._on("pagechanging",mr(Fi,this)),this._eventBus._on("scalechanging",mr(Pi,this)),this._eventBus._on("rotationchanging",mr(Oi,this)),wr(Ni,this,Ui).call(this),wr(Ni,this,Qi).call(this),wr(Ni,this,Ki).call(this),br(Kr,this,o.annotationStorage),br(ri,this,o.filterFactory),br(gi,this,a),br(oi,this,u||null),br(ni,this,s),br(di,this,l||null),this.viewParameters={realScale:Ie.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&Object.defineProperty(this,"reset",{value:function(){c.selectAll(),c.delete(),mr(si,c).reset()}})}return pr(t,[{key:"destroy",value:function(){var t,e;wr(Ni,this,$i).call(this),wr(Ni,this,Xi).call(this),wr(Ni,this,Yi).call(this),this._eventBus._off("editingaction",mr(_i,this)),this._eventBus._off("pagechanging",mr(Fi,this)),this._eventBus._off("scalechanging",mr(Pi,this)),this._eventBus._off("rotationchanging",mr(Oi,this));var n,r=Dr(mr(Jr,this).values());try{for(r.s();!(n=r.n()).done;){n.value.destroy()}}catch(t){r.e(t)}finally{r.f()}mr(Jr,this).clear(),mr(zr,this).clear(),mr(ei,this).clear(),br(Ur,this,null),mr(vi,this).clear(),mr(qr,this).destroy(),null===(t=mr(Yr,this))||void 0===t||t.destroy(),null===(e=mr(ui,this))||void 0===e||e.hide(),br(ui,this,null),mr(ii,this)&&(clearTimeout(mr(ii,this)),br(ii,this,null)),mr(Mi,this)&&(clearTimeout(mr(Mi,this)),br(Mi,this,null)),wr(Ni,this,zi).call(this)}},{key:"mlGuess",value:(e=cr(sr().mark((function t(e){var n;return sr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(null===(n=mr(di,this))||void 0===n?void 0:n.guess(e))||null);case 1:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"hasMLManager",get:function(){return!!mr(di,this)}},{key:"hcmFilter",get:function(){return(0,Kt.r7)(this,"hcmFilter",mr(gi,this)?mr(ri,this).addHCMFilter(mr(gi,this).foreground,mr(gi,this).background):"none")}},{key:"direction",get:function(){return(0,Kt.r7)(this,"direction",getComputedStyle(mr(Bi,this)).direction)}},{key:"highlightColors",get:function(){return(0,Kt.r7)(this,"highlightColors",mr(oi,this)?new Map(mr(oi,this).split(",").map((function(t){return t.split("=").map((function(t){return t.trim()}))}))):null)}},{key:"highlightColorNames",get:function(){return(0,Kt.r7)(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(function(t){return t.reverse()}))):null)}},{key:"setMainHighlightColorPicker",value:function(t){br(fi,this,t)}},{key:"editAltText",value:function(t){var e;null===(e=mr(Yr,this))||void 0===e||e.editAltText(this,t)}},{key:"onPageChanging",value:function(t){var e=t.pageNumber;br(Zr,this,e-1)}},{key:"focusMainContainer",value:function(){mr(Bi,this).focus()}},{key:"findParent",value:function(t,e){var n,r=Dr(mr(Jr,this).values());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.div.getBoundingClientRect(),a=o.x,u=o.y,s=o.width,l=o.height;if(t>=a&&t<=a+s&&e>=u&&e<=u+l)return i}}catch(t){r.e(t)}finally{r.f()}return null}},{key:"disableUserSelect",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];mr(ji,this).classList.toggle("noUserSelect",t)}},{key:"addShouldRescale",value:function(t){mr(ei,this).add(t)}},{key:"removeShouldRescale",value:function(t){mr(ei,this).delete(t)}},{key:"onScaleChanging",value:function(t){var e=t.scale;this.commitOrRemove(),this.viewParameters.realScale=e*Ie.PDF_TO_CSS_UNITS;var n,r=Dr(mr(ei,this));try{for(r.s();!(n=r.n()).done;){n.value.onScaleChanging()}}catch(t){r.e(t)}finally{r.f()}}},{key:"onRotationChanging",value:function(t){var e=t.pagesRotation;this.commitOrRemove(),this.viewParameters.rotation=e}},{key:"highlightSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document.getSelection();if(e&&!e.isCollapsed){var n=e.anchorNode,r=e.anchorOffset,i=e.focusNode,o=e.focusOffset,a=e.toString(),u=wr(Ni,this,Wi).call(this,e).closest(".textLayer"),s=this.getSelectionBoxes(u);if(s){e.empty(),mr(pi,this)===Kt.vP.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:Kt.vP.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));var l,c=Dr(mr(Jr,this).values());try{for(c.s();!(l=c.n()).done;){var h=l.value;if(h.hasTextLayer(u)){h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:s,anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o,text:a});break}}}catch(t){c.e(t)}finally{c.f()}}}}},{key:"addToAnnotationStorage",value:function(t){t.isEmpty()||!mr(Kr,this)||mr(Kr,this).has(t.id)||mr(Kr,this).setValue(t.id,t)}},{key:"blur",value:function(){if(this.isShiftKeyDown=!1,mr(ai,this)&&(br(ai,this,!1),wr(Ni,this,Vi).call(this,"main_toolbar")),this.hasSelection){var t,e=document.activeElement,n=Dr(mr(vi,this));try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.div.contains(e)){br(hi,this,[r,e]),r._focusEventsAllowed=!1;break}}}catch(t){n.e(t)}finally{n.f()}}}},{key:"focus",value:function(){if(mr(hi,this)){var t=ur(mr(hi,this),2),e=t[0],n=t[1];br(hi,this,null),n.addEventListener("focusin",(function(){e._focusEventsAllowed=!0}),{once:!0}),n.focus()}}},{key:"addEditListeners",value:function(){wr(Ni,this,Ki).call(this),wr(Ni,this,qi).call(this)}},{key:"removeEditListeners",value:function(){wr(Ni,this,Xi).call(this),wr(Ni,this,Zi).call(this)}},{key:"dragOver",value:function(t){var e,n=Dr(t.dataTransfer.items);try{for(n.s();!(e=n.n()).done;){var r,i=e.value.type,o=Dr(mr(ti,this));try{for(o.s();!(r=o.n()).done;){if(r.value.isHandlingMimeForPasting(i))return t.dataTransfer.dropEffect="copy",void t.preventDefault()}}catch(t){o.e(t)}finally{o.f()}}}catch(t){n.e(t)}finally{n.f()}}},{key:"drop",value:function(t){var e,n=Dr(t.dataTransfer.items);try{for(n.s();!(e=n.n()).done;){var r,i=e.value,o=Dr(mr(ti,this));try{for(o.s();!(r=o.n()).done;){var a=r.value;if(a.isHandlingMimeForPasting(i.type))return a.paste(i,this.currentLayer),void t.preventDefault()}}catch(t){o.e(t)}finally{o.f()}}}catch(t){n.e(t)}finally{n.f()}}},{key:"copy",value:function(t){var e;if(t.preventDefault(),null===(e=mr(Ur,this))||void 0===e||e.commitOrRemove(),this.hasSelection){var n,r=[],i=Dr(mr(vi,this));try{for(i.s();!(n=i.n()).done;){var o=n.value.serialize(!0);o&&r.push(o)}}catch(t){i.e(t)}finally{i.f()}0!==r.length&&t.clipboardData.setData("application/pdfjs",JSON.stringify(r))}}},{key:"cut",value:function(t){this.copy(t),this.delete()}},{key:"paste",value:function(t){var e=this;t.preventDefault();var n,r=t.clipboardData,i=Dr(r.items);try{for(i.s();!(n=i.n()).done;){var o,a=n.value,u=Dr(mr(ti,this));try{for(u.s();!(o=u.n()).done;){var s=o.value;if(s.isHandlingMimeForPasting(a.type))return void s.paste(a,this.currentLayer)}}catch(t){u.e(t)}finally{u.f()}}}catch(t){i.e(t)}finally{i.f()}var l=r.getData("application/pdfjs");if(l){try{l=JSON.parse(l)}catch(t){return void(0,Kt.R8)('paste: "'.concat(t.message,'".'))}if(Array.isArray(l)){this.unselectAll();var c=this.currentLayer;try{var h,f=[],d=Dr(l);try{for(d.s();!(h=d.n()).done;){var p=h.value,v=c.deserialize(p);if(!v)return;f.push(v)}}catch(t){d.e(t)}finally{d.f()}this.addCommands({cmd:function(){for(var t=0,n=f;t<n.length;t++){var r=n[t];wr(Ni,e,io).call(e,r)}wr(Ni,e,uo).call(e,f)},undo:function(){for(var t=0,e=f;t<e.length;t++){e[t].remove()}},mustExec:!0})}catch(t){(0,Kt.R8)('paste: "'.concat(t.message,'".'))}}}}},{key:"keydown",value:function(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),mr(pi,this)===Kt.vP.NONE||this.isEditorHandlingKeyboard||t._keyboardManager.exec(this,e)}},{key:"keyup",value:function(t){this.isShiftKeyDown&&"Shift"===t.key&&(this.isShiftKeyDown=!1,mr(ai,this)&&(br(ai,this,!1),wr(Ni,this,Vi).call(this,"main_toolbar")))}},{key:"onEditingAction",value:function(t){var e=t.name;switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu")}}},{key:"setEditingState",value:function(t){t?(wr(Ni,this,Ji).call(this),wr(Ni,this,qi).call(this),wr(Ni,this,to).call(this,{isEditing:mr(pi,this)!==Kt.vP.NONE,isEmpty:wr(Ni,this,ao).call(this),hasSomethingToUndo:mr(qr,this).hasSomethingToUndo(),hasSomethingToRedo:mr(qr,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(wr(Ni,this,Yi).call(this),wr(Ni,this,Zi).call(this),wr(Ni,this,to).call(this,{isEditing:!1}),this.disableUserSelect(!1))}},{key:"registerEditorTypes",value:function(t){if(!mr(ti,this)){br(ti,this,t);var e,n=Dr(mr(ti,this));try{for(n.s();!(e=n.n()).done;){var r=e.value;wr(Ni,this,eo).call(this,r.defaultPropertiesToUpdate)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"getId",value:function(){return mr(si,this).id}},{key:"currentLayer",get:function(){return mr(Jr,this).get(mr(Zr,this))}},{key:"getLayer",value:function(t){return mr(Jr,this).get(t)}},{key:"currentPageIndex",get:function(){return mr(Zr,this)}},{key:"addLayer",value:function(t){mr(Jr,this).set(t.pageIndex,t),mr(li,this)?t.enable():t.disable()}},{key:"removeLayer",value:function(t){mr(Jr,this).delete(t.pageIndex)}},{key:"updateMode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(mr(pi,this)!==t){if(br(pi,this,t),t===Kt.vP.NONE)return this.setEditingState(!1),void wr(Ni,this,ro).call(this);this.setEditingState(!0),wr(Ni,this,no).call(this),this.unselectAll();var r,i=Dr(mr(Jr,this).values());try{for(i.s();!(r=i.n()).done;){r.value.updateMode(t)}}catch(t){i.e(t)}finally{i.f()}if(e||!n){if(e){var o,a=Dr(mr(zr,this).values());try{for(a.s();!(o=a.n()).done;){var u=o.value;if(u.annotationElementId===e){this.setSelected(u),u.enterInEditMode();break}}}catch(t){a.e(t)}finally{a.f()}}}else this.addNewEditorFromKeyboard()}}},{key:"addNewEditorFromKeyboard",value:function(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}},{key:"updateToolbar",value:function(t){t!==mr(pi,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}},{key:"updateParams",value:function(t,e){var n;if(mr(ti,this)){switch(t){case Kt.N5.CREATE:return void this.currentLayer.addNewEditor();case Kt.N5.HIGHLIGHT_DEFAULT_COLOR:null===(n=mr(fi,this))||void 0===n||n.updateColor(e);break;case Kt.N5.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(mr(mi,this)||br(mi,this,new Map)).set(t,e),this.showAllEditors("highlight",e)}var r,i=Dr(mr(vi,this));try{for(i.s();!(r=i.n()).done;){r.value.updateParams(t,e)}}catch(t){i.e(t)}finally{i.f()}var o,a=Dr(mr(ti,this));try{for(a.s();!(o=a.n()).done;){o.value.updateDefaultParams(t,e)}}catch(t){a.e(t)}finally{a.f()}}}},{key:"showAllEditors",value:function(t,e){var n,r,i,o=Dr(mr(zr,this).values());try{for(o.s();!(i=o.n()).done;){var a=i.value;a.editorType===t&&a.show(e)}}catch(t){o.e(t)}finally{o.f()}(null===(n=null===(r=mr(mi,this))||void 0===r?void 0:r.get(Kt.N5.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==e&&wr(Ni,this,eo).call(this,[[Kt.N5.HIGHLIGHT_SHOW_ALL,e]])}},{key:"enableWaiting",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(mr(ci,this)!==t){br(ci,this,t);var e,n=Dr(mr(Jr,this).values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",t)}}catch(t){n.e(t)}finally{n.f()}}}},{key:"getEditors",value:function(t){var e,n=[],r=Dr(mr(zr,this).values());try{for(r.s();!(e=r.n()).done;){var i=e.value;i.pageIndex===t&&n.push(i)}}catch(t){r.e(t)}finally{r.f()}return n}},{key:"getEditor",value:function(t){return mr(zr,this).get(t)}},{key:"addEditor",value:function(t){mr(zr,this).set(t.id,t)}},{key:"removeEditor",value:function(t){var e,n=this;(t.div.contains(document.activeElement)&&(mr(ii,this)&&clearTimeout(mr(ii,this)),br(ii,this,setTimeout((function(){n.focusMainContainer(),br(ii,n,null)}),0))),mr(zr,this).delete(t.id),this.unselect(t),t.annotationElementId&&mr(Qr,this).has(t.annotationElementId))||(null===(e=mr(Kr,this))||void 0===e||e.remove(t.id))}},{key:"addDeletedAnnotationElement",value:function(t){mr(Qr,this).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}},{key:"isDeletedAnnotationElement",value:function(t){return mr(Qr,this).has(t)}},{key:"removeDeletedAnnotationElement",value:function(t){mr(Qr,this).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}},{key:"setActiveEditor",value:function(t){mr(Ur,this)!==t&&(br(Ur,this,t),t&&wr(Ni,this,eo).call(this,t.propertiesToUpdate))}},{key:"updateUI",value:function(t){oo(wr(Ni,this))===t&&wr(Ni,this,eo).call(this,t.propertiesToUpdate)}},{key:"toggleSelected",value:function(t){if(mr(vi,this).has(t))return mr(vi,this).delete(t),t.unselect(),void wr(Ni,this,to).call(this,{hasSelectedEditor:this.hasSelection});mr(vi,this).add(t),t.select(),wr(Ni,this,eo).call(this,t.propertiesToUpdate),wr(Ni,this,to).call(this,{hasSelectedEditor:!0})}},{key:"setSelected",value:function(t){var e,n=Dr(mr(vi,this));try{for(n.s();!(e=n.n()).done;){var r=e.value;r!==t&&r.unselect()}}catch(t){n.e(t)}finally{n.f()}mr(vi,this).clear(),mr(vi,this).add(t),t.select(),wr(Ni,this,eo).call(this,t.propertiesToUpdate),wr(Ni,this,to).call(this,{hasSelectedEditor:!0})}},{key:"isSelected",value:function(t){return mr(vi,this).has(t)}},{key:"firstSelectedEditor",get:function(){return mr(vi,this).values().next().value}},{key:"unselect",value:function(t){t.unselect(),mr(vi,this).delete(t),wr(Ni,this,to).call(this,{hasSelectedEditor:this.hasSelection})}},{key:"hasSelection",get:function(){return 0!==mr(vi,this).size}},{key:"isEnterHandled",get:function(){return 1===mr(vi,this).size&&this.firstSelectedEditor.isEnterHandled}},{key:"undo",value:function(){mr(qr,this).undo(),wr(Ni,this,to).call(this,{hasSomethingToUndo:mr(qr,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:wr(Ni,this,ao).call(this)})}},{key:"redo",value:function(){mr(qr,this).redo(),wr(Ni,this,to).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:mr(qr,this).hasSomethingToRedo(),isEmpty:wr(Ni,this,ao).call(this)})}},{key:"addCommands",value:function(t){mr(qr,this).add(t),wr(Ni,this,to).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:wr(Ni,this,ao).call(this)})}},{key:"delete",value:function(){var t=this;if(this.commitOrRemove(),this.hasSelection){var e=ar(mr(vi,this));this.addCommands({cmd:function(){var t,n=Dr(e);try{for(n.s();!(t=n.n()).done;){t.value.remove()}}catch(t){n.e(t)}finally{n.f()}},undo:function(){var n,r=Dr(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;wr(Ni,t,io).call(t,i)}}catch(t){r.e(t)}finally{r.f()}},mustExec:!0})}}},{key:"commitOrRemove",value:function(){var t;null===(t=mr(Ur,this))||void 0===t||t.commitOrRemove()}},{key:"hasSomethingToControl",value:function(){return mr(Ur,this)||this.hasSelection}},{key:"selectAll",value:function(){var t,e=Dr(mr(vi,this));try{for(e.s();!(t=e.n()).done;){t.value.commit()}}catch(t){e.e(t)}finally{e.f()}wr(Ni,this,uo).call(this,mr(zr,this).values())}},{key:"unselectAll",value:function(){if((!mr(Ur,this)||(mr(Ur,this).commitOrRemove(),mr(pi,this)===Kt.vP.NONE))&&this.hasSelection){var t,e=Dr(mr(vi,this));try{for(e.s();!(t=e.n()).done;){t.value.unselect()}}catch(t){e.e(t)}finally{e.f()}mr(vi,this).clear(),wr(Ni,this,to).call(this,{hasSelectedEditor:!1})}}},{key:"translateSelectedEditors",value:function(t,e){var n=this;if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),this.hasSelection){mr(Ii,this)[0]+=t,mr(Ii,this)[1]+=e;var r=ur(mr(Ii,this),2),i=r[0],o=r[1],a=ar(mr(vi,this));mr(Mi,this)&&clearTimeout(mr(Mi,this)),br(Mi,this,setTimeout((function(){br(Mi,n,null),mr(Ii,n)[0]=mr(Ii,n)[1]=0,n.addCommands({cmd:function(){var t,e=Dr(a);try{for(e.s();!(t=e.n()).done;){var r=t.value;mr(zr,n).has(r.id)&&r.translateInPage(i,o)}}catch(t){e.e(t)}finally{e.f()}},undo:function(){var t,e=Dr(a);try{for(e.s();!(t=e.n()).done;){var r=t.value;mr(zr,n).has(r.id)&&r.translateInPage(-i,-o)}}catch(t){e.e(t)}finally{e.f()}},mustExec:!1})}),1e3));var u,s=Dr(a);try{for(s.s();!(u=s.n()).done;){u.value.translateInPage(t,e)}}catch(t){s.e(t)}finally{s.f()}}}},{key:"setUpDragSession",value:function(){if(this.hasSelection){this.disableUserSelect(!0),br($r,this,new Map);var t,e=Dr(mr(vi,this));try{for(e.s();!(t=e.n()).done;){var n=t.value;mr($r,this).set(n,{savedX:n.x,savedY:n.y,savedPageIndex:n.pageIndex,newX:0,newY:0,newPageIndex:-1})}}catch(t){e.e(t)}finally{e.f()}}}},{key:"endDragSession",value:function(){var t=this;if(!mr($r,this))return!1;this.disableUserSelect(!1);var e=mr($r,this);br($r,this,null);var n,r=!1,i=Dr(e);try{for(i.s();!(n=i.n()).done;){var o=ur(n.value,2),a=o[0],u=a.x,s=a.y,l=a.pageIndex,c=o[1];c.newX=u,c.newY=s,c.newPageIndex=l,r||(r=u!==c.savedX||s!==c.savedY||l!==c.savedPageIndex)}}catch(t){i.e(t)}finally{i.f()}if(!r)return!1;var h=function(e,n,r,i){if(mr(zr,t).has(e.id)){var o=mr(Jr,t).get(i);o?e._setParentAndPosition(o,n,r):(e.pageIndex=i,e.x=n,e.y=r)}};return this.addCommands({cmd:function(){var t,n=Dr(e);try{for(n.s();!(t=n.n()).done;){var r=ur(t.value,2),i=r[0],o=r[1],a=o.newX,u=o.newY,s=o.newPageIndex;h(i,a,u,s)}}catch(t){n.e(t)}finally{n.f()}},undo:function(){var t,n=Dr(e);try{for(n.s();!(t=n.n()).done;){var r=ur(t.value,2),i=r[0],o=r[1],a=o.savedX,u=o.savedY,s=o.savedPageIndex;h(i,a,u,s)}}catch(t){n.e(t)}finally{n.f()}},mustExec:!0}),!0}},{key:"dragSelectedEditors",value:function(t,e){if(mr($r,this)){var n,r=Dr(mr($r,this).keys());try{for(r.s();!(n=r.n()).done;){n.value.drag(t,e)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"rebuild",value:function(t){if(null===t.parent){var e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}},{key:"isEditorHandlingKeyboard",get:function(){var t;return(null===(t=this.getActive())||void 0===t?void 0:t.shouldGetKeyboardEvents())||1===mr(vi,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}},{key:"isActive",value:function(t){return mr(Ur,this)===t}},{key:"getActive",value:function(){return mr(Ur,this)}},{key:"getMode",value:function(){return mr(pi,this)}},{key:"imageManager",get:function(){return(0,Kt.r7)(this,"imageManager",new Lr)}},{key:"getSelectionBoxes",value:function(t){if(!t)return null;for(var e=document.getSelection(),n=0,r=e.rangeCount;n<r;n++)if(!t.contains(e.getRangeAt(n).commonAncestorContainer))return null;var i,o=t.getBoundingClientRect(),a=o.x,u=o.y,s=o.width,l=o.height;switch(t.getAttribute("data-main-rotation")){case"90":i=function(t,e,n,r){return{x:(e-u)/l,y:1-(t+n-a)/s,width:r/l,height:n/s}};break;case"180":i=function(t,e,n,r){return{x:1-(t+n-a)/s,y:1-(e+r-u)/l,width:n/s,height:r/l}};break;case"270":i=function(t,e,n,r){return{x:1-(e+r-u)/l,y:(t-a)/s,width:r/l,height:n/s}};break;default:i=function(t,e,n,r){return{x:(t-a)/s,y:(e-u)/l,width:n/s,height:r/l}}}for(var c=[],h=0,f=e.rangeCount;h<f;h++){var d=e.getRangeAt(h);if(!d.collapsed){var p,v=Dr(d.getClientRects());try{for(v.s();!(p=v.n()).done;){var y=p.value,g=y.x,m=y.y,b=y.width,w=y.height;0!==b&&0!==w&&c.push(i(g,m,b,w))}}catch(t){v.e(t)}finally{v.f()}}}return 0===c.length?null:c}},{key:"addChangedExistingAnnotation",value:function(t){var e=t.annotationElementId,n=t.id;(mr(Xr,this)||br(Xr,this,new Map)).set(e,n)}},{key:"removeChangedExistingAnnotation",value:function(t){var e,n=t.annotationElementId;null===(e=mr(Xr,this))||void 0===e||e.delete(n)}},{key:"renderAnnotationElement",value:function(t){var e,n=null===(e=mr(Xr,this))||void 0===e?void 0:e.get(t.data.id);if(n){var r=mr(Kr,this).getRawValue(n);r&&(mr(pi,this)!==Kt.vP.NONE||r.hasBeenModified)&&r.renderAnnotationElement(t)}}}],[{key:"_keyboardManager",get:function(){var e=t.prototype,n=function(t){return mr(Bi,t).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&t.hasSomethingToControl()},r=function(t,e){var n=e.target;if(n instanceof HTMLInputElement){var r=n.type;return"text"!==r&&"number"!==r}return!0},i=this.TRANSLATE_SMALL,o=this.TRANSLATE_BIG;return(0,Kt.r7)(this,"_keyboardManager",new Wr([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:function(t,e){var n=e.target;return!(n instanceof HTMLButtonElement)&&mr(Bi,t).contains(n)&&!t.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:function(t,e){return!(e.target instanceof HTMLButtonElement)&&mr(Bi,t).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-o,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[o,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-o],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,o],checker:n}]]))}}]);var e}();function Wi(t){var e=t.anchorNode;return e.nodeType===Node.TEXT_NODE?e.parentElement:e}function Gi(){var t=document.getSelection();if(t&&!t.isCollapsed){var e=wr(Ni,this,Wi).call(this,t).closest(".textLayer"),n=this.getSelectionBoxes(e);n&&(mr(ui,this)||br(ui,this,new tr(this)),mr(ui,this).show(e,n,"ltr"===this.direction))}}function Hi(){var t,e=this,n=document.getSelection();if(n&&!n.isCollapsed){var r,i=n.anchorNode;if(i!==mr(yi,this))if(wr(Ni,this,Wi).call(this,n).closest(".textLayer")){if(null===(t=mr(ui,this))||void 0===t||t.hide(),br(yi,this,i),wr(Ni,this,to).call(this,{hasSelectedText:!0}),(mr(pi,this)===Kt.vP.HIGHLIGHT||mr(pi,this)===Kt.vP.NONE)&&(mr(pi,this)===Kt.vP.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),br(ai,this,this.isShiftKeyDown),!this.isShiftKeyDown)){var o=function t(n){"pointerup"===n.type&&0!==n.button||(window.removeEventListener("pointerup",t),window.removeEventListener("blur",t),"pointerup"===n.type&&wr(Ni,e,Vi).call(e,"main_toolbar"))};window.addEventListener("pointerup",o),window.addEventListener("blur",o)}}else mr(yi,this)&&(null===(r=mr(ui,this))||void 0===r||r.hide(),br(yi,this,null),wr(Ni,this,to).call(this,{hasSelectedText:!1}))}else{var a;mr(yi,this)&&(null===(a=mr(ui,this))||void 0===a||a.hide(),br(yi,this,null),wr(Ni,this,to).call(this,{hasSelectedText:!1}))}}function Vi(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";mr(pi,this)===Kt.vP.HIGHLIGHT?this.highlightSelection(t):mr(ni,this)&&wr(Ni,this,Gi).call(this)}function Ui(){document.addEventListener("selectionchange",mr(Li,this))}function zi(){document.removeEventListener("selectionchange",mr(Li,this))}function Ji(){window.addEventListener("focus",mr(wi,this)),window.addEventListener("blur",mr(bi,this))}function Yi(){window.removeEventListener("focus",mr(wi,this)),window.removeEventListener("blur",mr(bi,this))}function Ki(){window.addEventListener("keydown",mr(Ci,this)),window.addEventListener("keyup",mr(xi,this))}function Xi(){window.removeEventListener("keydown",mr(Ci,this)),window.removeEventListener("keyup",mr(xi,this))}function qi(){document.addEventListener("copy",mr(Di,this)),document.addEventListener("cut",mr(Ei,this)),document.addEventListener("paste",mr(Si,this))}function Zi(){document.removeEventListener("copy",mr(Di,this)),document.removeEventListener("cut",mr(Ei,this)),document.removeEventListener("paste",mr(Si,this))}function Qi(){document.addEventListener("dragover",mr(Ai,this)),document.addEventListener("drop",mr(ki,this))}function $i(){document.removeEventListener("dragover",mr(Ai,this)),document.removeEventListener("drop",mr(ki,this))}function to(t){var e=this,n=Object.entries(t).some((function(t){var n=ur(t,2),r=n[0],i=n[1];return mr(Ti,e)[r]!==i}));n&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(mr(Ti,this),t)}),mr(pi,this)===Kt.vP.HIGHLIGHT&&!1===t.hasSelectedEditor&&wr(Ni,this,eo).call(this,[[Kt.N5.HIGHLIGHT_FREE,!0]]))}function eo(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}function no(){if(!mr(li,this)){br(li,this,!0);var t,e=Dr(mr(Jr,this).values());try{for(e.s();!(t=e.n()).done;){t.value.enable()}}catch(t){e.e(t)}finally{e.f()}var n,r=Dr(mr(zr,this).values());try{for(r.s();!(n=r.n()).done;){n.value.enable()}}catch(t){r.e(t)}finally{r.f()}}}function ro(){if(this.unselectAll(),mr(li,this)){br(li,this,!1);var t,e=Dr(mr(Jr,this).values());try{for(e.s();!(t=e.n()).done;){t.value.disable()}}catch(t){e.e(t)}finally{e.f()}var n,r=Dr(mr(zr,this).values());try{for(r.s();!(n=r.n()).done;){n.value.disable()}}catch(t){r.e(t)}finally{r.f()}}}function io(t){var e=mr(Jr,this).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}function oo(t){var e,n=null,r=Dr(mr(vi,t));try{for(r.s();!(e=r.n()).done;)n=e.value}catch(t){r.e(t)}finally{r.f()}return n}function ao(){if(0===mr(zr,this).size)return!0;if(1===mr(zr,this).size){var t,e=Dr(mr(zr,this).values());try{for(e.s();!(t=e.n()).done;){return t.value.isEmpty()}}catch(t){e.e(t)}finally{e.f()}}return!1}function uo(t){var e,n=Dr(mr(vi,this));try{for(n.s();!(e=n.n()).done;){e.value.unselect()}}catch(t){n.e(t)}finally{n.f()}mr(vi,this).clear();var r,i=Dr(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;o.isEmpty()||(mr(vi,this).add(o),o.select())}}catch(t){i.e(t)}finally{i.f()}wr(Ni,this,to).call(this,{hasSelectedEditor:this.hasSelection})}function so(t){return so="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(t)}function lo(){lo=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==so(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(so(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function co(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function ho(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){co(o,r,i,a,u,"next",t)}function u(t){co(o,r,i,a,u,"throw",t)}a(void 0)}))}}function fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,po(r.key),r)}}function po(t){var e=function(t,e){if("object"!=so(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=so(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==so(e)?e:e+""}function vo(t,e,n){yo(t,e),e.set(t,n)}function yo(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function go(t,e){return t.get(bo(t,e))}function mo(t,e,n){return t.set(bo(t,e),n),n}function bo(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}or(Ri,"TRANSLATE_SMALL",1),or(Ri,"TRANSLATE_BIG",10);var wo,Do,Eo,Ao,ko=new WeakMap,So=new WeakMap,Co=new WeakMap,xo=new WeakMap,_o=new WeakMap,Fo=new WeakMap,Po=new WeakMap,Lo=new WeakSet,Oo=function(){function t(e){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),yo(n=this,r=Lo),r.add(n),vo(this,ko,""),vo(this,So,!1),vo(this,Co,null),vo(this,xo,null),vo(this,_o,null),vo(this,Fo,!1),vo(this,Po,null),mo(Po,this,e)}return e=t,n=[{key:"render",value:function(){var e=ho(lo().mark((function e(){var n,r,i,o=this;return lo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=mo(Co,this,document.createElement("button"))).className="altText",e.next=4,t._l10nPromise.get("pdfjs-editor-alt-text-button-label");case 4:return r=e.sent,n.textContent=r,n.setAttribute("aria-label",r),n.tabIndex="0",n.addEventListener("contextmenu",vn),n.addEventListener("pointerdown",(function(t){return t.stopPropagation()})),i=function(t){t.preventDefault(),go(Po,o)._uiManager.editAltText(go(Po,o))},n.addEventListener("click",i,{capture:!0}),n.addEventListener("keydown",(function(t){t.target===n&&"Enter"===t.key&&(mo(Fo,o,!0),i(t))})),e.next=15,bo(Lo,this,To).call(this);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"finish",value:function(){go(Co,this)&&(go(Co,this).focus({focusVisible:go(Fo,this)}),mo(Fo,this,!1))}},{key:"isEmpty",value:function(){return!go(ko,this)&&!go(So,this)}},{key:"data",get:function(){return{altText:go(ko,this),decorative:go(So,this)}},set:function(t){var e=t.altText,n=t.decorative;go(ko,this)===e&&go(So,this)===n||(mo(ko,this,e),mo(So,this,n),bo(Lo,this,To).call(this))}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];go(Co,this)&&(!t&&go(_o,this)&&(clearTimeout(go(_o,this)),mo(_o,this,null)),go(Co,this).disabled=!t)}},{key:"destroy",value:function(){var t;null===(t=go(Co,this))||void 0===t||t.remove(),mo(Co,this,null),mo(xo,this,null)}}],r=[{key:"initialize",value:function(e){t._l10nPromise||(t._l10nPromise=e)}}],n&&fo(e.prototype,n),r&&fo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function To(){return Io.apply(this,arguments)}function Io(){return(Io=ho(lo().mark((function t(){var e,n,r,i,o,a=this;return lo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=go(Co,this)){t.next=3;break}return t.abrupt("return");case 3:if(go(ko,this)||go(So,this)){t.next=7;break}return e.classList.remove("done"),null===(n=go(xo,this))||void 0===n||n.remove(),t.abrupt("return");case 7:if(e.classList.add("done"),Vr._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then((function(t){e.setAttribute("aria-label",t)})),(r=go(xo,this))||(mo(xo,this,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),i=r.id="alt-text-tooltip-".concat(go(Po,this).id),e.setAttribute("aria-describedby",i),100,e.addEventListener("mouseenter",(function(){mo(_o,a,setTimeout((function(){mo(_o,a,null),go(xo,a).classList.add("show"),go(Po,a)._reportTelemetry({action:"alt_text_tooltip"})}),100))})),e.addEventListener("mouseleave",(function(){var t;go(_o,a)&&(clearTimeout(go(_o,a)),mo(_o,a,null)),null===(t=go(xo,a))||void 0===t||t.classList.remove("show")}))),!go(So,this)){t.next=17;break}return t.next=14,Vr._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip");case 14:t.t0=t.sent,t.next=18;break;case 17:t.t0=go(ko,this);case 18:r.innerText=t.t0,r.parentNode||e.append(r),null==(o=go(Po,this).getImageForAltText())||o.setAttribute("aria-describedby",r.id);case 22:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Mo(t){return Mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(t)}function Bo(t){return function(t){if(Array.isArray(t))return Yo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Jo(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jo(t,e,n){return e=Ro(e),function(t,e){if(e&&("object"==Mo(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,No()?Reflect.construct(e,n||[],Ro(t).constructor):e.apply(t,n))}function No(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(No=function(){return!!t})()}function Ro(t){return Ro=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ro(t)}function Wo(t,e){return Wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Wo(t,e)}function Go(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Jo(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ho(){Ho=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==Mo(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Mo(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function Vo(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Uo(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Vo(o,r,i,a,u,"next",t)}function u(t){Vo(o,r,i,a,u,"throw",t)}a(void 0)}))}}function zo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||Jo(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jo(t,e){if(t){if("string"==typeof t)return Yo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yo(t,e):void 0}}function Yo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ko(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qo(r.key),r)}}function qo(t,e,n){return e&&Xo(t.prototype,e),n&&Xo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zo(t,e,n){return(e=Qo(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qo(t){var e=function(t,e){if("object"!=Mo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mo(e)?e:e+""}function $o(t,e,n){ta(t,e),e.set(t,n)}function ta(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ea(t,e,n){return t.set(ra(t,e),n),n}function na(t,e){return t.get(ra(t,e))}function ra(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Vr=Oo,wo=Oo,Eo=null,(Do=po(Do="_l10nPromise"))in wo?Object.defineProperty(wo,Do,{value:Eo,enumerable:!0,configurable:!0,writable:!0}):wo[Do]=Eo;var ia=new WeakMap,oa=new WeakMap,aa=new WeakMap,ua=new WeakMap,sa=new WeakMap,la=new WeakMap,ca=new WeakMap,ha=new WeakMap,fa=new WeakMap,da=new WeakMap,pa=new WeakMap,va=new WeakMap,ya=new WeakMap,ga=new WeakMap,ma=new WeakMap,ba=new WeakMap,wa=new WeakMap,Da=new WeakMap,Ea=new WeakMap,Aa=new WeakMap,ka=new WeakMap,Sa=new WeakSet,Ca=function(){function t(e){Ko(this,t),function(t,e){ta(t,e),e.add(t)}(this,Sa),$o(this,ia,null),$o(this,oa,null),$o(this,aa,!1),$o(this,ua,!1),$o(this,sa,null),$o(this,la,null),$o(this,ca,this.focusin.bind(this)),$o(this,ha,this.focusout.bind(this)),$o(this,fa,null),$o(this,da,""),$o(this,pa,!1),$o(this,va,null),$o(this,ya,!1),$o(this,ga,!1),$o(this,ma,!1),$o(this,ba,null),$o(this,wa,0),$o(this,Da,0),$o(this,Ea,null),Zo(this,"_initialOptions",Object.create(null)),Zo(this,"_isVisible",!0),Zo(this,"_uiManager",null),Zo(this,"_focusEventsAllowed",!0),Zo(this,"_l10nPromise",null),$o(this,Aa,!1),$o(this,ka,t._zIndex++),this.constructor===t&&(0,Kt.HB)("Cannot initialize AnnotationEditor."),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;var n=this.parent.viewport,r=n.rotation,i=n.rawDims,o=i.pageWidth,a=i.pageHeight,u=i.pageX,s=i.pageY;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[o,a],this.pageTranslation=[u,s];var l=zo(this.parentDimensions,2),c=l[0],h=l[1];this.x=e.x/c,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}return qo(t,[{key:"editorType",get:function(){return Object.getPrototypeOf(this).constructor._type}},{key:"propertiesToUpdate",get:function(){return[]}},{key:"_isDraggable",get:function(){return na(Aa,this)},set:function(t){var e;ea(Aa,this,t),null===(e=this.div)||void 0===e||e.classList.toggle("draggable",t)}},{key:"isEnterHandled",get:function(){return!0}},{key:"center",value:function(){var t=zo(this.pageDimensions,2),e=t[0],n=t[1];switch(this.parentRotation){case 90:this.x-=this.height*n/(2*e),this.y+=this.width*e/(2*n);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(2*e),this.y-=this.width*e/(2*n);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}},{key:"addCommands",value:function(t){this._uiManager.addCommands(t)}},{key:"currentLayer",get:function(){return this._uiManager.currentLayer}},{key:"setInBackground",value:function(){this.div.style.zIndex=0}},{key:"setInForeground",value:function(){this.div.style.zIndex=na(ka,this)}},{key:"setParent",value:function(t){null!==t?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):ra(Sa,this,Wa).call(this),this.parent=t}},{key:"focusin",value:function(t){this._focusEventsAllowed&&(na(pa,this)?ea(pa,this,!1):this.parent.setSelected(this))}},{key:"focusout",value:function(t){var e;if(this._focusEventsAllowed&&this.isAttachedToDOM){var n=t.relatedTarget;null!=n&&n.closest("#".concat(this.id))||(t.preventDefault(),null!==(e=this.parent)&&void 0!==e&&e.isMultipleSelection||this.commitOrRemove())}}},{key:"commitOrRemove",value:function(){this.isEmpty()?this.remove():this.commit()}},{key:"commit",value:function(){this.addToAnnotationStorage()}},{key:"addToAnnotationStorage",value:function(){this._uiManager.addToAnnotationStorage(this)}},{key:"setAt",value:function(t,e,n,r){var i=zo(this.parentDimensions,2),o=i[0],a=i[1],u=zo(this.screenToPageTranslation(n,r),2);n=u[0],r=u[1],this.x=(t+n)/o,this.y=(e+r)/a,this.fixAndSetPosition()}},{key:"translate",value:function(t,e){ra(Sa,this,xa).call(this,this.parentDimensions,t,e)}},{key:"translateInPage",value:function(t,e){na(va,this)||ea(va,this,[this.x,this.y]),ra(Sa,this,xa).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}},{key:"drag",value:function(t,e){na(va,this)||ea(va,this,[this.x,this.y]);var n=zo(this.parentDimensions,2),r=n[0],i=n[1];if(this.x+=t/r,this.y+=e/i,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){var o=this.div.getBoundingClientRect(),a=o.x,u=o.y;this.parent.findNewParent(this,a,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}var s=this.x,l=this.y,c=zo(this.getBaseTranslation(),2);s+=c[0],l+=c[1],this.div.style.left="".concat((100*s).toFixed(2),"%"),this.div.style.top="".concat((100*l).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}},{key:"_hasBeenMoved",get:function(){return!!na(va,this)&&(na(va,this)[0]!==this.x||na(va,this)[1]!==this.y)}},{key:"getBaseTranslation",value:function(){var e=zo(this.parentDimensions,2),n=e[0],r=e[1],i=t._borderLineWidth,o=i/n,a=i/r;switch(this.rotation){case 90:return[-o,a];case 180:return[o,a];case 270:return[o,-a];default:return[-o,-a]}}},{key:"_mustFixPosition",get:function(){return!0}},{key:"fixAndSetPosition",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation,e=zo(this.pageDimensions,2),n=e[0],r=e[1],i=this.x,o=this.y,a=this.width,u=this.height;if(a*=n,u*=r,i*=n,o*=r,this._mustFixPosition)switch(t){case 0:i=Math.max(0,Math.min(n-a,i)),o=Math.max(0,Math.min(r-u,o));break;case 90:i=Math.max(0,Math.min(n-u,i)),o=Math.min(r,Math.max(a,o));break;case 180:i=Math.min(n,Math.max(a,i)),o=Math.min(r,Math.max(u,o));break;case 270:i=Math.min(n,Math.max(u,i)),o=Math.max(0,Math.min(r-a,o))}this.x=i/=n,this.y=o/=r;var s=zo(this.getBaseTranslation(),2);i+=s[0],o+=s[1];var l=this.div.style;l.left="".concat((100*i).toFixed(2),"%"),l.top="".concat((100*o).toFixed(2),"%"),this.moveInDOM()}},{key:"screenToPageTranslation",value:function(e,n){return _a.call(t,e,n,this.parentRotation)}},{key:"pageTranslationToScreen",value:function(e,n){return _a.call(t,e,n,360-this.parentRotation)}},{key:"parentScale",get:function(){return this._uiManager.viewParameters.realScale}},{key:"parentRotation",get:function(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}},{key:"parentDimensions",get:function(){var t=this.parentScale,e=zo(this.pageDimensions,2),n=e[0]*t,r=e[1]*t;return Kt.TV.isCSSRoundSupported?[Math.round(n),Math.round(r)]:[n,r]}},{key:"setDims",value:function(t,e){var n=zo(this.parentDimensions,2),r=n[0],i=n[1];this.div.style.width="".concat((100*t/r).toFixed(2),"%"),na(ua,this)||(this.div.style.height="".concat((100*e/i).toFixed(2),"%"))}},{key:"fixDims",value:function(){var t=this.div.style,e=t.height,n=t.width,r=n.endsWith("%"),i=!na(ua,this)&&e.endsWith("%");if(!r||!i){var o=zo(this.parentDimensions,2),a=o[0],u=o[1];r||(t.width="".concat((100*parseFloat(n)/a).toFixed(2),"%")),na(ua,this)||i||(t.height="".concat((100*parseFloat(e)/u).toFixed(2),"%"))}}},{key:"getInitialTranslation",value:function(){return[0,0]}},{key:"altTextFinish",value:function(){var t;null===(t=na(oa,this))||void 0===t||t.finish()}},{key:"addEditToolbar",value:(n=Uo(Ho().mark((function t(){return Ho().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!na(fa,this)&&!na(ga,this)){t.next=2;break}return t.abrupt("return",na(fa,this));case 2:if(ea(fa,this,new Hn(this)),this.div.append(na(fa,this).render()),!na(oa,this)){t.next=10;break}return t.t0=na(fa,this),t.next=8,na(oa,this).render();case 8:t.t1=t.sent,t.t0.addAltTextButton.call(t.t0,t.t1);case 10:return t.abrupt("return",na(fa,this));case 11:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"removeEditToolbar",value:function(){var t;na(fa,this)&&(na(fa,this).remove(),ea(fa,this,null),null===(t=na(oa,this))||void 0===t||t.destroy())}},{key:"getClientDimensions",value:function(){return this.div.getBoundingClientRect()}},{key:"addAltTextButton",value:(e=Uo(Ho().mark((function e(){return Ho().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!na(oa,this)){e.next=2;break}return e.abrupt("return");case 2:return Oo.initialize(t._l10nPromise),ea(oa,this,new Oo(this)),e.next=6,this.addEditToolbar();case 6:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"altTextData",get:function(){var t;return null===(t=na(oa,this))||void 0===t?void 0:t.data},set:function(t){na(oa,this)&&(na(oa,this).data=t)}},{key:"hasAltText",value:function(){var t;return!(null!==(t=na(oa,this))&&void 0!==t&&t.isEmpty())}},{key:"render",value:function(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=na(aa,this)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.div.addEventListener("focusin",na(ca,this)),this.div.addEventListener("focusout",na(ha,this));var t=zo(this.parentDimensions,2),e=t[0],n=t[1];this.parentRotation%180!=0&&(this.div.style.maxWidth="".concat((100*n/e).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*e/n).toFixed(2),"%"));var r=zo(this.getInitialTranslation(),2),i=r[0],o=r[1];return this.translate(i,o),kr(this,this.div,["pointerdown"]),this.div}},{key:"pointerdown",value:function(t){var e=Kt.TV.platform.isMac;0!==t.button||t.ctrlKey&&e?t.preventDefault():(ea(pa,this,!0),this._isDraggable?ra(Sa,this,Ma).call(this,t):ra(Sa,this,Ia).call(this,t))}},{key:"moveInDOM",value:function(){var t=this;na(ba,this)&&clearTimeout(na(ba,this)),ea(ba,this,setTimeout((function(){var e;ea(ba,t,null),null===(e=t.parent)||void 0===e||e.moveEditorInDOM(t)}),0))}},{key:"_setParentAndPosition",value:function(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}},{key:"getRect",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation,r=this.parentScale,i=zo(this.pageDimensions,2),o=i[0],a=i[1],u=zo(this.pageTranslation,2),s=u[0],l=u[1],c=t/r,h=e/r,f=this.x*o,d=this.y*a,p=this.width*o,v=this.height*a;switch(n){case 0:return[f+c+s,a-d-h-v+l,f+c+p+s,a-d-h+l];case 90:return[f+h+s,a-d+c+l,f+h+v+s,a-d+c+p+l];case 180:return[f-c-p+s,a-d+h+l,f-c+s,a-d+h+v+l];case 270:return[f-h-v+s,a-d-c-p+l,f-h+s,a-d-c+l];default:throw new Error("Invalid rotation")}}},{key:"getRectInCurrentCoords",value:function(t,e){var n=zo(t,4),r=n[0],i=n[1],o=n[2],a=n[3],u=o-r,s=a-i;switch(this.rotation){case 0:return[r,e-a,u,s];case 90:return[r,e-i,s,u];case 180:return[o,e-i,u,s];case 270:return[o,e-a,s,u];default:throw new Error("Invalid rotation")}}},{key:"onceAdded",value:function(){}},{key:"isEmpty",value:function(){return!1}},{key:"enableEditMode",value:function(){ea(ga,this,!0)}},{key:"disableEditMode",value:function(){ea(ga,this,!1)}},{key:"isInEditMode",value:function(){return na(ga,this)}},{key:"shouldGetKeyboardEvents",value:function(){return na(ma,this)}},{key:"needsToBeRebuilt",value:function(){return this.div&&!this.isAttachedToDOM}},{key:"rebuild",value:function(){var t,e;null===(t=this.div)||void 0===t||t.addEventListener("focusin",na(ca,this)),null===(e=this.div)||void 0===e||e.addEventListener("focusout",na(ha,this))}},{key:"rotate",value:function(t){}},{key:"serialize",value:function(){(0,Kt.HB)("An editor must be serializable")}},{key:"hasBeenModified",get:function(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}},{key:"remove",value:function(){if(this.div.removeEventListener("focusin",na(ca,this)),this.div.removeEventListener("focusout",na(ha,this)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),na(ba,this)&&(clearTimeout(na(ba,this)),ea(ba,this,null)),ra(Sa,this,Wa).call(this),this.removeEditToolbar(),na(Ea,this)){var t,e=Go(na(Ea,this).values());try{for(e.s();!(t=e.n()).done;){var n=t.value;clearTimeout(n)}}catch(t){e.e(t)}finally{e.f()}ea(Ea,this,null)}this.parent=null}},{key:"isResizable",get:function(){return!1}},{key:"makeResizable",value:function(){this.isResizable&&(ra(Sa,this,Pa).call(this),na(sa,this).classList.remove("hidden"),kr(this,this.div,["keydown"]))}},{key:"toolbarPosition",get:function(){return null}},{key:"keydown",value:function(e){var n=this;if(this.isResizable&&e.target===this.div&&"Enter"===e.key){this._uiManager.setSelected(this),ea(la,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});var r=na(sa,this).children;if(!na(ia,this)){ea(ia,this,Array.from(r));var i,o=ra(Sa,this,Ba).bind(this),a=ra(Sa,this,ja).bind(this),u=Go(na(ia,this));try{var s=function(){var e=i.value,r=e.getAttribute("data-resizer-name");e.setAttribute("role","spinbutton"),e.addEventListener("keydown",o),e.addEventListener("blur",a),e.addEventListener("focus",ra(Sa,n,Na).bind(n,r)),t._l10nPromise.get("pdfjs-editor-resizer-label-".concat(r)).then((function(t){return e.setAttribute("aria-label",t)}))};for(u.s();!(i=u.n()).done;)s()}catch(t){u.e(t)}finally{u.f()}}var l,c=na(ia,this)[0],h=0,f=Go(r);try{for(f.s();!(l=f.n()).done;){if(l.value===c)break;h++}}catch(t){f.e(t)}finally{f.f()}var d=(360-this.rotation+this.parentRotation)%360/90*(na(ia,this).length/4);if(d!==h){if(d<h)for(var p=0;p<h-d;p++)na(sa,this).append(na(sa,this).firstChild);else if(d>h)for(var v=0;v<d-h;v++)na(sa,this).firstChild.before(na(sa,this).lastChild);var y,g=0,m=Go(r);try{var b=function(){var e=y.value,r=na(ia,n)[g++].getAttribute("data-resizer-name");t._l10nPromise.get("pdfjs-editor-resizer-label-".concat(r)).then((function(t){return e.setAttribute("aria-label",t)}))};for(m.s();!(y=m.n()).done;)b()}catch(t){m.e(t)}finally{m.f()}}ra(Sa,this,Ra).call(this,0),ea(ma,this,!0),na(sa,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}}},{key:"_resizeWithKeyboard",value:function(t,e){na(ma,this)&&ra(Sa,this,Ta).call(this,na(da,this),{movementX:t,movementY:e})}},{key:"_stopResizingWithKeyboard",value:function(){ra(Sa,this,Wa).call(this),this.div.focus()}},{key:"select",value:function(){var t,e,n=this;this.makeResizable(),null===(t=this.div)||void 0===t||t.classList.add("selectedEditor"),na(fa,this)?null===(e=na(fa,this))||void 0===e||e.show():this.addEditToolbar().then((function(){var t,e;null!==(t=n.div)&&void 0!==t&&t.classList.contains("selectedEditor")&&(null===(e=na(fa,n))||void 0===e||e.show())}))}},{key:"unselect",value:function(){var t,e,n,r;null===(t=na(sa,this))||void 0===t||t.classList.add("hidden"),null===(e=this.div)||void 0===e||e.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(r=na(fa,this))||void 0===r||r.hide()}},{key:"updateParams",value:function(t,e){}},{key:"disableEditing",value:function(){}},{key:"enableEditing",value:function(){}},{key:"enterInEditMode",value:function(){}},{key:"getImageForAltText",value:function(){return null}},{key:"contentDiv",get:function(){return this.div}},{key:"isEditing",get:function(){return na(ya,this)},set:function(t){ea(ya,this,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}},{key:"setAspectRatio",value:function(t,e){ea(ua,this,!0);var n=t/e,r=this.div.style;r.aspectRatio=n,r.height="auto"}},{key:"telemetryInitialData",get:function(){return{action:"added"}}},{key:"telemetryFinalData",get:function(){return null}},{key:"_reportTelemetry",value:function(e){var n=this;if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){na(Ea,this)||ea(Ea,this,new Map);var r=e.action,i=na(Ea,this).get(r);return i&&clearTimeout(i),i=setTimeout((function(){n._reportTelemetry(e),na(Ea,n).delete(r),0===na(Ea,n).size&&ea(Ea,n,null)}),t._telemetryTimeout),void na(Ea,this).set(r,i)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!t),this._isVisible=t}},{key:"enable",value:function(){this.div&&(this.div.tabIndex=0),ea(aa,this,!1)}},{key:"disable",value:function(){this.div&&(this.div.tabIndex=-1),ea(aa,this,!0)}},{key:"renderAnnotationElement",value:function(t){var e=t.container.querySelector(".annotationContent");if(e){if("CANVAS"===e.nodeName){var n=e;(e=document.createElement("div")).classList.add("annotationContent",this.editorType),n.before(e)}}else(e=document.createElement("div")).classList.add("annotationContent",this.editorType),t.container.prepend(e);return e}},{key:"resetAnnotationElement",value:function(t){var e=t.container.firstChild;"DIV"===e.nodeName&&e.classList.contains("annotationContent")&&e.remove()}}],[{key:"_resizerKeyboardManager",get:function(){var e=t.prototype._resizeWithKeyboard,n=Ri.TRANSLATE_SMALL,r=Ri.TRANSLATE_BIG;return(0,Kt.r7)(this,"_resizerKeyboardManager",new Wr([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],t.prototype._stopResizingWithKeyboard]]))}},{key:"_defaultLineColor",get:function(){return(0,Kt.r7)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}},{key:"deleteAnnotationElement",value:function(t){var e=new Ga({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}},{key:"initialize",value:function(e,n,r){if(t._l10nPromise||(t._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map((function(t){return[t,e.get(t.replaceAll(/([A-Z])/g,(function(t){return"-".concat(t.toLowerCase())})))]})))),null!=r&&r.strings){var i,o=Go(r.strings);try{for(o.s();!(i=o.n()).done;){var a=i.value;t._l10nPromise.set(a,e.get(a))}}catch(t){o.e(t)}finally{o.f()}}if(-1===t._borderLineWidth){var u=getComputedStyle(document.documentElement);t._borderLineWidth=parseFloat(u.getPropertyValue("--outline-width"))||0}}},{key:"updateDefaultParams",value:function(t,e){}},{key:"defaultPropertiesToUpdate",get:function(){return[]}},{key:"isHandlingMimeForPasting",value:function(t){return!1}},{key:"paste",value:function(t,e){(0,Kt.HB)("Not implemented")}},{key:"deserialize",value:function(t,e,n){var r=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});r.rotation=t.rotation;var i=zo(r.pageDimensions,2),o=i[0],a=i[1],u=zo(r.getRectInCurrentCoords(t.rect,a),4),s=u[0],l=u[1],c=u[2],h=u[3];return r.x=s/o,r.y=l/a,r.width=c/o,r.height=h/a,r}},{key:"MIN_SIZE",get:function(){return 16}},{key:"canCreateNewEmptyEditor",value:function(){return!0}}]);var e,n}();function xa(t,e,n){var r=zo(t,2),i=r[0],o=r[1],a=zo(this.screenToPageTranslation(e,n),2);e=a[0],n=a[1],this.x+=e/i,this.y+=n/o,this.fixAndSetPosition()}function _a(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}}function Fa(t){switch(t){case 90:var e=zo(this.pageDimensions,2),n=e[0],r=e[1];return[0,-n/r,r/n,0];case 180:return[-1,0,0,-1];case 270:var i=zo(this.pageDimensions,2),o=i[0],a=i[1];return[0,o/a,-a/o,0];default:return[1,0,0,1]}}function Pa(){if(!na(sa,this)){ea(sa,this,document.createElement("div")),na(sa,this).classList.add("resizers");for(var t=0,e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];t<e.length;t++){var n=e[t],r=document.createElement("div");na(sa,this).append(r),r.classList.add("resizer",n),r.setAttribute("data-resizer-name",n),r.addEventListener("pointerdown",ra(Sa,this,La).bind(this,n)),r.addEventListener("contextmenu",vn),r.tabIndex=-1}this.div.prepend(na(sa,this))}}function La(t,e){var n,r=this;e.preventDefault();var i=Kt.TV.platform.isMac;if(!(0!==e.button||e.ctrlKey&&i)){null===(n=na(oa,this))||void 0===n||n.toggle(!1);var o=ra(Sa,this,Ta).bind(this,t),a=this._isDraggable;this._isDraggable=!1;var u={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",o,u),window.addEventListener("contextmenu",vn);var s=this.x,l=this.y,c=this.width,h=this.height,f=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;var p=function t(){var e;r.parent.togglePointerEvents(!0),null===(e=na(oa,r))||void 0===e||e.toggle(!0),r._isDraggable=a,window.removeEventListener("pointerup",t),window.removeEventListener("blur",t),window.removeEventListener("pointermove",o,u),window.removeEventListener("contextmenu",vn),r.parent.div.style.cursor=f,r.div.style.cursor=d,ra(Sa,r,Oa).call(r,s,l,c,h)};window.addEventListener("pointerup",p),window.addEventListener("blur",p)}}function Oa(t,e,n,r){var i=this,o=this.x,a=this.y,u=this.width,s=this.height;o===t&&a===e&&u===n&&s===r||this.addCommands({cmd:function(){i.width=u,i.height=s,i.x=o,i.y=a;var t=zo(i.parentDimensions,2),e=t[0],n=t[1];i.setDims(e*u,n*s),i.fixAndSetPosition()},undo:function(){i.width=n,i.height=r,i.x=t,i.y=e;var o=zo(i.parentDimensions,2),a=o[0],u=o[1];i.setDims(a*n,u*r),i.fixAndSetPosition()},mustExec:!0})}function Ta(t,e){var n,r,i=zo(this.parentDimensions,2),o=i[0],a=i[1],u=this.x,s=this.y,l=this.width,c=this.height,h=Ao.MIN_SIZE/o,f=Ao.MIN_SIZE/a,d=function(t){return Math.round(1e4*t)/1e4},p=ra(Sa,this,Fa).call(this,this.rotation),v=function(t,e){return[p[0]*t+p[2]*e,p[1]*t+p[3]*e]},y=ra(Sa,this,Fa).call(this,360-this.rotation),g=!1,m=!1;switch(t){case"topLeft":g=!0,n=function(t,e){return[0,0]},r=function(t,e){return[t,e]};break;case"topMiddle":n=function(t,e){return[t/2,0]},r=function(t,e){return[t/2,e]};break;case"topRight":g=!0,n=function(t,e){return[t,0]},r=function(t,e){return[0,e]};break;case"middleRight":m=!0,n=function(t,e){return[t,e/2]},r=function(t,e){return[0,e/2]};break;case"bottomRight":g=!0,n=function(t,e){return[t,e]},r=function(t,e){return[0,0]};break;case"bottomMiddle":n=function(t,e){return[t/2,e]},r=function(t,e){return[t/2,0]};break;case"bottomLeft":g=!0,n=function(t,e){return[0,e]},r=function(t,e){return[t,0]};break;case"middleLeft":m=!0,n=function(t,e){return[0,e/2]},r=function(t,e){return[t,e/2]}}var b,w,D=n(l,c),E=r(l,c),A=v.apply(void 0,Bo(E)),k=d(u+A[0]),S=d(s+A[1]),C=1,x=1,_=zo(this.screenToPageTranslation(e.movementX,e.movementY),2),F=_[0],P=_[1],L=zo((b=F/o,w=P/a,[y[0]*b+y[2]*w,y[1]*b+y[3]*w]),2);if(F=L[0],P=L[1],g){var O=Math.hypot(l,c);C=x=Math.max(Math.min(Math.hypot(E[0]-D[0]-F,E[1]-D[1]-P)/O,1/l,1/c),h/l,f/c)}else m?C=Math.max(h,Math.min(1,Math.abs(E[0]-D[0]-F)))/l:x=Math.max(f,Math.min(1,Math.abs(E[1]-D[1]-P)))/c;var T=d(l*C),I=d(c*x),M=k-(A=v.apply(void 0,Bo(r(T,I))))[0],B=S-A[1];this.width=T,this.height=I,this.x=M,this.y=B,this.setDims(o*T,a*I),this.fixAndSetPosition()}function Ia(t){var e=Kt.TV.platform.isMac;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)}function Ma(t){var e,n,r=this,i=this._uiManager.isSelected(this);this._uiManager.setUpDragSession(),i&&(this.div.classList.add("moving"),e={passive:!0,capture:!0},ea(wa,this,t.clientX),ea(Da,this,t.clientY),n=function(t){var e=t.clientX,n=t.clientY,i=zo(r.screenToPageTranslation(e-na(wa,r),n-na(Da,r)),2),o=i[0],a=i[1];ea(wa,r,e),ea(Da,r,n),r._uiManager.dragSelectedEditors(o,a)},window.addEventListener("pointermove",n,e));var o=function o(){window.removeEventListener("pointerup",o),window.removeEventListener("blur",o),i&&(r.div.classList.remove("moving"),window.removeEventListener("pointermove",n,e)),ea(pa,r,!1),r._uiManager.endDragSession()||ra(Sa,r,Ia).call(r,t)};window.addEventListener("pointerup",o),window.addEventListener("blur",o)}function Ba(t){Ao._resizerKeyboardManager.exec(this,t)}function ja(t){var e;na(ma,this)&&(null===(e=t.relatedTarget)||void 0===e?void 0:e.parentNode)!==na(sa,this)&&ra(Sa,this,Wa).call(this)}function Na(t){ea(da,this,na(ma,this)?t:"")}function Ra(t){if(na(ia,this)){var e,n=Go(na(ia,this));try{for(n.s();!(e=n.n()).done;){e.value.tabIndex=t}}catch(t){n.e(t)}finally{n.f()}}}function Wa(){if(ea(ma,this,!1),ra(Sa,this,Ra).call(this,-1),na(la,this)){var t=na(la,this),e=t.savedX,n=t.savedY,r=t.savedWidth,i=t.savedHeight;ra(Sa,this,Oa).call(this,e,n,r,i),ea(la,this,null)}}Ao=Ca,Zo(Ca,"_borderLineWidth",-1),Zo(Ca,"_colorManager",new Hr),Zo(Ca,"_zIndex",1),Zo(Ca,"_telemetryTimeout",1e3);var Ga=function(t){function e(t){var n;return Ko(this,e),(n=jo(this,e,[t])).annotationElementId=t.annotationElementId,n.deleted=!0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wo(t,e)}(e,t),qo(e,[{key:"serialize",value:function(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}])}(Ca),Ha=i(460);function Va(t){return Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Va(t)}function Ua(t,e,n){return e=Ja(e),function(t,e){if(e&&("object"==Va(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,za()?Reflect.construct(e,n||[],Ja(t).constructor):e.apply(t,n))}function za(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(za=function(){return!!t})()}function Ja(t){return Ja=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ja(t)}function Ya(t,e){return Ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ya(t,e)}function Ka(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||qa(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xa(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=qa(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function qa(t,e){if(t){if("string"==typeof t)return Za(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Za(t,e):void 0}}function Za(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Qa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eu(r.key),r)}}function tu(t,e,n){return e&&$a(t.prototype,e),n&&$a(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eu(t){var e=function(t,e){if("object"!=Va(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Va(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Va(e)?e:e+""}function nu(t,e,n){ru(t,e),e.set(t,n)}function ru(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function iu(t,e,n){return t.set(au(t,e),n),n}function ou(t,e){return t.get(au(t,e))}function au(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var uu=Object.freeze({map:null,hash:"",transfer:void 0}),su=new WeakMap,lu=new WeakMap,cu=new WeakSet,hu=function(){return tu((function t(){Qa(this,t),function(t,e){ru(t,e),e.add(t)}(this,cu),nu(this,su,!1),nu(this,lu,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}),[{key:"getValue",value:function(t,e){var n=ou(lu,this).get(t);return void 0===n?e:Object.assign(e,n)}},{key:"getRawValue",value:function(t){return ou(lu,this).get(t)}},{key:"remove",value:function(t){if(ou(lu,this).delete(t),0===ou(lu,this).size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){var e,n=Xa(ou(lu,this).values());try{for(n.s();!(e=n.n()).done;){if(e.value instanceof Ca)return}}catch(t){n.e(t)}finally{n.f()}this.onAnnotationEditor(null)}}},{key:"setValue",value:function(t,e){var n=ou(lu,this).get(t),r=!1;if(void 0!==n)for(var i=0,o=Object.entries(e);i<o.length;i++){var a=Ka(o[i],2),u=a[0],s=a[1];n[u]!==s&&(r=!0,n[u]=s)}else r=!0,ou(lu,this).set(t,e);r&&au(cu,this,fu).call(this),e instanceof Ca&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(e.constructor._type)}},{key:"has",value:function(t){return ou(lu,this).has(t)}},{key:"getAll",value:function(){return ou(lu,this).size>0?(0,Kt.UF)(ou(lu,this)):null}},{key:"setAll",value:function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var r=Ka(n[e],2),i=r[0],o=r[1];this.setValue(i,o)}}},{key:"size",get:function(){return ou(lu,this).size}},{key:"resetModified",value:function(){ou(su,this)&&(iu(su,this,!1),"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"print",get:function(){return new pu(this)}},{key:"serializable",get:function(){if(0===ou(lu,this).size)return uu;var t,e=new Map,n=new Ha.F,r=[],i=Object.create(null),o=!1,a=Xa(ou(lu,this));try{for(a.s();!(t=a.n()).done;){var u=Ka(t.value,2),s=u[0],l=u[1],c=l instanceof Ca?l.serialize(!1,i):l;c&&(e.set(s,c),n.update("".concat(s,":").concat(JSON.stringify(c))),o||(o=!!c.bitmap))}}catch(t){a.e(t)}finally{a.f()}if(o){var h,f=Xa(e.values());try{for(f.s();!(h=f.n()).done;){var d=h.value;d.bitmap&&r.push(d.bitmap)}}catch(t){f.e(t)}finally{f.f()}}return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:uu}},{key:"editorStats",get:function(){var t,e=null,n=new Map,r=Xa(ou(lu,this).values());try{for(r.s();!(t=r.n()).done;){var i,o=t.value;if(o instanceof Ca){var a=o.telemetryFinalData;if(a){var u=a.type;n.has(u)||n.set(u,Object.getPrototypeOf(o).constructor),e||(e=Object.create(null));for(var s=(i=e)[u]||(i[u]=new Map),l=0,c=Object.entries(a);l<c.length;l++){var h,f=Ka(c[l],2),d=f[0],p=f[1];if("type"!==d){var v=s.get(d);v||(v=new Map,s.set(d,v));var y=null!==(h=v.get(p))&&void 0!==h?h:0;v.set(p,y+1)}}}}}}catch(t){r.e(t)}finally{r.f()}var g,m=Xa(n);try{for(m.s();!(g=m.n()).done;){var b=Ka(g.value,2),w=b[0],D=b[1];e[w]=D.computeTelemetryFinalData(e[w])}}catch(t){m.e(t)}finally{m.f()}return e}}])}();function fu(){ou(su,this)||(iu(su,this,!0),"function"==typeof this.onSetModified&&this.onSetModified())}var du=new WeakMap,pu=function(t){function e(t){var n;Qa(this,e),nu(n=Ua(this,e),du,void 0);var r=t.serializable,i=r.map,o=r.hash,a=r.transfer,u=structuredClone(i,a?{transfer:a}:null);return iu(du,n,{map:u,hash:o,transfer:a}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ya(t,e)}(e,t),tu(e,[{key:"print",get:function(){(0,Kt.HB)("Should not call PrintAnnotationStorage.print")}},{key:"serializable",get:function(){return ou(du,this)}}])}(hu);function vu(t){return vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(t)}function yu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||wu(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gu(){gu=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==vu(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(vu(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function mu(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function bu(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){mu(o,r,i,a,u,"next",t)}function u(t){mu(o,r,i,a,u,"throw",t)}a(void 0)}))}}function wu(t,e){if(t){if("string"==typeof t)return Du(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Du(t,e):void 0}}function Du(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Eu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Au(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Su(r.key),r)}}function ku(t,e,n){return e&&Au(t.prototype,e),n&&Au(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Su(t){var e=function(t,e){if("object"!=vu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vu(e)?e:e+""}function Cu(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function xu(t,e){return t.get(function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}(t,e))}var _u=new WeakMap,Fu=function(){return ku((function t(e){var n=e.ownerDocument,r=void 0===n?globalThis.document:n,i=e.styleElement,o=void 0===i?null:i;Eu(this,t),Cu(this,_u,new Set),this._document=r,this.nativeFontFaces=new Set,this.styleElement="undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING")?o:null,"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||(this.loadingRequests=[],this.loadTestFontId=0)}),[{key:"addNativeFontFace",value:function(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}},{key:"removeNativeFontFace",value:function(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}},{key:"insertRule",value:function(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));var e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}},{key:"clear",value:function(){var t,e=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=wu(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(this.nativeFontFaces);try{for(e.s();!(t=e.n()).done;){var n=t.value;this._document.fonts.delete(n)}}catch(t){e.e(t)}finally{e.f()}this.nativeFontFaces.clear(),xu(_u,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"loadSystemFont",value:(e=bu(gu().mark((function t(e){var n,r,i,o,a,u;return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.systemFontInfo,r=e._inspectFont,n&&!xu(_u,this).has(n.loadedName)){t.next=3;break}return t.abrupt("return");case 3:if((0,Kt.vA)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),!this.isFontLoadingAPISupported){t.next=20;break}return i=n.loadedName,o=n.src,a=n.style,u=new FontFace(i,o,a),this.addNativeFontFace(u),t.prev=8,t.next=11,u.load();case 11:xu(_u,this).add(i),null==r||r(n),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(8),(0,Kt.R8)("Cannot load system font: ".concat(n.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(u);case 19:return t.abrupt("return");case 20:(0,Kt.HB)("Not implemented: loadSystemFont without the Font Loading API.");case 21:case"end":return t.stop()}}),t,this,[[8,15]])}))),function(t){return e.apply(this,arguments)})},{key:"bind",value:(t=bu(gu().mark((function t(e){var n,r,i=this;return gu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.attached||e.missingFile&&!e.systemFontInfo)){t.next=2;break}return t.abrupt("return");case 2:if(e.attached=!0,!e.systemFontInfo){t.next=7;break}return t.next=6,this.loadSystemFont(e);case 6:case 21:return t.abrupt("return");case 7:if(!this.isFontLoadingAPISupported){t.next=22;break}if(!(n=e.createNativeFontFace())){t.next=21;break}return this.addNativeFontFace(n),t.prev=11,t.next=14,n.loaded;case 14:t.next=21;break;case 16:throw t.prev=16,t.t0=t.catch(11),(0,Kt.R8)("Failed to load font '".concat(n.family,"': '").concat(t.t0,"'.")),e.disableFontFace=!0,t.t0;case 22:if(!(r=e.createFontFaceRule())){t.next=31;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){t.next=27;break}return t.abrupt("return");case 27:if("undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL")){t.next=29;break}throw new Error("Not implemented: async font loading");case 29:return t.next=31,new Promise((function(t){var n=i._queueLoadingCallback(t);i._prepareFontLoadEvent(e,n)}));case 31:case"end":return t.stop()}}),t,this,[[11,16]])}))),function(e){return t.apply(this,arguments)})},{key:"isFontLoadingAPISupported",get:function(){var t,e=!(null===(t=this._document)||void 0===t||!t.fonts);return"undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING")?(0,Kt.r7)(this,"isFontLoadingAPISupported",e&&!this.styleElement):(0,Kt.r7)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL"))return(0,Kt.r7)(this,"isSyncFontLoadingSupported",!0);var t,e=!1;"undefined"!=typeof PDFJSDev&&PDFJSDev.test("CHROME")||(Kt.Gz||"undefined"!=typeof navigator&&"string"==typeof(null===(t=navigator)||void 0===t?void 0:t.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0);return(0,Kt.r7)(this,"isSyncFontLoadingSupported",e)}},{key:"_queueLoadingCallback",value:function(t){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL"))throw new Error("Not implemented: _queueLoadingCallback");var e=this.loadingRequests,n={done:!1,complete:function(){for((0,Kt.vA)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;e.length>0&&e[0].done;){var t=e.shift();setTimeout(t.callback,0)}},callback:t};return e.push(n),n}},{key:"_loadTestFont",get:function(){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL"))throw new Error("Not implemented: _loadTestFont");var t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,Kt.r7)(this,"_loadTestFont",t)}},{key:"_prepareFontLoadEvent",value:function(t,e){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL"))throw new Error("Not implemented: _prepareFontLoadEvent");function n(t,e){return t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|255&t.charCodeAt(e+3)}function r(t,e,n,r){return t.substring(0,e)+r+t.substring(e+n)}var i,o,a=this._document.createElement("canvas");a.width=1,a.height=1;var u=a.getContext("2d"),s=0;var l="lt".concat(Date.now()).concat(this.loadTestFontId++),c=this._loadTestFont,h=1482184792,f=n(c=r(c,976,l.length,l),16);for(i=0,o=l.length-3;i<o;i+=4)f=f-h+n(l,i)|0;i<l.length&&(f=f-h+n(l+"XXX",i)|0),c=r(c,16,4,(0,Kt.xU)(f));var d="url(data:font/opentype;base64,".concat(btoa(c),");"),p='@font-face {font-family:"'.concat(l,'";src:').concat(d,"}");this.insertRule(p);var v=this._document.createElement("div");v.style.visibility="hidden",v.style.width=v.style.height="10px",v.style.position="absolute",v.style.top=v.style.left="0px";for(var y=0,g=[t.loadedName,l];y<g.length;y++){var m=g[y],b=this._document.createElement("span");b.textContent="Hi",b.style.fontFamily=m,v.append(b)}this._document.body.append(v),function t(e,n){if(++s>30)return(0,Kt.R8)("Load test font never loaded."),void n();u.font="30px "+e,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0?n():setTimeout(t.bind(null,e,n))}(l,(function(){v.remove(),e.complete()}))}}]);var t,e}(),Pu=function(){return ku((function t(e,n){var r=n.disableFontFace,i=void 0!==r&&r,o=n.inspectFont,a=void 0===o?null:o;for(var u in Eu(this,t),this.compiledGlyphs=Object.create(null),e)this[u]=e[u];this.disableFontFace=!0===i,this._inspectFont=a}),[{key:"createNativeFontFace",value:function(){var t,e;if(!this.data||this.disableFontFace)return null;if(this.cssFontInfo){var n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}else e=new FontFace(this.loadedName,this.data,{});return null===(t=this._inspectFont)||void 0===t||t.call(this,this),e}},{key:"createFontFaceRule",value:function(){var t;if(!this.data||this.disableFontFace)return null;var e,n=(0,Kt.Ar)(this.data),r="url(data:".concat(this.mimetype,";base64,").concat(btoa(n),");");if(this.cssFontInfo){var i="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(i+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),e='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(i,"src:").concat(r,"}")}else e='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(r,"}");return null===(t=this._inspectFont)||void 0===t||t.call(this,this,r),e}},{key:"getPathGenerator",value:function(t,e){if(void 0!==this.compiledGlyphs[e])return this.compiledGlyphs[e];var n;try{n=t.get(this.loadedName+"_path_"+e)}catch(t){(0,Kt.R8)('getPathGenerator - ignoring character: "'.concat(t,'".'))}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[e]=function(t,e){};for(var r=[],i=function(t){switch(n[t++]){case Kt.Qp.BEZIER_CURVE_TO:var e=yu(n.slice(t,t+6),6),i=e[0],a=e[1],u=e[2],s=e[3],l=e[4],c=e[5];r.push((function(t){return t.bezierCurveTo(i,a,u,s,l,c)})),t+=6;break;case Kt.Qp.MOVE_TO:var h=yu(n.slice(t,t+2),2),f=h[0],d=h[1];r.push((function(t){return t.moveTo(f,d)})),t+=2;break;case Kt.Qp.LINE_TO:var p=yu(n.slice(t,t+2),2),v=p[0],y=p[1];r.push((function(t){return t.lineTo(v,y)})),t+=2;break;case Kt.Qp.QUADRATIC_CURVE_TO:var g=yu(n.slice(t,t+4),4),m=g[0],b=g[1],w=g[2],D=g[3];r.push((function(t){return t.quadraticCurveTo(m,b,w,D)})),t+=4;break;case Kt.Qp.RESTORE:r.push((function(t){return t.restore()}));break;case Kt.Qp.SAVE:r.push((function(t){return t.save()}));break;case Kt.Qp.SCALE:(0,Kt.vA)(2===r.length,"Scale command is only valid at the third position.");break;case Kt.Qp.TRANSFORM:var E=yu(n.slice(t,t+6),6),A=E[0],k=E[1],S=E[2],C=E[3],x=E[4],_=E[5];r.push((function(t){return t.transform(A,k,S,C,x,_)})),t+=6;break;case Kt.Qp.TRANSLATE:var F=yu(n.slice(t,t+2),2),P=F[0],L=F[1];r.push((function(t){return t.translate(P,L)})),t+=2}o=t},o=0,a=n.length;o<a;)i(o);return this.compiledGlyphs[e]=function(t,e){r[0](t),r[1](t),t.scale(e,-e);for(var n=2,i=r.length;n<i;n++)r[n](t)}}}])}();function Lu(t){return function(t){if(Array.isArray(t))return Iu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Tu(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ou(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Tu(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Tu(t,e){if(t){if("string"==typeof t)return Iu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iu(t,e):void 0}}function Iu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Mu(t,e,n){return e=ju(e),function(t,e){if(e&&("object"==Wu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Bu()?Reflect.construct(e,n||[],ju(t).constructor):e.apply(t,n))}function Bu(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Bu=function(){return!!t})()}function ju(t){return ju=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ju(t)}function Nu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ru(t,e)}function Ru(t,e){return Ru=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ru(t,e)}function Wu(t){return Wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(t)}function Gu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uu(r.key),r)}}function Vu(t,e,n){return e&&Hu(t.prototype,e),n&&Hu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uu(t){var e=function(t,e){if("object"!=Wu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Wu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wu(e)?e:e+""}var zu="Fill",Ju="Stroke",Yu="Shading";function Ku(t,e){if(e){var n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}}var Xu=function(){return Vu((function t(){Gu(this,t),this.constructor===t&&(0,Kt.HB)("Cannot initialize BaseShadingPattern.")}),[{key:"getPattern",value:function(){(0,Kt.HB)("Abstract method `getPattern` called.")}}])}(),qu=function(t){function e(t){var n;return Gu(this,e),(n=Mu(this,e))._type=t[1],n._bbox=t[2],n._colorStops=t[3],n._p0=t[4],n._p1=t[5],n._r0=t[6],n._r1=t[7],n.matrix=null,n}return Nu(e,t),Vu(e,[{key:"_createGradient",value:function(t){var e;"axial"===this._type?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));var n,r=Ou(this._colorStops);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.addColorStop(i[0],i[1])}}catch(t){r.e(t)}finally{r.f()}return e}},{key:"getPattern",value:function(t,e,n,r){var i;if(r===Ju||r===zu){var o=e.current.getClippedPathBoundingBox(r,bn(t))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,s=e.cachedCanvases.getCanvas("pattern",a,u,!0),l=s.context;l.clearRect(0,0,l.canvas.width,l.canvas.height),l.beginPath(),l.rect(0,0,l.canvas.width,l.canvas.height),l.translate(-o[0],-o[1]),n=Kt.J0.transform(n,[1,0,0,1,o[0],o[1]]),l.transform.apply(l,Lu(e.baseTransform)),this.matrix&&l.transform.apply(l,Lu(this.matrix)),Ku(l,this._bbox),l.fillStyle=this._createGradient(l),l.fill(),i=t.createPattern(s.canvas,"no-repeat");var c=new DOMMatrix(n);i.setTransform(c)}else Ku(t,this._bbox),i=this._createGradient(t);return i}}])}(Xu);function Zu(t,e,n,r,i,o,a,u){var s,l=e.coords,c=e.colors,h=t.data,f=4*t.width;l[n+1]>l[r+1]&&(s=n,n=r,r=s,s=o,o=a,a=s),l[r+1]>l[i+1]&&(s=r,r=i,i=s,s=a,a=u,u=s),l[n+1]>l[r+1]&&(s=n,n=r,r=s,s=o,o=a,a=s);var d=(l[n]+e.offsetX)*e.scaleX,p=(l[n+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,y=(l[r+1]+e.offsetY)*e.scaleY,g=(l[i]+e.offsetX)*e.scaleX,m=(l[i+1]+e.offsetY)*e.scaleY;if(!(p>=m))for(var b,w,D,E,A,k,S,C,x=c[o],_=c[o+1],F=c[o+2],P=c[a],L=c[a+1],O=c[a+2],T=c[u],I=c[u+1],M=c[u+2],B=Math.round(p),j=Math.round(m),N=B;N<=j;N++){if(N<y){var R=N<p?0:(p-N)/(p-y);b=d-(d-v)*R,w=x-(x-P)*R,D=_-(_-L)*R,E=F-(F-O)*R}else{var W=void 0;b=v-(v-g)*(W=N>m?1:y===m?0:(y-N)/(y-m)),w=P-(P-T)*W,D=L-(L-I)*W,E=O-(O-M)*W}var G=void 0;A=d-(d-g)*(G=N<p?0:N>m?1:(p-N)/(p-m)),k=x-(x-T)*G,S=_-(_-I)*G,C=F-(F-M)*G;for(var H=Math.round(Math.min(b,A)),V=Math.round(Math.max(b,A)),U=f*N+4*H,z=H;z<=V;z++)(G=(b-z)/(b-A))<0?G=0:G>1&&(G=1),h[U++]=w-(w-k)*G|0,h[U++]=D-(D-S)*G|0,h[U++]=E-(E-C)*G|0,h[U++]=255}}function Qu(t,e,n){var r,i,o=e.coords,a=e.colors;switch(e.type){case"lattice":var u=e.verticesPerRow,s=Math.floor(o.length/u)-1,l=u-1;for(r=0;r<s;r++)for(var c=r*u,h=0;h<l;h++,c++)Zu(t,n,o[c],o[c+1],o[c+u],a[c],a[c+1],a[c+u]),Zu(t,n,o[c+u+1],o[c+1],o[c+u],a[c+u+1],a[c+1],a[c+u]);break;case"triangles":for(r=0,i=o.length;r<i;r+=3)Zu(t,n,o[r],o[r+1],o[r+2],a[r],a[r+1],a[r+2]);break;default:throw new Error("illegal figure")}}var $u=function(t){function e(t){var n;return Gu(this,e),(n=Mu(this,e))._coords=t[2],n._colors=t[3],n._figures=t[4],n._bounds=t[5],n._bbox=t[7],n._background=t[8],n.matrix=null,n}return Nu(e,t),Vu(e,[{key:"_createMeshCanvas",value:function(t,e,n){var r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),o=Math.ceil(this._bounds[2])-r,a=Math.ceil(this._bounds[3])-i,u=Math.min(Math.ceil(Math.abs(o*t[0]*1.1)),3e3),s=Math.min(Math.ceil(Math.abs(a*t[1]*1.1)),3e3),l=o/u,c=a/s,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/l,scaleY:1/c},f=u+4,d=s+4,p=n.getCanvas("mesh",f,d,!1),v=p.context,y=v.createImageData(u,s);if(e)for(var g=y.data,m=0,b=g.length;m<b;m+=4)g[m]=e[0],g[m+1]=e[1],g[m+2]=e[2],g[m+3]=255;var w,D=Ou(this._figures);try{for(D.s();!(w=D.n()).done;){Qu(y,w.value,h)}}catch(t){D.e(t)}finally{D.f()}return v.putImageData(y,2,2),{canvas:p.canvas,offsetX:r-2*l,offsetY:i-2*c,scaleX:l,scaleY:c}}},{key:"getPattern",value:function(t,e,n,r){var i;if(Ku(t,this._bbox),r===Yu)i=Kt.J0.singularValueDecompose2dScale(bn(t));else if(i=Kt.J0.singularValueDecompose2dScale(e.baseTransform),this.matrix){var o=Kt.J0.singularValueDecompose2dScale(this.matrix);i=[i[0]*o[0],i[1]*o[1]]}var a=this._createMeshCanvas(i,r===Yu?null:this._background,e.cachedCanvases);return r!==Yu&&(t.setTransform.apply(t,Lu(e.baseTransform)),this.matrix&&t.transform.apply(t,Lu(this.matrix))),t.translate(a.offsetX,a.offsetY),t.scale(a.scaleX,a.scaleY),t.createPattern(a.canvas,"no-repeat")}}])}(Xu),ts=function(t){function e(){return Gu(this,e),Mu(this,e,arguments)}return Nu(e,t),Vu(e,[{key:"getPattern",value:function(){return"hotpink"}}])}(Xu);var es=1,ns=2,rs=function(){function t(e,n,r,i,o){Gu(this,t),this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=n,this.ctx=r,this.canvasGraphicsFactory=i,this.baseTransform=o}return Vu(t,[{key:"createPatternCanvas",value:function(t){var e=this.operatorList,n=this.bbox,r=this.xstep,i=this.ystep,o=this.paintType,a=this.tilingType,u=this.color,s=this.canvasGraphicsFactory;(0,Kt.pq)("TilingType: "+a);var l=n[0],c=n[1],h=n[2],f=n[3],d=Kt.J0.singularValueDecompose2dScale(this.matrix),p=Kt.J0.singularValueDecompose2dScale(this.baseTransform),v=[d[0]*p[0],d[1]*p[1]],y=this.getSizeAndScale(r,this.ctx.canvas.width,v[0]),g=this.getSizeAndScale(i,this.ctx.canvas.height,v[1]),m=t.cachedCanvases.getCanvas("pattern",y.size,g.size,!0),b=m.context,w=s.createCanvasGraphics(b);w.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(w,o,u);var D=l,E=c,A=h,k=f;return l<0&&(D=0,A+=Math.abs(l)),c<0&&(E=0,k+=Math.abs(c)),b.translate(-y.scale*D,-g.scale*E),w.transform(y.scale,0,0,g.scale,0,0),b.save(),this.clipBbox(w,D,E,A,k),w.baseTransform=bn(w.ctx),w.executeOperatorList(e),w.endDrawing(),{canvas:m.canvas,scaleX:y.scale,scaleY:g.scale,offsetX:D,offsetY:E}}},{key:"getSizeAndScale",value:function(e,n,r){e=Math.abs(e);var i=Math.max(t.MAX_PATTERN_SIZE,n),o=Math.ceil(e*r);return o>=i?o=i:r=o/e,{scale:r,size:o}}},{key:"clipBbox",value:function(t,e,n,r,i){var o=r-e,a=i-n;t.ctx.rect(e,n,o,a),t.current.updateRectMinMax(bn(t.ctx),[e,n,r,i]),t.clip(),t.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function(t,e,n){var r=t.ctx,i=t.current;switch(e){case es:var o=this.ctx;r.fillStyle=o.fillStyle,r.strokeStyle=o.strokeStyle,i.fillColor=o.fillStyle,i.strokeColor=o.strokeStyle;break;case ns:var a=Kt.J0.makeHexColor(n[0],n[1],n[2]);r.fillStyle=a,r.strokeStyle=a,i.fillColor=a,i.strokeColor=a;break;default:throw new Kt.IF("Unsupported paint type: ".concat(e))}}},{key:"getPattern",value:function(t,e,n,r){var i=n;r!==Yu&&(i=Kt.J0.transform(i,e.baseTransform),this.matrix&&(i=Kt.J0.transform(i,this.matrix)));var o=this.createPatternCanvas(e),a=new DOMMatrix(i);a=(a=a.translate(o.offsetX,o.offsetY)).scale(1/o.scaleX,1/o.scaleY);var u=t.createPattern(o.canvas,"repeat");return u.setTransform(a),u}}])}();!function(t,e,n){(e=Uu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(rs,"MAX_PATTERN_SIZE",3e3);var is=i(766);function os(t){return function(t){if(Array.isArray(t))return hs(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||cs(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function as(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function us(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function ss(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=cs(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function ls(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||cs(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cs(t,e){if(t){if("string"==typeof t)return hs(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hs(t,e):void 0}}function hs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function fs(t){return fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(t)}function ds(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ps(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ys(r.key),r)}}function vs(t,e,n){return e&&ps(t.prototype,e),n&&ps(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ys(t){var e=function(t,e){if("object"!=fs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fs(e)?e:e+""}var gs=16;var ms=function(){return vs((function t(e){ds(this,t),this.canvasFactory=e,this.cache=Object.create(null)}),[{key:"getCanvas",value:function(t,e,n){var r;return void 0!==this.cache[t]?(r=this.cache[t],this.canvasFactory.reset(r,e,n)):(r=this.canvasFactory.create(e,n),this.cache[t]=r),r}},{key:"delete",value:function(t){delete this.cache[t]}},{key:"clear",value:function(){for(var t in this.cache){var e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}])}();function bs(t,e,n,r,i,o,a,u,s,l){var c=ls(bn(t),6),h=c[0],f=c[1],d=c[2],p=c[3],v=c[4],y=c[5];if(0===f&&0===d){var g=a*h+v,m=Math.round(g),b=u*p+y,w=Math.round(b),D=(a+s)*h+v,E=Math.abs(Math.round(D)-m)||1,A=(u+l)*p+y,k=Math.abs(Math.round(A)-w)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(p),m,w),t.drawImage(e,n,r,i,o,0,0,E,k),t.setTransform(h,f,d,p,v,y),[E,k]}if(0===h&&0===p){var S=u*d+v,C=Math.round(S),x=a*f+y,_=Math.round(x),F=(u+l)*d+v,P=Math.abs(Math.round(F)-C)||1,L=(a+s)*f+y,O=Math.abs(Math.round(L)-_)||1;return t.setTransform(0,Math.sign(f),Math.sign(d),0,C,_),t.drawImage(e,n,r,i,o,0,0,O,P),t.setTransform(h,f,d,p,v,y),[O,P]}return t.drawImage(e,n,r,i,o,a,u,s,l),[Math.hypot(h,f)*s,Math.hypot(d,p)*l]}var ws=function(){return vs((function t(e,n){ds(this,t),this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Kt.Pb,this.textMatrixScale=1,this.fontMatrix=Kt.PL,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=Kt.hu.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,n])}),[{key:"clone",value:function(){var t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}},{key:"setCurrentPoint",value:function(t,e){this.x=t,this.y=e}},{key:"updatePathMinMax",value:function(t,e,n){var r=ls(Kt.J0.applyTransform([e,n],t),2);e=r[0],n=r[1],this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}},{key:"updateRectMinMax",value:function(t,e){var n=Kt.J0.applyTransform(e,t),r=Kt.J0.applyTransform(e.slice(2),t),i=Kt.J0.applyTransform([e[0],e[3]],t),o=Kt.J0.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],r[0],i[0],o[0]),this.minY=Math.min(this.minY,n[1],r[1],i[1],o[1]),this.maxX=Math.max(this.maxX,n[0],r[0],i[0],o[0]),this.maxY=Math.max(this.maxY,n[1],r[1],i[1],o[1])}},{key:"updateScalingPathMinMax",value:function(t,e){Kt.J0.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}},{key:"updateCurvePathMinMax",value:function(t,e,n,r,i,o,a,u,s,l){var c=Kt.J0.bezierBoundingBox(e,n,r,i,o,a,u,s,l);l||this.updateRectMinMax(t,c)}},{key:"getPathBoundingBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zu,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[this.minX,this.minY,this.maxX,this.maxY];if(t===Ju){e||(0,Kt.HB)("Stroke bounding box must include transform.");var r=Kt.J0.singularValueDecompose2dScale(e),i=r[0]*this.lineWidth/2,o=r[1]*this.lineWidth/2;n[0]-=i,n[1]-=o,n[2]+=i,n[3]+=o}return n}},{key:"updateClipFromPath",value:function(){var t=Kt.J0.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}},{key:"isEmptyClip",value:function(){return this.minX===1/0}},{key:"startNewPathAndClipBox",value:function(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}},{key:"getClippedPathBoundingBox",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zu,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Kt.J0.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}])}();function Ds(t,e){if("undefined"!=typeof ImageData&&e instanceof ImageData)t.putImageData(e,0,0);else{var n,r,i,o,a,u=e.height,s=e.width,l=u%gs,c=(u-l)/gs,h=0===l?c:c+1,f=t.createImageData(s,gs),d=0,p=e.data,v=f.data;if(e.kind===Kt.yI.GRAYSCALE_1BPP){var y=p.byteLength,g=new Uint32Array(v.buffer,0,v.byteLength>>2),m=g.length,b=s+7>>3,w=4294967295,D=Kt.TV.isLittleEndian?4278190080:255;for(r=0;r<h;r++){for(o=r<c?gs:l,n=0,i=0;i<o;i++){for(var E=y-d,A=0,k=E>b?s:8*E-7,S=-8&k,C=0,x=0;A<S;A+=8)x=p[d++],g[n++]=128&x?w:D,g[n++]=64&x?w:D,g[n++]=32&x?w:D,g[n++]=16&x?w:D,g[n++]=8&x?w:D,g[n++]=4&x?w:D,g[n++]=2&x?w:D,g[n++]=1&x?w:D;for(;A<k;A++)0===C&&(x=p[d++],C=128),g[n++]=x&C?w:D,C>>=1}for(;n<m;)g[n++]=0;t.putImageData(f,0,r*gs)}}else if(e.kind===Kt.yI.RGBA_32BPP){for(i=0,a=s*gs*4,r=0;r<c;r++)v.set(p.subarray(d,d+a)),d+=a,t.putImageData(f,0,i),i+=gs;r<h&&(a=s*l*4,v.set(p.subarray(d,d+a)),t.putImageData(f,0,i))}else{if(e.kind!==Kt.yI.RGB_24BPP)throw new Error("bad image kind: ".concat(e.kind));for(a=s*(o=gs),r=0;r<h;r++){for(r>=c&&(a=s*(o=l)),n=0,i=a;i--;)v[n++]=p[d++],v[n++]=p[d++],v[n++]=p[d++],v[n++]=255;t.putImageData(f,0,r*gs)}}}}function Es(t,e){if(e.bitmap)t.drawImage(e.bitmap,0,0);else for(var n=e.height,r=e.width,i=n%gs,o=(n-i)/gs,a=0===i?o:o+1,u=t.createImageData(r,gs),s=0,l=e.data,c=u.data,h=0;h<a;h++){var f=h<o?gs:i;s=(0,is.ce)({src:l,srcPos:s,dest:c,width:r,height:f,nonBlackColor:0}).srcPos,t.putImageData(u,0,h*gs)}}function As(t,e){for(var n=0,r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];n<r.length;n++){var i=r[n];void 0!==t[i]&&(e[i]=t[i])}void 0!==t.setLineDash&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function ks(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",void 0!==t.setLineDash&&(t.setLineDash([]),t.lineDashOffset=0),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||!Kt.Gz){var e=t.filter;"none"!==e&&""!==e&&(t.filter="none")}}function Ss(t,e){if(e)return!0;var n=Kt.J0.singularValueDecompose2dScale(t);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);var r=Math.fround((globalThis.devicePixelRatio||1)*Ie.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}var Cs=["butt","round","square"],xs=["miter","round","bevel"],_s={},Fs={},Ps=new WeakSet,Ls=function(){function t(e,n,r,i,o,a,u,s){var l=a.optionalContentConfig,c=a.markedContentStack,h=void 0===c?null:c;ds(this,t),as(this,Ps),this.ctx=e,this.current=new ws(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=h||[],this.optionalContentConfig=l,this.cachedCanvases=new ms(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=s,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}return vs(t,[{key:"getObject",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"==typeof t?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}},{key:"beginDrawing",value:function(t){var e,n,r=t.transform,i=t.viewport,o=t.transparency,a=void 0!==o&&o,u=t.background,s=void 0===u?null:u,l=this.ctx.canvas.width,c=this.ctx.canvas.height,h=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=h,a){var f,d=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),(f=this.ctx).transform.apply(f,os(bn(this.compositeCtx)))}(this.ctx.save(),ks(this.ctx),r)&&((n=this.ctx).transform.apply(n,os(r)),this.outputScaleX=r[0],this.outputScaleY=r[0]);(e=this.ctx).transform.apply(e,os(i.transform)),this.viewportScale=i.scale,this.baseTransform=bn(this.ctx)}},{key:"executeOperatorList",value:function(t,e,n,r){var i=t.argsArray,o=t.fnArray,a=e||0,u=i.length;if(u===a)return a;for(var s,l=u-a>10&&"function"==typeof n,c=l?Date.now()+15:0,h=0,f=this.commonObjs,d=this.objs;;){if(void 0!==r&&a===r.nextBreakPoint)return r.breakIt(a,n),a;if((s=o[a])!==Kt.Do.dependency)this[s].apply(this,i[a]);else{var p,v=ss(i[a]);try{for(v.s();!(p=v.n()).done;){var y=p.value,g=y.startsWith("g_")?f:d;if(!g.has(y))return g.get(y,n),a}}catch(t){v.e(t)}finally{v.f()}}if(++a===u)return a;if(l&&++h>10){if(Date.now()>c)return n(),a;h=0}}}},{key:"endDrawing",value:function(){us(Ps,this,Os).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();var t,e=ss(this._cachedBitmapsMap.values());try{for(e.s();!(t=e.n()).done;){var n,r=t.value,i=ss(r.values());try{for(i.s();!(n=i.n()).done;){var o=n.value;"undefined"!=typeof HTMLCanvasElement&&o instanceof HTMLCanvasElement&&(o.width=o.height=0)}}catch(t){i.e(t)}finally{i.f()}r.clear()}}catch(t){e.e(t)}finally{e.f()}this._cachedBitmapsMap.clear(),us(Ps,this,Ts).call(this)}},{key:"_scaleImage",value:function(t,e){for(var n,r,i=t.width,o=t.height,a=Math.max(Math.hypot(e[0],e[1]),1),u=Math.max(Math.hypot(e[2],e[3]),1),s=i,l=o,c="prescale1";a>2&&s>1||u>2&&l>1;){var h=s,f=l;a>2&&s>1&&(a/=s/(h=s>=16384?Math.floor(s/2)-1||1:Math.ceil(s/2))),u>2&&l>1&&(u/=l/(f=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2)),(r=(n=this.cachedCanvases.getCanvas(c,h,f)).context).clearRect(0,0,h,f),r.drawImage(t,0,0,s,l,0,0,h,f),t=n.canvas,s=h,l=f,c="prescale1"===c?"prescale2":"prescale1"}return{img:t,paintWidth:s,paintHeight:l}}},{key:"_createMaskCanvas",value:function(t){var e,n,r,i,o=this.ctx,a=t.width,u=t.height,s=this.current.fillColor,l=this.current.patternFill,c=bn(o);if((t.bitmap||t.data)&&t.count>1){var h=t.bitmap||t.data.buffer;n=JSON.stringify(l?c:[c.slice(0,4),s]),(e=this._cachedBitmapsMap.get(h))||(e=new Map,this._cachedBitmapsMap.set(h,e));var f=e.get(n);if(f&&!l)return{canvas:f,offsetX:Math.round(Math.min(c[0],c[2])+c[4]),offsetY:Math.round(Math.min(c[1],c[3])+c[5])};r=f}r||Es((i=this.cachedCanvases.getCanvas("maskCanvas",a,u)).context,t);var d=Kt.J0.transform(c,[1/a,0,0,-1/u,0,0]);d=Kt.J0.transform(d,[1,0,0,1,0,-u]);var p=ls(Kt.J0.getAxialAlignedBoundingBox([0,0,a,u],d),4),v=p[0],y=p[1],g=p[2],m=p[3],b=Math.round(g-v)||1,w=Math.round(m-y)||1,D=this.cachedCanvases.getCanvas("fillCanvas",b,w),E=D.context,A=v,k=y;E.translate(-A,-k),E.transform.apply(E,os(d)),r||(r=(r=this._scaleImage(i.canvas,wn(E))).img,e&&l&&e.set(n,r)),E.imageSmoothingEnabled=Ss(bn(E),t.interpolate),bs(E,r,0,0,r.width,r.height,0,0,a,u),E.globalCompositeOperation="source-in";var S=Kt.J0.transform(wn(E),[1,0,0,1,-A,-k]);return E.fillStyle=l?s.getPattern(o,this,S,zu):s,E.fillRect(0,0,a,u),e&&!l&&(this.cachedCanvases.delete("fillCanvas"),e.set(n,D.canvas)),{canvas:D.canvas,offsetX:Math.round(A),offsetY:Math.round(k)}}},{key:"setLineWidth",value:function(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}},{key:"setLineCap",value:function(t){this.ctx.lineCap=Cs[t]}},{key:"setLineJoin",value:function(t){this.ctx.lineJoin=xs[t]}},{key:"setMiterLimit",value:function(t){this.ctx.miterLimit=t}},{key:"setDash",value:function(t,e){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(t),n.lineDashOffset=e)}},{key:"setRenderingIntent",value:function(t){}},{key:"setFlatness",value:function(t){}},{key:"setGState",value:function(t){var e,n=ss(t);try{for(n.s();!(e=n.n()).done;){var r=ls(e.value,2),i=r[0],o=r[1];switch(i){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=o;break;case"ca":this.current.fillAlpha=o,this.ctx.globalAlpha=o;break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask=o?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(o)}}}catch(t){n.e(t)}finally{n.f()}}},{key:"inSMaskMode",get:function(){return!!this.suspendedCtx}},{key:"checkSMaskState",value:function(){var t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}},{key:"beginSMaskMode",value:function(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");var t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=r.context;var i=this.ctx;i.setTransform.apply(i,os(bn(this.suspendedCtx))),As(this.suspendedCtx,i),function(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=function(){t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(t,n){e.translate(t,n),this.__originalTranslate(t,n)},t.scale=function(t,n){e.scale(t,n),this.__originalScale(t,n)},t.transform=function(t,n,r,i,o,a){e.transform(t,n,r,i,o,a),this.__originalTransform(t,n,r,i,o,a)},t.setTransform=function(t,n,r,i,o,a){e.setTransform(t,n,r,i,o,a),this.__originalSetTransform(t,n,r,i,o,a)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(t){e.rotate(t),this.__originalRotate(t)},t.clip=function(t){e.clip(t),this.__originalClip(t)},t.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},t.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},t.bezierCurveTo=function(t,n,r,i,o,a){e.bezierCurveTo(t,n,r,i,o,a),this.__originalBezierCurveTo(t,n,r,i,o,a)},t.rect=function(t,n,r,i){e.rect(t,n,r,i),this.__originalRect(t,n,r,i)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),As(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}},{key:"compose",value:function(t){if(this.current.activeSMask){t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];var e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}}},{key:"composeSMask",value:function(t,e,n,r){var i=r[0],o=r[1],a=r[2]-i,u=r[3]-o;0!==a&&0!==u&&(this.genericComposeSMask(e.context,n,a,u,e.subtype,e.backdrop,e.transferMap,i,o,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}},{key:"genericComposeSMask",value:function(t,e,n,r,i,o,a,u,s,l,c){var h=t.canvas,f=u-l,d=s-c;if(o)if(f<0||d<0||f+n>h.width||d+r>h.height){var p=this.cachedCanvases.getCanvas("maskExtension",n,r),v=p.context;v.drawImage(h,-f,-d),o.some((function(t){return 0!==t}))&&(v.globalCompositeOperation="destination-atop",v.fillStyle=Kt.J0.makeHexColor.apply(Kt.J0,os(o)),v.fillRect(0,0,n,r),v.globalCompositeOperation="source-over"),h=p.canvas,f=d=0}else if(o.some((function(t){return 0!==t}))){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);var y=new Path2D;y.rect(f,d,n,r),t.clip(y),t.globalCompositeOperation="destination-atop",t.fillStyle=Kt.J0.makeHexColor.apply(Kt.J0,os(o)),t.fillRect(f,d,n,r),t.restore()}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),"Alpha"===i&&a?e.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===i&&(e.filter=this.filterFactory.addLuminosityFilter(a));var g=new Path2D;g.rect(u,s,n,r),e.clip(g),e.globalCompositeOperation="destination-in",e.drawImage(h,f,d,n,r,u,s,n,r),e.restore()}},{key:"save",value:function(){this.inSMaskMode?(As(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();var t=this.current;this.stateStack.push(t),this.current=t.clone()}},{key:"restore",value:function(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),As(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}},{key:"transform",value:function(t,e,n,r,i,o){this.ctx.transform(t,e,n,r,i,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function(t,e,n){for(var r,i,o=this.ctx,a=this.current,u=a.x,s=a.y,l=bn(o),c=0===l[0]&&0===l[3]||0===l[1]&&0===l[2],h=c?n.slice(0):null,f=0,d=0,p=t.length;f<p;f++)switch(0|t[f]){case Kt.Do.rectangle:u=e[d++],s=e[d++];var v=e[d++],y=e[d++],g=u+v,m=s+y;o.moveTo(u,s),0===v||0===y?o.lineTo(g,m):(o.lineTo(g,s),o.lineTo(g,m),o.lineTo(u,m)),c||a.updateRectMinMax(l,[u,s,g,m]),o.closePath();break;case Kt.Do.moveTo:u=e[d++],s=e[d++],o.moveTo(u,s),c||a.updatePathMinMax(l,u,s);break;case Kt.Do.lineTo:u=e[d++],s=e[d++],o.lineTo(u,s),c||a.updatePathMinMax(l,u,s);break;case Kt.Do.curveTo:r=u,i=s,u=e[d+4],s=e[d+5],o.bezierCurveTo(e[d],e[d+1],e[d+2],e[d+3],u,s),a.updateCurvePathMinMax(l,r,i,e[d],e[d+1],e[d+2],e[d+3],u,s,h),d+=6;break;case Kt.Do.curveTo2:r=u,i=s,o.bezierCurveTo(u,s,e[d],e[d+1],e[d+2],e[d+3]),a.updateCurvePathMinMax(l,r,i,u,s,e[d],e[d+1],e[d+2],e[d+3],h),u=e[d+2],s=e[d+3],d+=4;break;case Kt.Do.curveTo3:r=u,i=s,u=e[d+2],s=e[d+3],o.bezierCurveTo(e[d],e[d+1],u,s,u,s),a.updateCurvePathMinMax(l,r,i,e[d],e[d+1],u,s,u,s,h),d+=4;break;case Kt.Do.closePath:o.closePath()}c&&a.updateScalingPathMinMax(l,h),a.setCurrentPoint(u,s)}},{key:"closePath",value:function(){this.ctx.closePath()}},{key:"stroke",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===fs(n)&&null!=n&&n.getPattern?(e.save(),e.strokeStyle=n.getPattern(e,this,wn(e),Ju),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"fill",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(e.save(),e.fillStyle=n.getPattern(e,this,wn(e),zu),r=!0);var i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),r&&e.restore(),t&&this.consumePath(i)}},{key:"eoFill",value:function(){this.pendingEOFill=!0,this.fill()}},{key:"fillStroke",value:function(){this.fill(!1),this.stroke(!1),this.consumePath()}},{key:"eoFillStroke",value:function(){this.pendingEOFill=!0,this.fillStroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}},{key:"endPath",value:function(){this.consumePath()}},{key:"clip",value:function(){this.pendingClip=_s}},{key:"eoClip",value:function(){this.pendingClip=Fs}},{key:"beginText",value:function(){this.current.textMatrix=Kt.Pb,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"endText",value:function(){var t=this.pendingTextPaths,e=this.ctx;if(void 0!==t){e.save(),e.beginPath();var n,r=ss(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.setTransform.apply(e,os(i.transform)),e.translate(i.x,i.y),i.addToPath(e,i.fontSize)}}catch(t){r.e(t)}finally{r.f()}e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}else e.beginPath()}},{key:"setCharSpacing",value:function(t){this.current.charSpacing=t}},{key:"setWordSpacing",value:function(t){this.current.wordSpacing=t}},{key:"setHScale",value:function(t){this.current.textHScale=t/100}},{key:"setLeading",value:function(t){this.current.leading=-t}},{key:"setFont",value:function(t,e){var n,r=this.commonObjs.get(t),i=this.current;if(!r)throw new Error("Can't find font for ".concat(t));if(i.fontMatrix=r.fontMatrix||Kt.PL,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||(0,Kt.R8)("Invalid font matrix for font "+t),e<0?(e=-e,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=e,!r.isType3Font){var o=r.loadedName||"sans-serif",a=(null===(n=r.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(o,'", ').concat(r.fallbackName),u="normal";r.black?u="900":r.bold&&(u="bold");var s=r.italic?"italic":"normal",l=e;e<16?l=16:e>100&&(l=100),this.current.fontSizeScale=e/l,this.ctx.font="".concat(s," ").concat(u," ").concat(l,"px ").concat(a)}}},{key:"setTextRenderingMode",value:function(t){this.current.textRenderingMode=t}},{key:"setTextRise",value:function(t){this.current.textRise=t}},{key:"moveText",value:function(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}},{key:"setLeadingMoveText",value:function(t,e){this.setLeading(-e),this.moveText(t,e)}},{key:"setTextMatrix",value:function(t,e,n,r,i,o){this.current.textMatrix=[t,e,n,r,i,o],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function(t,e,n,r){var i,o=this.ctx,a=this.current,u=a.font,s=a.textRenderingMode,l=a.fontSize/a.fontSizeScale,c=s&Kt.hu.FILL_STROKE_MASK,h=!!(s&Kt.hu.ADD_TO_PATH_FLAG),f=a.patternFill&&!u.missingFile;((u.disableFontFace||h||f)&&(i=u.getPathGenerator(this.commonObjs,t)),u.disableFontFace||f?(o.save(),o.translate(e,n),o.beginPath(),i(o,l),r&&o.setTransform.apply(o,os(r)),c!==Kt.hu.FILL&&c!==Kt.hu.FILL_STROKE||o.fill(),c!==Kt.hu.STROKE&&c!==Kt.hu.FILL_STROKE||o.stroke(),o.restore()):(c!==Kt.hu.FILL&&c!==Kt.hu.FILL_STROKE||o.fillText(t,e,n),c!==Kt.hu.STROKE&&c!==Kt.hu.FILL_STROKE||o.strokeText(t,e,n)),h)&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:bn(o),x:e,y:n,fontSize:l,addToPath:i})}},{key:"isFontSubpixelAAEnabled",get:function(){var t=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;t.scale(1.5,1),t.fillText("I",0,10);for(var e=t.getImageData(0,0,10,10).data,n=!1,r=3;r<e.length;r+=4)if(e[r]>0&&e[r]<255){n=!0;break}return(0,Kt.r7)(this,"isFontSubpixelAAEnabled",n)}},{key:"showText",value:function(t){var e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);var r=e.fontSize;if(0!==r){var i,o=this.ctx,a=e.fontSizeScale,u=e.charSpacing,s=e.wordSpacing,l=e.fontDirection,c=e.textHScale*l,h=t.length,f=n.vertical,d=f?1:-1,p=n.defaultVMetrics,v=r*e.fontMatrix[0],y=e.textRenderingMode===Kt.hu.FILL&&!n.disableFontFace&&!e.patternFill;if(o.save(),o.transform.apply(o,os(e.textMatrix)),o.translate(e.x,e.y+e.textRise),l>0?o.scale(c,-1):o.scale(c,1),e.patternFill){o.save();var g=e.fillColor.getPattern(o,this,wn(o),zu);i=bn(o),o.restore(),o.fillStyle=g}var m=e.lineWidth,b=e.textMatrixScale;if(0===b||0===m){var w=e.textRenderingMode&Kt.hu.FILL_STROKE_MASK;w!==Kt.hu.STROKE&&w!==Kt.hu.FILL_STROKE||(m=this.getSinglePixelWidth())}else m/=b;if(1!==a&&(o.scale(a,a),m/=a),o.lineWidth=m,n.isInvalidPDFjsFont){var D,E=[],A=0,k=ss(t);try{for(k.s();!(D=k.n()).done;){var S=D.value;E.push(S.unicode),A+=S.width}}catch(t){k.e(t)}finally{k.f()}return o.fillText(E.join(""),0,0),e.x+=A*v*c,o.restore(),void this.compose()}var C,x=0;for(C=0;C<h;++C){var _=t[C];if("number"!=typeof _){var F=!1,P=(_.isSpace?s:0)+u,L=_.fontChar,O=_.accent,T=void 0,I=void 0,M=_.width;if(f){var B=_.vmetric||p,j=-(_.vmetric?B[1]:.5*M)*v,N=B[2]*v;M=B?-B[0]:M,T=j/a,I=(x+N)/a}else T=x/a,I=0;if(n.remeasure&&M>0){var R=1e3*o.measureText(L).width/r*a;if(M<R&&this.isFontSubpixelAAEnabled){var W=M/R;F=!0,o.save(),o.scale(W,1),T/=W}else M!==R&&(T+=(M-R)/2e3*r/a)}if(this.contentVisible&&(_.isInFont||n.missingFile))if(y&&!O)o.fillText(L,T,I);else if(this.paintChar(L,T,I,i),O){var G=T+r*O.offset.x/a,H=I-r*O.offset.y/a;this.paintChar(O.fontChar,G,H,i)}x+=f?M*v-P*l:M*v+P*l,F&&o.restore()}else x+=d*_*r/1e3}f?e.y-=x:e.x+=x*c,o.restore(),this.compose()}}},{key:"showType3Text",value:function(t){var e,n,r,i,o=this.ctx,a=this.current,u=a.font,s=a.fontSize,l=a.fontDirection,c=u.vertical?1:-1,h=a.charSpacing,f=a.wordSpacing,d=a.textHScale*l,p=a.fontMatrix||Kt.PL,v=t.length;if(!(a.textRenderingMode===Kt.hu.INVISIBLE)&&0!==s){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,o.save(),o.transform.apply(o,os(a.textMatrix)),o.translate(a.x,a.y),o.scale(d,l),e=0;e<v;++e)if("number"!=typeof(n=t[e])){var y=(n.isSpace?f:0)+h,g=u.charProcOperatorList[n.operatorListId];if(g)this.contentVisible&&(this.processingType3=n,this.save(),o.scale(s,s),o.transform.apply(o,os(p)),this.executeOperatorList(g),this.restore()),r=Kt.J0.applyTransform([n.width,0],p)[0]*s+y,o.translate(r,0),a.x+=r*d;else(0,Kt.R8)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}else i=c*n*s/1e3,this.ctx.translate(i,0),a.x+=i*d;o.restore(),this.processingType3=null}}},{key:"setCharWidth",value:function(t,e){}},{key:"setCharWidthAndBounds",value:function(t,e,n,r,i,o){this.ctx.rect(n,r,i-n,o-r),this.ctx.clip(),this.endPath()}},{key:"getColorN_Pattern",value:function(e){var n,r=this;if("TilingPattern"===e[0]){var i=e[1],o=this.baseTransform||bn(this.ctx),a={createCanvasGraphics:function(e){return new t(e,r.commonObjs,r.objs,r.canvasFactory,r.filterFactory,{optionalContentConfig:r.optionalContentConfig,markedContentStack:r.markedContentStack})}};n=new rs(e,i,this.ctx,a,o)}else n=this._getPattern(e[1],e[2]);return n}},{key:"setStrokeColorN",value:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}},{key:"setStrokeRGBColor",value:function(t,e,n){var r=Kt.J0.makeHexColor(t,e,n);this.ctx.strokeStyle=r,this.current.strokeColor=r}},{key:"setFillRGBColor",value:function(t,e,n){var r=Kt.J0.makeHexColor(t,e,n);this.ctx.fillStyle=r,this.current.fillColor=r,this.current.patternFill=!1}},{key:"_getPattern",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(t)?e=this.cachedPatterns.get(t):(e=function(t){switch(t[0]){case"RadialAxial":return new qu(t);case"Mesh":return new $u(t);case"Dummy":return new ts}throw new Error("Unknown IR type: ".concat(t[0]))}(this.getObject(t)),this.cachedPatterns.set(t,e)),n&&(e.matrix=n),e}},{key:"shadingFill",value:function(t){if(this.contentVisible){var e=this.ctx;this.save();var n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,wn(e),Yu);var r=wn(e);if(r){var i=e.canvas,o=i.width,a=i.height,u=ls(Kt.J0.getAxialAlignedBoundingBox([0,0,o,a],r),4),s=u[0],l=u[1],c=u[2],h=u[3];this.ctx.fillRect(s,l,c-s,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}}},{key:"beginInlineImage",value:function(){(0,Kt.HB)("Should not call beginInlineImage")}},{key:"beginImageData",value:function(){(0,Kt.HB)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform.apply(this,os(t)),this.baseTransform=bn(this.ctx),e)){var n=e[2]-e[0],r=e[3]-e[1];this.ctx.rect(e[0],e[1],n,r),this.current.updateRectMinMax(bn(this.ctx),e),this.clip(),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}},{key:"beginGroup",value:function(t){if(this.contentVisible){this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);var e=this.ctx;t.isolated||(0,Kt.pq)("TODO: Support non-isolated groups."),t.knockout&&(0,Kt.R8)("Knockout groups not supported.");var n=bn(e);if(t.matrix&&e.transform.apply(e,os(t.matrix)),!t.bbox)throw new Error("Bounding box is required.");var r=Kt.J0.getAxialAlignedBoundingBox(t.bbox,bn(e)),i=[0,0,e.canvas.width,e.canvas.height];r=Kt.J0.intersect(r,i)||[0,0,0,0];var o=Math.floor(r[0]),a=Math.floor(r[1]),u=Math.max(Math.ceil(r[2])-o,1),s=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,u,s]);var l="groupAt"+this.groupLevel;t.smask&&(l+="_smask_"+this.smaskCounter++%2);var c=this.cachedCanvases.getCanvas(l,u,s),h=c.context;h.translate(-o,-a),h.transform.apply(h,os(n)),t.smask?this.smaskStack.push({canvas:c.canvas,context:h,offsetX:o,offsetY:a,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(o,a),e.save()),As(e,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}}},{key:"endGroup",value:function(t){if(this.contentVisible){this.groupLevel--;var e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{var r;this.ctx.restore();var i=bn(this.ctx);this.restore(),this.ctx.save(),(r=this.ctx).setTransform.apply(r,os(i));var o=Kt.J0.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],i);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(o)}}}},{key:"beginAnnotation",value:function(t,e,n,r,i){var o;(us(Ps,this,Os).call(this),ks(this.ctx),this.ctx.save(),this.save(),this.baseTransform)&&(o=this.ctx).setTransform.apply(o,os(this.baseTransform));if(e){var a=e[2]-e[0],u=e[3]-e[1];if(i&&this.annotationCanvasMap){(n=n.slice())[4]-=e[0],n[5]-=e[1],(e=e.slice())[0]=e[1]=0,e[2]=a,e[3]=u;var s=ls(Kt.J0.singularValueDecompose2dScale(bn(this.ctx)),2),l=s[0],c=s[1],h=this.viewportScale,f=Math.ceil(a*this.outputScaleX*h),d=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,d);var p=this.annotationCanvas,v=p.canvas,y=p.context;this.annotationCanvasMap.set(t,v),this.annotationCanvas.savedCtx=this.ctx,this.ctx=y,this.ctx.save(),this.ctx.setTransform(l,0,0,-c,0,u*c),ks(this.ctx)}else ks(this.ctx),this.ctx.rect(e[0],e[1],a,u),this.ctx.clip(),this.endPath()}this.current=new ws(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,os(n)),this.transform.apply(this,os(r))}},{key:"endAnnotation",value:function(){this.annotationCanvas&&(this.ctx.restore(),us(Ps,this,Ts).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}},{key:"paintImageMaskXObject",value:function(t){if(this.contentVisible){var e=t.count;(t=this.getObject(t.data,t)).count=e;var n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(t){var e=t.width,n=t.height;if(e>1e3||n>1e3)return null;var r,i,o,a,u=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1,l=new Uint8Array(s*(n+1)),c=e+7&-8,h=new Uint8Array(c*n),f=0,d=ss(t.data);try{for(d.s();!(a=d.n()).done;)for(var p=a.value,v=128;v>0;)h[f++]=p&v?0:255,v>>=1}catch(t){d.e(t)}finally{d.f()}var y=0;for(0!==h[f=0]&&(l[0]=1,++y),i=1;i<e;i++)h[f]!==h[f+1]&&(l[i]=h[f]?2:1,++y),f++;for(0!==h[f]&&(l[i]=2,++y),r=1;r<n;r++){o=r*s,h[(f=r*c)-c]!==h[f]&&(l[o]=h[f]?1:8,++y);var g=(h[f]?4:0)+(h[f-c]?8:0);for(i=1;i<e;i++)u[g=(g>>2)+(h[f+1]?4:0)+(h[f-c+1]?8:0)]&&(l[o+i]=u[g],++y),f++;if(h[f-c]!==h[f]&&(l[o+i]=h[f]?2:4,++y),y>1e3)return null}for(o=r*s,0!==h[f=c*(n-1)]&&(l[o]=8,++y),i=1;i<e;i++)h[f]!==h[f+1]&&(l[o+i]=h[f]?4:8,++y),f++;if(0!==h[f]&&(l[o+i]=4,++y),y>1e3)return null;var m=new Int32Array([0,s,-1,0,-s,0,0,0,1]),b=new Path2D;for(r=0;y&&r<=n;r++){for(var w=r*s,D=w+e;w<D&&!l[w];)w++;if(w!==D){b.moveTo(w%s,r);var E=w,A=l[w];do{var k=m[A];do{w+=k}while(!l[w]);var S=l[w];5!==S&&10!==S?(A=S,l[w]=0):(A=S&51*A>>4,l[w]&=A>>2|A<<2),b.lineTo(w%s,w/s|0),l[w]||--y}while(E!==w);--r}}return h=null,l=null,function(t){t.save(),t.scale(1/e,-1/n),t.translate(0,-n),t.fill(b),t.beginPath(),t.restore()}}(t)),r.compiled))r.compiled(n);else{var i=this._createMaskCanvas(t),o=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(o,i.offsetX,i.offsetY),n.restore(),this.compose()}}}},{key:"paintImageMaskXObjectRepeat",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){t=this.getObject(t.data,t);var a=this.ctx;a.save();var u=bn(a);a.transform(e,n,r,i,0,0);var s=this._createMaskCanvas(t);a.setTransform(1,0,0,1,s.offsetX-u[4],s.offsetY-u[5]);for(var l=0,c=o.length;l<c;l+=2){var h=Kt.J0.transform(u,[e,n,r,i,o[l],o[l+1]]),f=ls(Kt.J0.applyTransform([0,0],h),2),d=f[0],p=f[1];a.drawImage(s.canvas,d,p)}a.restore(),this.compose()}}},{key:"paintImageMaskXObjectGroup",value:function(t){if(this.contentVisible){var e,n=this.ctx,r=this.current.fillColor,i=this.current.patternFill,o=ss(t);try{for(o.s();!(e=o.n()).done;){var a=e.value,u=a.data,s=a.width,l=a.height,c=a.transform,h=this.cachedCanvases.getCanvas("maskCanvas",s,l),f=h.context;f.save(),Es(f,this.getObject(u,a)),f.globalCompositeOperation="source-in",f.fillStyle=i?r.getPattern(f,this,wn(n),zu):r,f.fillRect(0,0,s,l),f.restore(),n.save(),n.transform.apply(n,os(c)),n.scale(1,-1),bs(n,h.canvas,0,0,s,l,0,-1,1,1),n.restore()}}catch(t){o.e(t)}finally{o.f()}this.compose()}}},{key:"paintImageXObject",value:function(t){if(this.contentVisible){var e=this.getObject(t);e?this.paintInlineImageXObject(e):(0,Kt.R8)("Dependent image isn't ready yet")}}},{key:"paintImageXObjectRepeat",value:function(t,e,n,r){if(this.contentVisible){var i=this.getObject(t);if(i){for(var o=i.width,a=i.height,u=[],s=0,l=r.length;s<l;s+=2)u.push({transform:[e,0,0,n,r[s],r[s+1]],x:0,y:0,w:o,h:a});this.paintInlineImageXObjectGroup(i,u)}else(0,Kt.R8)("Dependent image isn't ready yet")}}},{key:"applyTransferMapsToCanvas",value:function(t){return"none"!==this.current.transferMaps&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}},{key:"applyTransferMapsToBitmap",value:function(t){if("none"===this.current.transferMaps)return t.bitmap;var e=t.bitmap,n=t.width,r=t.height,i=this.cachedCanvases.getCanvas("inlineImage",n,r),o=i.context;return o.filter=this.current.transferMaps,o.drawImage(e,0,0),o.filter="none",i.canvas}},{key:"paintInlineImageXObject",value:function(t){if(this.contentVisible){var e,n=t.width,r=t.height,i=this.ctx;if(this.save(),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||!Kt.Gz){var o=i.filter;"none"!==o&&""!==o&&(i.filter="none")}if(i.scale(1/n,-1/r),t.bitmap)e=this.applyTransferMapsToBitmap(t);else if("function"==typeof HTMLElement&&t instanceof HTMLElement||!t.data)e=t;else{var a=this.cachedCanvases.getCanvas("inlineImage",n,r).context;Ds(a,t),e=this.applyTransferMapsToCanvas(a)}var u=this._scaleImage(e,wn(i));i.imageSmoothingEnabled=Ss(bn(i),t.interpolate),bs(i,u.img,0,0,u.paintWidth,u.paintHeight,0,-r,n,r),this.compose(),this.restore()}}},{key:"paintInlineImageXObjectGroup",value:function(t,e){if(this.contentVisible){var n,r=this.ctx;if(t.bitmap)n=t.bitmap;else{var i=t.width,o=t.height,a=this.cachedCanvases.getCanvas("inlineImage",i,o).context;Ds(a,t),n=this.applyTransferMapsToCanvas(a)}var u,s=ss(e);try{for(s.s();!(u=s.n()).done;){var l=u.value;r.save(),r.transform.apply(r,os(l.transform)),r.scale(1,-1),bs(r,n,l.x,l.y,l.w,l.h,0,-1,1,1),r.restore()}}catch(t){s.e(t)}finally{s.f()}this.compose()}}},{key:"paintSolidColorImageMask",value:function(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}},{key:"markPoint",value:function(t){}},{key:"markPointProps",value:function(t,e){}},{key:"beginMarkedContent",value:function(t){this.markedContentStack.push({visible:!0})}},{key:"beginMarkedContentProps",value:function(t,e){"OC"===t?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function(){}},{key:"endCompat",value:function(){}},{key:"consumePath",value:function(t){var e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);var n=this.ctx;this.pendingClip&&(e||(this.pendingClip===Fs?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}},{key:"getSinglePixelWidth",value:function(){if(!this._cachedGetSinglePixelWidth){var t=bn(this.ctx);if(0===t[1]&&0===t[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{var e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),r=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/e}}return this._cachedGetSinglePixelWidth}},{key:"getScaleForStroking",value:function(){if(-1===this._cachedScaleForStroking[0]){var t,e,n=this.current.lineWidth,r=this.ctx.getTransform(),i=r.a,o=r.b,a=r.c,u=r.d;if(0===o&&0===a){var s=Math.abs(i),l=Math.abs(u);if(s===l)if(0===n)t=e=1/s;else{var c=s*n;t=e=c<1?1/c:1}else if(0===n)t=1/s,e=1/l;else{var h=s*n,f=l*n;t=h<1?1/h:1,e=f<1?1/f:1}}else{var d=Math.abs(i*u-o*a),p=Math.hypot(i,o),v=Math.hypot(a,u);if(0===n)t=v/d,e=p/d;else{var y=n*d;t=v>y?v/y:1,e=p>y?p/y:1}}this._cachedScaleForStroking[0]=t,this._cachedScaleForStroking[1]=e}return this._cachedScaleForStroking}},{key:"rescaleAndStroke",value:function(t){var e=this.ctx,n=this.current.lineWidth,r=ls(this.getScaleForStroking(),2),i=r[0],o=r[1];if(e.lineWidth=n||1,1!==i||1!==o){var a=e.getLineDash();if(t&&e.save(),e.scale(i,o),a.length>0){var u=Math.max(i,o);e.setLineDash(a.map((function(t){return t/u}))),e.lineDashOffset/=u}e.stroke(),t&&e.restore()}else e.stroke()}},{key:"isContentVisible",value:function(){for(var t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}}])}();function Os(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function Ts(){if(this.pageColors){var t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==t){var e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}}for(var Is in Kt.Do)void 0!==Ls.prototype[Is]&&(Ls.prototype[Kt.Do[Is]]=Ls.prototype[Is]);function Ms(t){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(t)}function Bs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,js(r.key),r)}}function js(t){var e=function(t,e){if("object"!=Ms(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ms(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ms(e)?e:e+""}function Ns(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Rs=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){return e&&Bs(t.prototype,e),n&&Bs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"workerPort",get:function(){return Ns(t,this,Ws)._},set:function(e){if(!("undefined"!=typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");Ws._=Ns(t,this,e)}},{key:"workerSrc",get:function(){return Ns(t,this,Gs)._},set:function(e){if("string"!=typeof e)throw new Error("Invalid `workerSrc` type.");Gs._=Ns(t,this,e)}}])}(),Ws={_:null},Gs={_:""},Hs=i(613);function Vs(t){return Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(t)}function Us(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zs(r.key),r)}}function zs(t){var e=function(t,e){if("object"!=Vs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vs(e)?e:e+""}function Js(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function Ys(t,e){return t.get(Xs(t,e))}function Ks(t,e,n){return t.set(Xs(t,e),n),n}function Xs(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var qs=new WeakMap,Zs=new WeakMap,Qs=function(){return function(t,e,n){return e&&Us(t.prototype,e),n&&Us(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.parsedData,r=e.rawData;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Js(this,qs,void 0),Js(this,Zs,void 0),Ks(qs,this,n),Ks(Zs,this,r)}),[{key:"getRaw",value:function(){return Ys(Zs,this)}},{key:"get",value:function(t){var e;return null!==(e=Ys(qs,this).get(t))&&void 0!==e?e:null}},{key:"getAll",value:function(){return(0,Kt.UF)(Ys(qs,this))}},{key:"has",value:function(t){return Ys(qs,this).has(t)}}])}();function $s(t){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(t)}function tl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||rl(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function el(t){return function(t){if(Array.isArray(t))return il(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||rl(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nl(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=rl(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function rl(t,e){if(t){if("string"==typeof t)return il(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?il(t,e):void 0}}function il(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ol(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function al(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sl(r.key),r)}}function ul(t,e,n){return e&&al(t.prototype,e),n&&al(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sl(t){var e=function(t,e){if("object"!=$s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$s(e)?e:e+""}function ll(t,e,n){cl(t,e),e.set(t,n)}function cl(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hl(t,e){return t.get(dl(t,e))}function fl(t,e,n){return t.set(dl(t,e),n),n}function dl(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var pl=Symbol("INTERNAL"),vl=new WeakMap,yl=new WeakMap,gl=new WeakMap,ml=new WeakMap,bl=function(){return ul((function t(e,n){var r=n.name,i=n.intent,o=n.usage;ol(this,t),ll(this,vl,!1),ll(this,yl,!1),ll(this,gl,!1),ll(this,ml,!0),fl(vl,this,!!(e&Kt.Bb.DISPLAY)),fl(yl,this,!!(e&Kt.Bb.PRINT)),this.name=r,this.intent=i,this.usage=o}),[{key:"visible",get:function(){if(hl(gl,this))return hl(ml,this);if(!hl(ml,this))return!1;var t=this.usage,e=t.print,n=t.view;return hl(vl,this)?"OFF"!==(null==n?void 0:n.viewState):!hl(yl,this)||"OFF"!==(null==e?void 0:e.printState)}},{key:"_setVisible",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t!==pl&&(0,Kt.HB)("Internal method `_setVisible` called."),fl(gl,this,n),fl(ml,this,e)}}])}(),wl=new WeakMap,Dl=new WeakMap,El=new WeakMap,Al=new WeakMap,kl=new WeakSet,Sl=function(){return ul((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kt.Bb.DISPLAY;if(ol(this,t),function(t,e){cl(t,e),e.add(t)}(this,kl),ll(this,wl,null),ll(this,Dl,new Map),ll(this,El,null),ll(this,Al,null),this.renderingIntent=n,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,fl(Al,this,e.order);var r,i=nl(e.groups);try{for(i.s();!(r=i.n()).done;){var o=r.value;hl(Dl,this).set(o.id,new bl(n,o))}}catch(t){i.e(t)}finally{i.f()}if("OFF"===e.baseState){var a,u=nl(hl(Dl,this).values());try{for(u.s();!(a=u.n()).done;){a.value._setVisible(pl,!1)}}catch(t){u.e(t)}finally{u.f()}}var s,l=nl(e.on);try{for(l.s();!(s=l.n()).done;){var c=s.value;hl(Dl,this).get(c)._setVisible(pl,!0)}}catch(t){l.e(t)}finally{l.f()}var h,f=nl(e.off);try{for(f.s();!(h=f.n()).done;){var d=h.value;hl(Dl,this).get(d)._setVisible(pl,!1)}}catch(t){f.e(t)}finally{f.f()}fl(El,this,this.getHash())}}),[{key:"isVisible",value:function(t){if(0===hl(Dl,this).size)return!0;if(!t)return(0,Kt.pq)("Optional content group not defined."),!0;if("OCG"===t.type)return hl(Dl,this).has(t.id)?hl(Dl,this).get(t.id).visible:((0,Kt.R8)("Optional content group not found: ".concat(t.id)),!0);if("OCMD"===t.type){if(t.expression)return dl(kl,this,Cl).call(this,t.expression);if(!t.policy||"AnyOn"===t.policy){var e,n=nl(t.ids);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(!hl(Dl,this).has(r))return(0,Kt.R8)("Optional content group not found: ".concat(r)),!0;if(hl(Dl,this).get(r).visible)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}if("AllOn"===t.policy){var i,o=nl(t.ids);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!hl(Dl,this).has(a))return(0,Kt.R8)("Optional content group not found: ".concat(a)),!0;if(!hl(Dl,this).get(a).visible)return!1}}catch(t){o.e(t)}finally{o.f()}return!0}if("AnyOff"===t.policy){var u,s=nl(t.ids);try{for(s.s();!(u=s.n()).done;){var l=u.value;if(!hl(Dl,this).has(l))return(0,Kt.R8)("Optional content group not found: ".concat(l)),!0;if(!hl(Dl,this).get(l).visible)return!0}}catch(t){s.e(t)}finally{s.f()}return!1}if("AllOff"===t.policy){var c,h=nl(t.ids);try{for(h.s();!(c=h.n()).done;){var f=c.value;if(!hl(Dl,this).has(f))return(0,Kt.R8)("Optional content group not found: ".concat(f)),!0;if(hl(Dl,this).get(f).visible)return!1}}catch(t){h.e(t)}finally{h.f()}return!0}return(0,Kt.R8)("Unknown optional content policy ".concat(t.policy,".")),!0}return(0,Kt.R8)("Unknown group type ".concat(t.type,".")),!0}},{key:"setVisibility",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=hl(Dl,this).get(t);n?(n._setVisible(pl,!!e,!0),fl(wl,this,null)):(0,Kt.R8)("Optional content group not found: ".concat(t))}},{key:"setOCGState",value:function(t){var e,n,r=t.state,i=(t.preserveRB,nl(r));try{for(i.s();!(n=i.n()).done;){var o=n.value;switch(o){case"ON":case"OFF":case"Toggle":e=o;continue}var a=hl(Dl,this).get(o);if(a)switch(e){case"ON":a._setVisible(pl,!0);break;case"OFF":a._setVisible(pl,!1);break;case"Toggle":a._setVisible(pl,!a.visible)}}}catch(t){i.e(t)}finally{i.f()}fl(wl,this,null)}},{key:"hasInitialVisibility",get:function(){return null===hl(El,this)||this.getHash()===hl(El,this)}},{key:"getOrder",value:function(){return hl(Dl,this).size?hl(Al,this)?hl(Al,this).slice():el(hl(Dl,this).keys()):null}},{key:"getGroups",value:function(){return hl(Dl,this).size>0?(0,Kt.UF)(hl(Dl,this)):null}},{key:"getGroup",value:function(t){return hl(Dl,this).get(t)||null}},{key:"getHash",value:function(){if(null!==hl(wl,this))return hl(wl,this);var t,e=new Ha.F,n=nl(hl(Dl,this));try{for(n.s();!(t=n.n()).done;){var r=tl(t.value,2),i=r[0],o=r[1];e.update("".concat(i,":").concat(o.visible))}}catch(t){n.e(t)}finally{n.f()}return fl(wl,this,e.hexdigest())}}])}();function Cl(t){var e=t.length;if(e<2)return!0;for(var n=t[0],r=1;r<e;r++){var i=t[r],o=void 0;if(Array.isArray(i))o=dl(kl,this,Cl).call(this,i);else{if(!hl(Dl,this).has(i))return(0,Kt.R8)("Optional content group not found: ".concat(i)),!0;o=hl(Dl,this).get(i).visible}switch(n){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return"And"===n}function xl(){xl=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==Pl(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Pl(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function _l(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Fl(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){_l(o,r,i,a,u,"next",t)}function u(t){_l(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Pl(t){return Pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pl(t)}function Ll(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ol(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ol(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ol(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Tl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Il(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bl(r.key),r)}}function Ml(t,e,n){return e&&Il(t.prototype,e),n&&Il(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bl(t){var e=function(t,e){if("object"!=Pl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pl(e)?e:e+""}var jl=function(){return Ml((function t(e,n){var r=this,i=n.disableRange,o=void 0!==i&&i,a=n.disableStream,u=void 0!==a&&a;Tl(this,t),(0,Kt.vA)(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');var s=e.length,l=e.initialData,c=e.progressiveDone,h=e.contentDispositionFilename;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=h,(null==l?void 0:l.length)>0){var f=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!u,this._isRangeSupported=!o,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((function(t,e){r._onReceiveData({begin:t,chunk:e})})),e.addProgressListener((function(t,e){r._onProgress({loaded:t,total:e})})),e.addProgressiveReadListener((function(t){r._onReceiveData({chunk:t})})),e.addProgressiveDoneListener((function(){r._onProgressiveDone()})),e.transportReady()}),[{key:"_onReceiveData",value:function(t){var e=t.begin,n=t.chunk,r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===e)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{var i=this._rangeReaders.some((function(t){return t._begin===e&&(t._enqueue(r),!0)}));(0,Kt.vA)(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"_onProgress",value:function(t){var e,n,r,i;void 0===t.total?null===(e=this._rangeReaders[0])||void 0===e||null===(n=e.onProgress)||void 0===n||n.call(e,{loaded:t.loaded}):null===(r=this._fullRequestReader)||void 0===r||null===(i=r.onProgress)||void 0===i||i.call(r,{loaded:t.loaded,total:t.total})}},{key:"_onProgressiveDone",value:function(){var t;null===(t=this._fullRequestReader)||void 0===t||t.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(t){var e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}},{key:"getFullReader",value:function(){(0,Kt.vA)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var t=this._queuedChunks;return this._queuedChunks=null,new Nl(this,t,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new Rl(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);var n,r=Ll(this._rangeReaders.slice(0));try{for(r.s();!(n=r.n()).done;){n.value.cancel(t)}}catch(t){r.e(t)}finally{r.f()}this._pdfDataRangeTransport.abort()}}])}(),Nl=function(){return Ml((function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Tl(this,t),this._stream=e,this._done=r||!1,this._filename=cn(i)?i:null,this._queuedChunks=n||[],this._loaded=0;var o,a=Ll(this._queuedChunks);try{for(a.s();!(o=a.n()).done;){var u=o.value;this._loaded+=u.byteLength}}catch(t){a.e(t)}finally{a.f()}this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}),[{key:"_enqueue",value:function(t){if(!this._done){if(this._requests.length>0)this._requests.shift().resolve({value:t,done:!1});else this._queuedChunks.push(t);this._loaded+=t.byteLength}}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:(t=Fl(xl().mark((function t(){var e,n;return xl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this._queuedChunks.length>0)){t.next=3;break}return e=this._queuedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 3:if(!this._done){t.next=5;break}return t.abrupt("return",{value:void 0,done:!0});case 5:return n=Promise.withResolvers(),this._requests.push(n),t.abrupt("return",n.promise);case 8:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=Ll(this._requests);try{for(n.s();!(e=n.n()).done;){e.value.resolve({value:void 0,done:!0})}}catch(t){n.e(t)}finally{n.f()}this._requests.length=0}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]);var t}(),Rl=function(){return Ml((function t(e,n,r){Tl(this,t),this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}),[{key:"_enqueue",value:function(t){if(!this._done){if(0===this._requests.length)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});var e,n=Ll(this._requests);try{for(n.s();!(e=n.n()).done;){e.value.resolve({value:void 0,done:!0})}}catch(t){n.e(t)}finally{n.f()}this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(t=Fl(xl().mark((function t(){var e,n;return xl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._queuedChunk){t.next=4;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 4:if(!this._done){t.next=6;break}return t.abrupt("return",{value:void 0,done:!0});case 6:return n=Promise.withResolvers(),this._requests.push(n),t.abrupt("return",n.promise);case 9:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=Ll(this._requests);try{for(n.s();!(e=n.n()).done;){e.value.resolve({value:void 0,done:!0})}}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._stream._removeRangeReader(this)}}]);var t}();function Wl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Gl(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gl(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Hl(t){var e=t.getResponseHeader,n=t.isHttp,r=t.rangeChunkSize,i=t.disableRange;("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"))&&(0,Kt.vA)(Number.isInteger(r)&&r>0,"rangeChunkSize must be an integer larger than zero.");var o={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(e("Content-Length"),10);return Number.isInteger(a)?(o.suggestedLength=a,a<=2*r||i||!n||"bytes"!==e("Accept-Ranges")||"identity"!==(e("Content-Encoding")||"identity")||(o.allowRangeRequests=!0),o):o}function Vl(t){var e=t("Content-Disposition");if(e){var n=function(t){var e=!0,n=o("filename\\*","i").exec(t);if(n){var r=s(n=n[1]);return u(r=c(r=l(r=unescape(r))))}if(n=function(t){for(var e,n=[],r=o("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(e=r.exec(t));){var i=Wl(e,4),a=i[1],u=i[2],c=i[3];if((a=parseInt(a,10))in n){if(0===a)break}else n[a]=[u,c]}for(var h=[],f=0;f<n.length&&f in n;++f){var d=Wl(n[f],2),p=d[0],v=d[1];v=s(v),p&&(v=unescape(v),0===f&&(v=l(v))),h.push(v)}return h.join("")}(t),n)return u(c(n));if(n=o("filename","i").exec(t)){var i=s(n=n[1]);return u(i=c(i))}function o(t,e){return new RegExp("(?:^|;)\\s*"+t+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',e)}function a(t,n){if(t){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var r=new TextDecoder(t,{fatal:!0}),i=(0,Kt.Af)(n);n=r.decode(i),e=!1}catch(t){}}return n}function u(t){return e&&/[\x80-\xff]/.test(t)&&(t=a("utf-8",t),e&&(t=a("iso-8859-1",t))),t}function s(t){if(t.startsWith('"')){for(var e=t.slice(1).split('\\"'),n=0;n<e.length;++n){var r=e[n].indexOf('"');-1!==r&&(e[n]=e[n].slice(0,r),e.length=n+1),e[n]=e[n].replaceAll(/\\(.)/g,"$1")}t=e.join('"')}return t}function l(t){var e=t.indexOf("'");return-1===e?t:a(t.slice(0,e),t.slice(e+1).replace(/^[^']*'/,""))}function c(t){return!t.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(t)?t:t.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(t,e,n,r){if("q"===n||"Q"===n)return a(e,r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})));try{r=atob(r)}catch(t){}return a(e,r)}))}return""}(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(t){}if(cn(n))return n}return null}function Ul(t,e){return 404===t||0===t&&e.startsWith("file:")?new Kt.ew('Missing PDF "'+e+'".'):new Kt.wW("Unexpected server response (".concat(t,') while retrieving PDF "').concat(e,'".'),t)}function zl(t){return 200===t||206===t}function Jl(){Jl=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==Xl(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Xl(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function Yl(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Kl(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Yl(o,r,i,a,u,"next",t)}function u(t){Yl(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Xl(t){return Xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xl(t)}function ql(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Zl(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zl(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Zl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ql(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ec(r.key),r)}}function tc(t,e,n){return e&&$l(t.prototype,e),n&&$l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ec(t){var e=function(t,e){if("object"!=Xl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xl(e)?e:e+""}if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL"))throw new Error('Module "./fetch_stream.js" shall not be used with MOZCENTRAL builds.');function nc(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function rc(t){var e=new Headers;for(var n in t){var r=t[n];void 0!==r&&e.append(n,r)}return e}function ic(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:((0,Kt.R8)("getArrayBuffer - unexpected data format: ".concat(t)),new Uint8Array(t).buffer)}var oc=function(){return tc((function t(e){Ql(this,t),this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}),[{key:"_progressiveDataLength",get:function(){var t,e;return null!==(t=null===(e=this._fullRequestReader)||void 0===e?void 0:e._loaded)&&void 0!==t?t:0}},{key:"getFullReader",value:function(){return(0,Kt.vA)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ac(this),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){if(e<=this._progressiveDataLength)return null;var n=new uc(this,t,e);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);var n,r=ql(this._rangeRequestReaders.slice(0));try{for(r.s();!(n=r.n()).done;){n.value.cancel(t)}}catch(t){r.e(t)}finally{r.f()}}}])}(),ac=function(){return tc((function t(e){var n=this;Ql(this,t),this._stream=e,this._reader=null,this._loaded=0,this._filename=null;var r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._headers=rc(this._stream.httpHeaders);var i=r.url;fetch(i,nc(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!zl(t.status))throw Ul(t.status,i);n._reader=t.body.getReader(),n._headersCapability.resolve();var e=function(e){return t.headers.get(e)},r=Hl({getResponseHeader:e,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),o=r.allowRangeRequests,a=r.suggestedLength;n._isRangeSupported=o,n._contentLength=a||n._contentLength,n._filename=Vl(e),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new Kt.e3("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}),[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=Kl(Jl().mark((function t(){var e,n,r,i;return Jl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._headersCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(n=t.sent,r=n.value,!(i=n.done)){t.next=9;break}return t.abrupt("return",{value:r,done:i});case 9:return this._loaded+=r.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),t.abrupt("return",{value:ic(r),done:!1});case 12:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}]);var t}(),uc=function(){return tc((function t(e,n,r){var i=this;Ql(this,t),this._stream=e,this._reader=null,this._loaded=0;var o=e.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=rc(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(r-1));var a=o.url;fetch(a,nc(this._headers,this._withCredentials,this._abortController)).then((function(t){if(!zl(t.status))throw Ul(t.status,a);i._readCapability.resolve(),i._reader=t.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}),[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:(t=Kl(Jl().mark((function t(){var e,n,r,i;return Jl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._readCapability.promise;case 2:return t.next=4,this._reader.read();case 4:if(n=t.sent,r=n.value,!(i=n.done)){t.next=9;break}return t.abrupt("return",{value:r,done:i});case 9:return this._loaded+=r.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),t.abrupt("return",{value:ic(r),done:!1});case 12:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){var e;null===(e=this._reader)||void 0===e||e.cancel(t),this._abortController.abort()}}]);var t}();function sc(){sc=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==dc(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(dc(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function lc(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function cc(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){lc(o,r,i,a,u,"next",t)}function u(t){lc(o,r,i,a,u,"throw",t)}a(void 0)}))}}function hc(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return fc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fc(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function fc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dc(t){return dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(t)}function pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gc(r.key),r)}}function yc(t,e,n){return e&&vc(t.prototype,e),n&&vc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gc(t){var e=function(t,e){if("object"!=dc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dc(e)?e:e+""}if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL"))throw new Error('Module "./network.js" shall not be used with MOZCENTRAL builds.');var mc,bc=function(){return yc((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};pc(this,t),this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&n.httpHeaders||Object.create(null),this.withCredentials=n.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}),[{key:"requestRange",value:function(t,e,n){var r={begin:t,end:e};for(var i in n)r[i]=n[i];return this.request(r)}},{key:"requestFull",value:function(t){return this.request(t)}},{key:"request",value:function(t){var e=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:e};for(var i in e.open("GET",this.url),e.withCredentials=this.withCredentials,this.httpHeaders){var o=this.httpHeaders[i];void 0!==o&&e.setRequestHeader(i,o)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1)),r.expectedStatus=206):r.expectedStatus=200,e.responseType="arraybuffer",t.onError&&(e.onerror=function(n){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=t.onHeadersReceived,r.onDone=t.onDone,r.onError=t.onError,r.onProgress=t.onProgress,e.send(null),n}},{key:"onProgress",value:function(t,e){var n,r=this.pendingRequests[t];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,e))}},{key:"onStateChange",value:function(t,e){var n=this.pendingRequests[t];if(n){var r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===r.readyState&&t in this.pendingRequests)if(delete this.pendingRequests[t],0===r.status&&this.isHttp){var i;null===(i=n.onError)||void 0===i||i.call(n,r.status)}else{var o=r.status||200;if(200===o&&206===n.expectedStatus||o===n.expectedStatus){var a=function(t){var e=t.response;return"string"!=typeof e?e:(0,Kt.Af)(e).buffer}(r);if(206===o){var u=r.getResponseHeader("Content-Range"),s=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);n.onDone({begin:parseInt(s[1],10),chunk:a})}else if(a)n.onDone({begin:0,chunk:a});else{var l;null===(l=n.onError)||void 0===l||l.call(n,r.status)}}else{var c;null===(c=n.onError)||void 0===c||c.call(n,r.status)}}}}},{key:"getRequestXhr",value:function(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function(t){return t in this.pendingRequests}},{key:"abortRequest",value:function(t){var e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}])}(),wc=function(){return yc((function t(e){pc(this,t),this._source=e,this._manager=new bc(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}),[{key:"_onRangeRequestReaderClosed",value:function(t){var e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}},{key:"getFullReader",value:function(){return(0,Kt.vA)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Dc(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(t,e){var n=new Ec(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(t){var e;null===(e=this._fullRequestReader)||void 0===e||e.cancel(t);var n,r=hc(this._rangeRequestReaders.slice(0));try{for(r.s();!(n=r.n()).done;){n.value.cancel(t)}}catch(t){r.e(t)}finally{r.f()}}}])}(),Dc=function(){return yc((function t(e,n){pc(this,t),this._manager=e;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=e.requestFull(r),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}),[{key:"_onHeadersReceived",value:function(){var t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=function(t){return e.getResponseHeader(t)},r=Hl({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),i=r.allowRangeRequests,o=r.suggestedLength;i&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=Vl(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(t){t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk));if(this._done=!0,!(this._cachedChunks.length>0)){var e,n=hc(this._requests);try{for(n.s();!(e=n.n()).done;){e.value.resolve({value:void 0,done:!0})}}catch(t){n.e(t)}finally{n.f()}this._requests.length=0}}},{key:"_onError",value:function(t){this._storedError=Ul(t,this._url),this._headersReceivedCapability.reject(this._storedError);var e,n=hc(this._requests);try{for(n.s();!(e=n.n()).done;){e.value.reject(this._storedError)}}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._cachedChunks.length=0}},{key:"_onProgress",value:function(t){var e;null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:(t=cc(sc().mark((function t(){var e,n;return sc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){t.next=5;break}return e=this._cachedChunks.shift(),t.abrupt("return",{value:e,done:!1});case 5:if(!this._done){t.next=7;break}return t.abrupt("return",{value:void 0,done:!0});case 7:return n=Promise.withResolvers(),this._requests.push(n),t.abrupt("return",n.promise);case 10:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0,this._headersReceivedCapability.reject(t);var e,n=hc(this._requests);try{for(n.s();!(e=n.n()).done;){e.value.resolve({value:void 0,done:!0})}}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]);var t}(),Ec=function(){return yc((function t(e,n,r){pc(this,t),this._manager=e;var i={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(n,r,i),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}),[{key:"_close",value:function(){var t;null===(t=this.onClosed)||void 0===t||t.call(this,this)}},{key:"_onDone",value:function(t){var e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e;this._done=!0;var n,r=hc(this._requests);try{for(r.s();!(n=r.n()).done;){n.value.resolve({value:void 0,done:!0})}}catch(t){r.e(t)}finally{r.f()}this._requests.length=0,this._close()}},{key:"_onError",value:function(t){this._storedError=Ul(t,this._url);var e,n=hc(this._requests);try{for(n.s();!(e=n.n()).done;){e.value.reject(this._storedError)}}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._queuedChunk=null}},{key:"_onProgress",value:function(t){var e;this.isStreamingSupported||(null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:t.loaded}))}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:(t=cc(sc().mark((function t(){var e,n;return sc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(null===this._queuedChunk){t.next=6;break}return e=this._queuedChunk,this._queuedChunk=null,t.abrupt("return",{value:e,done:!1});case 6:if(!this._done){t.next=8;break}return t.abrupt("return",{value:void 0,done:!0});case 8:return n=Promise.withResolvers(),this._requests.push(n),t.abrupt("return",n.promise);case 11:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"cancel",value:function(t){this._done=!0;var e,n=hc(this._requests);try{for(n.s();!(e=n.n()).done;){e.value.resolve({value:void 0,done:!0})}}catch(t){n.e(t)}finally{n.f()}this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]);var t}();function Ac(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return kc(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kc(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function kc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Sc(t){return Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(t)}function Cc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xc(r.key),r)}}function xc(t){var e=function(t,e){if("object"!=Sc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sc(e)?e:e+""}function _c(t,e,n){Fc(t,e),e.set(t,n)}function Fc(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Pc(t,e){return t.get(Oc(t,e))}function Lc(t,e,n){return t.set(Oc(t,e),n),n}function Oc(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Tc=30,Ic=.8,Mc=new WeakMap,Bc=new WeakMap,jc=new WeakMap,Nc=new WeakMap,Rc=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,Hc=new WeakMap,Vc=new WeakMap,Uc=new WeakMap,zc=new WeakMap,Jc=new WeakMap,Yc=new WeakMap,Kc=new WeakMap,Xc=new WeakMap,qc=new WeakMap,Zc=new WeakMap,Qc=new WeakMap,$c=new WeakSet,th=function(){function t(e){var n,r=this,i=e.textContentSource,o=e.container,a=e.viewport;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){Fc(t,e),e.add(t)}(this,$c),_c(this,Mc,Promise.withResolvers()),_c(this,Bc,null),_c(this,jc,!1),_c(this,Nc,!(null===(n=globalThis.FontInspector)||void 0===n||!n.enabled)),_c(this,Rc,null),_c(this,Wc,null),_c(this,Gc,0),_c(this,Hc,0),_c(this,Vc,null),_c(this,Uc,null),_c(this,zc,0),_c(this,Jc,0),_c(this,Yc,Object.create(null)),_c(this,Kc,[]),_c(this,Xc,null),_c(this,qc,[]),_c(this,Zc,new WeakMap),_c(this,Qc,null),i instanceof ReadableStream)Lc(Xc,this,i);else{if("undefined"!=typeof PDFJSDev&&!PDFJSDev.test("GENERIC")||"object"!==Sc(i))throw new Error('No "textContentSource" parameter specified.');Lc(Xc,this,new ReadableStream({start:function(t){t.enqueue(i),t.close()}}))}Lc(Bc,this,Lc(Uc,this,o)),Lc(Jc,this,a.scale*(globalThis.devicePixelRatio||1)),Lc(zc,this,a.rotation),Lc(Wc,this,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});var u=a.rawDims,s=u.pageWidth,l=u.pageHeight,c=u.pageX,h=u.pageY;Lc(Qc,this,[1,0,0,-1,-c,h+l]),Lc(Hc,this,s),Lc(Gc,this,l),Dn(o,a),Pc(Mc,this).promise.catch((function(){})).then((function(){sh._.delete(r),Lc(Wc,r,null),Lc(Yc,r,null)})),("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"))&&(Object.defineProperty(this,"pageWidth",{get:function(){return Pc(Hc,this)}}),Object.defineProperty(this,"pageHeight",{get:function(){return Pc(Gc,this)}}))}return function(t,e,n){return e&&Cc(t.prototype,e),n&&Cc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"render",value:function(){var t=this;return Lc(Vc,this,Pc(Xc,this).getReader()),sh._.add(this),function e(){Pc(Vc,t).read().then((function(n){var r,i=n.value;n.done?Pc(Mc,t).resolve():(null!==(r=Pc(Rc,t))&&void 0!==r||Lc(Rc,t,i.lang),Object.assign(Pc(Yc,t),i.styles),Oc($c,t,eh).call(t,i.items),e())}),Pc(Mc,t).reject)}(),Pc(Mc,this).promise}},{key:"update",value:function(e){var n=e.viewport,r=e.onBefore,i=void 0===r?null:r,o=n.scale*(globalThis.devicePixelRatio||1),a=n.rotation;if(a!==Pc(zc,this)&&(null==i||i(),Lc(zc,this,a),Dn(Pc(Uc,this),{rotation:a})),o!==Pc(Jc,this)){null==i||i(),Lc(Jc,this,o);var u,s={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:ih.call(t,Pc(Rc,this))},l=Ac(Pc(qc,this));try{for(l.s();!(u=l.n()).done;){var c=u.value;s.properties=Pc(Zc,this).get(c),s.div=c,Oc($c,this,rh).call(this,s)}}catch(t){l.e(t)}finally{l.f()}}}},{key:"cancel",value:function(){var t,e=new Kt.e3("TextLayer task cancelled.");null===(t=Pc(Vc,this))||void 0===t||t.cancel(e).catch((function(){})),Lc(Vc,this,null),Pc(Mc,this).reject(e)}},{key:"textDivs",get:function(){return Pc(qc,this)}},{key:"textContentItemsStr",get:function(){return Pc(Kc,this)}}],[{key:"cleanup",value:function(){if(!(Oc(t,this,sh)._.size>0)){Oc(t,this,ah)._.clear();var e,n=Ac(Oc(t,this,uh)._.values());try{for(n.s();!(e=n.n()).done;){e.value.canvas.remove()}}catch(t){n.e(t)}finally{n.f()}Oc(t,this,uh)._.clear()}}}])}();function eh(t){var e;if(!Pc(jc,this)){(e=Pc(Wc,this)).ctx||(e.ctx=ih.call(mc,Pc(Rc,this)));var n,r=Pc(qc,this),i=Pc(Kc,this),o=Ac(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if(r.length>1e5)return(0,Kt.R8)("Ignoring additional textDivs for performance reasons."),void Lc(jc,this,!0);if(void 0!==a.str)i.push(a.str),Oc($c,this,nh).call(this,a);else if("beginMarkedContentProps"===a.type||"beginMarkedContent"===a.type){var u=Pc(Bc,this);Lc(Bc,this,document.createElement("span")),Pc(Bc,this).classList.add("markedContent"),null!==a.id&&Pc(Bc,this).setAttribute("id","".concat(a.id)),u.append(Pc(Bc,this))}else"endMarkedContent"===a.type&&Lc(Bc,this,Pc(Bc,this).parentNode)}}catch(t){o.e(t)}finally{o.f()}}}function nh(t){var e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==t.str,hasEOL:t.hasEOL,fontSize:0};Pc(qc,this).push(e);var r=Kt.J0.transform(Pc(Qc,this),t.transform),i=Math.atan2(r[1],r[0]),o=Pc(Yc,this)[t.fontName];o.vertical&&(i+=Math.PI/2);var a,u,s=Pc(Nc,this)&&o.fontSubstitution||o.fontFamily,l=Math.hypot(r[2],r[3]),c=l*oh.call(mc,s,Pc(Rc,this));0===i?(a=r[4],u=r[5]-c):(a=r[4]+c*Math.sin(i),u=r[5]-c*Math.cos(i));var h="calc(var(--scale-factor)*",f=e.style;Pc(Bc,this)===Pc(Uc,this)?(f.left="".concat((100*a/Pc(Hc,this)).toFixed(2),"%"),f.top="".concat((100*u/Pc(Gc,this)).toFixed(2),"%")):(f.left="".concat(h).concat(a.toFixed(2),"px)"),f.top="".concat(h).concat(u.toFixed(2),"px)")),f.fontSize="".concat(h).concat(l.toFixed(2),"px)"),f.fontFamily=s,n.fontSize=l,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,Pc(Nc,this)&&(e.dataset.fontName=o.fontSubstitutionLoadedName||t.fontName),0!==i&&(n.angle=i*(180/Math.PI));var d=!1;if(t.str.length>1)d=!0;else if(" "!==t.str&&t.transform[0]!==t.transform[3]){var p=Math.abs(t.transform[0]),v=Math.abs(t.transform[3]);p!==v&&Math.max(p,v)/Math.min(p,v)>1.5&&(d=!0)}if(d&&(n.canvasWidth=o.vertical?t.height:t.width),Pc(Zc,this).set(e,n),Pc(Wc,this).div=e,Pc(Wc,this).properties=n,Oc($c,this,rh).call(this,Pc(Wc,this)),n.hasText&&Pc(Bc,this).append(e),n.hasEOL){var y=document.createElement("br");y.setAttribute("role","presentation"),Pc(Bc,this).append(y)}}function rh(t){var e=t.div,n=t.properties,r=t.ctx,i=t.prevFontSize,o=t.prevFontFamily,a=e.style,u="";if(0!==n.canvasWidth&&n.hasText){var s=a.fontFamily,l=n.canvasWidth,c=n.fontSize;i===c&&o===s||(r.font="".concat(c*Pc(Jc,this),"px ").concat(s),t.prevFontSize=c,t.prevFontFamily=s);var h=r.measureText(e.textContent).width;h>0&&(u="scaleX(".concat(l*Pc(Jc,this)/h,")"))}0!==n.angle&&(u="rotate(".concat(n.angle,"deg) ").concat(u)),u.length>0&&(a.transform=u)}function ih(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=Oc(mc,this,uh)._.get(t||(t=""));if(!e){var n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1}),Oc(mc,this,uh)._.set(t,e)}return e}function oh(t,e){var n=Oc(mc,this,ah)._.get(t);if(n)return n;var r=Oc(mc,this,ih).call(this,e),i=r.font;r.canvas.width=r.canvas.height=Tc,r.font="".concat(Tc,"px ").concat(t);var o=r.measureText(""),a=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);if(a){var s=a/(a+u);return Oc(mc,this,ah)._.set(t,s),r.canvas.width=r.canvas.height=0,r.font=i,s}r.strokeStyle="red",r.clearRect(0,0,Tc,Tc),r.strokeText("g",0,0);var l=r.getImageData(0,0,Tc,Tc).data;u=0;for(var c=l.length-1-3;c>=0;c-=4)if(l[c]>0){u=Math.ceil(c/4/Tc);break}r.clearRect(0,0,Tc,Tc),r.strokeText("A",0,Tc),a=0;for(var h=0,f=(l=r.getImageData(0,0,Tc,Tc).data).length;h<f;h+=4)if(l[h]>0){a=Tc-Math.floor(h/4/Tc);break}r.canvas.width=r.canvas.height=0,r.font=i;var d=a?a/(a+u):Ic;return Oc(mc,this,ah)._.set(t,d),d}mc=th;var ah={_:new Map},uh={_:new Map},sh={_:new Set};function lh(t){return lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(t)}function ch(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return hh(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hh(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function hh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function fh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dh(r.key),r)}}function dh(t){var e=function(t,e){if("object"!=lh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lh(e)?e:e+""}var ph=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return function(t,e,n){return e&&fh(t.prototype,e),n&&fh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,null,[{key:"textContent",value:function(e){var n=[],r={items:n,styles:Object.create(null)};return function e(r){var i;if(r){var o=null,a=r.name;if("#text"===a)o=r.value;else{if(!t.shouldBuildText(a))return;null!=r&&null!==(i=r.attributes)&&void 0!==i&&i.textContent?o=r.attributes.textContent:r.value&&(o=r.value)}if(null!==o&&n.push({str:o}),r.children){var u,s=ch(r.children);try{for(s.s();!(u=s.n()).done;){e(u.value)}}catch(t){s.e(t)}finally{s.f()}}}}(e),r}},{key:"shouldBuildText",value:function(t){return!("textarea"===t||"input"===t||"option"===t||"select"===t)}}])}();function vh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vh(Object(n),!0).forEach((function(e){gh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gh(t,e,n){return(e=Bh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mh(t,e,n){return n(Ch(t,e))}function bh(t){return function(t){if(Array.isArray(t))return Fh(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||_h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dh(t,e){Ah(t,e),e.add(t)}function Eh(t,e,n){Ah(t,e),e.set(t,n)}function Ah(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kh(t,e){return t.get(Ch(t,e))}function Sh(t,e,n){return t.set(Ch(t,e),n),n}function Ch(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function xh(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_h(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function _h(t,e){if(t){if("string"==typeof t)return Fh(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fh(t,e):void 0}}function Fh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ph(){Ph=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==jh(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(jh(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function Lh(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Oh(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Lh(o,r,i,a,u,"next",t)}function u(t){Lh(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Th(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bh(r.key),r)}}function Mh(t,e,n){return e&&Ih(t.prototype,e),n&&Ih(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bh(t){var e=function(t,e){if("object"!=jh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jh(e)?e:e+""}function jh(t){return jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(t)}var Nh="undefined"!=typeof PDFJSDev&&PDFJSDev.test("GENERIC")&&Kt.Gz?null:tn,Rh="undefined"!=typeof PDFJSDev&&PDFJSDev.test("GENERIC")&&Kt.Gz?null:rn,Wh="undefined"!=typeof PDFJSDev&&PDFJSDev.test("GENERIC")&&Kt.Gz?null:He,Gh="undefined"!=typeof PDFJSDev&&PDFJSDev.test("GENERIC")&&Kt.Gz?null:on;function Hh(t){var e,n;if(("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&("string"==typeof t||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t})),"object"!==jh(t))throw new Error("Invalid parameter in getDocument, need parameter object.");if(!t.url&&!t.data&&!t.range)throw new Error("Invalid parameter object: need either .data, .range or .url");var r=new Uh,i=r.docId,o=t.url?function(t){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL"))return null;if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch(e){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("GENERIC")&&Kt.Gz&&"string"==typeof t)return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(t.url):null,a=t.data?function(t){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("GENERIC")&&Kt.Gz&&"undefined"!=typeof Buffer&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if("string"==typeof t)return(0,Kt.Af)(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||"object"===jh(t)&&!isNaN(null==t?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(t.data):null,u=t.httpHeaders||null,s=!0===t.withCredentials,l=null!==(e=t.password)&&void 0!==e?e:null,c=t.range instanceof Jh?t.range:null,h=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:65536,f=t.worker instanceof of?t.worker:null,d=t.verbosity,p="string"!=typeof t.docBaseUrl||ln(t.docBaseUrl)?null:t.docBaseUrl,v="string"==typeof t.cMapUrl?t.cMapUrl:null,y=!1!==t.cMapPacked,g=t.CMapReaderFactory||Rh,m="string"==typeof t.standardFontDataUrl?t.standardFontDataUrl:null,b=t.StandardFontDataFactory||Gh,w=!0!==t.stopAtErrors,D=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,E=!1!==t.isEvalSupported,A="boolean"==typeof t.isOffscreenCanvasSupported?t.isOffscreenCanvasSupported:!Kt.Gz,k=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,S="boolean"==typeof t.disableFontFace?t.disableFontFace:Kt.Gz,C=!0===t.fontExtraProperties,x=!0===t.enableXfa,_=t.ownerDocument||globalThis.document,F=!0===t.disableRange,P=!0===t.disableStream,L=!0===t.disableAutoFetch,O=!0===t.pdfBug,T=c?c.length:null!==(n=t.length)&&void 0!==n?n:NaN,I="boolean"==typeof t.useSystemFonts?t.useSystemFonts:!Kt.Gz&&!S,M="boolean"==typeof t.useWorkerFetch?t.useWorkerFetch:"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||g===rn&&b===on&&v&&m&&pn(v,document.baseURI)&&pn(m,document.baseURI),B=t.canvasFactory||new Nh({ownerDocument:_}),j=t.filterFactory||new Wh({docId:i,ownerDocument:_}),N="undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING")?t.styleElement:null;(0,Kt.Ye)(d);var R={canvasFactory:B,filterFactory:j};if(M||(R.cMapReaderFactory=new g({baseUrl:v,isCompressed:y}),R.standardFontDataFactory=new b({baseUrl:m})),!f){var W={verbosity:d,port:Rs.workerPort};f=W.port?of.fromPort(W):new of(W),r._worker=f}var G={docId:i,apiVersion:"undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING")?null:PDFJSDev.eval("BUNDLE_VERSION"),data:a,password:l,disableAutoFetch:L,rangeChunkSize:h,length:T,docBaseUrl:p,enableXfa:x,evaluatorOptions:{maxImageSize:D,disableFontFace:S,ignoreErrors:w,isEvalSupported:E,isOffscreenCanvasSupported:A,canvasMaxAreaInBytes:k,fontExtraProperties:C,useSystemFonts:I,cMapUrl:M?v:null,standardFontDataUrl:M?m:null}},H={disableFontFace:S,fontExtraProperties:C,ownerDocument:_,pdfBug:O,styleElement:N,loadingParams:{disableAutoFetch:L,enableXfa:x}};return f.promise.then((function(){if(r.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");var t,e=f.messageHandler.sendWithPromise("GetDocRequest",G,a?[a.buffer]:null);if(c)t=new jl(c,{disableRange:F,disableStream:P});else if(!a){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL"))throw new Error("Not implemented: createPDFNetworkStream");t=function(t){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("GENERIC")&&Kt.Gz){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&pn(t.url)?new oc(t):new null(t)}return pn(t.url)?new oc(t):new wc(t)}({url:o,length:T,httpHeaders:u,withCredentials:s,rangeChunkSize:h,disableRange:F,disableStream:P})}return e.then((function(e){if(r.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");var n=new Hs.a(i,e,f.port),o=new pf(n,r,t,H,R);r._transport=o,n.send("Ready",null)}))})).catch(r._capability.reject),r}function Vh(t){return"object"===jh(t)&&Number.isInteger(null==t?void 0:t.num)&&t.num>=0&&Number.isInteger(null==t?void 0:t.gen)&&t.gen>=0}var Uh=function(){return Mh((function t(){var e,n;Th(this,t),this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d".concat((zh._=(e=zh._,n=e++,e),n)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}),[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:(t=Oh(Ph().mark((function t(){var e,n,r;return Ph().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.destroyed=!0,t.prev=1,null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),t.next=5,null===(n=this._transport)||void 0===n?void 0:n.destroy();case 5:t.next=11;break;case 7:throw t.prev=7,t.t0=t.catch(1),null!==(r=this._worker)&&void 0!==r&&r.port&&delete this._worker._pendingDestroy,t.t0;case 11:this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null);case 13:case"end":return t.stop()}}),t,this,[[1,7]])}))),function(){return t.apply(this,arguments)})}]);var t}(),zh={_:0},Jh=function(){return Mh((function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Th(this,t),this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}),[{key:"addRangeListener",value:function(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function(t,e){var n,r=xh(this._rangeListeners);try{for(r.s();!(n=r.n()).done;){(0,n.value)(t,e)}}catch(t){r.e(t)}finally{r.f()}}},{key:"onDataProgress",value:function(t,e){var n=this;this._readyCapability.promise.then((function(){var r,i=xh(n._progressListeners);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t,e)}}catch(t){i.e(t)}finally{i.f()}}))}},{key:"onDataProgressiveRead",value:function(t){var e=this;this._readyCapability.promise.then((function(){var n,r=xh(e._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;){(0,n.value)(t)}}catch(t){r.e(t)}finally{r.f()}}))}},{key:"onDataProgressiveDone",value:function(){var t=this;this._readyCapability.promise.then((function(){var e,n=xh(t._progressiveDoneListeners);try{for(n.s();!(e=n.n()).done;){(0,e.value)()}}catch(t){n.e(t)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(t,e){(0,Kt.HB)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}])}(),Yh=function(){return Mh((function t(e,n){var r=this;Th(this,t),this._pdfInfo=e,this._transport=n,("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"))&&(Object.defineProperty(this,"getNetworkStreamName",{value:function(){return r._transport.getNetworkStreamName()}}),Object.defineProperty(this,"getXFADatasets",{value:function(){return r._transport.getXFADatasets()}}),Object.defineProperty(this,"getXRefPrevValue",{value:function(){return r._transport.getXRefPrevValue()}}),Object.defineProperty(this,"getStartXRefPos",{value:function(){return r._transport.getStartXRefPos()}}),Object.defineProperty(this,"getAnnotArray",{value:function(t){return r._transport.getAnnotArray(t)}}))}),[{key:"annotationStorage",get:function(){return this._transport.annotationStorage}},{key:"filterFactory",get:function(){return this._transport.filterFactory}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function(){return this._pdfInfo.fingerprints}},{key:"isPureXfa",get:function(){return(0,Kt.r7)(this,"isPureXfa",!!this._transport._htmlForXfa)}},{key:"allXfaHtml",get:function(){return this._transport._htmlForXfa}},{key:"getPage",value:function(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intent,e=void 0===t?"display":t,n=this._transport.getRenderingIntent(e).renderingIntent;return this._transport.getOptionalContentConfig(n)}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"saveDocument",value:function(){return this._transport.saveDocument()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"cachedPageNumber",value:function(t){return this._transport.cachedPageNumber(t)}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}}])}(),Kh=new WeakMap,Xh=new WeakMap,qh=new WeakSet,Zh=function(){return Mh((function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Th(this,t),Dh(this,qh),Eh(this,Kh,null),Eh(this,Xh,!1),this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new dn:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new bf,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}),[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.scale,n=t.rotation,r=void 0===n?this.rotate:n,i=t.offsetX,o=void 0===i?0:i,a=t.offsetY,u=void 0===a?0:a,s=t.dontFlip,l=void 0!==s&&s;return new un({viewBox:this.view,scale:e,rotation:r,offsetX:o,offsetY:u,dontFlip:l})}},{key:"getAnnotations",value:function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).intent,e=void 0===t?"display":t,n=this._transport.getRenderingIntent(e).renderingIntent;return this._transport.getAnnotations(this._pageIndex,n)}},{key:"getJSActions",value:function(){return this._transport.getPageJSActions(this._pageIndex)}},{key:"filterFactory",get:function(){return this._transport.filterFactory}},{key:"isPureXfa",get:function(){return(0,Kt.r7)(this,"isPureXfa",!!this._transport._htmlForXfa)}},{key:"getXfa",value:(t=Oh(Ph().mark((function t(){var e;return Ph().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null);case 1:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(t){var e,n,r=this,i=t.canvasContext,o=t.viewport,a=t.intent,u=void 0===a?"display":a,s=t.annotationMode,l=void 0===s?Kt.ng.ENABLE:s,c=t.transform,h=void 0===c?null:c,f=t.background,d=void 0===f?null:f,p=t.optionalContentConfigPromise,v=void 0===p?null:p,y=t.annotationCanvasMap,g=void 0===y?null:y,m=t.pageColors,b=void 0===m?null:m,w=t.printAnnotationStorage,D=void 0===w?null:w;null===(e=this._stats)||void 0===e||e.time("Overall");var E=this._transport.getRenderingIntent(u,l,D),A=E.renderingIntent,k=E.cacheKey;Sh(Xh,this,!1),Ch(qh,this,$h).call(this),v||(v=this._transport.getOptionalContentConfig(A));var S=this._intentStates.get(k);S||(S=Object.create(null),this._intentStates.set(k,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);var C,x=!!(A&Kt.Bb.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(C=this._stats)||void 0===C||C.time("Page Request"),this._pumpOperatorList(E));var _=function(t){var e;(S.renderTasks.delete(F),(r._maybeCleanupAfterRender||x)&&Sh(Xh,r,!0),Ch(qh,r,Qh).call(r,!x),t?(F.capability.reject(t),r._abortOperatorList({intentState:S,reason:t instanceof Error?t:new Error(t)})):F.capability.resolve(),r._stats)&&(r._stats.timeEnd("Rendering"),r._stats.timeEnd("Overall"),null!==(e=globalThis.Stats)&&void 0!==e&&e.enabled&&globalThis.Stats.add(r.pageNumber,r._stats))},F=new Af({callback:_,params:{canvasContext:i,viewport:o,transform:h,background:d},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:g,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:b});((n=S).renderTasks||(n.renderTasks=new Set)).add(F);var P=F.task;return Promise.all([S.displayReadyCapability.promise,v]).then((function(t){var e,n=wh(t,2),i=n[0],o=n[1];if(r.destroyed)_();else{if(null===(e=r._stats)||void 0===e||e.time("Rendering"),!(o.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");F.initializeGraphics({transparency:i,optionalContentConfig:o}),F.operatorListChanged()}})).catch(_),P}},{key:"getOperatorList",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.intent,n=void 0===e?"display":e,r=t.annotationMode,i=void 0===r?Kt.ng.ENABLE:r,o=t.printAnnotationStorage,a=void 0===o?null:o;if("undefined"!=typeof PDFJSDev&&!PDFJSDev.test("GENERIC"))throw new Error("Not implemented: getOperatorList");var u,s,l,c=this._transport.getRenderingIntent(n,i,a,!0),h=this._intentStates.get(c.cacheKey);(h||(h=Object.create(null),this._intentStates.set(c.cacheKey,h)),h.opListReadCapability)||((u=Object.create(null)).operatorListChanged=function(){h.operatorList.lastChunk&&(h.opListReadCapability.resolve(h.operatorList),h.renderTasks.delete(u))},h.opListReadCapability=Promise.withResolvers(),((s=h).renderTasks||(s.renderTasks=new Set)).add(u),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(c));return h.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.includeMarkedContent,n=void 0!==e&&e,r=t.disableNormalization,i=void 0!==r&&r;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===n,disableNormalization:!0===i},{highWaterMark:100,size:function(t){return t.items.length}})}},{key:"getTextContent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((function(t){return ph.textContent(t)}));var e=this.streamTextContent(t);return new Promise((function(t,n){var r=e.getReader(),i={items:[],styles:Object.create(null),lang:null};!function e(){r.read().then((function(n){var r,o,a=n.value;n.done?t(i):(null!==(r=i.lang)&&void 0!==r||(i.lang=a.lang),Object.assign(i.styles,a.styles),(o=i.items).push.apply(o,bh(a.items)),e())}),n)}()}))}},{key:"getStructTree",value:function(){return this._transport.getStructTree(this._pageIndex)}},{key:"_destroy",value:function(){this.destroyed=!0;var t,e=[],n=xh(this._intentStates.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability){var i,o=xh(r.renderTasks);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.push(a.completed),a.cancel()}}catch(t){o.e(t)}finally{o.f()}}}}catch(t){n.e(t)}finally{n.f()}return this.objs.clear(),Sh(Xh,this,!1),Ch(qh,this,$h).call(this),Promise.all(e)}},{key:"cleanup",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Sh(Xh,this,!0);var e=Ch(qh,this,Qh).call(this,!1);return t&&e&&this._stats&&(this._stats=new dn),e}},{key:"_startRenderPage",value:function(t,e){var n,r,i=this._intentStates.get(e);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(r=i.displayReadyCapability)||void 0===r||r.resolve(t))}},{key:"_renderPageChunk",value:function(t,e){for(var n=0,r=t.length;n<r;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;var i,o=xh(e.renderTasks);try{for(o.s();!(i=o.n()).done;){i.value.operatorListChanged()}}catch(t){o.e(t)}finally{o.f()}t.lastChunk&&Ch(qh,this,Qh).call(this,!0)}},{key:"_pumpOperatorList",value:function(t){var e=this,n=t.renderingIntent,r=t.cacheKey,i=t.annotationStorageSerializable;("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"))&&(0,Kt.vA)(Number.isInteger(n)&&n>0,'_pumpOperatorList: Expected valid "renderingIntent" argument.');var o=i.map,a=i.transfer,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:n,cacheKey:r,annotationStorage:o},a).getReader(),s=this._intentStates.get(r);s.streamReader=u;!function t(){u.read().then((function(n){var r=n.value;n.done?s.streamReader=null:e._transport.destroyed||(e._renderPageChunk(r,s),t())}),(function(t){if(s.streamReader=null,!e._transport.destroyed){if(s.operatorList){s.operatorList.lastChunk=!0;var n,r=xh(s.renderTasks);try{for(r.s();!(n=r.n()).done;){n.value.operatorListChanged()}}catch(t){r.e(t)}finally{r.f()}Ch(qh,e,Qh).call(e,!0)}if(s.displayReadyCapability)s.displayReadyCapability.reject(t);else{if(!s.opListReadCapability)throw t;s.opListReadCapability.reject(t)}}}))}()}},{key:"_abortOperatorList",value:function(t){var e=this,n=t.intentState,r=t.reason,i=t.force,o=void 0!==i&&i;if(("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"))&&(0,Kt.vA)(r instanceof Error,'_abortOperatorList: Expected valid "reason" argument.'),n.streamReader){if(n.streamReaderCancelTimeout&&(clearTimeout(n.streamReaderCancelTimeout),n.streamReaderCancelTimeout=null),!o){if(n.renderTasks.size>0)return;if(r instanceof sn){var a=100;return r.extraDelay>0&&r.extraDelay<1e3&&(a+=r.extraDelay),void(n.streamReaderCancelTimeout=setTimeout((function(){n.streamReaderCancelTimeout=null,e._abortOperatorList({intentState:n,reason:r,force:!0})}),a))}}if(n.streamReader.cancel(new Kt.e3(r.message)).catch((function(){})),n.streamReader=null,!this._transport.destroyed){var u,s=xh(this._intentStates);try{for(s.s();!(u=s.n()).done;){var l=wh(u.value,2),c=l[0];if(l[1]===n){this._intentStates.delete(c);break}}}catch(t){s.e(t)}finally{s.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]);var t}();function Qh(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Ch(qh,this,$h).call(this),!kh(Xh,this)||this.destroyed)return!1;if(e)return Sh(Kh,this,setTimeout((function(){Sh(Kh,t,null),Ch(qh,t,Qh).call(t,!1)}),5e3)),!1;var n,r=xh(this._intentStates.values());try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.renderTasks,a=i.operatorList;if(o.size>0||!a.lastChunk)return!1}}catch(t){r.e(t)}finally{r.f()}return this._intentStates.clear(),this.objs.clear(),Sh(Xh,this,!1),!0}function $h(){kh(Kh,this)&&(clearTimeout(kh(Kh,this)),Sh(Kh,this,null))}var tf=new WeakMap,ef=new WeakMap,nf=function(){return Mh((function t(){Th(this,t),Eh(this,tf,new Set),Eh(this,ef,Promise.resolve())}),[{key:"postMessage",value:function(t,e){var n=this,r={data:structuredClone(t,e?{transfer:e}:null)};kh(ef,this).then((function(){var t,e=xh(kh(tf,n));try{for(e.s();!(t=e.n()).done;){t.value.call(n,r)}}catch(t){e.e(t)}finally{e.f()}}))}},{key:"addEventListener",value:function(t,e){kh(tf,this).add(e)}},{key:"removeEventListener",value:function(t,e){kh(tf,this).delete(e)}},{key:"terminate",value:function(){kh(tf,this).clear()}}])}(),rf={isWorkerDisabled:!1,fakeWorkerId:0};("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(Kt.Gz&&(rf.isWorkerDisabled=!0,Rs.workerSrc||(Rs.workerSrc=PDFJSDev.test("LIB")?"../pdf.worker.js":"./pdf.worker.mjs")),rf.isSameOrigin=function(t,e){var n;try{if(!(n=new URL(t)).origin||"null"===n.origin)return!1}catch(t){return!1}var r=new URL(e,n);return n.origin===r.origin},rf.createCDNWrapper=function(t){var e='await import("'.concat(t,'");');return URL.createObjectURL(new Blob([e],{type:"text/javascript"}))});var of=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.name,r=void 0===n?null:n,i=e.port,o=void 0===i?null:i,a=e.verbosity,u=void 0===a?(0,Kt.q1)():a;if(Th(this,t),this.name=r,this.destroyed=!1,this.verbosity=u,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,("undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL"))&&o){var s;if(null!==(s=uf._)&&void 0!==s&&s.has(o))throw new Error("Cannot use more than one PDFWorker per port.");return(uf._||(uf._=new WeakMap)).set(o,this),void this._initializeFromPort(o)}this._initialize()}return Mh(t,[{key:"promise",get:function(){return"undefined"!=typeof PDFJSDev&&PDFJSDev.test("GENERIC")&&Kt.Gz?Promise.all([null.promise,this._readyCapability.promise]):this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(t){if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL"))throw new Error("Not implemented: _initializeFromPort");this._port=t,this._messageHandler=new Hs.a("main","worker",t),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}},{key:"_initialize",value:function(){var e=this;if(!rf.isWorkerDisabled&&!af(t)){var n=t.workerSrc;try{"undefined"!=typeof PDFJSDev&&PDFJSDev.test("GENERIC")&&!rf.isSameOrigin(window.location.href,n)&&(n=rf.createCDNWrapper(new URL(n,window.location).href));var r=new Worker(n,{type:"module"}),i=new Hs.a("main","worker",r),o=function(){r.removeEventListener("error",a),i.destroy(),r.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},a=function(){e._webWorker||o()};r.addEventListener("error",a),i.on("test",(function(t){r.removeEventListener("error",a),e.destroyed?o():t?(e._messageHandler=i,e._port=r,e._webWorker=r,e._readyCapability.resolve(),i.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),i.destroy(),r.terminate())})),i.on("ready",(function(t){if(r.removeEventListener("error",a),e.destroyed)o();else try{u()}catch(t){e._setupFakeWorker()}}));var u=function(){var t=new Uint8Array;i.send("test",t,[t.buffer])};return void u()}catch(t){(0,Kt.pq)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;rf.isWorkerDisabled||((0,Kt.R8)("Setting up fake worker."),rf.isWorkerDisabled=!0),t._setupFakeWorkerGlobal.then((function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new nf;e._port=n;var r="fake".concat(rf.fakeWorkerId++),i=new Hs.a(r+"_worker",r,n);t.setup(i,n);var o=new Hs.a(r,r+"_worker",n);e._messageHandler=o,e._readyCapability.resolve(),o.send("configure",{verbosity:e.verbosity})}})).catch((function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}},{key:"destroy",value:function(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(t=uf._)||void 0===t||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(e){var n;if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL"))throw new Error("Not implemented: fromPort");if(null==e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");var r=null===(n=Ch(t,this,uf)._)||void 0===n?void 0:n.get(e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new t(e)}},{key:"workerSrc",get:function(){if(Rs.workerSrc)return Rs.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_setupFakeWorkerGlobal",get:function(){var e=this,n=function(){var n=Oh(Ph().mark((function n(){var r;return Ph().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!mh(t,e,af)){n.next=2;break}return n.abrupt("return",mh(t,e,af));case 2:if("undefined"!=typeof PDFJSDev){n.next=8;break}return n.next=5,i.e(892).then(i.bind(i,892));case 5:n.t0=n.sent,n.next=11;break;case 8:return n.next=10,__non_webpack_import__(e.workerSrc);case 10:n.t0=n.sent;case 11:return r=n.t0,n.abrupt("return",r.WorkerMessageHandler);case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,Kt.r7)(this,"_setupFakeWorkerGlobal",n())}}])}();function af(t){try{var e;return(null===(e=globalThis.pdfjsWorker)||void 0===e?void 0:e.WorkerMessageHandler)||null}catch(t){return null}}var uf={_:void 0},sf=new WeakMap,lf=new WeakMap,cf=new WeakMap,hf=new WeakMap,ff=new WeakMap,df=new WeakSet,pf=function(){return Mh((function t(e,n,r,i,o){var a=this;Th(this,t),Dh(this,df),Eh(this,sf,new Map),Eh(this,lf,new Map),Eh(this,cf,new Map),Eh(this,hf,new Map),Eh(this,ff,null),this.messageHandler=e,this.loadingTask=n,this.commonObjs=new bf,this.fontLoader=new Fu({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler(),("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"))&&(Object.defineProperty(this,"getNetworkStreamName",{value:function(){var t;return(null==r||null===(t=r.constructor)||void 0===t?void 0:t.name)||null}}),Object.defineProperty(this,"getXFADatasets",{value:function(){return a.messageHandler.sendWithPromise("GetXFADatasets",null)}}),Object.defineProperty(this,"getXRefPrevValue",{value:function(){return a.messageHandler.sendWithPromise("GetXRefPrevValue",null)}}),Object.defineProperty(this,"getStartXRefPos",{value:function(){return a.messageHandler.sendWithPromise("GetStartXRefPos",null)}}),Object.defineProperty(this,"getAnnotArray",{value:function(t){return a.messageHandler.sendWithPromise("GetAnnotArray",{pageIndex:t})}}))}),[{key:"annotationStorage",get:function(){return(0,Kt.r7)(this,"annotationStorage",new hu)}},{key:"getRenderingIntent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kt.ng.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Kt.Bb.DISPLAY,o=uu;switch(t){case"any":i=Kt.Bb.ANY;break;case"display":break;case"print":i=Kt.Bb.PRINT;break;default:(0,Kt.R8)("getRenderingIntent - invalid intent: ".concat(t))}switch(e){case Kt.ng.DISABLE:i+=Kt.Bb.ANNOTATIONS_DISABLE;break;case Kt.ng.ENABLE:break;case Kt.ng.ENABLE_FORMS:i+=Kt.Bb.ANNOTATIONS_FORMS;break;case Kt.ng.ENABLE_STORAGE:o=((i+=Kt.Bb.ANNOTATIONS_STORAGE)&Kt.Bb.PRINT&&n instanceof pu?n:this.annotationStorage).serializable;break;default:(0,Kt.R8)("getRenderingIntent - invalid annotationMode: ".concat(e))}return r&&(i+=Kt.Bb.OPLIST),{renderingIntent:i,cacheKey:"".concat(i,"_").concat(o.hash),annotationStorageSerializable:o}}},{key:"destroy",value:function(){var t,e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(t=kh(ff,this))||void 0===t||t.reject(new Error("Worker was destroyed during onPassword callback"));var n,r=[],i=xh(kh(lf,this).values());try{for(i.s();!(n=i.n()).done;){var o=n.value;r.push(o._destroy())}}catch(t){i.e(t)}finally{i.f()}kh(lf,this).clear(),kh(cf,this).clear(),kh(hf,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();var a=this.messageHandler.sendWithPromise("Terminate",null);return r.push(a),Promise.all(r).then((function(){var t;e.commonObjs.clear(),e.fontLoader.clear(),kh(sf,e).clear(),e.filterFactory.destroy(),th.cleanup(),null===(t=e._networkStream)||void 0===t||t.cancelAllRequests(new Kt.e3("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var t=this,e=this.messageHandler,n=this.loadingTask;e.on("GetReader",(function(e,n){(0,Kt.vA)(t._networkStream,"GetReader - no `IPDFStream` instance available."),t._fullReader=t._networkStream.getFullReader(),t._fullReader.onProgress=function(e){t._lastProgress={loaded:e.loaded,total:e.total}},n.onPull=function(){t._fullReader.read().then((function(t){var e=t.value;t.done?n.close():((0,Kt.vA)(e instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(e),1,[e]))})).catch((function(t){n.error(t)}))},n.onCancel=function(e){t._fullReader.cancel(e),n.ready.catch((function(e){if(!t.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(function(e){var r=Promise.withResolvers(),i=t._fullReader;return i.headersReady.then((function(){if(!i.isStreamingSupported||!i.isRangeSupported){var e;if(t._lastProgress)null===(e=n.onProgress)||void 0===e||e.call(n,t._lastProgress);i.onProgress=function(t){var e;null===(e=n.onProgress)||void 0===e||e.call(n,{loaded:t.loaded,total:t.total})}}r.resolve({isStreamingSupported:i.isStreamingSupported,isRangeSupported:i.isRangeSupported,contentLength:i.contentLength})}),r.reject),r.promise})),e.on("GetRangeReader",(function(e,n){(0,Kt.vA)(t._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=t._networkStream.getRangeReader(e.begin,e.end);r?(n.onPull=function(){r.read().then((function(t){var e=t.value;t.done?n.close():((0,Kt.vA)(e instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(e),1,[e]))})).catch((function(t){n.error(t)}))},n.onCancel=function(e){r.cancel(e),n.ready.catch((function(e){if(!t.destroyed)throw e}))}):n.close()})),e.on("GetDoc",(function(e){var r=e.pdfInfo;t._numPages=r.numPages,t._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Yh(r,t))})),e.on("DocException",(function(t){var e;switch(t.name){case"PasswordException":e=new Kt.JC(t.message,t.code);break;case"InvalidPDFException":e=new Kt.Z7(t.message);break;case"MissingPDFException":e=new Kt.ew(t.message);break;case"UnexpectedResponseException":e=new Kt.wW(t.message,t.status);break;case"UnknownErrorException":e=new Kt.S9(t.message,t.details);break;default:(0,Kt.HB)("DocException - expected a valid Error.")}n._capability.reject(e)})),e.on("PasswordRequest",(function(e){if(Sh(ff,t,Promise.withResolvers()),n.onPassword){try{n.onPassword((function(e){e instanceof Error?kh(ff,t).reject(e):kh(ff,t).resolve({password:e})}),e.code)}catch(e){kh(ff,t).reject(e)}}else kh(ff,t).reject(new Kt.JC(e.message,e.code));return kh(ff,t).promise})),e.on("DataLoaded",(function(e){var r;null===(r=n.onProgress)||void 0===r||r.call(n,{loaded:e.length,total:e.length}),t.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(function(e){t.destroyed||kh(lf,t).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(function(n){var r,i=wh(n,3),o=i[0],a=i[1],u=i[2];if(t.destroyed)return null;if(t.commonObjs.has(o))return null;switch(a){case"Font":var s=t._params,l=s.disableFontFace,c=s.fontExtraProperties,h=s.pdfBug;if("error"in u){var f=u.error;(0,Kt.R8)("Error during font loading: ".concat(f)),t.commonObjs.resolve(o,f);break}var d=h&&null!==(r=globalThis.FontInspector)&&void 0!==r&&r.enabled?function(t,e){return globalThis.FontInspector.fontAdded(t,e)}:null,p=new Pu(u,{disableFontFace:l,inspectFont:d});t.fontLoader.bind(p).catch((function(){return e.sendWithPromise("FontFallback",{id:o})})).finally((function(){!c&&p.data&&(p.data=null),t.commonObjs.resolve(o,p)}));break;case"CopyLocalImage":var v=u.imageRef;(0,Kt.vA)(v,"The imageRef must be defined.");var y,g=xh(kh(lf,t).values());try{for(g.s();!(y=g.n()).done;){var m,b=xh(y.value.objs);try{for(b.s();!(m=b.n()).done;){var w=wh(m.value,2)[1];if((null==w?void 0:w.ref)===v)return w.dataLen?(t.commonObjs.resolve(o,structuredClone(w)),w.dataLen):null}}catch(t){b.e(t)}finally{b.f()}}}catch(t){g.e(t)}finally{g.f()}break;case"FontPath":case"Image":case"Pattern":t.commonObjs.resolve(o,u);break;default:throw new Error("Got unknown common object type ".concat(a))}return null})),e.on("obj",(function(e){var n=wh(e,4),r=n[0],i=n[1],o=n[2],a=n[3];if(!t.destroyed){var u,s=kh(lf,t).get(i);if(!s.objs.has(r))if(0!==s._intentStates.size)switch(o){case"Image":s.objs.resolve(r,a),(null==a?void 0:a.dataLen)>Kt.kA&&(s._maybeCleanupAfterRender=!0);break;case"Pattern":s.objs.resolve(r,a);break;default:throw new Error("Got unknown object type ".concat(o))}else null==a||null===(u=a.bitmap)||void 0===u||u.close()}})),e.on("DocProgress",(function(e){var r;t.destroyed||null===(r=n.onProgress)||void 0===r||r.call(n,{loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.cMapReaderFactory?t.cMapReaderFactory.fetch(e):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))})),e.on("FetchStandardFontData",(function(e){return t.destroyed?Promise.reject(new Error("Worker was destroyed.")):t.standardFontDataFactory?t.standardFontDataFactory.fetch(e):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))}))}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"saveDocument",value:function(){var t,e,n=this;this.annotationStorage.size<=0&&(0,Kt.R8)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");var r=this.annotationStorage.serializable,i=r.map,o=r.transfer;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:i,filename:null!==(t=null===(e=this._fullReader)||void 0===e?void 0:e.filename)&&void 0!==t?t:null},o).finally((function(){n.annotationStorage.resetModified()}))}},{key:"getPage",value:function(t){var e=this;if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));var n=t-1,r=kh(cf,this).get(n);if(r)return r;var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(r){if(e.destroyed)throw new Error("Transport destroyed");r.refStr&&kh(hf,e).set(r.refStr,t);var i=new Zh(n,r,e,e._params.pdfBug);return kh(lf,e).set(n,i),i}));return kh(cf,this).set(n,i),i}},{key:"getPageIndex",value:function(t){return Vh(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}},{key:"getAnnotations",value:function(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}},{key:"getFieldObjects",value:function(){return Ch(df,this,vf).call(this,"GetFieldObjects")}},{key:"hasJSActions",value:function(){return Ch(df,this,vf).call(this,"HasJSActions")}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(t){return"string"!=typeof t?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getDocJSActions",value:function(){return Ch(df,this,vf).call(this,"GetDocJSActions")}},{key:"getPageJSActions",value:function(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(t){return Ch(df,this,vf).call(this,"GetOptionalContentConfig").then((function(e){return new Sl(e,t)}))}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var t=this,e="GetMetadata",n=kh(sf,this).get(e);if(n)return n;var r=this.messageHandler.sendWithPromise(e,null).then((function(e){var n,r,i,o;return{info:e[0],metadata:e[1]?new Qs(e[1]):null,contentDispositionFilename:null!==(n=null===(r=t._fullReader)||void 0===r?void 0:r.filename)&&void 0!==n?n:null,contentLength:null!==(i=null===(o=t._fullReader)||void 0===o?void 0:o.contentLength)&&void 0!==i?i:null}}));return kh(sf,this).set(e,r),r}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:(t=Oh(Ph().mark((function t(){var e,n,r,i,o=arguments;return Ph().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]&&o[0],!this.destroyed){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.messageHandler.sendWithPromise("Cleanup",null);case 5:n=xh(kh(lf,this).values()),t.prev=6,n.s();case 8:if((r=n.n()).done){t.next=15;break}if((i=r.value).cleanup()){t.next=13;break}throw new Error("startCleanup: Page ".concat(i.pageNumber," is currently rendering."));case 13:t.next=8;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),n.e(t.t0);case 20:return t.prev=20,n.f(),t.finish(20);case 23:this.commonObjs.clear(),e||this.fontLoader.clear(),kh(sf,this).clear(),this.filterFactory.destroy(!0),th.cleanup();case 28:case"end":return t.stop()}}),t,this,[[6,17,20,23]])}))),function(){return t.apply(this,arguments)})},{key:"cachedPageNumber",value:function(t){var e;if(!Vh(t))return null;var n=0===t.gen?"".concat(t.num,"R"):"".concat(t.num,"R").concat(t.gen);return null!==(e=kh(hf,this).get(n))&&void 0!==e?e:null}}]);var t}();function vf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=kh(sf,this).get(t);if(n)return n;var r=this.messageHandler.sendWithPromise(t,e);return kh(sf,this).set(t,r),r}var yf=Symbol("INITIAL_DATA"),gf=new WeakMap,mf=new WeakSet,bf=function(){return Mh((function t(){Th(this,t),Dh(this,mf),Eh(this,gf,Object.create(null))}),[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){var n=Ch(mf,this,wf).call(this,t);return n.promise.then((function(){return e(n.data)})),null}var r=kh(gf,this)[t];if(!r||r.data===yf)throw new Error("Requesting object that isn't resolved yet ".concat(t,"."));return r.data}},{key:"has",value:function(t){var e=kh(gf,this)[t];return!!e&&e.data!==yf}},{key:"resolve",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Ch(mf,this,wf).call(this,t);n.data=e,n.resolve()}},{key:"clear",value:function(){for(var t in kh(gf,this)){var e,n=kh(gf,this)[t].data;null==n||null===(e=n.bitmap)||void 0===e||e.close()}Sh(gf,this,Object.create(null))}},{key:Symbol.iterator,value:Ph().mark((function t(){var e,n;return Ph().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=Ph().keys(kh(gf,this));case 1:if((t.t1=t.t0()).done){t.next=10;break}if(e=t.t1.value,(n=kh(gf,this)[e].data)!==yf){t.next=6;break}return t.abrupt("continue",1);case 6:return t.next=8,[e,n];case 8:t.next=1;break;case 10:case"end":return t.stop()}}),t,this)}))}])}();function wf(t){var e;return(e=kh(gf,this))[t]||(e[t]=yh(yh({},Promise.withResolvers()),{},{data:yf}))}var Df=new WeakMap,Ef=function(){return Mh((function t(e){var n=this;Th(this,t),Eh(this,Df,null),Sh(Df,this,e),this.onContinue=null,("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"))&&Object.defineProperty(this,"getOperatorList",{value:function(){return kh(Df,n).operatorList}})}),[{key:"promise",get:function(){return kh(Df,this).capability.promise}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;kh(Df,this).cancel(null,t)}},{key:"separateAnnots",get:function(){var t=kh(Df,this).operatorList.separateAnnots;if(!t)return!1;var e=kh(Df,this).annotationCanvasMap;return t.form||t.canvas&&(null==e?void 0:e.size)>0}}])}(),Af=function(){return Mh((function t(e){var n=e.callback,r=e.params,i=e.objs,o=e.commonObjs,a=e.annotationCanvasMap,u=e.operatorList,s=e.pageIndex,l=e.canvasFactory,c=e.filterFactory,h=e.useRequestAnimationFrame,f=void 0!==h&&h,d=e.pdfBug,p=void 0!==d&&d,v=e.pageColors,y=void 0===v?null:v;Th(this,t),this.callback=n,this.params=r,this.objs=i,this.commonObjs=o,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=u,this._pageIndex=s,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=p,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===f&&"undefined"!=typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Ef(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}),[{key:"completed",get:function(){return this.capability.promise.catch((function(){}))}},{key:"initializeGraphics",value:function(t){var e,n,r=t.transparency,i=void 0!==r&&r,o=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(kf._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");kf._.add(this._canvas)}this._pdfBug&&null!==(e=globalThis.StepperManager)&&void 0!==e&&e.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var a=this.params,u=a.canvasContext,s=a.viewport,l=a.transform,c=a.background;this.gfx=new Ls(u,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:o},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:s,transparency:i,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}}},{key:"cancel",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(t=this.gfx)||void 0===t||t.endDrawing(),kf._.delete(this._canvas),this.callback(e||new sn("Rendering cancelled, page ".concat(this._pageIndex+1),n))}},{key:"operatorListChanged",value:function(){var t;this.graphicsReady?(null===(t=this.stepper)||void 0===t||t.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var t=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){t._nextBound().catch(t._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}},{key:"_next",value:(t=Oh(Ph().mark((function t(){return Ph().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),kf._.delete(this._canvas),this.callback()));case 4:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}]);var t}(),kf={_:new WeakSet},Sf="undefined"!=typeof PDFJSDev?PDFJSDev.eval("BUNDLE_VERSION"):null,Cf="undefined"!=typeof PDFJSDev?PDFJSDev.eval("BUNDLE_BUILD"):null;function xf(t){return xf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xf(t)}function _f(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ff(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ff(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ff(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Pf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lf(r.key),r)}}function Lf(t){var e=function(t,e){if("object"!=xf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xf(e)?e:e+""}function Of(t){return Math.floor(255*Math.max(0,Math.min(1,t))).toString(16).padStart(2,"0")}function Tf(t){return Math.max(0,Math.min(255,255*t))}var If=function(){return function(t,e,n){return e&&Pf(t.prototype,e),n&&Pf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),null,[{key:"CMYK_G",value:function(t){var e=_f(t,4),n=e[0],r=e[1],i=e[2],o=e[3];return["G",1-Math.min(1,.3*n+.59*i+.11*r+o)]}},{key:"G_CMYK",value:function(t){return["CMYK",0,0,0,1-_f(t,1)[0]]}},{key:"G_RGB",value:function(t){var e=_f(t,1)[0];return["RGB",e,e,e]}},{key:"G_rgb",value:function(t){var e=_f(t,1)[0];return[e=Tf(e),e,e]}},{key:"G_HTML",value:function(t){var e=Of(_f(t,1)[0]);return"#".concat(e).concat(e).concat(e)}},{key:"RGB_G",value:function(t){var e=_f(t,3);return["G",.3*e[0]+.59*e[1]+.11*e[2]]}},{key:"RGB_rgb",value:function(t){return t.map(Tf)}},{key:"RGB_HTML",value:function(t){return"#".concat(t.map(Of).join(""))}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"T_rgb",value:function(){return[null]}},{key:"CMYK_RGB",value:function(t){var e=_f(t,4),n=e[0],r=e[1],i=e[2],o=e[3];return["RGB",1-Math.min(1,n+o),1-Math.min(1,i+o),1-Math.min(1,r+o)]}},{key:"CMYK_rgb",value:function(t){var e=_f(t,4),n=e[0],r=e[1],i=e[2],o=e[3];return[Tf(1-Math.min(1,n+o)),Tf(1-Math.min(1,i+o)),Tf(1-Math.min(1,r+o))]}},{key:"CMYK_HTML",value:function(t){var e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}},{key:"RGB_CMYK",value:function(t){var e=_f(t,3),n=1-e[0],r=1-e[1],i=1-e[2];return["CMYK",n,r,i,Math.min(n,r,i)]}}])}();function Mf(t){return Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(t)}function Bf(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||Nf(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jf(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Nf(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Nf(t,e){if(t){if("string"==typeof t)return Rf(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rf(t,e):void 0}}function Rf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Wf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gf(r.key),r)}}function Gf(t){var e=function(t,e){if("object"!=Mf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mf(e)?e:e+""}var Hf=function(){return function(t,e,n){return e&&Wf(t.prototype,e),n&&Wf(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}),null,[{key:"setupStorage",value:function(t,e,n,r,i){var o=r.getValue(e,{value:null});switch(n.name){case"textarea":if(null!==o.value&&(t.textContent=o.value),"print"===i)break;t.addEventListener("input",(function(t){r.setValue(e,{value:t.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(o.value===n.attributes.xfaOn?t.setAttribute("checked",!0):o.value===n.attributes.xfaOff&&t.removeAttribute("checked"),"print"===i)break;t.addEventListener("change",(function(t){r.setValue(e,{value:t.target.checked?t.target.getAttribute("xfaOn"):t.target.getAttribute("xfaOff")})}))}else{if(null!==o.value&&t.setAttribute("value",o.value),"print"===i)break;t.addEventListener("input",(function(t){r.setValue(e,{value:t.target.value})}))}break;case"select":if(null!==o.value){t.setAttribute("value",o.value);var a,u=jf(n.children);try{for(u.s();!(a=u.n()).done;){var s=a.value;s.attributes.value===o.value?s.attributes.selected=!0:s.attributes.hasOwnProperty("selected")&&delete s.attributes.selected}}catch(t){u.e(t)}finally{u.f()}}t.addEventListener("input",(function(t){var n=t.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(e,{value:i})}))}}},{key:"setAttributes",value:function(t){var e=t.html,n=t.element,r=t.storage,i=void 0===r?null:r,o=t.intent,a=t.linkService,u=n.attributes,s=e instanceof HTMLAnchorElement;"radio"===u.type&&(u.name="".concat(u.name,"-").concat(o));for(var l=0,c=Object.entries(u);l<c.length;l++){var h=Bf(c[l],2),f=h[0],d=h[1];if(null!=d)switch(f){case"class":d.length&&e.setAttribute(f,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!s||"href"!==f&&"newWindow"!==f)&&e.setAttribute(f,d)}}s&&a.addLinkAttributes(e,u.href,u.newWindow),i&&u.dataId&&this.setupStorage(e,u.dataId,n,i)}},{key:"render",value:function(t){var e=t.annotationStorage,n=t.linkService,r=t.xfaHtml,i=t.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:i,linkService:n});var a="richText"!==i,u=t.div;if(u.append(o),t.viewport){var s="matrix(".concat(t.viewport.transform.join(","),")");u.style.transform=s}a&&u.setAttribute("class","xfaLayer xfaFont");var l=[];if(0===r.children.length){if(r.value){var c=document.createTextNode(r.value);o.append(c),a&&ph.shouldBuildText(r.name)&&l.push(c)}return{textDivs:l}}for(var h=[[r,-1,o]];h.length>0;){var f,d,p=Bf(h.at(-1),3),v=p[0],y=p[1],g=p[2];if(y+1!==v.children.length){var m=v.children[++h.at(-1)[1]];if(null!==m){var b=m.name;if("#text"!==b){var w=null!=m&&null!==(f=m.attributes)&&void 0!==f&&f.xmlns?document.createElementNS(m.attributes.xmlns,b):document.createElement(b);if(g.append(w),m.attributes&&this.setAttributes({html:w,element:m,storage:e,intent:i,linkService:n}),(null===(d=m.children)||void 0===d?void 0:d.length)>0)h.push([m,-1,w]);else if(m.value){var D=document.createTextNode(m.value);a&&ph.shouldBuildText(b)&&l.push(D),w.append(D)}}else{var E=document.createTextNode(m.value);l.push(E),g.append(E)}}}else h.pop()}var A,k=jf(u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"));try{for(k.s();!(A=k.n()).done;){A.value.setAttribute("readOnly",!0)}}catch(t){k.e(t)}finally{k.f()}return{textDivs:l}}},{key:"update",value:function(t){var e="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=e,t.div.hidden=!1}}])}();function Vf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Uf(){Uf=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==dd(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(dd(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function zf(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Jf(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){zf(o,r,i,a,u,"next",t)}function u(t){zf(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Yf(t,e,n){e||(e=[]);var r=e.length++;return Object.defineProperty({},"_",{set:function(i){e[r]=i,t.apply(n,e)}})}function Kf(t,e,n){return n(fd(t,e))}function Xf(){return Xf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=$f(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Xf.apply(null,arguments)}function qf(t){return function(t){if(Array.isArray(t))return od(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||id(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zf(t,e,n){return e=$f(e),function(t,e){if(e&&("object"==dd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Qf()?Reflect.construct(e,n||[],$f(t).constructor):e.apply(t,n))}function Qf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Qf=function(){return!!t})()}function $f(t){return $f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$f(t)}function td(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ed(t,e)}function ed(t,e){return ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ed(t,e)}function nd(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=id(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function rd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||id(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function id(t,e){if(t){if("string"==typeof t)return od(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?od(t,e):void 0}}function od(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ad(t,e,n){return(e=gd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ud(t,e){ld(t,e),e.add(t)}function sd(t,e,n){ld(t,e),e.set(t,n)}function ld(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cd(t,e,n){return t.set(fd(t,e),n),n}function hd(t,e){return t.get(fd(t,e))}function fd(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function dd(t){return dd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(t)}function pd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gd(r.key),r)}}function yd(t,e,n){return e&&vd(t.prototype,e),n&&vd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gd(t){var e=function(t,e){if("object"!=dd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=dd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==dd(e)?e:e+""}var md=1e3,bd=new WeakSet;function wd(t){return{width:t[2]-t[0],height:t[3]-t[1]}}var Dd=function(){return yd((function t(){pd(this,t)}),null,[{key:"create",value:function(t){switch(t.data.annotationType){case Kt.UJ.LINK:return new Fd(t);case Kt.UJ.TEXT:return new Td(t);case Kt.UJ.WIDGET:switch(t.data.fieldType){case"Tx":return new Md(t);case"Btn":return t.data.radioButton?new Nd(t):t.data.checkBox?new jd(t):new Rd(t);case"Ch":return new Wd(t);case"Sig":return new Bd(t)}return new Id(t);case Kt.UJ.POPUP:return new Gd(t);case Kt.UJ.FREETEXT:return new mp(t);case Kt.UJ.LINE:return new wp(t);case Kt.UJ.SQUARE:return new Ep(t);case Kt.UJ.CIRCLE:return new kp(t);case Kt.UJ.POLYLINE:return new Cp(t);case Kt.UJ.CARET:return new _p(t);case Kt.UJ.INK:return new Pp(t);case Kt.UJ.POLYGON:return new xp(t);case Kt.UJ.HIGHLIGHT:return new Lp(t);case Kt.UJ.UNDERLINE:return new Op(t);case Kt.UJ.SQUIGGLY:return new Tp(t);case Kt.UJ.STRIKEOUT:return new Ip(t);case Kt.UJ.STAMP:return new Mp(t);case Kt.UJ.FILEATTACHMENT:return new Np(t);default:return new Cd(t)}}}])}(),Ed=new WeakMap,Ad=new WeakMap,kd=new WeakMap,Sd=new WeakSet,Cd=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isRenderable,i=void 0!==r&&r,o=n.ignoreBorder,a=void 0!==o&&o,u=n.createQuadrilaterals,s=void 0!==u&&u;pd(this,t),ud(this,Sd),sd(this,Ed,null),sd(this,Ad,!1),sd(this,kd,null),this.isRenderable=i,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,i&&(this.container=this._createContainer(a)),s&&this._createQuadrilaterals()}return yd(t,[{key:"hasPopupData",get:function(){return t._hasPopupData(this.data)}},{key:"updateEdited",value:function(t){var e;if(this.container){hd(Ed,this)||cd(Ed,this,{rect:this.data.rect.slice(0)});var n=t.rect;n&&fd(Sd,this,xd).call(this,n),null===(e=hd(kd,this))||void 0===e||e.popup.updateEdited(t)}}},{key:"resetEdited",value:function(){var t;hd(Ed,this)&&(fd(Sd,this,xd).call(this,hd(Ed,this).rect),null===(t=hd(kd,this))||void 0===t||t.popup.resetEdited(),cd(Ed,this,null))}},{key:"_createContainer",value:function(t){var e=this.data,n=this.parent,r=n.page,i=n.viewport,o=document.createElement("section");o.setAttribute("data-annotation-id",e.id),this instanceof Id||(o.tabIndex=md);var a=o.style;if(a.zIndex=this.parent.zIndex++,e.popupRef&&o.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(o.title=e.alternativeText),e.noRotate&&o.classList.add("norotate"),!e.rect||this instanceof Gd){var u=e.rotation;return e.hasOwnCanvas||0===u||this.setRotation(u,o),o}var s=wd(e.rect),l=s.width,c=s.height;if(!t&&e.borderStyle.width>0){a.borderWidth="".concat(e.borderStyle.width,"px");var h=e.borderStyle.horizontalCornerRadius,f=e.borderStyle.verticalCornerRadius;if(h>0||f>0){var d="calc(".concat(h,"px * var(--scale-factor)) / calc(").concat(f,"px * var(--scale-factor))");a.borderRadius=d}else if(this instanceof Nd){var p="calc(".concat(l,"px * var(--scale-factor)) / calc(").concat(c,"px * var(--scale-factor))");a.borderRadius=p}switch(e.borderStyle.style){case Kt.ru.SOLID:a.borderStyle="solid";break;case Kt.ru.DASHED:a.borderStyle="dashed";break;case Kt.ru.BEVELED:(0,Kt.R8)("Unimplemented border style: beveled");break;case Kt.ru.INSET:(0,Kt.R8)("Unimplemented border style: inset");break;case Kt.ru.UNDERLINE:a.borderBottomStyle="solid"}var v=e.borderColor||null;v?(cd(Ad,this,!0),a.borderColor=Kt.J0.makeHexColor(0|v[0],0|v[1],0|v[2])):a.borderWidth=0}var y=Kt.J0.normalizeRect([e.rect[0],r.view[3]-e.rect[1]+r.view[1],e.rect[2],r.view[3]-e.rect[3]+r.view[1]]),g=i.rawDims,m=g.pageWidth,b=g.pageHeight,w=g.pageX,D=g.pageY;a.left="".concat(100*(y[0]-w)/m,"%"),a.top="".concat(100*(y[1]-D)/b,"%");var E=e.rotation;return e.hasOwnCanvas||0===E?(a.width="".concat(100*l/m,"%"),a.height="".concat(100*c/b,"%")):this.setRotation(E,o),o}},{key:"setRotation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(this.data.rect){var n,r,i=this.parent.viewport.rawDims,o=i.pageWidth,a=i.pageHeight,u=wd(this.data.rect),s=u.width,l=u.height;t%180==0?(n=100*s/o,r=100*l/a):(n=100*l/o,r=100*s/a),e.style.width="".concat(n,"%"),e.style.height="".concat(r,"%"),e.setAttribute("data-main-rotation",(360-t)%360)}}},{key:"_commonActions",get:function(){var t=this,e=function(e,n,r){var i=r.detail[e],o=i[0],a=i.slice(1);r.target.style[n]=If["".concat(o,"_HTML")](a),t.annotationStorage.setValue(t.data.id,ad({},n,If["".concat(o,"_rgb")](a)))};return(0,Kt.r7)(this,"_commonActions",{display:function(e){var n=e.detail.display,r=n%2==1;t.container.style.visibility=r?"hidden":"visible",t.annotationStorage.setValue(t.data.id,{noView:r,noPrint:1===n||2===n})},print:function(e){t.annotationStorage.setValue(t.data.id,{noPrint:!e.detail.print})},hidden:function(e){var n=e.detail.hidden;t.container.style.visibility=n?"hidden":"visible",t.annotationStorage.setValue(t.data.id,{noPrint:n,noView:n})},focus:function(t){setTimeout((function(){return t.target.focus({preventScroll:!1})}),0)},userName:function(t){t.target.title=t.detail.userName},readonly:function(t){t.target.disabled=t.detail.readonly},required:function(e){t._setRequired(e.target,e.detail.required)},bgColor:function(t){e("bgColor","backgroundColor",t)},fillColor:function(t){e("fillColor","backgroundColor",t)},fgColor:function(t){e("fgColor","color",t)},textColor:function(t){e("textColor","color",t)},borderColor:function(t){e("borderColor","borderColor",t)},strokeColor:function(t){e("strokeColor","borderColor",t)},rotation:function(e){var n=e.detail.rotation;t.setRotation(n),t.annotationStorage.setValue(t.data.id,{rotation:n})}})}},{key:"_dispatchEventFromSandbox",value:function(t,e){for(var n=this._commonActions,r=0,i=Object.keys(e.detail);r<i.length;r++){var o=i[r],a=t[o]||n[o];null==a||a(e)}}},{key:"_setDefaultPropertiesFromJS",value:function(t){if(this.enableScripting){var e=this.annotationStorage.getRawValue(this.data.id);if(e)for(var n=this._commonActions,r=0,i=Object.entries(e);r<i.length;r++){var o=rd(i[r],2),a=o[0],u=o[1],s=n[a];if(s)s({detail:ad({},a,u),target:t}),delete e[a]}}}},{key:"_createQuadrilaterals",value:function(){if(this.container){var t=this.data.quadPoints;if(t){var e=this.data.rect.map((function(t){return Math.fround(t)})),n=rd(e,4),r=n[0],i=n[1],o=n[2],a=n[3];if(8===t.length){var u=rd(t.subarray(2,6),4),s=u[0],l=u[1],c=u[2],h=u[3];if(o===s&&a===l&&r===c&&i===h)return}var f,d=this.container.style;if(hd(Ad,this)){var p=d.borderColor,v=d.borderWidth;d.borderWidth=0,f=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(p,'" stroke-width="').concat(v,'">')],this.container.classList.add("hasBorder")}"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&this.container.classList.add("hasClipPath");var y=o-r,g=a-i,m=this.svgFactory,b=m.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0);var w=m.createElement("defs");b.append(w);var D=m.createElement("clipPath"),E="clippath_".concat(this.data.id);D.setAttribute("id",E),D.setAttribute("clipPathUnits","objectBoundingBox"),w.append(D);for(var A=2,k=t.length;A<k;A+=8){var S,C=t[A],x=t[A+1],_=t[A+2],F=t[A+3],P=m.createElement("rect"),L=(_-r)/y,O=(a-x)/g,T=(C-_)/y,I=(x-F)/g;P.setAttribute("x",L),P.setAttribute("y",O),P.setAttribute("width",T),P.setAttribute("height",I),D.append(P),null===(S=f)||void 0===S||S.push('<rect vector-effect="non-scaling-stroke" x="'.concat(L,'" y="').concat(O,'" width="').concat(T,'" height="').concat(I,'"/>'))}hd(Ad,this)&&(f.push("</g></svg>')"),d.backgroundImage=f.join("")),this.container.append(b),this.container.style.clipPath="url(#".concat(E,")")}}}},{key:"_createPopup",value:function(){var t=this.container,e=this.data;t.setAttribute("aria-haspopup","dialog");var n=cd(kd,this,new Gd({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}},{key:"render",value:function(){(0,Kt.HB)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=[];if(this._fieldObjects){var r=this._fieldObjects[t];if(r){var i,o=nd(r);try{for(o.s();!(i=o.n()).done;){var a=i.value,u=a.page,s=a.id,l=a.exportValues;if(-1!==u&&s!==e){var c="string"==typeof l?l:null,h=document.querySelector('[data-element-id="'.concat(s,'"]'));!h||bd.has(h)?n.push({id:s,exportValue:c,domElement:h}):(0,Kt.R8)("_getElementsByName - element not allowed: ".concat(s))}}}catch(t){o.e(t)}finally{o.f()}}return n}var f,d=nd(document.getElementsByName(t));try{for(d.s();!(f=d.n()).done;){var p=f.value,v=p.exportValue,y=p.getAttribute("data-element-id");y!==e&&(bd.has(p)&&n.push({id:y,exportValue:v,domElement:p}))}}catch(t){d.e(t)}finally{d.f()}return n}},{key:"show",value:function(){var t;this.container&&(this.container.hidden=!1),null===(t=this.popup)||void 0===t||t.maybeShow()}},{key:"hide",value:function(){var t;this.container&&(this.container.hidden=!0),null===(t=this.popup)||void 0===t||t.forceHide()}},{key:"getElementsToTriggerPopup",value:function(){return this.container}},{key:"addHighlightArea",value:function(){var t=this.getElementsToTriggerPopup();if(Array.isArray(t)){var e,n=nd(t);try{for(n.s();!(e=n.n()).done;){e.value.classList.add("highlightArea")}}catch(t){n.e(t)}finally{n.f()}}else t.classList.add("highlightArea")}},{key:"_isEditable",get:function(){return!1}},{key:"_editOnDoubleClick",value:function(){var t=this;if(this._isEditable){var e=this.annotationEditorType,n=this.data.id;this.container.addEventListener("dblclick",(function(){var r;null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("switchannotationeditormode",{source:t,mode:e,editId:n})}))}}}],[{key:"_hasPopupData",value:function(t){var e=t.titleObj,n=t.contentsObj,r=t.richText;return!!(null!=e&&e.str||null!=n&&n.str||null!=r&&r.str)}}])}();function xd(t){var e=this.container.style,n=this.data,r=n.rect,i=n.rotation,o=this.parent.viewport.rawDims,a=o.pageWidth,u=o.pageHeight,s=o.pageX,l=o.pageY;null==r||r.splice.apply(r,[0,4].concat(qf(t)));var c=wd(t),h=c.width,f=c.height;e.left="".concat(100*(t[0]-s)/a,"%"),e.top="".concat(100*(u-t[3]+l)/u,"%"),0===i?(e.width="".concat(100*h/a,"%"),e.height="".concat(100*f/u,"%")):this.setRotation(i)}var _d=new WeakSet,Fd=function(t){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return pd(this,e),ud(n=Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!(null==r||!r.ignoreBorder),createQuadrilaterals:!0}]),_d),n.isTooltipOnly=t.data.isTooltipOnly,n}return td(e,t),yd(e,[{key:"render",value:function(){var t=this.data,e=this.linkService,n=document.createElement("a");n.setAttribute("data-element-id",t.id);var r=!1;return t.url?(e.addLinkAttributes(n,t.url,t.newWindow),r=!0):t.action?(this._bindNamedAction(n,t.action),r=!0):t.attachment?(fd(_d,this,Ld).call(this,n,t.attachment,t.attachmentDest),r=!0):t.setOCGState?(fd(_d,this,Od).call(this,n,t.setOCGState),r=!0):t.dest?(this._bindLink(n,t.dest),r=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,t),r=!0),t.resetForm?(this._bindResetFormAction(n,t.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}},{key:"_bindLink",value:function(t,e){var n=this;t.href=this.linkService.getDestinationHash(e),t.onclick=function(){return e&&n.linkService.goToDestination(e),!1},(e||""===e)&&fd(_d,this,Pd).call(this)}},{key:"_bindNamedAction",value:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return n.linkService.executeNamedAction(e),!1},fd(_d,this,Pd).call(this)}},{key:"_bindJSAction",value:function(t,e){var n=this;t.href=this.linkService.getAnchorUrl("");for(var r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),i=function(){var i=a[o],u=r.get(i);if(!u)return 1;t[u]=function(){var t;return null===(t=n.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:n,detail:{id:e.id,name:i}}),!1}},o=0,a=Object.keys(e.actions);o<a.length;o++)i();t.onclick||(t.onclick=function(){return!1}),fd(_d,this,Pd).call(this)}},{key:"_bindResetFormAction",value:function(t,e){var n=this,r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),fd(_d,this,Pd).call(this),!this._fieldObjects)return(0,Kt.R8)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(r||(t.onclick=function(){return!1}));t.onclick=function(){null==r||r();var t=e.fields,i=e.refs,o=e.include,a=[];if(0!==t.length||0!==i.length){var u,s=new Set(i),l=nd(t);try{for(l.s();!(u=l.n()).done;){var c,h=u.value,f=nd(n._fieldObjects[h]||[]);try{for(f.s();!(c=f.n()).done;){var d=c.value.id;s.add(d)}}catch(t){f.e(t)}finally{f.f()}}}catch(t){l.e(t)}finally{l.f()}for(var p=0,v=Object.values(n._fieldObjects);p<v.length;p++){var y,g=nd(v[p]);try{for(g.s();!(y=g.n()).done;){var m=y.value;s.has(m.id)===o&&a.push(m)}}catch(t){g.e(t)}finally{g.f()}}}else for(var b=0,w=Object.values(n._fieldObjects);b<w.length;b++){var D=w[b];a.push.apply(a,qf(D))}for(var E,A=n.annotationStorage,k=[],S=0,C=a;S<C.length;S++){var x=C[S],_=x.id;switch(k.push(_),x.type){case"text":var F=x.defaultValue||"";A.setValue(_,{value:F});break;case"checkbox":case"radiobutton":var P=x.defaultValue===x.exportValues;A.setValue(_,{value:P});break;case"combobox":case"listbox":var L=x.defaultValue||"";A.setValue(_,{value:L});break;default:continue}var O=document.querySelector('[data-element-id="'.concat(_,'"]'));O&&(bd.has(O)?O.dispatchEvent(new Event("resetform")):(0,Kt.R8)("_bindResetFormAction - element not allowed: ".concat(_)))}n.enableScripting&&(null===(E=n.linkService.eventBus)||void 0===E||E.dispatch("dispatcheventinsandbox",{source:n,detail:{id:"app",ids:k,name:"ResetForm"}}));return!1}}}])}(Cd);function Pd(){this.container.setAttribute("data-internal-link","")}function Ld(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.href=this.linkService.getAnchorUrl(""),e.description&&(t.title=e.description),t.onclick=function(){var t;return null===(t=n.downloadManager)||void 0===t||t.openOrDownloadData(e.content,e.filename,r),!1},fd(_d,this,Pd).call(this)}function Od(t,e){var n=this;t.href=this.linkService.getAnchorUrl(""),t.onclick=function(){return n.linkService.executeSetOCGState(e),!1},fd(_d,this,Pd).call(this)}var Td=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:!0}])}return td(e,t),yd(e,[{key:"render",value:function(){this.container.classList.add("textAnnotation");var t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}])}(Cd),Id=function(t){function e(){return pd(this,e),Zf(this,e,arguments)}return td(e,t),yd(e,[{key:"render",value:function(){return this.container}},{key:"showElementAndHideCanvas",value:function(t){var e;this.data.hasOwnCanvas&&("CANVAS"===(null===(e=t.previousSibling)||void 0===e?void 0:e.nodeName)&&(t.previousSibling.hidden=!0),t.hidden=!1)}},{key:"_getKeyModifier",value:function(t){return Kt.TV.platform.isMac?t.metaKey:t.ctrlKey}},{key:"_setEventListener",value:function(t,e,n,r,i){var o=this;n.includes("mouse")?t.addEventListener(n,(function(t){var e;null===(e=o.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:o,detail:{id:o.data.id,name:r,value:i(t),shift:t.shiftKey,modifier:o._getKeyModifier(t)}})})):t.addEventListener(n,(function(t){var a;if("blur"===n){if(!e.focused||!t.relatedTarget)return;e.focused=!1}else if("focus"===n){if(e.focused)return;e.focused=!0}i&&(null===(a=o.linkService.eventBus)||void 0===a||a.dispatch("dispatcheventinsandbox",{source:o,detail:{id:o.data.id,name:r,value:i(t)}}))}))}},{key:"_setEventListeners",value:function(t,e,n,r){var i,o=nd(n);try{for(o.s();!(i=o.n()).done;){var a,u,s,l=rd(i.value,2),c=l[0],h=l[1];if("Action"===h||null!==(a=this.data.actions)&&void 0!==a&&a[h])"Focus"!==h&&"Blur"!==h||e||(e={focused:!1}),this._setEventListener(t,e,c,h,r),"Focus"!==h||null!==(u=this.data.actions)&&void 0!==u&&u.Blur?"Blur"!==h||null!==(s=this.data.actions)&&void 0!==s&&s.Focus||this._setEventListener(t,e,"focus","Focus",null):this._setEventListener(t,e,"blur","Blur",null)}}catch(t){o.e(t)}finally{o.f()}}},{key:"_setBackgroundColor",value:function(t){var e=this.data.backgroundColor||null;t.style.backgroundColor=null===e?"transparent":Kt.J0.makeHexColor(e[0],e[1],e[2])}},{key:"_setTextStyle",value:function(t){var e,n=this.data.defaultAppearanceData.fontColor,r=this.data.defaultAppearanceData.fontSize||9,i=t.style,o=function(t){return Math.round(10*t)/10};if(this.data.multiLine){var a=Math.abs(this.data.rect[3]-this.data.rect[1]-2),u=a/(Math.round(a/(Kt.fY*r))||1);e=Math.min(r,o(u/Kt.fY))}else{var s=Math.abs(this.data.rect[3]-this.data.rect[1]-2);e=Math.min(r,o(s/Kt.fY))}i.fontSize="calc(".concat(e,"px * var(--scale-factor))"),i.color=Kt.J0.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=["left","center","right"][this.data.textAlignment])}},{key:"_setRequired",value:function(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}])}(Cd),Md=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue}])}return td(e,t),yd(e,[{key:"setPropertyOnSiblings",value:function(t,e,n,r){var i,o=this.annotationStorage,a=nd(this._getElementsByName(t.name,t.id));try{for(a.s();!(i=a.n()).done;){var u=i.value;u.domElement&&(u.domElement[e]=n),o.setValue(u.id,ad({},r,n))}}catch(t){a.e(t)}finally{a.f()}}},{key:"render",value:function(){var t=this,e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");var r=null;if(this.renderForms){var i,o=e.getValue(n,{value:this.data.fieldValue}),a=o.value||"",u=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;u&&a.length>u&&(a=a.slice(0,u));var s=o.formattedValue||(null===(i=this.data.textContent)||void 0===i?void 0:i.join("\n"))||null;s&&this.data.comb&&(s=s.replaceAll(/\s+/g,""));var l,c,h={userValue:a,formattedValue:s,lastCommittedValue:null,commitKey:1,focused:!1};if(this.data.multiLine)(r=document.createElement("textarea")).textContent=null!==(l=s)&&void 0!==l?l:a,this.data.doNotScroll&&(r.style.overflowY="hidden");else(r=document.createElement("input")).type="text",r.setAttribute("value",null!==(c=s)&&void 0!==c?c:a),this.data.doNotScroll&&(r.style.overflowX="hidden");this.data.hasOwnCanvas&&(r.hidden=!0),bd.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=md,this._setRequired(r,this.data.required),u&&(r.maxLength=u),r.addEventListener("input",(function(i){e.setValue(n,{value:i.target.value}),t.setPropertyOnSiblings(r,"value",i.target.value,"value"),h.formattedValue=null})),r.addEventListener("resetform",(function(e){var n,i=null!==(n=t.data.defaultFieldValue)&&void 0!==n?n:"";r.value=h.userValue=i,h.formattedValue=null}));var f=function(t){var e=h.formattedValue;null!=e&&(t.target.value=e),t.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var d;r.addEventListener("focus",(function(e){var n;if(!h.focused){var r=e.target;h.userValue&&(r.value=h.userValue),h.lastCommittedValue=r.value,h.commitKey=1,null!==(n=t.data.actions)&&void 0!==n&&n.Focus||(h.focused=!0)}})),r.addEventListener("updatefromsandbox",(function(r){t.showElementAndHideCanvas(r.target);var i={value:function(t){var r;h.userValue=null!==(r=t.detail.value)&&void 0!==r?r:"",e.setValue(n,{value:h.userValue.toString()}),t.target.value=h.userValue},formattedValue:function(t){var r=t.detail.formattedValue;h.formattedValue=r,null!=r&&t.target!==document.activeElement&&(t.target.value=r),e.setValue(n,{formattedValue:r})},selRange:function(t){var e;(e=t.target).setSelectionRange.apply(e,qf(t.detail.selRange))},charLimit:function(r){var i,o=r.detail.charLimit,a=r.target;if(0!==o){a.setAttribute("maxLength",o);var u=h.userValue;!u||u.length<=o||(u=u.slice(0,o),a.value=h.userValue=u,e.setValue(n,{value:u}),null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:u,willCommit:!0,commitKey:1,selStart:a.selectionStart,selEnd:a.selectionEnd}}))}else a.removeAttribute("maxLength")}};t._dispatchEventFromSandbox(i,r)})),r.addEventListener("keydown",(function(e){var r;h.commitKey=1;var i=-1;if("Escape"===e.key?i=0:"Enter"!==e.key||t.data.multiLine?"Tab"===e.key&&(h.commitKey=3):i=2,-1!==i){var o=e.target.value;h.lastCommittedValue!==o&&(h.lastCommittedValue=o,h.userValue=o,null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:o,willCommit:!0,commitKey:i,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}}));var p=f;f=null,r.addEventListener("blur",(function(e){var r;if(h.focused&&e.relatedTarget){null!==(r=t.data.actions)&&void 0!==r&&r.Blur||(h.focused=!1);var i,o=e.target.value;if(h.userValue=o,h.lastCommittedValue!==o)null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:o,willCommit:!0,commitKey:h.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}});p(e)}})),null!==(d=this.data.actions)&&void 0!==d&&d.Keystroke&&r.addEventListener("beforeinput",(function(e){var r;h.lastCommittedValue=null;var i=e.data,o=e.target,a=o.value,u=o.selectionStart,s=o.selectionEnd,l=u,c=s;switch(e.inputType){case"deleteWordBackward":var f=a.substring(0,u).match(/\w*[^\w]*$/);f&&(l-=f[0].length);break;case"deleteWordForward":var d=a.substring(u).match(/^[^\w]*\w*/);d&&(c+=d[0].length);break;case"deleteContentBackward":u===s&&(l-=1);break;case"deleteContentForward":u===s&&(c+=1)}e.preventDefault(),null===(r=t.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:a,change:i||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(r,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.value}))}if(f&&r.addEventListener("blur",f),this.data.comb){var v=(this.data.rect[2]-this.data.rect[0])/u;r.classList.add("comb"),r.style.letterSpacing="calc(".concat(v,"px * var(--scale-factor) - 1ch)")}}else(r=document.createElement("div")).textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}])}(Id),Bd=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:!!t.data.hasOwnCanvas}])}return td(e,t),yd(e)}(Id),jd=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:t.renderForms}])}return td(e,t),yd(e,[{key:"render",value:function(){var t=this,e=this.annotationStorage,n=this.data,r=n.id,i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;"string"==typeof i&&(i="Off"!==i,e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");var o=document.createElement("input");return bd.add(o),o.setAttribute("data-element-id",r),o.disabled=n.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=n.fieldName,i&&o.setAttribute("checked",!0),o.setAttribute("exportValue",n.exportValue),o.tabIndex=md,o.addEventListener("change",(function(i){var o,a=i.target,u=a.name,s=a.checked,l=nd(t._getElementsByName(u,r));try{for(l.s();!(o=l.n()).done;){var c=o.value,h=s&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}}catch(t){l.e(t)}finally{l.f()}e.setValue(r,{value:s})})),o.addEventListener("resetform",(function(t){var e=n.defaultFieldValue||"Off";t.target.checked=e===n.exportValue})),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",(function(n){var i={value:function(t){t.target.checked="Off"!==t.detail.value,e.setValue(r,{value:t.target.checked})}};t._dispatchEventFromSandbox(i,n)})),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}])}(Id),Nd=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:t.renderForms}])}return td(e,t),yd(e,[{key:"render",value:function(){var t=this;this.container.classList.add("buttonWidgetAnnotation","radioButton");var e=this.annotationStorage,n=this.data,r=n.id,i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if("string"==typeof i&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i){var o,a=nd(this._getElementsByName(n.fieldName,r));try{for(a.s();!(o=a.n()).done;){var u=o.value;e.setValue(u.id,{value:!1})}}catch(t){a.e(t)}finally{a.f()}}var s=document.createElement("input");if(bd.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=md,s.addEventListener("change",(function(n){var i,o=n.target,a=o.name,u=o.checked,s=nd(t._getElementsByName(a,r));try{for(s.s();!(i=s.n()).done;){var l=i.value;e.setValue(l.id,{value:!1})}}catch(t){s.e(t)}finally{s.f()}e.setValue(r,{value:u})})),s.addEventListener("resetform",(function(t){var e=n.defaultFieldValue;t.target.checked=null!=e&&e===n.buttonValue})),this.enableScripting&&this.hasJSActions){var l=n.buttonValue;s.addEventListener("updatefromsandbox",(function(n){var i={value:function(n){var i,o=l===n.detail.value,a=nd(t._getElementsByName(n.target.name));try{for(a.s();!(i=a.n()).done;){var u=i.value,s=o&&u.id===r;u.domElement&&(u.domElement.checked=s),e.setValue(u.id,{value:s})}}catch(t){a.e(t)}finally{a.f()}}};t._dispatchEventFromSandbox(i,n)})),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(function(t){return t.target.checked}))}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}])}(Id),Rd=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{ignoreBorder:t.data.hasAppearance}])}return td(e,t),yd(e,[{key:"render",value:function(){var t=this,n=Xf($f(e.prototype),"render",this).call(this);n.classList.add("buttonWidgetAnnotation","pushButton");var r=n.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",(function(e){t._dispatchEventFromSandbox({},e)}))),n}}])}(Fd),Wd=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:t.renderForms}])}return td(e,t),yd(e,[{key:"render",value:function(){var t=this;this.container.classList.add("choiceWidgetAnnotation");var e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");bd.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=md;var o=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",(function(e){var n,r=t.data.defaultFieldValue,o=nd(i.options);try{for(o.s();!(n=o.n()).done;){var a=n.value;a.selected=a.value===r}}catch(t){o.e(t)}finally{o.f()}}));var a,u=nd(this.data.options);try{for(u.s();!(a=u.n()).done;){var s=a.value,l=document.createElement("option");l.textContent=s.displayValue,l.value=s.exportValue,r.value.includes(s.exportValue)&&(l.setAttribute("selected",!0),o=!1),i.append(l)}}catch(t){u.e(t)}finally{u.f()}var c=null;if(o){var h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),c=function(){h.remove(),i.removeEventListener("input",c),c=null},i.addEventListener("input",c)}var f=function(t){var e=t?"value":"textContent",n=i.options;return i.multiple?Array.prototype.filter.call(n,(function(t){return t.selected})).map((function(t){return t[e]})):-1===n.selectedIndex?null:n[n.selectedIndex][e]},d=f(!1),p=function(t){var e=t.target.options;return Array.prototype.map.call(e,(function(t){return{displayValue:t.textContent,exportValue:t.value}}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",(function(r){var o={value:function(t){var r;null===(r=c)||void 0===r||r();var o,a=t.detail.value,u=new Set(Array.isArray(a)?a:[a]),s=nd(i.options);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.selected=u.has(l.value)}}catch(t){s.e(t)}finally{s.f()}e.setValue(n,{value:f(!0)}),d=f(!1)},multipleSelection:function(t){i.multiple=!0},remove:function(t){var r=i.options,o=t.detail.remove;if(r[o].selected=!1,i.remove(o),r.length>0){var a=Array.prototype.findIndex.call(r,(function(t){return t.selected}));-1===a&&(r[0].selected=!0)}e.setValue(n,{value:f(!0),items:p(t)}),d=f(!1)},clear:function(t){for(;0!==i.length;)i.remove(0);e.setValue(n,{value:null,items:[]}),d=f(!1)},insert:function(t){var r=t.detail.insert,o=r.index,a=r.displayValue,u=r.exportValue,s=i.children[o],l=document.createElement("option");l.textContent=a,l.value=u,s?s.before(l):i.append(l),e.setValue(n,{value:f(!0),items:p(t)}),d=f(!1)},items:function(t){for(var r=t.detail.items;0!==i.length;)i.remove(0);var o,a=nd(r);try{for(a.s();!(o=a.n()).done;){var u=o.value,s=u.displayValue,l=u.exportValue,c=document.createElement("option");c.textContent=s,c.value=l,i.append(c)}}catch(t){a.e(t)}finally{a.f()}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:f(!0),items:p(t)}),d=f(!1)},indices:function(t){var r,i=new Set(t.detail.indices),o=nd(t.target.options);try{for(o.s();!(r=o.n()).done;){var a=r.value;a.selected=i.has(a.index)}}catch(t){o.e(t)}finally{o.f()}e.setValue(n,{value:f(!0)}),d=f(!1)},editable:function(t){t.target.disabled=!t.detail.editable}};t._dispatchEventFromSandbox(o,r)})),i.addEventListener("input",(function(r){var i,o=f(!0),a=f(!1);e.setValue(n,{value:o}),r.preventDefault(),null===(i=t.linkService.eventBus)||void 0===i||i.dispatch("dispatcheventinsandbox",{source:t,detail:{id:n,name:"Keystroke",value:d,change:a,changeEx:o,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(function(t){return t.target.value}))):i.addEventListener("input",(function(t){e.setValue(n,{value:f(!0)})})),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}])}(Id),Gd=function(t){function e(t){var n;pd(this,e);var r=t.data,i=t.elements;return(n=Zf(this,e,[t,{isRenderable:Cd._hasPopupData(r)}])).elements=i,n.popup=null,n}return td(e,t),yd(e,[{key:"render",value:function(){this.container.classList.add("popupAnnotation");var t,e=this.popup=new sp({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),n=[],r=nd(this.elements);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.popup=e,n.push(i.data.id),i.addHighlightArea()}}catch(t){r.e(t)}finally{r.f()}return this.container.setAttribute("aria-controls",n.map((function(t){return"".concat(Kt.c3).concat(t)})).join(",")),this.container}}])}(Cd),Hd=new WeakMap,Vd=new WeakMap,Ud=new WeakMap,zd=new WeakMap,Jd=new WeakMap,Yd=new WeakMap,Kd=new WeakMap,Xd=new WeakMap,qd=new WeakMap,Zd=new WeakMap,Qd=new WeakMap,$d=new WeakMap,tp=new WeakMap,ep=new WeakMap,np=new WeakMap,rp=new WeakMap,ip=new WeakMap,op=new WeakMap,ap=new WeakMap,up=new WeakSet,sp=function(){return yd((function t(e){var n=this,r=e.container,i=e.color,o=e.elements,a=e.titleObj,u=e.modificationDate,s=e.contentsObj,l=e.richText,c=e.parent,h=e.rect,f=e.parentRect,d=e.open;pd(this,t),ud(this,up),sd(this,Hd,fd(up,this,dp).bind(this)),sd(this,Vd,fd(up,this,gp).bind(this)),sd(this,Ud,fd(up,this,yp).bind(this)),sd(this,zd,fd(up,this,vp).bind(this)),sd(this,Jd,null),sd(this,Yd,null),sd(this,Kd,null),sd(this,Xd,null),sd(this,qd,null),sd(this,Zd,null),sd(this,Qd,null),sd(this,$d,!1),sd(this,tp,null),sd(this,ep,null),sd(this,np,null),sd(this,rp,null),sd(this,ip,null),sd(this,op,null),sd(this,ap,!1),cd(Yd,this,r),cd(ip,this,a),cd(Kd,this,s),cd(rp,this,l),cd(Zd,this,c),cd(Jd,this,i),cd(np,this,h),cd(Qd,this,f),cd(qd,this,o),cd(Xd,this,yn.toDateObject(u)),this.trigger=o.flatMap((function(t){return t.getElementsToTriggerPopup()}));var p,v=nd(this.trigger);try{for(v.s();!(p=v.n()).done;){var y=p.value;y.addEventListener("click",hd(zd,this)),y.addEventListener("mouseenter",hd(Ud,this)),y.addEventListener("mouseleave",hd(Vd,this)),y.classList.add("popupTriggerArea")}}catch(t){v.e(t)}finally{v.f()}var g,m=nd(o);try{for(m.s();!(g=m.n()).done;){var b;null===(b=g.value.container)||void 0===b||b.addEventListener("keydown",hd(Hd,this))}}catch(t){m.e(t)}finally{m.f()}hd(Yd,this).hidden=!0,d&&fd(up,this,vp).call(this),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&hd(Zd,this).popupShow.push(Jf(Uf().mark((function t(){return Uf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:hd(Yd,n).hidden&&fd(up,n,yp).call(n);case 1:case"end":return t.stop()}}),t)}))))}),[{key:"render",value:function(){if(!hd(tp,this)){var t=cd(tp,this,document.createElement("div"));if(t.className="popup",hd(Jd,this)){var e=t.style.outlineColor=Kt.J0.makeHexColor.apply(Kt.J0,qf(hd(Jd,this)));if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))t.style.backgroundColor="color-mix(in srgb, ".concat(e," 30%, white)");else{t.style.backgroundColor=Kt.J0.makeHexColor.apply(Kt.J0,qf(hd(Jd,this).map((function(t){return Math.floor(.7*(255-t)+t)}))))}}var n=document.createElement("span");n.className="header";var r=document.createElement("h1");n.append(r);var i=hd(ip,this);if(r.dir=i.dir,r.textContent=i.str,t.append(n),hd(Xd,this)){var o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),o.setAttribute("data-l10n-args",JSON.stringify({date:hd(Xd,this).toLocaleDateString(),time:hd(Xd,this).toLocaleTimeString()})),n.append(o)}var a=Kf(up,this,lp);if(a)Hf.render({xfaHtml:a,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{var u=this._formatContents(hd(Kd,this));t.append(u)}hd(Yd,this).append(t)}}},{key:"_formatContents",value:function(t){var e=t.str,n=t.dir,r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;for(var i=e.split(/(?:\r\n?|\n)/),o=0,a=i.length;o<a;++o){var u=i[o];r.append(document.createTextNode(u)),o<a-1&&r.append(document.createElement("br"))}return r}},{key:"updateEdited",value:function(t){var e,n=t.rect,r=t.popupContent;hd(op,this)||cd(op,this,{contentsObj:hd(Kd,this),richText:hd(rp,this)}),n&&cd(ep,this,null),r&&(cd(rp,this,fd(up,this,fp).call(this,r)),cd(Kd,this,null)),null===(e=hd(tp,this))||void 0===e||e.remove(),cd(tp,this,null)}},{key:"resetEdited",value:function(){var t;if(hd(op,this)){var e=hd(op,this);Yf(cd,[Kd,this])._=e.contentsObj,Yf(cd,[rp,this])._=e.richText,cd(op,this,null),null===(t=hd(tp,this))||void 0===t||t.remove(),cd(tp,this,null),cd(ep,this,null)}}},{key:"forceHide",value:function(){cd(ap,this,this.isVisible),hd(ap,this)&&(hd(Yd,this).hidden=!0)}},{key:"maybeShow",value:function(){hd(ap,this)&&(hd(tp,this)||fd(up,this,yp).call(this),cd(ap,this,!1),hd(Yd,this).hidden=!1)}},{key:"isVisible",get:function(){return!1===hd(Yd,this).hidden}}])}();function lp(t){var e=hd(rp,t),n=hd(Kd,t);return null==e||!e.str||null!=n&&n.str&&n.str!==e.str?null:hd(rp,t).html||null}function cp(t){var e;return(null===(e=Kf(up,t,lp))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.fontSize)||0}function hp(t){var e;return(null===(e=Kf(up,t,lp))||void 0===e||null===(e=e.attributes)||void 0===e||null===(e=e.style)||void 0===e?void 0:e.color)||null}function fp(t){var e,n=[],r={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:Kf(up,this,hp),fontSize:Kf(up,this,cp)?"calc(".concat(Kf(up,this,cp),"px * var(--scale-factor))"):""}},o=nd(t.split("\n"));try{for(o.s();!(e=o.n()).done;){var a=e.value;n.push({name:"span",value:a,attributes:i})}}catch(t){o.e(t)}finally{o.f()}return r}function dp(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||("Enter"===t.key||"Escape"===t.key&&hd($d,this))&&fd(up,this,vp).call(this)}function pp(){if(null===hd(ep,this)){var t,e=hd(Zd,this),n=e.page.view,r=e.viewport.rawDims,i=r.pageWidth,o=r.pageHeight,a=r.pageX,u=r.pageY,s=!!hd(Qd,this),l=hd(s?Qd:np,this),c=nd(hd(qd,this));try{for(c.s();!(t=c.n()).done;){var h=t.value;if(!l||null!==Kt.J0.intersect(h.data.rect,l)){l=h.data.rect,s=!0;break}}}catch(t){c.e(t)}finally{c.f()}var f=Kt.J0.normalizeRect([l[0],n[3]-l[1]+n[1],l[2],n[3]-l[3]+n[1]]),d=s?l[2]-l[0]+5:0,p=f[0]+d,v=f[1];cd(ep,this,[100*(p-a)/i,100*(v-u)/o]);var y=hd(Yd,this).style;y.left="".concat(hd(ep,this)[0],"%"),y.top="".concat(hd(ep,this)[1],"%")}}function vp(){cd($d,this,!hd($d,this)),hd($d,this)?(fd(up,this,yp).call(this),hd(Yd,this).addEventListener("click",hd(zd,this)),hd(Yd,this).addEventListener("keydown",hd(Hd,this))):(fd(up,this,gp).call(this),hd(Yd,this).removeEventListener("click",hd(zd,this)),hd(Yd,this).removeEventListener("keydown",hd(Hd,this)))}function yp(){hd(tp,this)||this.render(),this.isVisible?hd($d,this)&&hd(Yd,this).classList.add("focused"):(fd(up,this,pp).call(this),hd(Yd,this).hidden=!1,hd(Yd,this).style.zIndex=parseInt(hd(Yd,this).style.zIndex)+1e3)}function gp(){hd(Yd,this).classList.remove("focused"),!hd($d,this)&&this.isVisible&&(hd(Yd,this).hidden=!0,hd(Yd,this).style.zIndex=parseInt(hd(Yd,this).style.zIndex)-1e3)}var mp=function(t){function e(t){var n;return pd(this,e),(n=Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0}])).textContent=t.data.textContent,n.textPosition=t.data.textPosition,n.annotationEditorType=Kt.vP.FREETEXT,n}return td(e,t),yd(e,[{key:"render",value:function(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){var t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");var e,n=nd(this.textContent);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=document.createElement("span");i.textContent=r,t.append(i)}}catch(t){n.e(t)}finally{n.f()}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},{key:"_isEditable",get:function(){return this.data.hasOwnCanvas}}])}(Cd),bp=new WeakMap,wp=function(t){function e(t){var n;return pd(this,e),sd(n=Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0}]),bp,null),n}return td(e,t),yd(e,[{key:"render",value:function(){this.container.classList.add("lineAnnotation");var t=this.data,e=wd(t.rect),n=e.width,r=e.height,i=this.svgFactory.create(n,r,!0),o=cd(bp,this,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),i.append(o),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return hd(bp,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}(Cd),Dp=new WeakMap,Ep=function(t){function e(t){var n;return pd(this,e),sd(n=Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0}]),Dp,null),n}return td(e,t),yd(e,[{key:"render",value:function(){this.container.classList.add("squareAnnotation");var t=this.data,e=wd(t.rect),n=e.width,r=e.height,i=this.svgFactory.create(n,r,!0),o=t.borderStyle.width,a=cd(Dp,this,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",n-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return hd(Dp,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}(Cd),Ap=new WeakMap,kp=function(t){function e(t){var n;return pd(this,e),sd(n=Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0}]),Ap,null),n}return td(e,t),yd(e,[{key:"render",value:function(){this.container.classList.add("circleAnnotation");var t=this.data,e=wd(t.rect),n=e.width,r=e.height,i=this.svgFactory.create(n,r,!0),o=t.borderStyle.width,a=cd(Ap,this,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",n/2),a.setAttribute("cy",r/2),a.setAttribute("rx",n/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return hd(Ap,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}(Cd),Sp=new WeakMap,Cp=function(t){function e(t){var n;return pd(this,e),sd(n=Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0}]),Sp,null),n.containerClassName="polylineAnnotation",n.svgElementName="svg:polyline",n}return td(e,t),yd(e,[{key:"render",value:function(){this.container.classList.add(this.containerClassName);var t=this.data,e=t.rect,n=t.vertices,r=t.borderStyle,i=t.popupRef;if(!n)return this.container;for(var o=wd(e),a=o.width,u=o.height,s=this.svgFactory.create(a,u,!0),l=[],c=0,h=n.length;c<h;c+=2){var f=n[c]-e[0],d=e[3]-n[c+1];l.push("".concat(f,",").concat(d))}l=l.join(" ");var p=cd(Sp,this,this.svgFactory.createElement(this.svgElementName));return p.setAttribute("points",l),p.setAttribute("stroke-width",r.width||1),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),s.append(p),this.container.append(s),!i&&this.hasPopupData&&this._createPopup(),this.container}},{key:"getElementsToTriggerPopup",value:function(){return hd(Sp,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}(Cd),xp=function(t){function e(t){var n;return pd(this,e),(n=Zf(this,e,[t])).containerClassName="polygonAnnotation",n.svgElementName="svg:polygon",n}return td(e,t),yd(e)}(Cp),_p=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0}])}return td(e,t),yd(e,[{key:"render",value:function(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}])}(Cd),Fp=new WeakMap,Pp=function(t){function e(t){var n;return pd(this,e),sd(n=Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0}]),Fp,[]),n.containerClassName="inkAnnotation",n.svgElementName="svg:polyline",n.annotationEditorType=Kt.vP.INK,n}return td(e,t),yd(e,[{key:"render",value:function(){this.container.classList.add(this.containerClassName);var t,e=this.data,n=e.rect,r=e.inkLists,i=e.borderStyle,o=e.popupRef,a=wd(n),u=a.width,s=a.height,l=this.svgFactory.create(u,s,!0),c=nd(r);try{for(c.s();!(t=c.n()).done;){for(var h=t.value,f=[],d=0,p=h.length;d<p;d+=2){var v=h[d]-n[0],y=n[3]-h[d+1];f.push("".concat(v,",").concat(y))}f=f.join(" ");var g=this.svgFactory.createElement(this.svgElementName);hd(Fp,this).push(g),g.setAttribute("points",f),g.setAttribute("stroke-width",i.width||1),g.setAttribute("stroke","transparent"),g.setAttribute("fill","transparent"),!o&&this.hasPopupData&&this._createPopup(),l.append(g)}}catch(t){c.e(t)}finally{c.f()}return this.container.append(l),this.container}},{key:"getElementsToTriggerPopup",value:function(){return hd(Fp,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}(Cd),Lp=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}])}return td(e,t),yd(e,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}])}(Cd),Op=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}])}return td(e,t),yd(e,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}])}(Cd),Tp=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}])}return td(e,t),yd(e,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}])}(Cd),Ip=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}])}return td(e,t),yd(e,[{key:"render",value:function(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}])}(Cd),Mp=function(t){function e(t){return pd(this,e),Zf(this,e,[t,{isRenderable:!0,ignoreBorder:!0}])}return td(e,t),yd(e,[{key:"render",value:function(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}])}(Cd),Bp=new WeakMap,jp=new WeakSet,Np=function(t){function e(t){var n,r;pd(this,e),ud(r=Zf(this,e,[t,{isRenderable:!0}]),jp),sd(r,Bp,null);var i=r.data.file;return r.filename=i.filename,r.content=i.content,null===(n=r.linkService.eventBus)||void 0===n||n.dispatch("fileattachmentannotation",function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vf(Object(n),!0).forEach((function(e){ad(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({source:r},i)),r}return td(e,t),yd(e,[{key:"render",value:function(){var t=this;this.container.classList.add("fileAttachmentAnnotation");var e,n=this.container,r=this.data;r.hasAppearance||0===r.fillAlpha?e=document.createElement("div"):((e=document.createElement("img")).src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(r.name)?"paperclip":"pushpin",".svg"),r.fillAlpha&&r.fillAlpha<1&&(e.style="filter: opacity(".concat(Math.round(100*r.fillAlpha),"%);"),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&this.container.classList.add("hasFillAlpha"))),e.addEventListener("dblclick",fd(jp,this,Rp).bind(this)),cd(Bp,this,e);var i=Kt.TV.platform.isMac;return n.addEventListener("keydown",(function(e){"Enter"===e.key&&(i?e.metaKey:e.ctrlKey)&&fd(jp,t,Rp).call(t)})),!r.popupRef&&this.hasPopupData?this._createPopup():e.classList.add("popupTriggerArea"),n.append(e),n}},{key:"getElementsToTriggerPopup",value:function(){return hd(Bp,this)}},{key:"addHighlightArea",value:function(){this.container.classList.add("highlightArea")}}])}(Cd);function Rp(){var t;null===(t=this.downloadManager)||void 0===t||t.openOrDownloadData(this.content,this.filename)}var Wp,Gp=new WeakMap,Hp=new WeakMap,Vp=new WeakMap,Up=new WeakSet,zp=function(){return yd((function t(e){var n,r=this,i=e.div,o=e.accessibilityManager,a=e.annotationCanvasMap,u=e.annotationEditorUIManager,s=e.page,l=e.viewport;pd(this,t),ud(this,Up),sd(this,Gp,null),sd(this,Hp,null),sd(this,Vp,new Map),this.div=i,cd(Gp,this,o),cd(Hp,this,a),this.page=s,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=u,"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&(Object.defineProperty(this,"showPopups",{value:(n=Jf(Uf().mark((function t(){var e,n,i;return Uf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=nd(r.popupShow),t.prev=1,e.s();case 3:if((n=e.n()).done){t.next=9;break}return i=n.value,t.next=7,i();case 7:t.next=3;break;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),e.e(t.t0);case 14:return t.prev=14,e.f(),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,11,14,17]])}))),function(){return n.apply(this,arguments)})}),this.popupShow=[])}),[{key:"render",value:function(){var t=Jf(Uf().mark((function t(e){var n,r,i,o,a,u,s,l,c,h,f,d,p,v,y,g;return Uf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.annotations,Dn(r=this.div,this.viewport),i=new Map,o={data:null,layer:r,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new an,annotationStorage:e.annotationStorage||new hu,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null},a=nd(n),t.prev=6,a.s();case 8:if((u=a.n()).done){t.next=34;break}if(!(s=u.value).noHTML){t.next=12;break}return t.abrupt("continue",32);case 12:if(l=s.annotationType===Kt.UJ.POPUP){t.next=19;break}if(c=wd(s.rect),h=c.width,f=c.height,!(h<=0||f<=0)){t.next=17;break}return t.abrupt("continue",32);case 17:t.next=23;break;case 19:if(d=i.get(s.id)){t.next=22;break}return t.abrupt("continue",32);case 22:o.elements=d;case 23:if(o.data=s,(p=Dd.create(o)).isRenderable){t.next=27;break}return t.abrupt("continue",32);case 27:!l&&s.popupRef&&((v=i.get(s.popupRef))?v.push(p):i.set(s.popupRef,[p])),y=p.render(),s.hidden&&(y.style.visibility="hidden"),fd(Up,this,Jp).call(this,y,s.id),p.annotationEditorType>0&&(hd(Vp,this).set(p.data.id,p),null===(g=this._annotationEditorUIManager)||void 0===g||g.renderAnnotationElement(p));case 32:t.next=8;break;case 34:t.next=39;break;case 36:t.prev=36,t.t0=t.catch(6),a.e(t.t0);case 39:return t.prev=39,a.f(),t.finish(39);case 42:fd(Up,this,Yp).call(this);case 43:case"end":return t.stop()}}),t,this,[[6,36,39,42]])})));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(t){var e=t.viewport,n=this.div;this.viewport=e,Dn(n,{rotation:e.rotation}),fd(Up,this,Yp).call(this),n.hidden=!1}},{key:"getEditableAnnotations",value:function(){return Array.from(hd(Vp,this).values())}},{key:"getEditableAnnotation",value:function(t){return hd(Vp,this).get(t)}}])}();function Jp(t,e){var n,r=t.firstChild||t;r.id="".concat(Kt.c3).concat(e),this.div.append(t),null===(n=hd(Gp,this))||void 0===n||n.moveElementInDOM(this.div,t,r,!1)}function Yp(){if(hd(Hp,this)){var t,e=this.div,n=nd(hd(Hp,this));try{for(n.s();!(t=n.n()).done;){var r=rd(t.value,2),i=r[0],o=r[1],a=e.querySelector('[data-annotation-id="'.concat(i,'"]'));if(a){o.className="annotationContent";var u=a.firstChild;u?"CANVAS"===u.nodeName?u.replaceWith(o):u.classList.contains("annotationContent")?u.after(o):u.before(o):a.append(o)}}}catch(t){n.e(t)}finally{n.f()}hd(Hp,this).clear()}}function Kp(t){return Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(t)}function Xp(t){return function(t){if(Array.isArray(t))return $p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Qp(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Qp(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Zp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||Qp(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qp(t,e){if(t){if("string"==typeof t)return $p(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$p(t,e):void 0}}function $p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tv(Object(n),!0).forEach((function(e){sv(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tv(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function nv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lv(r.key),r)}}function rv(t,e,n){return e=av(e),function(t,e){if(e&&("object"==Kp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,iv()?Reflect.construct(e,n||[],av(t).constructor):e.apply(t,n))}function iv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(iv=function(){return!!t})()}function ov(){return ov="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=av(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},ov.apply(null,arguments)}function av(t){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},av(t)}function uv(t,e){return uv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uv(t,e)}function sv(t,e,n){return(e=lv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lv(t){var e=function(t,e){if("object"!=Kp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Kp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kp(e)?e:e+""}function cv(t,e,n){hv(t,e),e.set(t,n)}function hv(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function fv(t,e){return t.get(pv(t,e))}function dv(t,e,n){return t.set(pv(t,e),n),n}function pv(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var vv=/\r\n?|\n/g,yv=new WeakMap,gv=new WeakMap,mv=new WeakMap,bv=new WeakMap,wv=new WeakMap,Dv=new WeakMap,Ev=new WeakMap,Av=new WeakMap,kv=new WeakMap,Sv=new WeakMap,Cv=new WeakSet,xv=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){hv(t,e),e.add(t)}(n=rv(this,e,[ev(ev({},t),{},{name:"freeTextEditor"})]),Cv),cv(n,yv,n.editorDivBlur.bind(n)),cv(n,gv,n.editorDivFocus.bind(n)),cv(n,mv,n.editorDivInput.bind(n)),cv(n,bv,n.editorDivKeydown.bind(n)),cv(n,wv,n.editorDivPaste.bind(n)),cv(n,Dv,void 0),cv(n,Ev,""),cv(n,Av,"".concat(n.id,"-editor")),cv(n,kv,void 0),cv(n,Sv,null),dv(Dv,n,t.color||e._defaultColor||Ca._defaultLineColor),dv(kv,n,t.fontSize||e._defaultFontSize),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uv(t,e)}(e,t),function(t,e,n){return e&&nv(t.prototype,e),n&&nv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"updateParams",value:function(t,e){switch(t){case Kt.N5.FREETEXT_SIZE:pv(Cv,this,_v).call(this,e);break;case Kt.N5.FREETEXT_COLOR:pv(Cv,this,Fv).call(this,e)}}},{key:"propertiesToUpdate",get:function(){return[[Kt.N5.FREETEXT_SIZE,fv(kv,this)],[Kt.N5.FREETEXT_COLOR,fv(Dv,this)]]}},{key:"_translateEmpty",value:function(t,e){this._uiManager.translateSelectedEditors(t,e,!0)}},{key:"getInitialTranslation",value:function(){var t=this.parentScale;return[-e._internalPadding*t,-(e._internalPadding+fv(kv,this))*t]}},{key:"rebuild",value:function(){this.parent&&(ov(av(e.prototype),"rebuild",this).call(this),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}},{key:"enableEditMode",value:function(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(Kt.vP.FREETEXT),ov(av(e.prototype),"enableEditMode",this).call(this),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",fv(bv,this)),this.editorDiv.addEventListener("focus",fv(gv,this)),this.editorDiv.addEventListener("blur",fv(yv,this)),this.editorDiv.addEventListener("input",fv(mv,this)),this.editorDiv.addEventListener("paste",fv(wv,this)))}},{key:"disableEditMode",value:function(){this.isInEditMode()&&(this.parent.setEditingState(!0),ov(av(e.prototype),"disableEditMode",this).call(this),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",fv(Av,this)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",fv(bv,this)),this.editorDiv.removeEventListener("focus",fv(gv,this)),this.editorDiv.removeEventListener("blur",fv(yv,this)),this.editorDiv.removeEventListener("input",fv(mv,this)),this.editorDiv.removeEventListener("paste",fv(wv,this)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}},{key:"focusin",value:function(t){this._focusEventsAllowed&&(ov(av(e.prototype),"focusin",this).call(this,t),t.target!==this.editorDiv&&this.editorDiv.focus())}},{key:"onceAdded",value:function(){var t;this.width||(this.enableEditMode(),this.editorDiv.focus(),null!==(t=this._initialOptions)&&void 0!==t&&t.isCentered&&this.center(),this._initialOptions=null)}},{key:"isEmpty",value:function(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}},{key:"remove",value:function(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),ov(av(e.prototype),"remove",this).call(this)}},{key:"commit",value:function(){var t=this;if(this.isInEditMode()){ov(av(e.prototype),"commit",this).call(this),this.disableEditMode();var n=fv(Ev,this),r=dv(Ev,this,pv(Cv,this,Pv).call(this).trimEnd());if(n!==r){var i=function(e){dv(Ev,t,e),e?(pv(Cv,t,Tv).call(t),t._uiManager.rebuild(t),pv(Cv,t,Lv).call(t)):t.remove()};this.addCommands({cmd:function(){i(r)},undo:function(){i(n)},mustExec:!1}),pv(Cv,this,Lv).call(this)}}}},{key:"shouldGetKeyboardEvents",value:function(){return this.isInEditMode()}},{key:"enterInEditMode",value:function(){this.enableEditMode(),this.editorDiv.focus()}},{key:"dblclick",value:function(t){this.enterInEditMode()}},{key:"keydown",value:function(t){t.target===this.div&&"Enter"===t.key&&(this.enterInEditMode(),t.preventDefault())}},{key:"editorDivKeydown",value:function(t){e._keyboardManager.exec(this,t)}},{key:"editorDivFocus",value:function(t){this.isEditing=!0}},{key:"editorDivBlur",value:function(t){this.isEditing=!1}},{key:"editorDivInput",value:function(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}},{key:"disableEditing",value:function(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}},{key:"enableEditing",value:function(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}},{key:"render",value:function(){var t,n,r=this;if(this.div)return this.div;this.width&&(t=this.x,n=this.y),ov(av(e.prototype),"render",this).call(this),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",fv(Av,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Ca._l10nPromise.get("pdfjs-free-text-default-content").then((function(t){var e;return null===(e=r.editorDiv)||void 0===e?void 0:e.setAttribute("default-content",t)})),this.editorDiv.contentEditable=!0;var i=this.editorDiv.style;if(i.fontSize="calc(".concat(fv(kv,this),"px * var(--scale-factor))"),i.color=fv(Dv,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),kr(this,this.div,["dblclick","keydown"]),this.width){var o=Zp(this.parentDimensions,2),a=o[0],u=o[1];if(this.annotationElementId){var s=fv(Sv,this).position,l=Zp(this.getInitialTranslation(),2),c=l[0],h=l[1],f=Zp(this.pageTranslationToScreen(c,h),2);c=f[0],h=f[1];var d,p,v=Zp(this.pageDimensions,2),y=v[0],g=v[1],m=Zp(this.pageTranslation,2),b=m[0],w=m[1];switch(this.rotation){case 0:d=t+(s[0]-b)/y,p=n+this.height-(s[1]-w)/g;break;case 90:d=t+(s[0]-b)/y,p=n-(s[1]-w)/g;var D=[h,-c];c=D[0],h=D[1];break;case 180:d=t-this.width+(s[0]-b)/y,p=n-(s[1]-w)/g;var E=[-c,-h];c=E[0],h=E[1];break;case 270:d=t+(s[0]-b-this.height*g)/y,p=n+(s[1]-w-this.width*y)/g;var A=[-h,c];c=A[0],h=A[1]}this.setAt(d*a,p*u,c,h)}else this.setAt(t*a,n*u,this.width*a,this.height*u);pv(Cv,this,Tv).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&this.div.setAttribute("annotation-id",this.annotationElementId),this.div}},{key:"editorDivPaste",value:function(t){var n=t.clipboardData||window.clipboardData,r=n.types;if(1!==r.length||"text/plain"!==r[0]){t.preventDefault();var i=Mv.call(e,n.getData("text")||"").replaceAll(vv,"\n");if(i){var o=window.getSelection();if(o.rangeCount){this.editorDiv.normalize(),o.deleteFromDocument();var a=o.getRangeAt(0);if(!i.includes("\n"))return a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),void o.collapseToStart();var u=a.startContainer,s=a.startOffset,l=[],c=[];if(u.nodeType===Node.TEXT_NODE){var h=u.parentElement;if(c.push(u.nodeValue.slice(s).replaceAll(vv,"")),h!==this.editorDiv){var f,d=l,p=qp(this.editorDiv.childNodes);try{for(p.s();!(f=p.n()).done;){var v=f.value;v!==h?d.push(Ov.call(e,v)):d=c}}catch(t){p.e(t)}finally{p.f()}}l.push(u.nodeValue.slice(0,s).replaceAll(vv,""))}else if(u===this.editorDiv){var y,g=l,m=0,b=qp(this.editorDiv.childNodes);try{for(b.s();!(y=b.n()).done;){var w=y.value;m++===s&&(g=c),g.push(Ov.call(e,w))}}catch(t){b.e(t)}finally{b.f()}}dv(Ev,this,"".concat(l.join("\n")).concat(i).concat(c.join("\n"))),pv(Cv,this,Tv).call(this);var D,E=new Range,A=l.reduce((function(t,e){return t+e.length}),0),k=qp(this.editorDiv.childNodes);try{for(k.s();!(D=k.n()).done;){var S=D.value.firstChild;if(S.nodeType===Node.TEXT_NODE){var C=S.nodeValue.length;if(A<=C){E.setStart(S,A),E.setEnd(S,A);break}A-=C}}}catch(t){k.e(t)}finally{k.f()}o.removeAllRanges(),o.addRange(E)}}}}},{key:"contentDiv",get:function(){return this.editorDiv}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};var n=e._internalPadding*this.parentScale,r=this.getRect(n,n),i=Ca._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:fv(Dv,this)),o={annotationType:Kt.vP.FREETEXT,color:i,fontSize:fv(kv,this),value:pv(Cv,this,Iv).call(this),pageIndex:this.pageIndex,rect:r,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?o:this.annotationElementId&&!pv(Cv,this,Bv).call(this,o)?null:(o.id=this.annotationElementId,o)}},{key:"renderAnnotationElement",value:function(t){var n=ov(av(e.prototype),"renderAnnotationElement",this).call(this,t);if(this.deleted)return n;var r=n.style;r.fontSize="calc(".concat(fv(kv,this),"px * var(--scale-factor))"),r.color=fv(Dv,this),n.replaceChildren();var i,o=qp(fv(Ev,this).split("\n"));try{for(o.s();!(i=o.n()).done;){var a=i.value,u=document.createElement("div");u.append(a?document.createTextNode(a):document.createElement("br")),n.append(u)}}catch(t){o.e(t)}finally{o.f()}var s=e._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:fv(Ev,this)}),n}},{key:"resetAnnotationElement",value:function(t){ov(av(e.prototype),"resetAnnotationElement",this).call(this,t),t.resetEdited()}}],[{key:"_keyboardManager",get:function(){var t=e.prototype,n=function(t){return t.isEmpty()},r=Ri.TRANSLATE_SMALL,i=Ri.TRANSLATE_BIG;return(0,Kt.r7)(this,"_keyboardManager",new Wr([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}]]))}},{key:"initialize",value:function(t,e){Ca.initialize(t,e,{strings:["pdfjs-free-text-default-content"]});var n=getComputedStyle(document.documentElement);if("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING")){var r=parseFloat(n.getPropertyValue("--freetext-line-height"));(0,Kt.vA)(r===Kt.fY,"Update the CSS variable to agree with the constant.")}this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}},{key:"updateDefaultParams",value:function(t,n){switch(t){case Kt.N5.FREETEXT_SIZE:e._defaultFontSize=n;break;case Kt.N5.FREETEXT_COLOR:e._defaultColor=n}}},{key:"defaultPropertiesToUpdate",get:function(){return[[Kt.N5.FREETEXT_SIZE,e._defaultFontSize],[Kt.N5.FREETEXT_COLOR,e._defaultColor||Ca._defaultLineColor]]}},{key:"deserialize",value:function(t,n,r){var i=null;if(t instanceof mp){var o=t,a=o.data,u=a.defaultAppearanceData,s=u.fontSize,l=u.fontColor,c=a.rect,h=a.rotation,f=a.id,d=o.textContent,p=o.textPosition,v=o.parent.page.pageNumber;if(!d||0===d.length)return null;i=t={annotationType:Kt.vP.FREETEXT,color:Array.from(l),fontSize:s,value:d.join("\n"),position:p,pageIndex:v-1,rect:c.slice(0),rotation:h,id:f,deleted:!1}}var y=ov(av(e),"deserialize",this).call(this,t,n,r);return dv(kv,y,t.fontSize),dv(Dv,y,Kt.J0.makeHexColor.apply(Kt.J0,Xp(t.color))),dv(Ev,y,Mv.call(e,t.value)),y.annotationElementId=t.id||null,dv(Sv,y,i),y}}])}(Ca);function _v(t){var e=this,n=function(t){e.editorDiv.style.fontSize="calc(".concat(t,"px * var(--scale-factor))"),e.translate(0,-(t-fv(kv,e))*e.parentScale),dv(kv,e,t),pv(Cv,e,Lv).call(e)},r=fv(kv,this);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Kt.N5.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function Fv(t){var e=this,n=function(t){dv(Dv,e,e.editorDiv.style.color=t)},r=fv(Dv,this);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Kt.N5.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Pv(){var t=[];this.editorDiv.normalize();var e,n=qp(this.editorDiv.childNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(Ov.call(Wp,r))}}catch(t){n.e(t)}finally{n.f()}return t.join("\n")}function Lv(){var t,e=Zp(this.parentDimensions,2),n=e[0],r=e[1];if(this.isAttachedToDOM)t=this.div.getBoundingClientRect();else{var i=this.currentLayer,o=this.div,a=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",i.div.append(this.div),t=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",u)}this.rotation%180==this.parentRotation%180?(this.width=t.width/n,this.height=t.height/r):(this.width=t.height/n,this.height=t.width/r),this.fixAndSetPosition()}function Ov(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(vv,"")}function Tv(){if(this.editorDiv.replaceChildren(),fv(Ev,this)){var t,e=qp(fv(Ev,this).split("\n"));try{for(e.s();!(t=e.n()).done;){var n=t.value,r=document.createElement("div");r.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(r)}}catch(t){e.e(t)}finally{e.f()}}}function Iv(){return fv(Ev,this).replaceAll(" "," ")}function Mv(t){return t.replaceAll(" "," ")}function Bv(t){var e=fv(Sv,this),n=e.value,r=e.fontSize,i=e.color,o=e.pageIndex;return this._hasBeenMoved||t.value!==n||t.fontSize!==r||t.color.some((function(t,e){return t!==i[e]}))||t.pageIndex!==o}function jv(t){return jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jv(t)}function Nv(t,e,n){return e=Wv(e),function(t,e){if(e&&("object"==jv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Rv()?Reflect.construct(e,n||[],Wv(t).constructor):e.apply(t,n))}function Rv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Rv=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wv(t)}function Gv(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hv(t,e)}function Hv(t,e){return Hv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hv(t,e)}function Vv(t){return function(t){if(Array.isArray(t))return Yv(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Jv(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Uv(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||Jv(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zv(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Jv(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Jv(t,e){if(t){if("string"==typeof t)return Yv(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yv(t,e):void 0}}function Yv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Kv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zv(r.key),r)}}function qv(t,e,n){return e&&Xv(t.prototype,e),n&&Xv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zv(t){var e=function(t,e){if("object"!=jv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jv(e)?e:e+""}function Qv(t,e){ty(t,e),e.add(t)}function $v(t,e,n){ty(t,e),e.set(t,n)}function ty(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ey(t,e,n){return t.set(ry(t,e),n),n}function ny(t,e){return t.get(ry(t,e))}function ry(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Wp=xv,sv(xv,"_freeTextDefaultContent",""),sv(xv,"_internalPadding",0),sv(xv,"_defaultColor",null),sv(xv,"_defaultFontSize",10),sv(xv,"_type","freetext"),sv(xv,"_editorType",Kt.vP.FREETEXT);var iy=new WeakMap,oy=new WeakMap,ay=new WeakMap,uy=new WeakSet,sy=function(){return qv((function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];Kv(this,t),Qv(this,uy),$v(this,iy,void 0),$v(this,oy,[]),$v(this,ay,[]);var o,a=1/0,u=-1/0,s=1/0,l=-1/0,c=Math.pow(10,-4),h=zv(e);try{for(h.s();!(o=h.n()).done;){var f=o.value,d=f.x,p=f.y,v=f.width,y=f.height,g=Math.floor((d-n)/c)*c,m=Math.ceil((d+v+n)/c)*c,b=Math.floor((p-n)/c)*c,w=Math.ceil((p+y+n)/c)*c,D=[g,b,w,!0],E=[m,b,w,!1];ny(oy,this).push(D,E),a=Math.min(a,g),u=Math.max(u,m),s=Math.min(s,b),l=Math.max(l,w)}}catch(t){h.e(t)}finally{h.f()}var A,k=u-a+2*r,S=l-s+2*r,C=a-r,x=s-r,_=ny(oy,this).at(i?-1:-2),F=[_[0],_[2]],P=zv(ny(oy,this));try{for(P.s();!(A=P.n()).done;){var L=A.value,O=Uv(L,3),T=O[0],I=O[1],M=O[2];L[0]=(T-C)/k,L[1]=(I-x)/S,L[2]=(M-x)/S}}catch(t){P.e(t)}finally{P.f()}ey(iy,this,{x:C,y:x,width:k,height:S,lastPoint:F})}),[{key:"getOutlines",value:function(){ny(oy,this).sort((function(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}));var t,e=[],n=zv(ny(oy,this));try{for(n.s();!(t=n.n()).done;){var r=t.value;r[3]?(e.push.apply(e,Vv(ry(uy,this,dy).call(this,r))),ry(uy,this,hy).call(this,r)):(ry(uy,this,fy).call(this,r),e.push.apply(e,Vv(ry(uy,this,dy).call(this,r))))}}catch(t){n.e(t)}finally{n.f()}return ry(uy,this,ly).call(this,e)}}])}();function ly(t){var e,n=[],r=new Set,i=zv(t);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=Uv(o,3),u=a[0],s=a[1],l=a[2];n.push([u,s,o],[u,l,o])}}catch(t){i.e(t)}finally{i.f()}n.sort((function(t,e){return t[1]-e[1]||t[0]-e[0]}));for(var c=0,h=n.length;c<h;c+=2){var f=n[c][2],d=n[c+1][2];f.push(d),d.push(f),r.add(f),r.add(d)}for(var p,v=[];r.size>0;){var y=r.values().next().value,g=Uv(y,5),m=g[0],b=g[1],w=g[2],D=g[3],E=g[4];r.delete(y);var A=m,k=b;for(p=[m,w],v.push(p);;){var S=void 0;if(r.has(D))S=D;else{if(!r.has(E))break;S=E}r.delete(S);var C=Uv(S,5);m=C[0],b=C[1],w=C[2],D=C[3],E=C[4],A!==m&&(p.push(A,k,m,k===b?b:w),A=m),k=k===b?w:b}p.push(A,k)}return new gy(v,ny(iy,this))}function cy(t){for(var e=ny(ay,this),n=0,r=e.length-1;n<=r;){var i=n+r>>1,o=e[i][0];if(o===t)return i;o<t?n=i+1:r=i-1}return r+1}function hy(t){var e=Uv(t,3),n=e[1],r=e[2],i=ry(uy,this,cy).call(this,n);ny(ay,this).splice(i,0,[n,r])}function fy(t){for(var e=Uv(t,3),n=e[1],r=e[2],i=ry(uy,this,cy).call(this,n),o=i;o<ny(ay,this).length;o++){var a=Uv(ny(ay,this)[o],2),u=a[0],s=a[1];if(u!==n)break;if(u===n&&s===r)return void ny(ay,this).splice(o,1)}for(var l=i-1;l>=0;l--){var c=Uv(ny(ay,this)[l],2),h=c[0],f=c[1];if(h!==n)break;if(h===n&&f===r)return void ny(ay,this).splice(l,1)}}function dy(t){for(var e=Uv(t,3),n=e[0],r=e[1],i=e[2],o=[[n,r,i]],a=ry(uy,this,cy).call(this,i),u=0;u<a;u++)for(var s=Uv(ny(ay,this)[u],2),l=s[0],c=s[1],h=0,f=o.length;h<f;h++){var d=Uv(o[h],3),p=d[1],v=d[2];if(!(c<=p||v<=l))if(p>=l)if(v>c)o[h][1]=c;else{if(1===f)return[];o.splice(h,1),h--,f--}else o[h][2]=l,v>c&&o.push([n,c,v])}return o}var py=function(){return qv((function t(){Kv(this,t)}),[{key:"toSVGPath",value:function(){throw new Error("Abstract method `toSVGPath` must be implemented.")}},{key:"box",get:function(){throw new Error("Abstract getter `box` must be implemented.")}},{key:"serialize",value:function(t,e){throw new Error("Abstract method `serialize` must be implemented.")}},{key:"free",get:function(){return this instanceof zy}}])}(),vy=new WeakMap,yy=new WeakMap,gy=function(t){function e(t,n){var r;return Kv(this,e),$v(r=Nv(this,e),vy,void 0),$v(r,yy,void 0),ey(yy,r,t),ey(vy,r,n),r}return Gv(e,t),qv(e,[{key:"toSVGPath",value:function(){var t,e=[],n=zv(ny(yy,this));try{for(n.s();!(t=n.n()).done;){var r=t.value,i=Uv(r,2),o=i[0],a=i[1];e.push("M".concat(o," ").concat(a));for(var u=2;u<r.length;u+=2){var s=r[u],l=r[u+1];s===o?(e.push("V".concat(l)),a=l):l===a&&(e.push("H".concat(s)),o=s)}e.push("Z")}}catch(t){n.e(t)}finally{n.f()}return e.join(" ")}},{key:"serialize",value:function(t,e){var n,r=Uv(t,4),i=r[0],o=r[1],a=r[2],u=r[3],s=[],l=a-i,c=u-o,h=zv(ny(yy,this));try{for(h.s();!(n=h.n()).done;){for(var f=n.value,d=new Array(f.length),p=0;p<f.length;p+=2)d[p]=i+f[p]*l,d[p+1]=u-f[p+1]*c;s.push(d)}}catch(t){h.e(t)}finally{h.f()}return s}},{key:"box",get:function(){return ny(vy,this)}}])}(py),my=new WeakMap,by=new WeakMap,wy=new WeakMap,Dy=new WeakMap,Ey=new WeakMap,Ay=new WeakMap,ky=new WeakMap,Sy=new WeakMap,Cy=new WeakMap,xy=new WeakMap,_y=new WeakMap,Fy=new WeakMap,Py=new WeakMap,Ly=new WeakSet,Oy=function(){return qv((function t(e,n,r,i,o){var a=e.x,u=e.y,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;Kv(this,t),Qv(this,Ly),$v(this,my,void 0),$v(this,by,[]),$v(this,wy,void 0),$v(this,Dy,void 0),$v(this,Ey,[]),$v(this,Ay,new Float64Array(18)),$v(this,ky,void 0),$v(this,Sy,void 0),$v(this,Cy,void 0),$v(this,xy,void 0),$v(this,_y,void 0),$v(this,Fy,void 0),$v(this,Py,[]),ey(my,this,n),ey(Fy,this,i*r),ey(Dy,this,o),ny(Ay,this).set([NaN,NaN,NaN,NaN,a,u],6),ey(wy,this,s),ey(xy,this,My._*r),ey(Cy,this,By._*r),ey(_y,this,r),ny(Py,this).push(a,u)}),[{key:"free",get:function(){return!0}},{key:"isEmpty",value:function(){return isNaN(ny(Ay,this)[8])}},{key:"add",value:function(t){var e,n=t.x,r=t.y;ey(ky,this,n),ey(Sy,this,r);var i=Uv(ny(my,this),4),o=i[0],a=i[1],u=i[2],s=i[3],l=Uv(ny(Ay,this).subarray(8,12),4),c=l[0],h=l[1],f=l[2],d=l[3],p=n-f,v=r-d,y=Math.hypot(p,v);if(y<ny(Cy,this))return!1;var g=y-ny(xy,this),m=g/y,b=m*p,w=m*v,D=c,E=h;c=f,h=d,f+=b,d+=w,null===(e=ny(Py,this))||void 0===e||e.push(n,r);var A=b/g,k=-w/g*ny(Fy,this),S=A*ny(Fy,this);if(ny(Ay,this).set(ny(Ay,this).subarray(2,8),0),ny(Ay,this).set([f+k,d+S],4),ny(Ay,this).set(ny(Ay,this).subarray(14,18),12),ny(Ay,this).set([f-k,d-S],16),isNaN(ny(Ay,this)[6]))return 0===ny(Ey,this).length&&(ny(Ay,this).set([c+k,h+S],2),ny(Ey,this).push(NaN,NaN,NaN,NaN,(c+k-o)/u,(h+S-a)/s),ny(Ay,this).set([c-k,h-S],14),ny(by,this).push(NaN,NaN,NaN,NaN,(c-k-o)/u,(h-S-a)/s)),ny(Ay,this).set([D,E,c,h,f,d],6),!this.isEmpty();if(ny(Ay,this).set([D,E,c,h,f,d],6),Math.abs(Math.atan2(E-h,D-c)-Math.atan2(w,b))<Math.PI/2){var C=Uv(ny(Ay,this).subarray(2,6),4);c=C[0],h=C[1],f=C[2],d=C[3],ny(Ey,this).push(NaN,NaN,NaN,NaN,((c+f)/2-o)/u,((h+d)/2-a)/s);var x=Uv(ny(Ay,this).subarray(14,18),4);return c=x[0],h=x[1],D=x[2],E=x[3],ny(by,this).push(NaN,NaN,NaN,NaN,((D+c)/2-o)/u,((E+h)/2-a)/s),!0}var _=Uv(ny(Ay,this).subarray(0,6),6);D=_[0],E=_[1],c=_[2],h=_[3],f=_[4],d=_[5],ny(Ey,this).push(((D+5*c)/6-o)/u,((E+5*h)/6-a)/s,((5*c+f)/6-o)/u,((5*h+d)/6-a)/s,((c+f)/2-o)/u,((h+d)/2-a)/s);var F=Uv(ny(Ay,this).subarray(12,18),6);return f=F[0],d=F[1],c=F[2],h=F[3],D=F[4],E=F[5],ny(by,this).push(((D+5*c)/6-o)/u,((E+5*h)/6-a)/s,((5*c+f)/6-o)/u,((5*h+d)/6-a)/s,((c+f)/2-o)/u,((h+d)/2-a)/s),!0}},{key:"toSVGPath",value:function(){if(this.isEmpty())return"";var t=ny(Ey,this),e=ny(by,this),n=ny(Ay,this).subarray(4,6),r=ny(Ay,this).subarray(16,18),i=Uv(ny(my,this),4),o=i[0],a=i[1],u=i[2],s=i[3],l=Uv(ry(Ly,this,Ty).call(this),4),c=l[0],h=l[1],f=l[2],d=l[3];if(isNaN(ny(Ay,this)[6])&&!this.isEmpty())return"M".concat((ny(Ay,this)[2]-o)/u," ").concat((ny(Ay,this)[3]-a)/s," L").concat((ny(Ay,this)[4]-o)/u," ").concat((ny(Ay,this)[5]-a)/s," L").concat(c," ").concat(h," L").concat(f," ").concat(d," L").concat((ny(Ay,this)[16]-o)/u," ").concat((ny(Ay,this)[17]-a)/s," L").concat((ny(Ay,this)[14]-o)/u," ").concat((ny(Ay,this)[15]-a)/s," Z");var p=[];p.push("M".concat(t[4]," ").concat(t[5]));for(var v=6;v<t.length;v+=6)isNaN(t[v])?p.push("L".concat(t[v+4]," ").concat(t[v+5])):p.push("C".concat(t[v]," ").concat(t[v+1]," ").concat(t[v+2]," ").concat(t[v+3]," ").concat(t[v+4]," ").concat(t[v+5]));p.push("L".concat((n[0]-o)/u," ").concat((n[1]-a)/s," L").concat(c," ").concat(h," L").concat(f," ").concat(d," L").concat((r[0]-o)/u," ").concat((r[1]-a)/s));for(var y=e.length-6;y>=6;y-=6)isNaN(e[y])?p.push("L".concat(e[y+4]," ").concat(e[y+5])):p.push("C".concat(e[y]," ").concat(e[y+1]," ").concat(e[y+2]," ").concat(e[y+3]," ").concat(e[y+4]," ").concat(e[y+5]));return p.push("L".concat(e[4]," ").concat(e[5]," Z")),p.join(" ")}},{key:"getOutlines",value:function(){for(var t,e,n=ny(Ey,this),r=ny(by,this),i=ny(Ay,this),o=i.subarray(4,6),a=i.subarray(16,18),u=Uv(ny(my,this),4),s=u[0],l=u[1],c=u[2],h=u[3],f=new Float64Array((null!==(t=null===(e=ny(Py,this))||void 0===e?void 0:e.length)&&void 0!==t?t:0)+2),d=0,p=f.length-2;d<p;d+=2)f[d]=(ny(Py,this)[d]-s)/c,f[d+1]=(ny(Py,this)[d+1]-l)/h;f[f.length-2]=(ny(ky,this)-s)/c,f[f.length-1]=(ny(Sy,this)-l)/h;var v=Uv(ry(Ly,this,Ty).call(this),4),y=v[0],g=v[1],m=v[2],b=v[3];if(isNaN(i[6])&&!this.isEmpty()){var w=new Float64Array(36);return w.set([NaN,NaN,NaN,NaN,(i[2]-s)/c,(i[3]-l)/h,NaN,NaN,NaN,NaN,(i[4]-s)/c,(i[5]-l)/h,NaN,NaN,NaN,NaN,y,g,NaN,NaN,NaN,NaN,m,b,NaN,NaN,NaN,NaN,(i[16]-s)/c,(i[17]-l)/h,NaN,NaN,NaN,NaN,(i[14]-s)/c,(i[15]-l)/h],0),new zy(w,f,ny(my,this),ny(_y,this),ny(wy,this),ny(Dy,this))}for(var D=new Float64Array(ny(Ey,this).length+24+ny(by,this).length),E=n.length,A=0;A<E;A+=2)isNaN(n[A])?D[A]=D[A+1]=NaN:(D[A]=n[A],D[A+1]=n[A+1]);D.set([NaN,NaN,NaN,NaN,(o[0]-s)/c,(o[1]-l)/h,NaN,NaN,NaN,NaN,y,g,NaN,NaN,NaN,NaN,m,b,NaN,NaN,NaN,NaN,(a[0]-s)/c,(a[1]-l)/h],E),E+=24;for(var k=r.length-6;k>=6;k-=6)for(var S=0;S<6;S+=2)isNaN(r[k+S])?(D[E]=D[E+1]=NaN,E+=2):(D[E]=r[k+S],D[E+1]=r[k+S+1],E+=2);return D.set([NaN,NaN,NaN,NaN,r[4],r[5]],E),new zy(D,f,ny(my,this),ny(_y,this),ny(wy,this),ny(Dy,this))}}])}();function Ty(){var t=ny(Ay,this).subarray(4,6),e=ny(Ay,this).subarray(16,18),n=Uv(ny(my,this),4),r=n[0],i=n[1],o=n[2],a=n[3];return[(ny(ky,this)+(t[0]-e[0])/2-r)/o,(ny(Sy,this)+(t[1]-e[1])/2-i)/a,(ny(ky,this)+(e[0]-t[0])/2-r)/o,(ny(Sy,this)+(e[1]-t[1])/2-i)/a]}var Iy,My={_:8},By={_:My._+2},jy=new WeakMap,Ny=new WeakMap,Ry=new WeakMap,Wy=new WeakMap,Gy=new WeakMap,Hy=new WeakMap,Vy=new WeakMap,Uy=new WeakSet,zy=function(t){function e(t,n,r,i,o,a){var u;Kv(this,e),Qv(u=Nv(this,e),Uy),$v(u,jy,void 0),$v(u,Ny,null),$v(u,Ry,void 0),$v(u,Wy,void 0),$v(u,Gy,void 0),$v(u,Hy,void 0),$v(u,Vy,void 0),ey(Vy,u,t),ey(Gy,u,n),ey(jy,u,r),ey(Hy,u,i),ey(Ry,u,o),ey(Wy,u,a),ry(Uy,u,Ky).call(u,a);for(var s=ny(Ny,u),l=s.x,c=s.y,h=s.width,f=s.height,d=0,p=t.length;d<p;d+=2)t[d]=(t[d]-l)/h,t[d+1]=(t[d+1]-c)/f;for(var v=0,y=n.length;v<y;v+=2)n[v]=(n[v]-l)/h,n[v+1]=(n[v+1]-c)/f;return u}return Gv(e,t),qv(e,[{key:"toSVGPath",value:function(){for(var t=["M".concat(ny(Vy,this)[4]," ").concat(ny(Vy,this)[5])],e=6,n=ny(Vy,this).length;e<n;e+=6)isNaN(ny(Vy,this)[e])?t.push("L".concat(ny(Vy,this)[e+4]," ").concat(ny(Vy,this)[e+5])):t.push("C".concat(ny(Vy,this)[e]," ").concat(ny(Vy,this)[e+1]," ").concat(ny(Vy,this)[e+2]," ").concat(ny(Vy,this)[e+3]," ").concat(ny(Vy,this)[e+4]," ").concat(ny(Vy,this)[e+5]));return t.push("Z"),t.join(" ")}},{key:"serialize",value:function(t,e){var n,r,i=Uv(t,4),o=i[0],a=i[1],u=i[2],s=i[3],l=u-o,c=s-a;switch(e){case 0:n=ry(Uy,this,Jy).call(this,ny(Vy,this),o,s,l,-c),r=ry(Uy,this,Jy).call(this,ny(Gy,this),o,s,l,-c);break;case 90:n=ry(Uy,this,Yy).call(this,ny(Vy,this),o,a,l,c),r=ry(Uy,this,Yy).call(this,ny(Gy,this),o,a,l,c);break;case 180:n=ry(Uy,this,Jy).call(this,ny(Vy,this),u,a,-l,c),r=ry(Uy,this,Jy).call(this,ny(Gy,this),u,a,-l,c);break;case 270:n=ry(Uy,this,Yy).call(this,ny(Vy,this),u,s,-l,-c),r=ry(Uy,this,Yy).call(this,ny(Gy,this),u,s,-l,-c)}return{outline:Array.from(n),points:[Array.from(r)]}}},{key:"box",get:function(){return ny(Ny,this)}},{key:"getNewOutline",value:function(t,e){for(var n=ny(Ny,this),r=n.x,i=n.y,o=n.width,a=n.height,u=Uv(ny(jy,this),4),s=u[0],l=u[1],c=u[2],h=u[3],f=o*c,d=a*h,p=r*c+s,v=i*h+l,y=new Oy({x:ny(Gy,this)[0]*f+p,y:ny(Gy,this)[1]*d+v},ny(jy,this),ny(Hy,this),t,ny(Wy,this),null!=e?e:ny(Ry,this)),g=2;g<ny(Gy,this).length;g+=2)y.add({x:ny(Gy,this)[g]*f+p,y:ny(Gy,this)[g+1]*d+v});return y.getOutlines()}}])}(py);function Jy(t,e,n,r,i){for(var o=new Float64Array(t.length),a=0,u=t.length;a<u;a+=2)o[a]=e+t[a]*r,o[a+1]=n+t[a+1]*i;return o}function Yy(t,e,n,r,i){for(var o=new Float64Array(t.length),a=0,u=t.length;a<u;a+=2)o[a]=e+t[a+1]*r,o[a+1]=n+t[a]*i;return o}function Ky(t){for(var e=ny(Vy,this),n=e[4],r=e[5],i=n,o=r,a=n,u=r,s=n,l=r,c=t?Math.max:Math.min,h=6,f=e.length;h<f;h+=6){if(isNaN(e[h]))i=Math.min(i,e[h+4]),o=Math.min(o,e[h+5]),a=Math.max(a,e[h+4]),u=Math.max(u,e[h+5]),l<e[h+5]?(s=e[h+4],l=e[h+5]):l===e[h+5]&&(s=c(s,e[h+4]));else{var d=Kt.J0.bezierBoundingBox.apply(Kt.J0,[n,r].concat(Vv(e.slice(h,h+6))));i=Math.min(i,d[0]),o=Math.min(o,d[1]),a=Math.max(a,d[2]),u=Math.max(u,d[3]),l<d[3]?(s=d[2],l=d[3]):l===d[3]&&(s=c(s,d[2]))}n=e[h+4],r=e[h+5]}var p=i-ny(Ry,this),v=o-ny(Ry,this),y=a-i+2*ny(Ry,this),g=u-o+2*ny(Ry,this);ey(Ny,this,{x:p,y:v,width:y,height:g,lastPoint:[s,l]})}function Xy(t){return Xy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xy(t)}function qy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||Qy(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zy(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Qy(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Qy(t,e){if(t){if("string"==typeof t)return $y(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$y(t,e):void 0}}function $y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eg(r.key),r)}}function eg(t){var e=function(t,e){if("object"!=Xy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xy(e)?e:e+""}function ng(t,e,n){rg(t,e),e.set(t,n)}function rg(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ig(t,e,n){return n(ug(t,e))}function og(t,e){return t.get(ug(t,e))}function ag(t,e,n){return t.set(ug(t,e),n),n}function ug(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var sg,lg=new WeakMap,cg=new WeakMap,hg=new WeakMap,fg=new WeakMap,dg=new WeakMap,pg=new WeakMap,vg=new WeakMap,yg=new WeakMap,gg=new WeakMap,mg=new WeakMap,bg=new WeakMap,wg=new WeakMap,Dg=new WeakSet,Eg=function(){function t(e){var n,r=e.editor,i=void 0===r?null:r,o=e.uiManager,a=void 0===o?null:o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){rg(t,e),e.add(t)}(this,Dg),ng(this,lg,ug(Dg,this,Sg).bind(this)),ng(this,cg,ug(Dg,this,xg).bind(this)),ng(this,hg,null),ng(this,fg,null),ng(this,dg,void 0),ng(this,pg,null),ng(this,vg,!1),ng(this,yg,!1),ng(this,gg,null),ng(this,mg,void 0),ng(this,bg,null),ng(this,wg,void 0),i?(ag(yg,this,!1),ag(wg,this,Kt.N5.HIGHLIGHT_COLOR),ag(gg,this,i)):(ag(yg,this,!0),ag(wg,this,Kt.N5.HIGHLIGHT_DEFAULT_COLOR)),ag(bg,this,(null==i?void 0:i._uiManager)||a),ag(mg,this,og(bg,this)._eventBus),ag(dg,this,(null==i?void 0:i.color)||(null===(n=og(bg,this))||void 0===n?void 0:n.highlightColors.values().next().value)||"#FFFF98")}return function(t,e,n){return e&&tg(t.prototype,e),n&&tg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"renderButton",value:function(){var t=ag(hg,this,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0),t.addEventListener("click",ug(Dg,this,Cg).bind(this)),t.addEventListener("keydown",og(lg,this));var e=ag(fg,this,document.createElement("span"));return e.className="swatch",e.setAttribute("aria-hidden",!0),e.style.backgroundColor=og(dg,this),t.append(e),t}},{key:"renderMainDropdown",value:function(){var t=ag(pg,this,ug(Dg,this,Ag).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}},{key:"_colorSelectFromKeyboard",value:function(t){if(t.target!==og(hg,this)){var e=t.target.getAttribute("data-color");e&&ug(Dg,this,kg).call(this,e,t)}else ug(Dg,this,Cg).call(this,t)}},{key:"_moveToNext",value:function(t){var e,n;ig(Dg,this,_g)?t.target!==og(hg,this)?null===(e=t.target.nextSibling)||void 0===e||e.focus():null===(n=og(pg,this).firstChild)||void 0===n||n.focus():ug(Dg,this,Cg).call(this,t)}},{key:"_moveToPrevious",value:function(t){var e,n;t.target!==(null===(e=og(pg,this))||void 0===e?void 0:e.firstChild)&&t.target!==og(hg,this)?(ig(Dg,this,_g)||ug(Dg,this,Cg).call(this,t),null===(n=t.target.previousSibling)||void 0===n||n.focus()):ig(Dg,this,_g)&&this._hideDropdownFromKeyboard()}},{key:"_moveToBeginning",value:function(t){var e;ig(Dg,this,_g)?null===(e=og(pg,this).firstChild)||void 0===e||e.focus():ug(Dg,this,Cg).call(this,t)}},{key:"_moveToEnd",value:function(t){var e;ig(Dg,this,_g)?null===(e=og(pg,this).lastChild)||void 0===e||e.focus():ug(Dg,this,Cg).call(this,t)}},{key:"hideDropdown",value:function(){var t;null===(t=og(pg,this))||void 0===t||t.classList.add("hidden"),window.removeEventListener("pointerdown",og(cg,this))}},{key:"_hideDropdownFromKeyboard",value:function(){var t;og(yg,this)||(ig(Dg,this,_g)?(this.hideDropdown(),og(hg,this).focus({preventScroll:!0,focusVisible:og(vg,this)})):null===(t=og(gg,this))||void 0===t||t.unselect())}},{key:"updateColor",value:function(t){if(og(fg,this)&&(og(fg,this).style.backgroundColor=t),og(pg,this)){var e,n=og(bg,this).highlightColors.values(),r=Zy(og(pg,this).children);try{for(r.s();!(e=r.n()).done;){e.value.setAttribute("aria-selected",n.next().value===t)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"destroy",value:function(){var t,e;null===(t=og(hg,this))||void 0===t||t.remove(),ag(hg,this,null),ag(fg,this,null),null===(e=og(pg,this))||void 0===e||e.remove(),ag(pg,this,null)}}],[{key:"_keyboardManager",get:function(){return(0,Kt.r7)(this,"_keyboardManager",new Wr([[["Escape","mac+Escape"],t.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],t.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],t.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],t.prototype._moveToPrevious],[["Home","mac+Home"],t.prototype._moveToBeginning],[["End","mac+End"],t.prototype._moveToEnd]]))}}])}();function Ag(){var t=document.createElement("div");t.addEventListener("contextmenu",vn),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");var e,n=Zy(og(bg,this).highlightColors);try{for(n.s();!(e=n.n()).done;){var r=qy(e.value,2),i=r[0],o=r[1],a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",o),a.title=i,a.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-".concat(i));var u=document.createElement("span");a.append(u),u.className="swatch",u.style.backgroundColor=o,a.setAttribute("aria-selected",o===og(dg,this)),a.addEventListener("click",ug(Dg,this,kg).bind(this,o)),t.append(a)}}catch(t){n.e(t)}finally{n.f()}return t.addEventListener("keydown",og(lg,this)),t}function kg(t,e){e.stopPropagation(),og(mg,this).dispatch("switchannotationeditorparams",{source:this,type:og(wg,this),value:t})}function Sg(t){Iy._keyboardManager.exec(this,t)}function Cg(t){if(ig(Dg,this,_g))this.hideDropdown();else if(ag(vg,this,0===t.detail),window.addEventListener("pointerdown",og(cg,this)),og(pg,this))og(pg,this).classList.remove("hidden");else{var e=ag(pg,this,ug(Dg,this,Ag).call(this));og(hg,this).append(e)}}function xg(t){var e;null!==(e=og(pg,this))&&void 0!==e&&e.contains(t.target)||this.hideDropdown()}function _g(t){return og(pg,t)&&!og(pg,t).classList.contains("hidden")}function Fg(t){return Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(t)}function Pg(t){return function(t){if(Array.isArray(t))return Tg(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Og(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||Og(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Og(t,e){if(t){if("string"==typeof t)return Tg(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tg(t,e):void 0}}function Tg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ig(){Ig=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==Fg(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Fg(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function Mg(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Bg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bg(Object(n),!0).forEach((function(e){Ug(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bg(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ng(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zg(r.key),r)}}function Rg(t,e,n){return e=Hg(e),function(t,e){if(e&&("object"==Fg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Wg()?Reflect.construct(e,n||[],Hg(t).constructor):e.apply(t,n))}function Wg(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Wg=function(){return!!t})()}function Gg(){return Gg="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Hg(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Gg.apply(null,arguments)}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Hg(t)}function Vg(t,e){return Vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Vg(t,e)}function Ug(t,e,n){return(e=zg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zg(t){var e=function(t,e){if("object"!=Fg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fg(e)?e:e+""}function Jg(t,e,n){Yg(t,e),e.set(t,n)}function Yg(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kg(t,e,n){e||(e=[]);var r=e.length++;return Object.defineProperty({},"_",{set:function(i){e[r]=i,t.apply(n,e)}})}function Xg(t,e){return t.get(Zg(t,e))}function qg(t,e,n){return t.set(Zg(t,e),n),n}function Zg(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Iy=Eg;var Qg,$g=new WeakMap,tm=new WeakMap,em=new WeakMap,nm=new WeakMap,rm=new WeakMap,im=new WeakMap,om=new WeakMap,am=new WeakMap,um=new WeakMap,sm=new WeakMap,lm=new WeakMap,cm=new WeakMap,hm=new WeakMap,fm=new WeakMap,dm=new WeakMap,pm=new WeakMap,vm=new WeakMap,ym=new WeakMap,gm=new WeakMap,mm=new WeakSet,bm=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){Yg(t,e),e.add(t)}(n=Rg(this,e,[jg(jg({},t),{},{name:"highlightEditor"})]),mm),Jg(n,$g,null),Jg(n,tm,0),Jg(n,em,void 0),Jg(n,nm,null),Jg(n,rm,null),Jg(n,im,null),Jg(n,om,null),Jg(n,am,0),Jg(n,um,null),Jg(n,sm,null),Jg(n,lm,null),Jg(n,cm,!1),Jg(n,hm,Zg(mm,n,_m).bind(n)),Jg(n,fm,null),Jg(n,dm,void 0),Jg(n,pm,null),Jg(n,vm,""),Jg(n,ym,void 0),Jg(n,gm,""),n.color=t.color||e._defaultColor,qg(ym,n,t.thickness||e._defaultThickness),qg(dm,n,t.opacity||e._defaultOpacity),qg(em,n,t.boxes||null),qg(gm,n,t.methodOfCreation||""),qg(vm,n,t.text||""),n._isDraggable=!1,t.highlightId>-1?(qg(cm,n,!0),Zg(mm,n,Dm).call(n,t),Zg(mm,n,Cm).call(n)):(qg($g,n,t.anchorNode),qg(tm,n,t.anchorOffset),qg(om,n,t.focusNode),qg(am,n,t.focusOffset),Zg(mm,n,wm).call(n),Zg(mm,n,Cm).call(n),n.rotate(n.rotation)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Vg(t,e)}(e,t),function(t,e,n){return e&&Ng(t.prototype,e),n&&Ng(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"telemetryInitialData",get:function(){return{action:"added",type:Xg(cm,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:Xg(ym,this),methodOfCreation:Xg(gm,this)}}},{key:"telemetryFinalData",get:function(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}},{key:"translateInPage",value:function(t,e){}},{key:"toolbarPosition",get:function(){return Xg(fm,this)}},{key:"updateParams",value:function(t,e){switch(t){case Kt.N5.HIGHLIGHT_COLOR:Zg(mm,this,Em).call(this,e);break;case Kt.N5.HIGHLIGHT_THICKNESS:Zg(mm,this,Am).call(this,e)}}},{key:"propertiesToUpdate",get:function(){return[[Kt.N5.HIGHLIGHT_COLOR,this.color||e._defaultColor],[Kt.N5.HIGHLIGHT_THICKNESS,Xg(ym,this)||e._defaultThickness],[Kt.N5.HIGHLIGHT_FREE,Xg(cm,this)]]}},{key:"addEditToolbar",value:(n=Ig().mark((function t(){var n;return Ig().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Gg(Hg(e.prototype),"addEditToolbar",this).call(this);case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",null);case 5:return this._uiManager.highlightColors&&(qg(rm,this,new Eg({editor:this})),n.addColorPicker(Xg(rm,this))),t.abrupt("return",n);case 7:case"end":return t.stop()}}),t,this)})),r=function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(t){Mg(o,r,i,a,u,"next",t)}function u(t){Mg(o,r,i,a,u,"throw",t)}a(void 0)}))},function(){return r.apply(this,arguments)})},{key:"disableEditing",value:function(){Gg(Hg(e.prototype),"disableEditing",this).call(this),this.div.classList.toggle("disabled",!0)}},{key:"enableEditing",value:function(){Gg(Hg(e.prototype),"enableEditing",this).call(this),this.div.classList.toggle("disabled",!1)}},{key:"fixAndSetPosition",value:function(){return Gg(Hg(e.prototype),"fixAndSetPosition",this).call(this,Zg(mm,this,Pm).call(this))}},{key:"getBaseTranslation",value:function(){return[0,0]}},{key:"getRect",value:function(t,n){return Gg(Hg(e.prototype),"getRect",this).call(this,t,n,Zg(mm,this,Pm).call(this))}},{key:"onceAdded",value:function(){this.parent.addUndoableEditor(this),this.div.focus()}},{key:"remove",value:function(){Zg(mm,this,Sm).call(this),this._reportTelemetry({action:"deleted"}),Gg(Hg(e.prototype),"remove",this).call(this)}},{key:"rebuild",value:function(){this.parent&&(Gg(Hg(e.prototype),"rebuild",this).call(this),null!==this.div&&(Zg(mm,this,Cm).call(this),this.isAttachedToDOM||this.parent.add(this)))}},{key:"setParent",value:function(t){var n=!1;if(this.parent&&!t)Zg(mm,this,Sm).call(this);else if(t){var r;Zg(mm,this,Cm).call(this,t),n=!this.parent&&(null===(r=this.div)||void 0===r?void 0:r.classList.contains("selectedEditor"))}Gg(Hg(e.prototype),"setParent",this).call(this,t),this.show(this._isVisible),n&&this.select()}},{key:"rotate",value:function(t){var n,r=this.parent.drawLayer;Xg(cm,this)?(t=(t-this.rotation+360)%360,n=xm.call(e,Xg(sm,this).box,t)):n=xm.call(e,this,t),r.rotate(Xg(lm,this),t),r.rotate(Xg(pm,this),t),r.updateBox(Xg(lm,this),n),r.updateBox(Xg(pm,this),xm.call(e,Xg(im,this).box,t))}},{key:"render",value:function(){if(this.div)return this.div;var t=Gg(Hg(e.prototype),"render",this).call(this);Xg(vm,this)&&(t.setAttribute("aria-label",Xg(vm,this)),t.setAttribute("role","mark")),Xg(cm,this)?t.classList.add("free"):this.div.addEventListener("keydown",Xg(hm,this));var n=qg(um,this,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=Xg(nm,this);var r=Lg(this.parentDimensions,2),i=r[0],o=r[1];return this.setDims(this.width*i,this.height*o),kr(this,Xg(um,this),["pointerover","pointerleave"]),this.enableEditing(),t}},{key:"pointerover",value:function(){this.parent.drawLayer.addClass(Xg(pm,this),"hovered")}},{key:"pointerleave",value:function(){this.parent.drawLayer.removeClass(Xg(pm,this),"hovered")}},{key:"_moveCaret",value:function(t){switch(this.parent.unselect(this),t){case 0:case 2:Zg(mm,this,Fm).call(this,!0);break;case 1:case 3:Zg(mm,this,Fm).call(this,!1)}}},{key:"select",value:function(){var t,n;Gg(Hg(e.prototype),"select",this).call(this),Xg(pm,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.removeClass(Xg(pm,this),"hovered"),null===(n=this.parent)||void 0===n||n.drawLayer.addClass(Xg(pm,this),"selected"))}},{key:"unselect",value:function(){var t;Gg(Hg(e.prototype),"unselect",this).call(this),Xg(pm,this)&&(null===(t=this.parent)||void 0===t||t.drawLayer.removeClass(Xg(pm,this),"selected"),Xg(cm,this)||Zg(mm,this,Fm).call(this,!1))}},{key:"_mustFixPosition",get:function(){return!Xg(cm,this)}},{key:"show",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;Gg(Hg(e.prototype),"show",this).call(this,t),this.parent&&(this.parent.drawLayer.show(Xg(lm,this),t),this.parent.drawLayer.show(Xg(pm,this),t))}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||t)return null;var e=this.getRect(0,0),n=Ca._colorManager.convert(this.color);return{annotationType:Kt.vP.HIGHLIGHT,color:n,opacity:Xg(dm,this),thickness:Xg(ym,this),quadPoints:Zg(mm,this,Lm).call(this),outlines:Zg(mm,this,Om).call(this,e),pageIndex:this.pageIndex,rect:e,rotation:Zg(mm,this,Pm).call(this),structTreeParentId:this._structTreeParentId}}}],[{key:"_keyboardManager",get:function(){var t=e.prototype;return(0,Kt.r7)(this,"_keyboardManager",new Wr([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}},{key:"computeTelemetryFinalData",value:function(t){return{numberOfColors:t.get("color").size}}},{key:"initialize",value:function(t,n){var r;Ca.initialize(t,n),e._defaultColor||(e._defaultColor=(null===(r=n.highlightColors)||void 0===r?void 0:r.values().next().value)||"#fff066")}},{key:"updateDefaultParams",value:function(t,n){switch(t){case Kt.N5.HIGHLIGHT_DEFAULT_COLOR:e._defaultColor=n;break;case Kt.N5.HIGHLIGHT_THICKNESS:e._defaultThickness=n}}},{key:"defaultPropertiesToUpdate",get:function(){return[[Kt.N5.HIGHLIGHT_DEFAULT_COLOR,e._defaultColor],[Kt.N5.HIGHLIGHT_THICKNESS,e._defaultThickness]]}},{key:"startHighlighting",value:function(t,n,r){var i=this,o=r.target,a=r.x,u=r.y,s=o.getBoundingClientRect(),l=s.x,c=s.y,h=s.width,f=s.height,d=function(n){Zg(e,i,Tm).call(i,t,n)},p={capture:!0,passive:!1},v=function(t){t.preventDefault(),t.stopPropagation()},y=function n(r){o.removeEventListener("pointermove",d),window.removeEventListener("blur",n),window.removeEventListener("pointerup",n),window.removeEventListener("pointerdown",v,p),window.removeEventListener("contextmenu",vn),Zg(e,i,Im).call(i,t,r)};window.addEventListener("blur",y),window.addEventListener("pointerup",y),window.addEventListener("pointerdown",v,p),window.addEventListener("contextmenu",vn),o.addEventListener("pointermove",d),this._freeHighlight=new Oy({x:a,y:u},[l,c,h,f],t.scale,this._defaultThickness/2,n,.001);var g=t.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0);this._freeHighlightId=g.id,this._freeHighlightClipId=g.clipPathId}},{key:"deserialize",value:function(t,n,r){var i=Gg(Hg(e),"deserialize",this).call(this,t,n,r),o=Lg(t.rect,4),a=o[0],u=o[1],s=o[2],l=o[3],c=t.color,h=t.quadPoints;i.color=Kt.J0.makeHexColor.apply(Kt.J0,Pg(c)),qg(dm,i,t.opacity);var f=Lg(i.pageDimensions,2),d=f[0],p=f[1];i.width=(s-a)/d,i.height=(l-u)/p;for(var v=qg(em,i,[]),y=0;y<h.length;y+=8)v.push({x:(h[4]-s)/d,y:(l-(1-h[y+5]))/p,width:(h[y+2]-h[y])/d,height:(h[y+5]-h[y+1])/p});return Zg(mm,i,wm).call(i),i}},{key:"canCreateNewEmptyEditor",value:function(){return!1}}]);var n,r}(Ca);function wm(){var t=new sy(Xg(em,this),.001);qg(sm,this,t.getOutlines());var e=Xg(sm,this).box;this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height;var n=new sy(Xg(em,this),.0025,.001,"ltr"===this._uiManager.direction);qg(im,this,n.getOutlines());var r=Xg(im,this).box.lastPoint;qg(fm,this,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height])}function Dm(t){var e=t.highlightOutlines,n=t.highlightId,r=t.clipPathId;qg(sm,this,e);if(qg(im,this,e.getNewOutline(Xg(ym,this)/2+1.5,.0025)),n>=0)qg(lm,this,n),qg(nm,this,r),this.parent.drawLayer.finalizeLine(n,e),qg(pm,this,this.parent.drawLayer.highlightOutline(Xg(im,this)));else if(this.parent){var i=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(Xg(lm,this),e),this.parent.drawLayer.updateBox(Xg(lm,this),xm.call(sg,Xg(sm,this).box,(i-this.rotation+360)%360)),this.parent.drawLayer.updateLine(Xg(pm,this),Xg(im,this)),this.parent.drawLayer.updateBox(Xg(pm,this),xm.call(sg,Xg(im,this).box,i))}var o=e.box,a=o.x,u=o.y,s=o.width,l=o.height;switch(this.rotation){case 0:this.x=a,this.y=u,this.width=s,this.height=l;break;case 90:var c=Lg(this.parentDimensions,2),h=c[0],f=c[1];this.x=u,this.y=1-a,this.width=s*f/h,this.height=l*h/f;break;case 180:this.x=1-a,this.y=1-u,this.width=s,this.height=l;break;case 270:var d=Lg(this.parentDimensions,2),p=d[0],v=d[1];this.x=1-u,this.y=a,this.width=s*v/p,this.height=l*p/v}var y=Xg(im,this).box.lastPoint;qg(fm,this,[(y[0]-a)/s,(y[1]-u)/l])}function Em(t){var e=this,n=function(t){var n,r;e.color=t,null===(n=e.parent)||void 0===n||n.drawLayer.changeColor(Xg(lm,e),t),null===(r=Xg(rm,e))||void 0===r||r.updateColor(t)},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Kt.N5.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)}function Am(t){var e=this,n=Xg(ym,this),r=function(t){qg(ym,e,t),Zg(mm,e,km).call(e,t)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Kt.N5.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)}function km(t){if(Xg(cm,this)){Zg(mm,this,Dm).call(this,{highlightOutlines:Xg(sm,this).getNewOutline(t/2)}),this.fixAndSetPosition();var e=Lg(this.parentDimensions,2),n=e[0],r=e[1];this.setDims(this.width*n,this.height*r)}}function Sm(){null!==Xg(lm,this)&&this.parent&&(this.parent.drawLayer.remove(Xg(lm,this)),qg(lm,this,null),this.parent.drawLayer.remove(Xg(pm,this)),qg(pm,this,null))}function Cm(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;if(null===Xg(lm,this)){var e=t.drawLayer.highlight(Xg(sm,this),this.color,Xg(dm,this));Kg(qg,[lm,this])._=e.id,Kg(qg,[nm,this])._=e.clipPathId,qg(pm,this,t.drawLayer.highlightOutline(Xg(im,this))),Xg(um,this)&&(Xg(um,this).style.clipPath=Xg(nm,this))}}function xm(t,e){var n=t.x,r=t.y,i=t.width,o=t.height;switch(e){case 90:return{x:1-r-o,y:n,width:o,height:i};case 180:return{x:1-n-i,y:1-r-o,width:i,height:o};case 270:return{x:r,y:1-n-i,width:o,height:i}}return{x:n,y:r,width:i,height:o}}function _m(t){sg._keyboardManager.exec(this,t)}function Fm(t){if(Xg($g,this)){var e=window.getSelection();t?e.setPosition(Xg($g,this),Xg(tm,this)):e.setPosition(Xg(om,this),Xg(am,this))}}function Pm(){return Xg(cm,this)?this.rotation:0}function Lm(){if(Xg(cm,this))return null;var t,e=Lg(this.pageDimensions,2),n=e[0],r=e[1],i=Xg(em,this),o=new Float32Array(8*i.length),a=0,u=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Og(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(i);try{for(u.s();!(t=u.n()).done;){var s=t.value,l=s.x,c=s.y,h=s.width,f=s.height,d=l*n,p=(1-c-f)*r;o[a]=o[a+4]=d,o[a+1]=o[a+3]=p,o[a+2]=o[a+6]=d+h*n,o[a+5]=o[a+7]=p+f*r,a+=8}}catch(t){u.e(t)}finally{u.f()}return o}function Om(t){return Xg(sm,this).serialize(t,Zg(mm,this,Pm).call(this))}function Tm(t,e){this._freeHighlight.add(e)&&t.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}function Im(t,e){this._freeHighlight.isEmpty()?t.drawLayer.removeFreeHighlight(this._freeHighlightId):t.createAndAddNewEditor(e,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function Mm(t){return Mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(t)}function Bm(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Rm(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function jm(t){return function(t){if(Array.isArray(t))return Wm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Rm(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||Rm(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rm(t,e){if(t){if("string"==typeof t)return Wm(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wm(t,e):void 0}}function Wm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Gm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gm(Object(n),!0).forEach((function(e){Xm(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gm(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qm(r.key),r)}}function Um(t,e,n){return e=Ym(e),function(t,e){if(e&&("object"==Mm(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,zm()?Reflect.construct(e,n||[],Ym(t).constructor):e.apply(t,n))}function zm(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(zm=function(){return!!t})()}function Jm(){return Jm="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ym(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Jm.apply(null,arguments)}function Ym(t){return Ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ym(t)}function Km(t,e){return Km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Km(t,e)}function Xm(t,e,n){return(e=qm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qm(t){var e=function(t,e){if("object"!=Mm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mm(e)?e:e+""}function Zm(t,e,n){Qm(t,e),e.set(t,n)}function Qm(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $m(t,e,n){return t.set(eb(t,e),n),n}function tb(t,e){return t.get(eb(t,e))}function eb(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}sg=bm,Ug(bm,"_defaultColor",null),Ug(bm,"_defaultOpacity",1),Ug(bm,"_defaultThickness",12),Ug(bm,"_l10nPromise",void 0),Ug(bm,"_type","highlight"),Ug(bm,"_editorType",Kt.vP.HIGHLIGHT),Ug(bm,"_freeHighlightId",-1),Ug(bm,"_freeHighlight",null),Ug(bm,"_freeHighlightClipId","");var nb,rb=new WeakMap,ib=new WeakMap,ob=new WeakMap,ab=new WeakMap,ub=new WeakMap,sb=new WeakMap,lb=new WeakMap,cb=new WeakMap,hb=new WeakMap,fb=new WeakMap,db=new WeakMap,pb=new WeakMap,vb=new WeakMap,yb=new WeakMap,gb=new WeakMap,mb=new WeakSet,bb=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){Qm(t,e),e.add(t)}(n=Um(this,e,[Hm(Hm({},t),{},{name:"inkEditor"})]),mb),Zm(n,rb,0),Zm(n,ib,0),Zm(n,ob,n.canvasPointermove.bind(n)),Zm(n,ab,n.canvasPointerleave.bind(n)),Zm(n,ub,n.canvasPointerup.bind(n)),Zm(n,sb,n.canvasPointerdown.bind(n)),Zm(n,lb,null),Zm(n,cb,new Path2D),Zm(n,hb,!1),Zm(n,fb,!1),Zm(n,db,!1),Zm(n,pb,null),Zm(n,vb,0),Zm(n,yb,0),Zm(n,gb,null),n.color=t.color||null,n.thickness=t.thickness||null,n.opacity=t.opacity||null,n.paths=[],n.bezierPath2D=[],n.allRawPaths=[],n.currentPath=[],n.scaleFactor=1,n.translationX=n.translationY=0,n.x=0,n.y=0,n._willKeepAspectRatio=!0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Km(t,e)}(e,t),function(t,e,n){return e&&Vm(t.prototype,e),n&&Vm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"updateParams",value:function(t,e){switch(t){case Kt.N5.INK_THICKNESS:eb(mb,this,wb).call(this,e);break;case Kt.N5.INK_COLOR:eb(mb,this,Db).call(this,e);break;case Kt.N5.INK_OPACITY:eb(mb,this,Eb).call(this,e)}}},{key:"propertiesToUpdate",get:function(){var t;return[[Kt.N5.INK_THICKNESS,this.thickness||e._defaultThickness],[Kt.N5.INK_COLOR,this.color||e._defaultColor||Ca._defaultLineColor],[Kt.N5.INK_OPACITY,Math.round(100*(null!==(t=this.opacity)&&void 0!==t?t:e._defaultOpacity))]]}},{key:"rebuild",value:function(){this.parent&&(Jm(Ym(e.prototype),"rebuild",this).call(this),null!==this.div&&(this.canvas||(eb(mb,this,Ib).call(this),eb(mb,this,Mb).call(this)),this.isAttachedToDOM||(this.parent.add(this),eb(mb,this,Bb).call(this)),eb(mb,this,zb).call(this)))}},{key:"remove",value:function(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,tb(lb,this)&&(clearTimeout(tb(lb,this)),$m(lb,this,null)),tb(pb,this).disconnect(),$m(pb,this,null),Jm(Ym(e.prototype),"remove",this).call(this))}},{key:"setParent",value:function(t){!this.parent&&t?this._uiManager.removeShouldRescale(this):this.parent&&null===t&&this._uiManager.addShouldRescale(this),Jm(Ym(e.prototype),"setParent",this).call(this,t)}},{key:"onScaleChanging",value:function(){var t=Nm(this.parentDimensions,2),e=t[0],n=t[1],r=this.width*e,i=this.height*n;this.setDimensions(r,i)}},{key:"enableEditMode",value:function(){tb(hb,this)||null===this.canvas||(Jm(Ym(e.prototype),"enableEditMode",this).call(this),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",tb(sb,this)))}},{key:"disableEditMode",value:function(){this.isInEditMode()&&null!==this.canvas&&(Jm(Ym(e.prototype),"disableEditMode",this).call(this),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",tb(sb,this)))}},{key:"onceAdded",value:function(){this._isDraggable=!this.isEmpty()}},{key:"isEmpty",value:function(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}},{key:"commit",value:function(){tb(hb,this)||(Jm(Ym(e.prototype),"commit",this).call(this),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),$m(hb,this,!0),this.div.classList.add("disabled"),eb(mb,this,zb).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}},{key:"focusin",value:function(t){this._focusEventsAllowed&&(Jm(Ym(e.prototype),"focusin",this).call(this,t),this.enableEditMode())}},{key:"canvasPointerdown",value:function(t){0===t.button&&this.isInEditMode()&&!tb(hb,this)&&(this.setInForeground(),t.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),eb(mb,this,Sb).call(this,t.offsetX,t.offsetY))}},{key:"canvasPointermove",value:function(t){t.preventDefault(),eb(mb,this,Cb).call(this,t.offsetX,t.offsetY)}},{key:"canvasPointerup",value:function(t){t.preventDefault(),eb(mb,this,Tb).call(this,t)}},{key:"canvasPointerleave",value:function(t){eb(mb,this,Tb).call(this,t)}},{key:"isResizable",get:function(){return!this.isEmpty()&&tb(hb,this)}},{key:"render",value:function(){if(this.div)return this.div;var t,n;this.width&&(t=this.x,n=this.y),Jm(Ym(e.prototype),"render",this).call(this),this.div.setAttribute("data-l10n-id","pdfjs-ink");var r=Nm(eb(mb,this,Ab).call(this),4),i=r[0],o=r[1],a=r[2],u=r[3];if(this.setAt(i,o,0,0),this.setDims(a,u),eb(mb,this,Ib).call(this),this.width){var s=Nm(this.parentDimensions,2),l=s[0],c=s[1];this.setAspectRatio(this.width*l,this.height*c),this.setAt(t*l,n*c,this.width*l,this.height*c),$m(db,this,!0),eb(mb,this,Bb).call(this),this.setDims(this.width*l,this.height*c),eb(mb,this,Ob).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return eb(mb,this,Mb).call(this),this.div}},{key:"setDimensions",value:function(t,e){var n=Math.round(t),r=Math.round(e);if(tb(vb,this)!==n||tb(yb,this)!==r){$m(vb,this,n),$m(yb,this,r),this.canvas.style.visibility="hidden";var i=Nm(this.parentDimensions,2),o=i[0],a=i[1];this.width=t/o,this.height=e/a,this.fixAndSetPosition(),tb(hb,this)&&eb(mb,this,jb).call(this,t,e),eb(mb,this,Bb).call(this),eb(mb,this,Ob).call(this),this.canvas.style.visibility="visible",this.fixDims()}}},{key:"serialize",value:function(){if(this.isEmpty())return null;var t=this.getRect(0,0),e=Ca._colorManager.convert(this.ctx.strokeStyle);return{annotationType:Kt.vP.INK,color:e,thickness:this.thickness,opacity:this.opacity,paths:eb(mb,this,Hb).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,t),pageIndex:this.pageIndex,rect:t,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}],[{key:"initialize",value:function(t,e){Ca.initialize(t,e)}},{key:"updateDefaultParams",value:function(t,n){switch(t){case Kt.N5.INK_THICKNESS:e._defaultThickness=n;break;case Kt.N5.INK_COLOR:e._defaultColor=n;break;case Kt.N5.INK_OPACITY:e._defaultOpacity=n/100}}},{key:"defaultPropertiesToUpdate",get:function(){return[[Kt.N5.INK_THICKNESS,e._defaultThickness],[Kt.N5.INK_COLOR,e._defaultColor||Ca._defaultLineColor],[Kt.N5.INK_OPACITY,Math.round(100*e._defaultOpacity)]]}},{key:"deserialize",value:function(t,n,r){if(t instanceof Pp)return null;var i=Jm(Ym(e),"deserialize",this).call(this,t,n,r);i.thickness=t.thickness,i.color=Kt.J0.makeHexColor.apply(Kt.J0,jm(t.color)),i.opacity=t.opacity;var o=Nm(i.pageDimensions,2),a=o[0],u=o[1],s=i.width*a,l=i.height*u,c=i.parentScale,h=t.thickness/2;$m(hb,i,!0),$m(vb,i,Math.round(s)),$m(yb,i,Math.round(l));var f,d=t.paths,p=t.rect,v=t.rotation,y=Bm(d);try{for(y.s();!(f=y.n()).done;){var g=f.value.bezier;g=Gb.call(e,g,p,v);var m=[];i.paths.push(m);for(var b=c*(g[0]-h),w=c*(g[1]-h),D=2,E=g.length;D<E;D+=6){var A=c*(g[D]-h),k=c*(g[D+1]-h),S=c*(g[D+2]-h),C=c*(g[D+3]-h),x=c*(g[D+4]-h),_=c*(g[D+5]-h);m.push([[b,w],[A,k],[S,C],[x,_]]),b=x,w=_}var F=eb(e,this,Rb).call(this,m);i.bezierPath2D.push(F)}}catch(t){y.e(t)}finally{y.f()}var P=eb(mb,i,Vb).call(i);return $m(ib,i,Math.max(Ca.MIN_SIZE,P[2]-P[0])),$m(rb,i,Math.max(Ca.MIN_SIZE,P[3]-P[1])),eb(mb,i,jb).call(i,s,l),i}}])}(Ca);function wb(t){var e=this,n=function(t){e.thickness=t,eb(mb,e,zb).call(e)},r=this.thickness;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Kt.N5.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function Db(t){var e=this,n=function(t){e.color=t,eb(mb,e,Ob).call(e)},r=this.color;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Kt.N5.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function Eb(t){var e=this,n=function(t){e.opacity=t,eb(mb,e,Ob).call(e)};t/=100;var r=this.opacity;this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Kt.N5.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function Ab(){var t=this.parentRotation,e=Nm(this.parentDimensions,2),n=e[0],r=e[1];switch(t){case 90:return[0,r,r,n];case 180:return[n,r,n,r];case 270:return[n,0,r,n];default:return[0,0,n,r]}}function kb(){var t=this.ctx,e=this.color,n=this.opacity,r=this.thickness,i=this.parentScale,o=this.scaleFactor;t.lineWidth=r*i/o,t.lineCap="round",t.lineJoin="round",t.miterLimit=10,t.strokeStyle="".concat(e).concat(function(t){return Math.round(Math.min(255,Math.max(1,255*t))).toString(16).padStart(2,"0")}(n))}function Sb(t,e){var n,r=this;(this.canvas.addEventListener("contextmenu",vn),this.canvas.addEventListener("pointerleave",tb(ab,this)),this.canvas.addEventListener("pointermove",tb(ob,this)),this.canvas.addEventListener("pointerup",tb(ub,this)),this.canvas.removeEventListener("pointerdown",tb(sb,this)),this.isEditing=!0,tb(db,this))||($m(db,this,!0),eb(mb,this,Bb).call(this),this.thickness||(this.thickness=Qg._defaultThickness),this.color||(this.color=Qg._defaultColor||Ca._defaultLineColor),null!==(n=this.opacity)&&void 0!==n||(this.opacity=Qg._defaultOpacity));this.currentPath.push([t,e]),$m(fb,this,!1),eb(mb,this,kb).call(this),$m(gb,this,(function(){eb(mb,r,Fb).call(r),tb(gb,r)&&window.requestAnimationFrame(tb(gb,r))})),window.requestAnimationFrame(tb(gb,this))}function Cb(t,e){var n,r=Nm(this.currentPath.at(-1),2),i=r[0],o=r[1];if(!(this.currentPath.length>1&&t===i&&e===o)){var a,u,s=this.currentPath,l=tb(cb,this);if(s.push([t,e]),$m(fb,this,!0),s.length<=2)return(a=l).moveTo.apply(a,jm(s[0])),void l.lineTo(t,e);if(3===s.length)$m(cb,this,l=new Path2D),(u=l).moveTo.apply(u,jm(s[0]));(n=eb(mb,this,Pb)).call.apply(n,[this,l].concat(jm(s.at(-3)),jm(s.at(-2)),[t,e]))}}function xb(){var t;if(0!==this.currentPath.length){var e=this.currentPath.at(-1);(t=tb(cb,this)).lineTo.apply(t,jm(e))}}function _b(t,e){var n,r=this;if($m(gb,this,null),t=Math.min(Math.max(t,0),this.canvas.width),e=Math.min(Math.max(e,0),this.canvas.height),eb(mb,this,Cb).call(this,t,e),eb(mb,this,xb).call(this),1!==this.currentPath.length)n=eb(mb,this,Lb).call(this);else{var i=[t,e];n=[[i,i.slice(),i.slice(),i]]}var o=tb(cb,this),a=this.currentPath;this.currentPath=[],$m(cb,this,new Path2D);this.addCommands({cmd:function(){r.allRawPaths.push(a),r.paths.push(n),r.bezierPath2D.push(o),r._uiManager.rebuild(r)},undo:function(){r.allRawPaths.pop(),r.paths.pop(),r.bezierPath2D.pop(),0===r.paths.length?r.remove():(r.canvas||(eb(mb,r,Ib).call(r),eb(mb,r,Mb).call(r)),eb(mb,r,zb).call(r))},mustExec:!0})}function Fb(){if(tb(fb,this)){$m(fb,this,!1);var t=Math.ceil(this.thickness*this.parentScale),e=this.currentPath.slice(-3),n=e.map((function(t){return t[0]})),r=e.map((function(t){return t[1]})),i=Math.min.apply(Math,jm(n))-t,o=Math.max.apply(Math,jm(n))+t,a=Math.min.apply(Math,jm(r))-t,u=Math.max.apply(Math,jm(r))+t,s=this.ctx;s.save(),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")?(s.clearRect(i,a,o-i,u-a),s.beginPath(),s.rect(i,a,o-i,u-a),s.clip()):s.clearRect(0,0,this.canvas.width,this.canvas.height);var l,c=Bm(this.bezierPath2D);try{for(c.s();!(l=c.n()).done;){var h=l.value;s.stroke(h)}}catch(t){c.e(t)}finally{c.f()}s.stroke(tb(cb,this)),s.restore()}}function Pb(t,e,n,r,i,o,a){var u=(e+r)/2,s=(n+i)/2,l=(r+o)/2,c=(i+a)/2;t.bezierCurveTo(u+2*(r-u)/3,s+2*(i-s)/3,l+2*(r-l)/3,c+2*(i-c)/3,l,c)}function Lb(){var t=this.currentPath;if(t.length<=2)return[[t[0],t[0],t.at(-1),t.at(-1)]];var e,n=[],r=Nm(t[0],2),i=r[0],o=r[1];for(e=1;e<t.length-2;e++){var a=Nm(t[e],2),u=a[0],s=a[1],l=Nm(t[e+1],2),c=(u+l[0])/2,h=(s+l[1])/2,f=[i+2*(u-i)/3,o+2*(s-o)/3],d=[c+2*(u-c)/3,h+2*(s-h)/3];n.push([[i,o],f,d,[c,h]]),i=c,o=h}var p=Nm(t[e],2),v=p[0],y=p[1],g=Nm(t[e+1],2),m=g[0],b=g[1],w=[i+2*(v-i)/3,o+2*(y-o)/3],D=[m+2*(v-m)/3,b+2*(y-b)/3];return n.push([[i,o],w,D,[m,b]]),n}function Ob(){if(this.isEmpty())eb(mb,this,Nb).call(this);else{eb(mb,this,kb).call(this);var t=this.canvas,e=this.ctx;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,t.width,t.height),eb(mb,this,Nb).call(this);var n,r=Bm(this.bezierPath2D);try{for(r.s();!(n=r.n()).done;){var i=n.value;e.stroke(i)}}catch(t){r.e(t)}finally{r.f()}}}function Tb(t){var e=this;this.canvas.removeEventListener("pointerleave",tb(ab,this)),this.canvas.removeEventListener("pointermove",tb(ob,this)),this.canvas.removeEventListener("pointerup",tb(ub,this)),this.canvas.addEventListener("pointerdown",tb(sb,this)),tb(lb,this)&&clearTimeout(tb(lb,this)),$m(lb,this,setTimeout((function(){$m(lb,e,null),e.canvas.removeEventListener("contextmenu",vn)}),10)),eb(mb,this,_b).call(this,t.offsetX,t.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function Ib(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function Mb(){var t=this;$m(pb,this,new ResizeObserver((function(e){var n=e[0].contentRect;n.width&&n.height&&t.setDimensions(n.width,n.height)}))),tb(pb,this).observe(this.div)}function Bb(){if(tb(db,this)){var t=Nm(this.parentDimensions,2),e=t[0],n=t[1];this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),eb(mb,this,Nb).call(this)}}function jb(t,e){var n=eb(mb,this,Ub).call(this),r=(t-n)/tb(ib,this),i=(e-n)/tb(rb,this);this.scaleFactor=Math.min(r,i)}function Nb(){var t=eb(mb,this,Ub).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+t,this.translationY*this.scaleFactor+t)}function Rb(t){for(var e=new Path2D,n=0,r=t.length;n<r;n++){var i=Nm(t[n],4),o=i[0],a=i[1],u=i[2],s=i[3];0===n&&e.moveTo.apply(e,jm(o)),e.bezierCurveTo(a[0],a[1],u[0],u[1],s[0],s[1])}return e}function Wb(t,e,n){var r=Nm(e,4),i=r[0],o=r[1],a=r[2],u=r[3];switch(n){case 0:for(var s=0,l=t.length;s<l;s+=2)t[s]+=i,t[s+1]=u-t[s+1];break;case 90:for(var c=0,h=t.length;c<h;c+=2){var f=t[c];t[c]=t[c+1]+i,t[c+1]=f+o}break;case 180:for(var d=0,p=t.length;d<p;d+=2)t[d]=a-t[d],t[d+1]+=o;break;case 270:for(var v=0,y=t.length;v<y;v+=2){var g=t[v];t[v]=a-t[v+1],t[v+1]=u-g}break;default:throw new Error("Invalid rotation")}return t}function Gb(t,e,n){var r=Nm(e,4),i=r[0],o=r[1],a=r[2],u=r[3];switch(n){case 0:for(var s=0,l=t.length;s<l;s+=2)t[s]-=i,t[s+1]=u-t[s+1];break;case 90:for(var c=0,h=t.length;c<h;c+=2){var f=t[c];t[c]=t[c+1]-o,t[c+1]=f-i}break;case 180:for(var d=0,p=t.length;d<p;d+=2)t[d]=a-t[d],t[d+1]-=o;break;case 270:for(var v=0,y=t.length;v<y;v+=2){var g=t[v];t[v]=u-t[v+1],t[v+1]=a-g}break;default:throw new Error("Invalid rotation")}return t}function Hb(t,e,n,r){var i,o=[],a=this.thickness/2,u=t*e+a,s=t*n+a,l=Bm(this.paths);try{for(l.s();!(i=l.n()).done;){for(var c=i.value,h=[],f=[],d=0,p=c.length;d<p;d++){var v=Nm(c[d],4),y=v[0],g=v[1],m=v[2],b=v[3];if(y[0]===b[0]&&y[1]===b[1]&&1===p){var w=t*y[0]+u,D=t*y[1]+s;h.push(w,D),f.push(w,D);break}var E=t*y[0]+u,A=t*y[1]+s,k=t*g[0]+u,S=t*g[1]+s,C=t*m[0]+u,x=t*m[1]+s,_=t*b[0]+u,F=t*b[1]+s;0===d&&(h.push(E,A),f.push(E,A)),h.push(k,S,C,x,_,F),f.push(k,S),d===p-1&&f.push(_,F)}o.push({bezier:Wb.call(Qg,h,r,this.rotation),points:Wb.call(Qg,f,r,this.rotation)})}}catch(t){l.e(t)}finally{l.f()}return o}function Vb(){var t,e=1/0,n=-1/0,r=1/0,i=-1/0,o=Bm(this.paths);try{for(o.s();!(t=o.n()).done;){var a,u=Bm(t.value);try{for(u.s();!(a=u.n()).done;){var s=Nm(a.value,4),l=s[0],c=s[1],h=s[2],f=s[3],d=Kt.J0.bezierBoundingBox.apply(Kt.J0,jm(l).concat(jm(c),jm(h),jm(f)));e=Math.min(e,d[0]),r=Math.min(r,d[1]),n=Math.max(n,d[2]),i=Math.max(i,d[3])}}catch(t){u.e(t)}finally{u.f()}}}catch(t){o.e(t)}finally{o.f()}return[e,r,n,i]}function Ub(){return tb(hb,this)?Math.ceil(this.thickness*this.parentScale):0}function zb(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isEmpty())if(tb(hb,this)){var e=eb(mb,this,Vb).call(this),n=eb(mb,this,Ub).call(this);$m(ib,this,Math.max(Ca.MIN_SIZE,e[2]-e[0])),$m(rb,this,Math.max(Ca.MIN_SIZE,e[3]-e[1]));var r=Math.ceil(n+tb(ib,this)*this.scaleFactor),i=Math.ceil(n+tb(rb,this)*this.scaleFactor),o=Nm(this.parentDimensions,2),a=o[0],u=o[1];this.width=r/a,this.height=i/u,this.setAspectRatio(r,i);var s=this.translationX,l=this.translationY;this.translationX=-e[0],this.translationY=-e[1],eb(mb,this,Bb).call(this),eb(mb,this,Ob).call(this),$m(vb,this,r),$m(yb,this,i),this.setDims(r,i);var c=t?n/this.scaleFactor/2:0;this.translate(s-this.translationX-c,l-this.translationY-c)}else eb(mb,this,Ob).call(this)}function Jb(t){return Jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jb(t)}function Yb(){Yb=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==Jb(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Jb(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function Kb(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Xb(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Kb(o,r,i,a,u,"next",t)}function u(t){Kb(o,r,i,a,u,"throw",t)}a(void 0)}))}}function qb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Zb(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Qb(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function $b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qb(Object(n),!0).forEach((function(e){aw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qb(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uw(r.key),r)}}function ew(t,e,n){return e=iw(e),function(t,e){if(e&&("object"==Jb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,nw()?Reflect.construct(e,n||[],iw(t).constructor):e.apply(t,n))}function nw(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(nw=function(){return!!t})()}function rw(){return rw="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=iw(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},rw.apply(null,arguments)}function iw(t){return iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},iw(t)}function ow(t,e){return ow=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ow(t,e)}function aw(t,e,n){return(e=uw(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uw(t){var e=function(t,e){if("object"!=Jb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jb(e)?e:e+""}function sw(t,e,n){lw(t,e),e.set(t,n)}function lw(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cw(t,e){return t.get(fw(t,e))}function hw(t,e,n){return t.set(fw(t,e),n),n}function fw(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}Qg=bb,Xm(bb,"_defaultColor",null),Xm(bb,"_defaultOpacity",1),Xm(bb,"_defaultThickness",1),Xm(bb,"_type","ink"),Xm(bb,"_editorType",Kt.vP.INK);var dw=new WeakMap,pw=new WeakMap,vw=new WeakMap,yw=new WeakMap,gw=new WeakMap,mw=new WeakMap,bw=new WeakMap,ww=new WeakMap,Dw=new WeakMap,Ew=new WeakMap,Aw=new WeakMap,kw=new WeakSet,Sw=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){lw(t,e),e.add(t)}(n=ew(this,e,[$b($b({},t),{},{name:"stampEditor"})]),kw),sw(n,dw,null),sw(n,pw,null),sw(n,vw,null),sw(n,yw,null),sw(n,gw,null),sw(n,mw,""),sw(n,bw,null),sw(n,ww,null),sw(n,Dw,null),sw(n,Ew,!1),sw(n,Aw,!1),hw(yw,n,t.bitmapUrl),hw(gw,n,t.bitmapFile),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ow(t,e)}(e,t),function(t,e,n){return e&&tw(t.prototype,e),n&&tw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"remove",value:function(){var t,n;cw(pw,this)&&(hw(dw,this,null),this._uiManager.imageManager.deleteId(cw(pw,this)),null===(t=cw(bw,this))||void 0===t||t.remove(),hw(bw,this,null),null===(n=cw(ww,this))||void 0===n||n.disconnect(),hw(ww,this,null),cw(Dw,this)&&(clearTimeout(cw(Dw,this)),hw(Dw,this,null)));rw(iw(e.prototype),"remove",this).call(this)}},{key:"rebuild",value:function(){this.parent?(rw(iw(e.prototype),"rebuild",this).call(this),null!==this.div&&(cw(pw,this)&&null===cw(bw,this)&&fw(kw,this,_w).call(this),this.isAttachedToDOM||this.parent.add(this))):cw(pw,this)&&fw(kw,this,_w).call(this)}},{key:"onceAdded",value:function(){this._isDraggable=!0,this.div.focus()}},{key:"isEmpty",value:function(){return!(cw(vw,this)||cw(dw,this)||cw(yw,this)||cw(gw,this)||cw(pw,this))}},{key:"isResizable",get:function(){return!0}},{key:"render",value:function(){if(this.div)return this.div;var t,n;if(this.width&&(t=this.x,n=this.y),rw(iw(e.prototype),"render",this).call(this),this.div.hidden=!0,this.addAltTextButton(),cw(dw,this)?fw(kw,this,Fw).call(this):fw(kw,this,_w).call(this),this.width){var r=qb(this.parentDimensions,2),i=r[0],o=r[1];this.setAt(t*i,n*o,this.width*i,this.height*o)}return this.div}},{key:"getImageForAltText",value:function(){return cw(bw,this)}},{key:"serialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;var n={annotationType:Kt.vP.STAMP,bitmapId:cw(pw,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:cw(Ew,this),structTreeParentId:this._structTreeParentId};if(t)return n.bitmapUrl=fw(kw,this,Tw).call(this,!0),n.accessibilityData=this.altTextData,n;var r=this.altTextData,i=r.decorative,o=r.altText;if(!i&&o&&(n.accessibilityData={type:"Figure",alt:o}),null===e)return n;e.stamps||(e.stamps=new Map);var a=cw(Ew,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(e.stamps.has(cw(pw,this))){if(cw(Ew,this)){var u=e.stamps.get(cw(pw,this));a>u.area&&(u.area=a,u.serialized.bitmap.close(),u.serialized.bitmap=fw(kw,this,Tw).call(this,!1))}}else e.stamps.set(cw(pw,this),{area:a,serialized:n}),n.bitmap=fw(kw,this,Tw).call(this,!1);return n}}],[{key:"initialize",value:function(t,e){Ca.initialize(t,e)}},{key:"supportedTypes",get:function(){return(0,Kt.r7)(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((function(t){return"image/".concat(t)})))}},{key:"supportedTypesStr",get:function(){return(0,Kt.r7)(this,"supportedTypesStr",this.supportedTypes.join(","))}},{key:"isHandlingMimeForPasting",value:function(t){return this.supportedTypes.includes(t)}},{key:"paste",value:function(t,e){e.pasteEditor(Kt.vP.STAMP,{bitmapFile:t.getAsFile()})}},{key:"deserialize",value:function(t,n,r){if(t instanceof Mp)return null;var i=rw(iw(e),"deserialize",this).call(this,t,n,r),o=t.rect,a=t.bitmapUrl,u=t.bitmapId,s=t.isSvg,l=t.accessibilityData;u&&r.imageManager.isValidId(u)?hw(pw,i,u):hw(yw,i,a),hw(Ew,i,s);var c=qb(i.pageDimensions,2),h=c[0],f=c[1];return i.width=(o[2]-o[0])/h,i.height=(o[3]-o[1])/f,l&&(i.altTextData=l),i}}])}(Ca);function Cw(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t?(hw(dw,this,t.bitmap),e||(hw(pw,this,t.id),hw(Ew,this,t.isSvg)),t.file&&hw(mw,this,t.file.name),fw(kw,this,Fw).call(this)):this.remove()}function xw(){hw(vw,this,null),this._uiManager.enableWaiting(!1),cw(bw,this)&&this.div.focus()}function _w(){var t=this;if(cw(pw,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(cw(pw,this)).then((function(e){return fw(kw,t,Cw).call(t,e,!0)})).finally((function(){return fw(kw,t,xw).call(t)}));if(cw(yw,this)){var e=cw(yw,this);return hw(yw,this,null),this._uiManager.enableWaiting(!0),void hw(vw,this,this._uiManager.imageManager.getFromUrl(e).then((function(e){return fw(kw,t,Cw).call(t,e)})).finally((function(){return fw(kw,t,xw).call(t)})))}if(cw(gw,this)){var n=cw(gw,this);return hw(gw,this,null),this._uiManager.enableWaiting(!0),void hw(vw,this,this._uiManager.imageManager.getFromFile(n).then((function(e){return fw(kw,t,Cw).call(t,e)})).finally((function(){return fw(kw,t,xw).call(t)})))}var r=document.createElement("input");"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&(r.hidden=!0,r.id="stampEditorFileInput",document.body.append(r)),r.type="file",r.accept=nb.supportedTypesStr,hw(vw,this,new Promise((function(e){r.addEventListener("change",Xb(Yb().mark((function n(){var i;return Yb().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.files&&0!==r.files.length){n.next=4;break}t.remove(),n.next=9;break;case 4:return t._uiManager.enableWaiting(!0),n.next=7,t._uiManager.imageManager.getFromFile(r.files[0]);case 7:i=n.sent,fw(kw,t,Cw).call(t,i);case 9:"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&r.remove(),e();case 11:case"end":return n.stop()}}),n)})))),r.addEventListener("cancel",(function(){t.remove(),e()}))})).finally((function(){return fw(kw,t,xw).call(t)}))),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")||r.click()}function Fw(){var t=this.div,e=cw(dw,this),n=e.width,r=e.height,i=qb(this.pageDimensions,2),o=i[0],a=i[1],u=.75;if(this.width)n=this.width*o,r=this.height*a;else if(n>u*o||r>u*a){var s=Math.min(u*o/n,u*a/r);n*=s,r*=s}var l=qb(this.parentDimensions,2),c=l[0],h=l[1];this.setDims(n*c/o,r*h/a),this._uiManager.enableWaiting(!1);var f=hw(bw,this,document.createElement("canvas"));t.append(f),t.hidden=!1,fw(kw,this,Ow).call(this,n,r),fw(kw,this,Iw).call(this),cw(Aw,this)||(this.parent.addUndoableEditor(this),hw(Aw,this,!0)),this._reportTelemetry({action:"inserted_image"}),cw(mw,this)&&f.setAttribute("aria-label",cw(mw,this))}function Pw(t,e){var n,r=this,i=qb(this.parentDimensions,2),o=i[0],a=i[1];this.width=t/o,this.height=e/a,this.setDims(t,e),null!==(n=this._initialOptions)&&void 0!==n&&n.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==cw(Dw,this)&&clearTimeout(cw(Dw,this));hw(Dw,this,setTimeout((function(){hw(Dw,r,null),fw(kw,r,Ow).call(r,t,e)}),200))}function Lw(t,e){for(var n=cw(dw,this),r=n.width,i=n.height,o=cw(dw,this);r>2*t||i>2*e;){var a=r,u=i;r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2)),i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2));var s=new OffscreenCanvas(r,i);s.getContext("2d").drawImage(o,0,0,a,u,0,0,r,i),o=s.transferToImageBitmap()}return o}function Ow(t,e){var n=this;t=Math.ceil(t),e=Math.ceil(e);var r=cw(bw,this);if(r&&(r.width!==t||r.height!==e)){r.width=t,r.height=e;var i=cw(Ew,this)?cw(dw,this):fw(kw,this,Lw).call(this,t,e);if(this._uiManager.hasMLManager&&!this.hasAltText()){var o=new OffscreenCanvas(t,e).getContext("2d");o.drawImage(i,0,0,i.width,i.height,0,0,t,e),this._uiManager.mlGuess({service:"image-to-text",request:{data:o.getImageData(0,0,t,e).data,width:t,height:e,channels:4}}).then((function(t){var e=(null==t?void 0:t.output)||"";n.parent&&e&&!n.hasAltText()&&(n.altTextData={altText:e,decorative:!1})}))}var a=r.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(i,0,0,i.width,i.height,0,0,t,e)}}function Tw(t){if(t){if(cw(Ew,this)){var e=this._uiManager.imageManager.getSvgUrl(cw(pw,this));if(e)return e}var n=document.createElement("canvas"),r=cw(dw,this);return n.width=r.width,n.height=r.height,n.getContext("2d").drawImage(cw(dw,this),0,0),n.toDataURL()}if(cw(Ew,this)){var i=qb(this.pageDimensions,2),o=i[0],a=i[1],u=Math.round(this.width*o*Ie.PDF_TO_CSS_UNITS),s=Math.round(this.height*a*Ie.PDF_TO_CSS_UNITS),l=new OffscreenCanvas(u,s);return l.getContext("2d").drawImage(cw(dw,this),0,0,cw(dw,this).width,cw(dw,this).height,0,0,u,s),l.transferToImageBitmap()}return structuredClone(cw(dw,this))}function Iw(){var t=this;hw(ww,this,new ResizeObserver((function(e){var n=e[0].contentRect;n.width&&n.height&&fw(kw,t,Pw).call(t,n.width,n.height)}))),cw(ww,this).observe(this.div)}function Mw(t){return Mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mw(t)}function Bw(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||Gw(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nw(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?jw(Object(n),!0).forEach((function(e){Uw(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jw(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rw(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Gw(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Ww(t){return function(t){if(Array.isArray(t))return Hw(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Gw(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gw(t,e){if(t){if("string"==typeof t)return Hw(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hw(t,e):void 0}}function Hw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Vw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zw(r.key),r)}}function Uw(t,e,n){return(e=zw(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zw(t){var e=function(t,e){if("object"!=Mw(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mw(e)?e:e+""}function Jw(t,e,n){Yw(t,e),e.set(t,n)}function Yw(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Kw(t,e,n){return n(Zw(t,e))}function Xw(t,e){return t.get(Zw(t,e))}function qw(t,e,n){return t.set(Zw(t,e),n),n}function Zw(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}nb=Sw,aw(Sw,"_type","stamp"),aw(Sw,"_editorType",Kt.vP.STAMP);var Qw=new WeakMap,$w=new WeakMap,tD=new WeakMap,eD=new WeakMap,nD=new WeakMap,rD=new WeakMap,iD=new WeakMap,oD=new WeakMap,aD=new WeakMap,uD=new WeakMap,sD=new WeakMap,lD=new WeakMap,cD=new WeakMap,hD=new WeakSet,fD=function(){return function(t,e,n){return e&&Vw(t.prototype,e),n&&Vw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.uiManager,r=e.pageIndex,i=e.div,o=e.accessibilityManager,a=e.annotationLayer,u=e.drawLayer,s=e.textLayer,l=e.viewport,c=e.l10n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){Yw(t,e),e.add(t)}(this,hD),Jw(this,Qw,void 0),Jw(this,$w,!1),Jw(this,tD,null),Jw(this,eD,null),Jw(this,nD,null),Jw(this,rD,null),Jw(this,iD,null),Jw(this,oD,new Map),Jw(this,aD,!1),Jw(this,uD,!1),Jw(this,sD,!1),Jw(this,lD,null),Jw(this,cD,void 0);var h=Ww(bD._.values());if(!t._initialized){t._initialized=!0;var f,d=Rw(h);try{for(d.s();!(f=d.n()).done;){f.value.initialize(c,n)}}catch(t){d.e(t)}finally{d.f()}}n.registerEditorTypes(h),qw(cD,this,n),this.pageIndex=r,this.div=i,qw(Qw,this,o),qw(tD,this,a),this.viewport=l,qw(lD,this,s),this.drawLayer=u,Xw(cD,this).addLayer(this)}),[{key:"isEmpty",get:function(){return 0===Xw(oD,this).size}},{key:"isInvisible",get:function(){return this.isEmpty&&Xw(cD,this).getMode()===Kt.vP.NONE}},{key:"updateToolbar",value:function(t){Xw(cD,this).updateToolbar(t)}},{key:"updateMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xw(cD,this).getMode();switch(Zw(hD,this,gD).call(this),t){case Kt.vP.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case Kt.vP.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case Kt.vP.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);var e,n=this.div.classList,r=Rw(bD._.values());try{for(r.s();!(e=r.n()).done;){var i=e.value;n.toggle("".concat(i._type,"Editing"),t===i._editorType)}}catch(t){r.e(t)}finally{r.f()}this.div.hidden=!1}},{key:"hasTextLayer",value:function(t){var e;return t===(null===(e=Xw(lD,this))||void 0===e?void 0:e.div)}},{key:"addInkEditorIfNeeded",value:function(t){if(Xw(cD,this).getMode()===Kt.vP.INK){if(!t){var e,n=Rw(Xw(oD,this).values());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.isEmpty())return void r.setInBackground()}}catch(t){n.e(t)}finally{n.f()}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}}},{key:"setEditingState",value:function(t){Xw(cD,this).setEditingState(t)}},{key:"addCommands",value:function(t){Xw(cD,this).addCommands(t)}},{key:"togglePointerEvents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!t)}},{key:"toggleAnnotationLayerPointerEvents",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(t=Xw(tD,this))||void 0===t||t.div.classList.toggle("disabled",!e)}},{key:"enable",value:function(){this.div.tabIndex=0,this.togglePointerEvents(!0);var t,e=new Set,n=Rw(Xw(oD,this).values());try{for(n.s();!(t=n.n()).done;){var r=t.value;r.enableEditing(),r.show(!0),r.annotationElementId&&(Xw(cD,this).removeChangedExistingAnnotation(r),e.add(r.annotationElementId))}}catch(t){n.e(t)}finally{n.f()}if(Xw(tD,this)){var i,o=Rw(Xw(tD,this).getEditableAnnotations());try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.hide(),!Xw(cD,this).isDeletedAnnotationElement(a.data.id)&&!e.has(a.data.id)){var u=this.deserialize(a);u&&(this.addOrRebuild(u),u.enableEditing())}}}catch(t){o.e(t)}finally{o.f()}}}},{key:"disable",value:function(){qw(sD,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);var t,e=new Map,n=new Map,r=Rw(Xw(oD,this).values());try{for(r.s();!(t=r.n()).done;){var i,o=t.value;o.disableEditing(),o.annotationElementId&&(null===o.serialize()?(n.set(o.annotationElementId,o),null===(i=this.getEditableAnnotation(o.annotationElementId))||void 0===i||i.show(),o.remove()):e.set(o.annotationElementId,o))}}catch(t){r.e(t)}finally{r.f()}if(Xw(tD,this)){var a,u=Rw(Xw(tD,this).getEditableAnnotations());try{for(u.s();!(a=u.n()).done;){var s=a.value,l=s.data.id;if(!Xw(cD,this).isDeletedAnnotationElement(l)){var c=n.get(l);c?(c.resetAnnotationElement(s),c.show(!1),s.show()):((c=e.get(l))&&(Xw(cD,this).addChangedExistingAnnotation(c),c.renderAnnotationElement(s),c.show(!1)),s.show())}}}catch(t){u.e(t)}finally{u.f()}}Zw(hD,this,gD).call(this),this.isEmpty&&(this.div.hidden=!0);var h,f=this.div.classList,d=Rw(bD._.values());try{for(d.s();!(h=d.n()).done;){var p=h.value;f.remove("".concat(p._type,"Editing"))}}catch(t){d.e(t)}finally{d.f()}this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),qw(sD,this,!1)}},{key:"getEditableAnnotation",value:function(t){var e;return(null===(e=Xw(tD,this))||void 0===e?void 0:e.getEditableAnnotation(t))||null}},{key:"setActiveEditor",value:function(t){Xw(cD,this).getActive()!==t&&Xw(cD,this).setActiveEditor(t)}},{key:"enableTextSelection",value:function(){var t;this.div.tabIndex=-1,null!==(t=Xw(lD,this))&&void 0!==t&&t.div&&!Xw(rD,this)&&(qw(rD,this,Zw(hD,this,dD).bind(this)),Xw(lD,this).div.addEventListener("pointerdown",Xw(rD,this)),Xw(lD,this).div.classList.add("highlighting"))}},{key:"disableTextSelection",value:function(){var t;this.div.tabIndex=0,null!==(t=Xw(lD,this))&&void 0!==t&&t.div&&Xw(rD,this)&&(Xw(lD,this).div.removeEventListener("pointerdown",Xw(rD,this)),qw(rD,this,null),Xw(lD,this).div.classList.remove("highlighting"))}},{key:"enableClick",value:function(){Xw(nD,this)||(qw(nD,this,this.pointerdown.bind(this)),qw(eD,this,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",Xw(nD,this)),this.div.addEventListener("pointerup",Xw(eD,this)))}},{key:"disableClick",value:function(){Xw(nD,this)&&(this.div.removeEventListener("pointerdown",Xw(nD,this)),this.div.removeEventListener("pointerup",Xw(eD,this)),qw(nD,this,null),qw(eD,this,null))}},{key:"attach",value:function(t){Xw(oD,this).set(t.id,t);var e=t.annotationElementId;e&&Xw(cD,this).isDeletedAnnotationElement(e)&&Xw(cD,this).removeDeletedAnnotationElement(t)}},{key:"detach",value:function(t){var e;Xw(oD,this).delete(t.id),null===(e=Xw(Qw,this))||void 0===e||e.removePointerInTextLayer(t.contentDiv),!Xw(sD,this)&&t.annotationElementId&&Xw(cD,this).addDeletedAnnotationElement(t)}},{key:"remove",value:function(t){this.detach(t),Xw(cD,this).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,Xw(uD,this)||this.addInkEditorIfNeeded(!1)}},{key:"changeParent",value:function(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(Xw(cD,this).addDeletedAnnotationElement(t.annotationElementId),Ca.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),null===(e=t.parent)||void 0===e||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}},{key:"add",value:function(t){if(t.parent!==this||!t.isAttachedToDOM){if(this.changeParent(t),Xw(cD,this).addEditor(t),this.attach(t),!t.isAttachedToDOM){var e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),Xw(cD,this).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}},{key:"moveEditorInDOM",value:function(t){var e,n=this;if(t.isAttachedToDOM){var r=document.activeElement;t.div.contains(r)&&!Xw(iD,this)&&(t._focusEventsAllowed=!1,qw(iD,this,setTimeout((function(){qw(iD,n,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",(function(){t._focusEventsAllowed=!0}),{once:!0}),r.focus())}),0))),t._structTreeParentId=null===(e=Xw(Qw,this))||void 0===e?void 0:e.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}}},{key:"addOrRebuild",value:function(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}},{key:"addUndoableEditor",value:function(t){this.addCommands({cmd:function(){return t._uiManager.rebuild(t)},undo:function(){t.remove()},mustExec:!1})}},{key:"getNextId",value:function(){return Xw(cD,this).getId()}},{key:"canCreateNewEmptyEditor",value:function(){var t;return null===(t=Kw(hD,this,pD))||void 0===t?void 0:t.canCreateNewEmptyEditor()}},{key:"pasteEditor",value:function(t,e){Xw(cD,this).updateToolbar(t),Xw(cD,this).updateMode(t);var n=Zw(hD,this,yD).call(this),r=n.offsetX,i=n.offsetY,o=this.getNextId(),a=Zw(hD,this,vD).call(this,Nw({parent:this,id:o,x:r,y:i,uiManager:Xw(cD,this),isCentered:!0},e));a&&this.add(a)}},{key:"deserialize",value:function(t){var e,n;return(null===(e=bD._.get(null!==(n=t.annotationType)&&void 0!==n?n:t.annotationEditorType))||void 0===e?void 0:e.deserialize(t,this,Xw(cD,this)))||null}},{key:"createAndAddNewEditor",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getNextId(),i=Zw(hD,this,vD).call(this,Nw({parent:this,id:r,x:t.offsetX,y:t.offsetY,uiManager:Xw(cD,this),isCentered:e},n));return i&&this.add(i),i}},{key:"addNewEditor",value:function(){this.createAndAddNewEditor(Zw(hD,this,yD).call(this),!0)}},{key:"setSelected",value:function(t){Xw(cD,this).setSelected(t)}},{key:"toggleSelected",value:function(t){Xw(cD,this).toggleSelected(t)}},{key:"isSelected",value:function(t){return Xw(cD,this).isSelected(t)}},{key:"unselect",value:function(t){Xw(cD,this).unselect(t)}},{key:"pointerup",value:function(t){var e=Kt.TV.platform.isMac;0!==t.button||t.ctrlKey&&e||t.target===this.div&&Xw(aD,this)&&(qw(aD,this,!1),Xw($w,this)?Xw(cD,this).getMode()!==Kt.vP.STAMP?this.createAndAddNewEditor(t,!1):Xw(cD,this).unselectAll():qw($w,this,!0))}},{key:"pointerdown",value:function(t){if(Xw(cD,this).getMode()===Kt.vP.HIGHLIGHT&&this.enableTextSelection(),Xw(aD,this))qw(aD,this,!1);else{var e=Kt.TV.platform.isMac;if(!(0!==t.button||t.ctrlKey&&e)&&t.target===this.div){qw(aD,this,!0);var n=Xw(cD,this).getActive();qw($w,this,!n||n.isEmpty())}}}},{key:"findNewParent",value:function(t,e,n){var r=Xw(cD,this).findParent(e,n);return null!==r&&r!==this&&(r.changeParent(t),!0)}},{key:"destroy",value:function(){var t;(null===(t=Xw(cD,this).getActive())||void 0===t?void 0:t.parent)===this&&(Xw(cD,this).commitOrRemove(),Xw(cD,this).setActiveEditor(null)),Xw(iD,this)&&(clearTimeout(Xw(iD,this)),qw(iD,this,null));var e,n=Rw(Xw(oD,this).values());try{for(n.s();!(e=n.n()).done;){var r,i=e.value;null===(r=Xw(Qw,this))||void 0===r||r.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove()}}catch(t){n.e(t)}finally{n.f()}this.div=null,Xw(oD,this).clear(),Xw(cD,this).removeLayer(this)}},{key:"render",value:function(t){var e=t.viewport;this.viewport=e,Dn(this.div,e);var n,r=Rw(Xw(cD,this).getEditors(this.pageIndex));try{for(r.s();!(n=r.n()).done;){var i=n.value;this.add(i),i.rebuild()}}catch(t){r.e(t)}finally{r.f()}this.updateMode()}},{key:"update",value:function(t){var e=t.viewport;Xw(cD,this).commitOrRemove(),Zw(hD,this,gD).call(this);var n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,Dn(this.div,{rotation:r}),n!==r){var i,o=Rw(Xw(oD,this).values());try{for(o.s();!(i=o.n()).done;){i.value.rotate(r)}}catch(t){o.e(t)}finally{o.f()}}this.addInkEditorIfNeeded(!1)}},{key:"pageDimensions",get:function(){var t=this.viewport.rawDims;return[t.pageWidth,t.pageHeight]}},{key:"scale",get:function(){return Xw(cD,this).viewParameters.realScale}}])}();function dD(t){var e=this;if(Xw(cD,this).unselectAll(),t.target===Xw(lD,this).div){var n=Kt.TV.platform.isMac;if(0!==t.button||t.ctrlKey&&n)return;Xw(cD,this).showAllEditors("highlight",!0,!0),Xw(lD,this).div.classList.add("free"),bm.startHighlighting(this,"ltr"===Xw(cD,this).direction,t),Xw(lD,this).div.addEventListener("pointerup",(function(){Xw(lD,e).div.classList.remove("free")}),{once:!0}),t.preventDefault()}}function pD(t){return bD._.get(Xw(cD,t).getMode())}function vD(t){var e=Kw(hD,this,pD);return e?new e.prototype.constructor(t):null}function yD(){var t=this.div.getBoundingClientRect(),e=t.x,n=t.y,r=t.width,i=t.height,o=Math.max(0,e),a=Math.max(0,n),u=(o+Math.min(window.innerWidth,e+r))/2-e,s=(a+Math.min(window.innerHeight,n+i))/2-n,l=Bw(this.viewport.rotation%180==0?[u,s]:[s,u],2);return{offsetX:l[0],offsetY:l[1]}}function gD(){qw(uD,this,!0);var t,e=Rw(Xw(oD,this).values());try{for(e.s();!(t=e.n()).done;){var n=t.value;n.isEmpty()&&n.remove()}}catch(t){e.e(t)}finally{e.f()}qw(uD,this,!1)}Uw(fD,"_initialized",!1);var mD,bD={_:new Map([xv,bb,Sw,bm].map((function(t){return[t._editorType,t]})))};function wD(t){return wD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wD(t)}function DD(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return ED(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ED(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function ED(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function AD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kD(r.key),r)}}function kD(t){var e=function(t,e){if("object"!=wD(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wD(e)?e:e+""}function SD(t,e,n){CD(t,e),e.set(t,n)}function CD(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xD(t,e,n){return t.set(FD(t,e),n),n}function _D(t,e){return t.get(FD(t,e))}function FD(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var PD=new WeakMap,LD=new WeakMap,OD=new WeakMap,TD=new WeakMap,ID=new WeakSet,MD=function(){function t(e){var n=e.pageIndex;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){CD(t,e),e.add(t)}(this,ID),SD(this,PD,null),SD(this,LD,0),SD(this,OD,new Map),SD(this,TD,new Map),this.pageIndex=n}return function(t,e,n){return e&&AD(t.prototype,e),n&&AD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"setParent",value:function(t){if(_D(PD,this)){if(_D(PD,this)!==t){if(_D(OD,this).size>0){var e,n=DD(_D(OD,this).values());try{for(n.s();!(e=n.n()).done;){var r=e.value;r.remove(),t.append(r)}}catch(t){n.e(t)}finally{n.f()}}xD(PD,this,t)}}else xD(PD,this,t)}},{key:"highlight",value:function(e,n,r){var i,o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(xD(LD,this,(i=_D(LD,this),o=i++,i)),o),s=FD(ID,this,jD).call(this,e.box);s.classList.add("highlight"),e.free&&s.classList.add("free");var l=t._svgFactory.createElement("defs");s.append(l);var c=t._svgFactory.createElement("path");l.append(c);var h="path_p".concat(this.pageIndex,"_").concat(u);c.setAttribute("id",h),c.setAttribute("d",e.toSVGPath()),a&&_D(TD,this).set(u,c);var f=FD(ID,this,ND).call(this,l,h),d=t._svgFactory.createElement("use");return s.append(d),s.setAttribute("fill",n),s.setAttribute("fill-opacity",r),d.setAttribute("href","#".concat(h)),_D(OD,this).set(u,s),{id:u,clipPathId:"url(#".concat(f,")")}}},{key:"highlightOutline",value:function(e){var n,r,i=(xD(LD,this,(n=_D(LD,this),r=n++,n)),r),o=FD(ID,this,jD).call(this,e.box);o.classList.add("highlightOutline");var a=t._svgFactory.createElement("defs");o.append(a);var u=t._svgFactory.createElement("path");a.append(u);var s,l="path_p".concat(this.pageIndex,"_").concat(i);if(u.setAttribute("id",l),u.setAttribute("d",e.toSVGPath()),u.setAttribute("vector-effect","non-scaling-stroke"),e.free){o.classList.add("free");var c=t._svgFactory.createElement("mask");a.append(c),s="mask_p".concat(this.pageIndex,"_").concat(i),c.setAttribute("id",s),c.setAttribute("maskUnits","objectBoundingBox");var h=t._svgFactory.createElement("rect");c.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");var f=t._svgFactory.createElement("use");c.append(f),f.setAttribute("href","#".concat(l)),f.setAttribute("stroke","none"),f.setAttribute("fill","black"),f.setAttribute("fill-rule","nonzero"),f.classList.add("mask")}var d=t._svgFactory.createElement("use");o.append(d),d.setAttribute("href","#".concat(l)),s&&d.setAttribute("mask","url(#".concat(s,")"));var p=d.cloneNode();return o.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),_D(OD,this).set(i,o),i}},{key:"finalizeLine",value:function(t,e){var n=_D(TD,this).get(t);_D(TD,this).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}},{key:"updateLine",value:function(t,e){_D(OD,this).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}},{key:"removeFreeHighlight",value:function(t){this.remove(t),_D(TD,this).delete(t)}},{key:"updatePath",value:function(t,e){_D(TD,this).get(t).setAttribute("d",e.toSVGPath())}},{key:"updateBox",value:function(e,n){BD.call(t,_D(OD,this).get(e),n)}},{key:"show",value:function(t,e){_D(OD,this).get(t).classList.toggle("hidden",!e)}},{key:"rotate",value:function(t,e){_D(OD,this).get(t).setAttribute("data-main-rotation",e)}},{key:"changeColor",value:function(t,e){_D(OD,this).get(t).setAttribute("fill",e)}},{key:"changeOpacity",value:function(t,e){_D(OD,this).get(t).setAttribute("fill-opacity",e)}},{key:"addClass",value:function(t,e){_D(OD,this).get(t).classList.add(e)}},{key:"removeClass",value:function(t,e){_D(OD,this).get(t).classList.remove(e)}},{key:"remove",value:function(t){null!==_D(PD,this)&&(_D(OD,this).get(t).remove(),_D(OD,this).delete(t))}},{key:"destroy",value:function(){xD(PD,this,null);var t,e=DD(_D(OD,this).values());try{for(e.s();!(t=e.n()).done;){t.value.remove()}}catch(t){e.e(t)}finally{e.f()}_D(OD,this).clear()}}],[{key:"_svgFactory",get:function(){return(0,Kt.r7)(this,"_svgFactory",new an)}}])}();function BD(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.x,r=void 0===n?0:n,i=e.y,o=void 0===i?0:i,a=e.width,u=void 0===a?1:a,s=e.height,l=void 0===s?1:s,c=t.style;c.top="".concat(100*o,"%"),c.left="".concat(100*r,"%"),c.width="".concat(100*u,"%"),c.height="".concat(100*l,"%")}function jD(t){var e=mD._svgFactory.create(1,1,!0);return _D(PD,this).append(e),e.setAttribute("aria-hidden",!0),BD.call(mD,e,t),e}function ND(t,e){var n=mD._svgFactory.createElement("clipPath");t.append(n);var r="clip_".concat(e);n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");var i=mD._svgFactory.createElement("use");return n.append(i),i.setAttribute("href","#".concat(e)),i.classList.add("clip"),r}mD=MD;"undefined"!=typeof PDFJSDev&&PDFJSDev.eval("BUNDLE_VERSION"),"undefined"!=typeof PDFJSDev&&PDFJSDev.eval("BUNDLE_BUILD");function RD(){RD=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==WD(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(WD(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function WD(t){return WD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WD(t)}function GD(t,e,n){return e=UD(e),function(t,e){if(e&&("object"==WD(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,HD()?Reflect.construct(e,n||[],UD(t).constructor):e.apply(t,n))}function HD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(HD=function(){return!!t})()}function VD(){return VD="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=UD(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},VD.apply(null,arguments)}function UD(t){return UD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},UD(t)}function zD(t,e){return zD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},zD(t,e)}function JD(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return YD(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?YD(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function YD(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function KD(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZD(r.key),r)}}function qD(t,e,n){return e&&XD(t.prototype,e),n&&XD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZD(t){var e=function(t,e){if("object"!=WD(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=WD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==WD(e)?e:e+""}function QD(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function $D(t,e){return t.get(function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}(t,e))}function tE(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}var eE={EVENT:"event",TIMEOUT:"timeout"};function nE(t){return rE.apply(this,arguments)}function rE(){var t;return t=RD().mark((function t(e){var n,r,i,o,a,u,s,l,c,h;return RD().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=function(t){l.abort(),clearTimeout(h),s(t)},n=e.target,r=e.name,i=e.delay,o=void 0===i?0:i,"object"===WD(n)&&r&&"string"==typeof r&&Number.isInteger(o)&&o>=0){t.next=4;break}throw new Error("waitOnEventOrTimeout - invalid parameters.");case 4:return a=Promise.withResolvers(),u=a.promise,s=a.resolve,l=new AbortController,n[n instanceof oE?"_on":"addEventListener"](r,c.bind(null,eE.EVENT),{signal:l.signal}),h=setTimeout(c.bind(null,eE.TIMEOUT),o),t.abrupt("return",u);case 10:case"end":return t.stop()}}),t)})),rE=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){tE(o,r,i,a,u,"next",t)}function u(t){tE(o,r,i,a,u,"throw",t)}a(void 0)}))},rE.apply(this,arguments)}var iE=new WeakMap,oE=function(){return qD((function t(){KD(this,t),QD(this,iE,Object.create(null))}),[{key:"on",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(t,e,{external:!0,once:null==n?void 0:n.once,signal:null==n?void 0:n.signal})}},{key:"off",value:function(t,e){this._off(t,e)}},{key:"dispatch",value:function(t,e){var n=$D(iE,this)[t];if(n&&0!==n.length){var r,i,o=JD(n.slice(0));try{for(o.s();!(i=o.n()).done;){var a=i.value,u=a.listener,s=a.external;a.once&&this._off(t,u),s?(r||(r=[])).push(u):u(e)}}catch(t){o.e(t)}finally{o.f()}if(r){var l,c=JD(r);try{for(c.s();!(l=c.n()).done;){(0,l.value)(e)}}catch(t){c.e(t)}finally{c.f()}r=null}}}},{key:"_on",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=null;if((null==i?void 0:i.signal)instanceof AbortSignal){var a=i.signal;if(a.aborted)return void console.error("Cannot use an `aborted` signal.");var u=function(){return r._off(t,e)};o=function(){return a.removeEventListener("abort",u)},a.addEventListener("abort",u)}((n=$D(iE,this))[t]||(n[t]=[])).push({listener:e,external:!0===(null==i?void 0:i.external),once:!0===(null==i?void 0:i.once),rmAbort:o})}},{key:"_off",value:function(t,e){var n=$D(iE,this)[t];if(n)for(var r=0,i=n.length;r<i;r++){var o,a=n[r];if(a.listener===e)return null===(o=a.rmAbort)||void 0===o||o.call(a),void n.splice(r,1)}}}])}(),aE=function(t){function e(){return KD(this,e),GD(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zD(t,e)}(e,t),qD(e,[{key:"dispatch",value:function(t,n){if("undefined"!=typeof PDFJSDev&&!PDFJSDev.test("MOZCENTRAL"))throw new Error("Not implemented: AutomationEventBus.dispatch");VD(UD(e.prototype),"dispatch",this).call(this,t,n);var r=Object.create(null);if(n)for(var i in n){var o=n[i];if("source"!==i)r[i]=o;else if(o===window||o===document)return}var a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});document.dispatchEvent(a)}}])}(oE);function uE(t){return uE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uE(t)}function sE(){sE=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==uE(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(uE(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function lE(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function cE(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){lE(o,r,i,a,u,"next",t)}function u(t){lE(o,r,i,a,u,"throw",t)}a(void 0)}))}}function hE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fE(r.key),r)}}function fE(t){var e=function(t,e){if("object"!=uE(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=uE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==uE(e)?e:e+""}var dE=function(){return function(t,e,n){return e&&hE(t.prototype,e),n&&hE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constructor===t)throw new Error("Cannot initialize BaseExternalServices.")}),[{key:"updateFindControlState",value:function(t){}},{key:"updateFindMatchesCount",value:function(t){}},{key:"initPassiveLoading",value:function(){}},{key:"reportTelemetry",value:function(t){}},{key:"createL10n",value:(e=cE(sE().mark((function t(){return sE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: createL10n");case 1:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})},{key:"createScripting",value:function(){throw new Error("Not implemented: createScripting")}},{key:"updateEditorStates",value:function(t){throw new Error("Not implemented: updateEditorStates")}},{key:"getNimbusExperimentData",value:(t=cE(sE().mark((function t(){return sE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}]);var t,e}();function pE(){pE=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==gE(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(gE(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function vE(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function yE(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){vE(o,r,i,a,u,"next",t)}function u(t){vE(o,r,i,a,u,"throw",t)}a(void 0)}))}}function gE(t){return gE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gE(t)}function mE(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return bE(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bE(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bE(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wE(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DE(r.key),r)}}function DE(t){var e=function(t,e){if("object"!=gE(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gE(e)?e:e+""}function EE(t,e,n){AE(t,e),e.set(t,n)}function AE(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function kE(t,e,n){return t.set(CE(t,e),n),n}function SE(t,e){return t.get(CE(t,e))}function CE(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var xE=new WeakMap,_E=new WeakMap,FE=new WeakMap,PE=new WeakMap,LE=new WeakSet,OE=function(){return function(t,e,n){return e&&wE(t.prototype,e),n&&wE(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){AE(t,e),e.add(t)}(this,LE),EE(this,xE,Object.freeze("undefined"==typeof PDFJSDev?St.getAll(dt,!0):PDFJSDev.eval("BROWSER_PREFERENCES"))),EE(this,_E,Object.freeze("undefined"==typeof PDFJSDev?St.getAll(gt,!0):PDFJSDev.eval("DEFAULT_PREFERENCES"))),EE(this,FE,Object.create(null)),EE(this,PE,null),this.constructor===t)throw new Error("Cannot initialize BasePreferences.");"undefined"!=typeof PDFJSDev&&PDFJSDev.test("CHROME")&&Object.defineProperty(this,"defaults",{get:function(){return SE(_E,this)}}),kE(PE,this,this._readFromStorage(SE(_E,this)).then((function(t){for(var n=t.browserPrefs,r=t.prefs,i=Object.create(null),o=0,a=Object.entries(SE(xE,e));o<a.length;o++){var u=mE(a[o],2),s=u[0],l=u[1],c=null==n?void 0:n[s];i[s]=gE(c)===gE(l)?c:l}for(var h=0,f=Object.entries(SE(_E,e));h<f.length;h++){var d=mE(f[h],2),p=d[0],v=d[1],y=null==r?void 0:r[p];i[p]=SE(FE,e)[p]=gE(y)===gE(v)?y:v}St.setAll(i,!0),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")&&window.addEventListener("updatedPreference",(function(t){CE(LE,e,TE).call(e,t.detail)}))})))}),[{key:"_writeToStorage",value:(n=yE(pE().mark((function t(e){return pE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: _writeToStorage");case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})},{key:"_readFromStorage",value:(e=yE(pE().mark((function t(e){return pE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("Not implemented: _readFromStorage");case 1:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})},{key:"reset",value:function(){var t=yE(pE().mark((function t(){var e;return pE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL")){t.next=2;break}throw new Error("Please use `about:config` to change preferences.");case 2:return t.next=4,SE(PE,this);case 4:return e=structuredClone(SE(FE,this)),kE(FE,this,Object.create(null)),t.prev=6,t.next=9,this._writeToStorage(SE(_E,this));case 9:t.next=15;break;case 11:throw t.prev=11,t.t0=t.catch(6),kE(FE,this,e),t.t0;case 15:case"end":return t.stop()}}),t,this,[[6,11]])})));return function(){return t.apply(this,arguments)}}()},{key:"set",value:(t=yE(pE().mark((function t(e,n){var r,i,o,a;return pE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL")){t.next=2;break}throw new Error("Please use `about:config` to change preferences.");case 2:return t.next=4,SE(PE,this);case 4:if(r=SE(_E,this)[e],i=structuredClone(SE(FE,this)),void 0!==r){t.next=9;break}throw new Error('Set preference: "'.concat(e,'" is undefined.'));case 9:if(void 0!==n){t.next=11;break}throw new Error("Set preference: no value is specified.");case 11:if(o=gE(n),a=gE(r),o===a){t.next=20;break}if("number"!==o||"string"!==a){t.next=17;break}n=n.toString(),t.next=18;break;case 17:throw new Error('Set preference: "'.concat(n,'" is a ').concat(o,", expected a ").concat(a,"."));case 18:t.next=22;break;case 20:if("number"!==o||Number.isInteger(n)){t.next=22;break}throw new Error('Set preference: "'.concat(n,'" must be an integer.'));case 22:return SE(FE,this)[e]=n,t.prev=23,t.next=26,this._writeToStorage(SE(FE,this));case 26:t.next=32;break;case 28:throw t.prev=28,t.t0=t.catch(23),kE(FE,this,i),t.t0;case 32:case"end":return t.stop()}}),t,this,[[23,28]])}))),function(e,n){return t.apply(this,arguments)})},{key:"get",value:function(){var t=yE(pE().mark((function t(e){var n,r;return pE().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL")){t.next=2;break}throw new Error("Not implemented: get");case 2:return t.next=4,SE(PE,this);case 4:if(void 0!==(r=SE(_E,this)[e])){t.next=7;break}throw new Error('Get preference: "'.concat(e,'" is undefined.'));case 7:return t.abrupt("return",null!==(n=SE(FE,this)[e])&&void 0!==n?n:r);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"initializedPromise",get:function(){return SE(PE,this)}}]);var t,e,n}();function TE(t){var e=t.name,n=t.value;if("undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL"))throw new Error("Not implemented: #updatePref");if(e in SE(xE,this)){if(gE(n)!==gE(SE(xE,this)[e]))return}else{if(!(e in SE(_E,this)))return;if(gE(n)!==gE(SE(_E,this)[e]))return;SE(FE,this)[e]=n}St.set(e,n)}class IE{constructor(t){this.value=t}valueOf(){return this.value}}class ME extends IE{constructor(t="???"){super(t)}toString(t){return`{${this.value}}`}}class BE extends IE{constructor(t,e={}){super(t),this.opts=e}toString(t){try{return t.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(e){return t.reportError(e),this.value.toString(10)}}}class jE extends IE{constructor(t,e={}){super(t),this.opts=e}toString(t){try{return t.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(e){return t.reportError(e),new Date(this.value).toISOString()}}}const NE=100,RE="⁨",WE="⁩";function GE(t,e,n){if(n===e)return!0;if(n instanceof BE&&e instanceof BE&&n.value===e.value)return!0;if(e instanceof BE&&"string"==typeof n){if(n===t.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value))return!0}return!1}function HE(t,e,n){return e[n]?JE(t,e[n].value):(t.reportError(new RangeError("No default")),new ME)}function VE(t,e){const n=[],r=Object.create(null);for(const i of e)"narg"===i.type?r[i.name]=UE(t,i.value):n.push(UE(t,i));return{positional:n,named:r}}function UE(t,e){switch(e.type){case"str":return e.value;case"num":return new BE(e.value,{minimumFractionDigits:e.precision});case"var":return function(t,{name:e}){let n;if(t.params){if(!Object.prototype.hasOwnProperty.call(t.params,e))return new ME(`$${e}`);n=t.params[e]}else{if(!t.args||!Object.prototype.hasOwnProperty.call(t.args,e))return t.reportError(new ReferenceError(`Unknown variable: $${e}`)),new ME(`$${e}`);n=t.args[e]}if(n instanceof IE)return n;switch(typeof n){case"string":return n;case"number":return new BE(n);case"object":if(n instanceof Date)return new jE(n.getTime());default:return t.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof n}`)),new ME(`$${e}`)}}(t,e);case"mesg":return function(t,{name:e,attr:n}){const r=t.bundle._messages.get(e);if(!r)return t.reportError(new ReferenceError(`Unknown message: ${e}`)),new ME(e);if(n){const i=r.attributes[n];return i?JE(t,i):(t.reportError(new ReferenceError(`Unknown attribute: ${n}`)),new ME(`${e}.${n}`))}if(r.value)return JE(t,r.value);return t.reportError(new ReferenceError(`No value: ${e}`)),new ME(e)}(t,e);case"term":return function(t,{name:e,attr:n,args:r}){const i=`-${e}`,o=t.bundle._terms.get(i);if(!o)return t.reportError(new ReferenceError(`Unknown term: ${i}`)),new ME(i);if(n){const e=o.attributes[n];if(e){t.params=VE(t,r).named;const n=JE(t,e);return t.params=null,n}return t.reportError(new ReferenceError(`Unknown attribute: ${n}`)),new ME(`${i}.${n}`)}t.params=VE(t,r).named;const a=JE(t,o.value);return t.params=null,a}(t,e);case"func":return function(t,{name:e,args:n}){let r=t.bundle._functions[e];if(!r)return t.reportError(new ReferenceError(`Unknown function: ${e}()`)),new ME(`${e}()`);if("function"!=typeof r)return t.reportError(new TypeError(`Function ${e}() is not callable`)),new ME(`${e}()`);try{let e=VE(t,n);return r(e.positional,e.named)}catch(n){return t.reportError(n),new ME(`${e}()`)}}(t,e);case"select":return function(t,{selector:e,variants:n,star:r}){let i=UE(t,e);if(i instanceof ME)return HE(t,n,r);for(const e of n){if(GE(t,i,UE(t,e.key)))return JE(t,e.value)}return HE(t,n,r)}(t,e);default:return new ME}}function zE(t,e){if(t.dirty.has(e))return t.reportError(new RangeError("Cyclic reference")),new ME;t.dirty.add(e);const n=[],r=t.bundle._useIsolating&&e.length>1;for(const i of e)if("string"!=typeof i){if(t.placeables++,t.placeables>NE)throw t.dirty.delete(e),new RangeError(`Too many placeables expanded: ${t.placeables}, max allowed is ${NE}`);r&&n.push(RE),n.push(UE(t,i).toString(t)),r&&n.push(WE)}else n.push(t.bundle._transform(i));return t.dirty.delete(e),n.join("")}function JE(t,e){return"string"==typeof e?t.bundle._transform(e):zE(t,e)}class YE{constructor(t,e,n){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=t,this.errors=e,this.args=n}reportError(t){if(!(this.errors&&t instanceof Error))throw t;this.errors.push(t)}memoizeIntlObject(t,e){let n=this.bundle._intls.get(t);n||(n={},this.bundle._intls.set(t,n));let r=JSON.stringify(e);return n[r]||(n[r]=new t(this.bundle.locales,e)),n[r]}}function KE(t,e){const n=Object.create(null);for(const[r,i]of Object.entries(t))e.includes(r)&&(n[r]=i.valueOf());return n}const XE=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function qE(t,e){let n=t[0];if(n instanceof ME)return new ME(`NUMBER(${n.valueOf()})`);if(n instanceof BE)return new BE(n.valueOf(),{...n.opts,...KE(e,XE)});if(n instanceof jE)return new BE(n.valueOf(),{...KE(e,XE)});throw new TypeError("Invalid argument to NUMBER")}const ZE=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function QE(t,e){let n=t[0];if(n instanceof ME)return new ME(`DATETIME(${n.valueOf()})`);if(n instanceof jE)return new jE(n.valueOf(),{...n.opts,...KE(e,ZE)});if(n instanceof BE)return new jE(n.valueOf(),{...KE(e,ZE)});throw new TypeError("Invalid argument to DATETIME")}const $E=new Map;class tA{constructor(t,{functions:e,useIsolating:n=!0,transform:r=(t=>t)}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(t)?t:[t],this._functions={NUMBER:qE,DATETIME:QE,...e},this._useIsolating=n,this._transform=r,this._intls=function(t){const e=Array.isArray(t)?t.join(" "):t;let n=$E.get(e);return void 0===n&&(n=new Map,$E.set(e,n)),n}(t)}hasMessage(t){return this._messages.has(t)}getMessage(t){return this._messages.get(t)}addResource(t,{allowOverrides:e=!1}={}){const n=[];for(let r=0;r<t.body.length;r++){let i=t.body[r];if(i.id.startsWith("-")){if(!1===e&&this._terms.has(i.id)){n.push(new Error(`Attempt to override an existing term: "${i.id}"`));continue}this._terms.set(i.id,i)}else{if(!1===e&&this._messages.has(i.id)){n.push(new Error(`Attempt to override an existing message: "${i.id}"`));continue}this._messages.set(i.id,i)}}return n}formatPattern(t,e=null,n=null){if("string"==typeof t)return this._transform(t);let r=new YE(this,n,e);try{return zE(r,t).toString(r)}catch(t){if(r.errors&&t instanceof Error)return r.errors.push(t),(new ME).toString(r);throw t}}}const eA=/^(-?[a-zA-Z][\w-]*) *= */gm,nA=/\.([a-zA-Z][\w-]*) *= */y,rA=/\*?\[/y,iA=/(-?[0-9]+(?:\.([0-9]+))?)/y,oA=/([a-zA-Z][\w-]*)/y,aA=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,uA=/^[A-Z][A-Z0-9_-]*$/,sA=/([^{}\n\r]+)/y,lA=/([^\\"\n\r]*)/y,cA=/\\([\\"])/y,hA=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,fA=/^\n+/,dA=/ +$/,pA=/ *\r?\n/g,vA=/( *)$/,yA=/{\s*/y,gA=/\s*}/y,mA=/\[\s*/y,bA=/\s*] */y,wA=/\s*\(\s*/y,DA=/\s*->\s*/y,EA=/\s*:\s*/y,AA=/\s*,?\s*/y,kA=/\s+/y;class SA{constructor(t){this.body=[],eA.lastIndex=0;let e=0;for(;;){let n=eA.exec(t);if(null===n)break;e=eA.lastIndex;try{this.body.push(u(n[1]))}catch(t){if(t instanceof SyntaxError)continue;throw t}}function n(n){return n.lastIndex=e,n.test(t)}function r(n,r){if(t[e]===n)return e++,!0;if(r)throw new r(`Expected ${n}`);return!1}function i(t,r){if(n(t))return e=t.lastIndex,!0;if(r)throw new r(`Expected ${t.toString()}`);return!1}function o(n){n.lastIndex=e;let r=n.exec(t);if(null===r)throw new SyntaxError(`Expected ${n.toString()}`);return e=n.lastIndex,r}function a(t){return o(t)[1]}function u(t){let e=s(),r=function(){let t=Object.create(null);for(;n(nA);){let e=a(nA),n=s();if(null===n)throw new SyntaxError("Expected attribute value");t[e]=n}return t}();if(null===e&&0===Object.keys(r).length)throw new SyntaxError("Expected message value or attributes");return{id:t,value:e,attributes:r}}function s(){let r;if(n(sA)&&(r=a(sA)),"{"===t[e]||"}"===t[e])return l(r?[r]:[],1/0);let i=g();return i?r?l([r,i],i.length):(i.value=m(i.value,fA),l([i],i.length)):r?m(r,dA):null}function l(r=[],i){for(;;){if(n(sA)){r.push(a(sA));continue}if("{"===t[e]){r.push(c());continue}if("}"===t[e])throw new SyntaxError("Unbalanced closing brace");let o=g();if(!o)break;r.push(o),i=Math.min(i,o.length)}let o=r.length-1,u=r[o];"string"==typeof u&&(r[o]=m(u,dA));let s=[];for(let t of r)t instanceof CA&&(t=t.value.slice(0,t.value.length-i)),t&&s.push(t);return s}function c(){i(yA,SyntaxError);let t=h();if(i(gA))return t;if(i(DA)){let e=function(){let t,e=[],i=0;for(;n(rA);){r("*")&&(t=i);let n=d(),o=s();if(null===o)throw new SyntaxError("Expected variant value");e[i++]={key:n,value:o}}if(0===i)return null;if(void 0===t)throw new SyntaxError("Expected default variant");return{variants:e,star:t}}();return i(gA,SyntaxError),{type:"select",selector:t,...e}}throw new SyntaxError("Unclosed placeable")}function h(){if("{"===t[e])return c();if(n(aA)){let[,n,r,a=null]=o(aA);if("$"===n)return{type:"var",name:r};if(i(wA)){let o=function(){let n=[];for(;;){switch(t[e]){case")":return e++,n;case void 0:throw new SyntaxError("Unclosed argument list")}n.push(f()),i(AA)}}();if("-"===n)return{type:"term",name:r,attr:a,args:o};if(uA.test(r))return{type:"func",name:r,args:o};throw new SyntaxError("Function names must be all upper-case")}return"-"===n?{type:"term",name:r,attr:a,args:[]}:{type:"mesg",name:r,attr:a}}return p()}function f(){let t=h();return"mesg"!==t.type?t:i(EA)?{type:"narg",name:t.name,value:p()}:t}function d(){let t;return i(mA,SyntaxError),t=n(iA)?v():{type:"str",value:a(oA)},i(bA,SyntaxError),t}function p(){if(n(iA))return v();if('"'===t[e])return function(){r('"',SyntaxError);let n="";for(;;){if(n+=a(lA),"\\"!==t[e]){if(r('"'))return{type:"str",value:n};throw new SyntaxError("Unclosed string literal")}n+=y()}}();throw new SyntaxError("Invalid expression")}function v(){let[,t,e=""]=o(iA),n=e.length;return{type:"num",value:parseFloat(t),precision:n}}function y(){if(n(cA))return a(cA);if(n(hA)){let[,t,e]=o(hA),n=parseInt(t||e,16);return n<=55295||57344<=n?String.fromCodePoint(n):"�"}throw new SyntaxError("Unknown escape sequence")}function g(){let n=e;switch(i(kA),t[e]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return b(t.slice(n,e))}return" "===t[e-1]&&b(t.slice(n,e))}function m(t,e){return t.replace(e,"")}function b(t){let e=t.replace(pA,"\n"),n=vA.exec(t)[1].length;return new CA(e,n)}}}class CA{constructor(t,e){this.value=t,this.length=e}}const xA=/<|&#?\w+;/,_A={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},FA={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function PA(t,e){const{value:n}=e;if("string"==typeof n)if("title"===t.localName&&"http://www.w3.org/1999/xhtml"===t.namespaceURI)t.textContent=n;else if(xA.test(n)){const e=t.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");e.innerHTML=n,function(t,e){for(const n of t.childNodes)if(n.nodeType!==n.TEXT_NODE)if(n.hasAttribute("data-l10n-name")){const r=TA(e,n);t.replaceChild(r,n)}else if(BA(n)){const e=IA(n);t.replaceChild(e,n)}else console.warn(`An element of forbidden type "${n.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),t.replaceChild(MA(n),n);e.textContent="",e.appendChild(t)}(e.content,t)}else t.textContent=n;OA(e,t)}function LA(t,e){if(!t)return!1;for(let n of t)if(n.name===e)return!0;return!1}function OA(t,e){const n=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map((t=>t.trim())):null;for(const r of Array.from(e.attributes))jA(r.name,e,n)&&!LA(t.attributes,r.name)&&e.removeAttribute(r.name);if(t.attributes)for(const r of Array.from(t.attributes))jA(r.name,e,n)&&e.getAttribute(r.name)!==r.value&&e.setAttribute(r.name,r.value)}function TA(t,e){const n=e.getAttribute("data-l10n-name"),r=t.querySelector(`[data-l10n-name="${n}"]`);if(!r)return console.warn(`An element named "${n}" wasn't found in the source.`),MA(e);if(r.localName!==e.localName)return console.warn(`An element named "${n}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${r.localName}).`),MA(e);t.removeChild(r);return NA(e,r.cloneNode(!1))}function IA(t){const e=t.ownerDocument.createElement(t.localName);return NA(t,e)}function MA(t){return t.ownerDocument.createTextNode(t.textContent)}function BA(t){const e=_A[t.namespaceURI];return e&&e.includes(t.localName)}function jA(t,e,n=null){if(n&&n.includes(t))return!0;const r=FA[e.namespaceURI];if(!r)return!1;const i=t.toLowerCase(),o=e.localName;if(r.global.includes(i))return!0;if(!r[o])return!1;if(r[o].includes(i))return!0;if("http://www.w3.org/1999/xhtml"===e.namespaceURI&&"input"===o&&"value"===i){const t=e.type.toLowerCase();if("submit"===t||"button"===t||"reset"===t)return!0}return!1}function NA(t,e){return e.textContent=t.textContent,OA(t,e),e}class RA extends Array{static from(t){return t instanceof this?t:new this(t)}}Symbol.iterator;class WA extends RA{constructor(t){if(super(),Symbol.asyncIterator in Object(t))this.iterator=t[Symbol.asyncIterator]();else{if(!(Symbol.iterator in Object(t)))throw new TypeError("Argument must implement the iteration protocol.");this.iterator=t[Symbol.iterator]()}}[Symbol.asyncIterator](){const t=this;let e=0;return{next:async()=>(t.length<=e&&t.push(t.iterator.next()),t[e++])}}async touchNext(t=1){let e=0;for(;e++<t;){const t=this[this.length-1];if(t&&(await t).done)break;this.push(this.iterator.next())}return this[this.length-1]}}class GA{constructor(t=[],e){this.resourceIds=t,this.generateBundles=e,this.onChange(!0)}addResourceIds(t,e=!1){return this.resourceIds.push(...t),this.onChange(e),this.resourceIds.length}removeResourceIds(t){return this.resourceIds=this.resourceIds.filter((e=>!t.includes(e))),this.onChange(),this.resourceIds.length}async formatWithFallback(t,e){const n=[];let r=!1;for await(const i of this.bundles){r=!0;const o=UA(e,i,t,n);if(0===o.size)break;if("undefined"!=typeof console){const t=i.locales[0],e=Array.from(o).join(", ");console.warn(`[fluent] Missing translations in ${t}: ${e}`)}}return r||"undefined"==typeof console||console.warn(`[fluent] Request for keys failed because no resource bundles got generated.\n  keys: ${JSON.stringify(t)}.\n  resourceIds: ${JSON.stringify(this.resourceIds)}.`),n}formatMessages(t){return this.formatWithFallback(t,VA)}formatValues(t){return this.formatWithFallback(t,HA)}async formatValue(t,e){const[n]=await this.formatValues([{id:t,args:e}]);return n}handleEvent(){this.onChange()}onChange(t=!1){this.bundles=WA.from(this.generateBundles(this.resourceIds)),t&&this.bundles.touchNext(2)}}function HA(t,e,n,r){return n.value?t.formatPattern(n.value,r,e):null}function VA(t,e,n,r){const i={value:null,attributes:null};n.value&&(i.value=t.formatPattern(n.value,r,e));let o=Object.keys(n.attributes);if(o.length>0){i.attributes=new Array(o.length);for(let[a,u]of o.entries()){let o=t.formatPattern(n.attributes[u],r,e);i.attributes[a]={name:u,value:o}}}return i}function UA(t,e,n,r){const i=[],o=new Set;return n.forEach((({id:n,args:a},u)=>{if(void 0!==r[u])return;let s=e.getMessage(n);if(s){if(i.length=0,r[u]=t(e,i,s,a),i.length>0&&"undefined"!=typeof console){const t=e.locales[0],r=i.join(", ");console.warn(`[fluent][resolver] errors in ${t}/${n}: ${r}.`)}}else o.add(n)})),o}const zA="data-l10n-id",JA="data-l10n-args",YA=`[${zA}]`;class KA extends GA{constructor(t,e){super(t,e),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[zA,JA]}}onChange(t=!1){super.onChange(t),this.roots&&this.translateRoots()}setAttributes(t,e,n){return t.setAttribute(zA,e),n?t.setAttribute(JA,JSON.stringify(n)):t.removeAttribute(JA),t}getAttributes(t){return{id:t.getAttribute(zA),args:JSON.parse(t.getAttribute(JA)||null)}}connectRoot(t){for(const e of this.roots)if(e===t||e.contains(t)||t.contains(e))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==t.ownerDocument.defaultView)throw new Error("Cannot connect a root:\n          DOMLocalization already has a root from a different window.")}else this.windowElement=t.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver((t=>this.translateMutations(t)));this.roots.add(t),this.mutationObserver.observe(t,this.observerConfig)}disconnectRoot(t){return this.roots.delete(t),this.pauseObserving(),0===this.roots.size?(this.mutationObserver=null,this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){const t=Array.from(this.roots);return Promise.all(t.map((t=>this.translateFragment(t))))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(const t of this.roots)this.mutationObserver.observe(t,this.observerConfig)}translateMutations(t){for(const e of t)switch(e.type){case"attributes":e.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(e.target);break;case"childList":for(const t of e.addedNodes)if(t.nodeType===t.ELEMENT_NODE)if(t.childElementCount)for(const e of this.getTranslatables(t))this.pendingElements.add(e);else t.hasAttribute(zA)&&this.pendingElements.add(t)}this.pendingElements.size>0&&null===this.pendingrAF&&(this.pendingrAF=this.windowElement.requestAnimationFrame((()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null})))}translateFragment(t){return this.translateElements(this.getTranslatables(t))}async translateElements(t){if(!t.length)return;const e=t.map(this.getKeysForElement),n=await this.formatMessages(e);return this.applyTranslations(t,n)}applyTranslations(t,e){this.pauseObserving();for(let n=0;n<t.length;n++)void 0!==e[n]&&PA(t[n],e[n]);this.resumeObserving()}getTranslatables(t){const e=Array.from(t.querySelectorAll(YA));return"function"==typeof t.hasAttribute&&t.hasAttribute(zA)&&e.push(t),e}getKeysForElement(t){return{id:t.getAttribute(zA),args:JSON.parse(t.getAttribute(JA)||null)}}}function XA(t){return XA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XA(t)}function qA(){qA=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==XA(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(XA(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function ZA(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function QA(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){ZA(o,r,i,a,u,"next",t)}function u(t){ZA(o,r,i,a,u,"throw",t)}a(void 0)}))}}function $A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tk(r.key),r)}}function tk(t){var e=function(t,e){if("object"!=XA(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=XA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==XA(e)?e:e+""}function ek(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function nk(t,e){return t.get(ik(t,e))}function rk(t,e,n){return t.set(ik(t,e),n),n}function ik(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var ok=new WeakMap,ak=new WeakMap,uk=new WeakMap,sk=function(){return function(t,e,n){return e&&$A(t.prototype,e),n&&$A(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.lang,r=e.isRTL,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),ek(this,ok,void 0),ek(this,ak,void 0),ek(this,uk,void 0),rk(ak,this,lk.call(t,n)),rk(uk,this,i),rk(ok,this,(null!=r?r:ck.call(t,nk(ak,this)))?"rtl":"ltr")}),[{key:"_setL10n",value:function(t){rk(uk,this,t),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&(document.l10n=t)}},{key:"getLanguage",value:function(){return nk(ak,this)}},{key:"getDirection",value:function(){return nk(ok,this)}},{key:"get",value:function(){var t=QA(qA().mark((function t(e){var n,r,i,o,a=arguments;return qA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:null,r=a.length>2?a[2]:void 0,!Array.isArray(e)){t.next=8;break}return e=e.map((function(t){return{id:t}})),t.next=6,nk(uk,this).formatMessages(e);case 6:return i=t.sent,t.abrupt("return",i.map((function(t){return t.value})));case 8:return t.next=10,nk(uk,this).formatMessages([{id:e,args:n}]);case 10:return o=t.sent,t.abrupt("return",(null==o?void 0:o[0].value)||r);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"translate",value:function(){var t=QA(qA().mark((function t(e){return qA().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,nk(uk,this).connectRoot(e),t.next=4,nk(uk,this).translateRoots();case 4:t.next=8;break;case 6:t.prev=6,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,this,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},{key:"pause",value:function(){nk(uk,this).pauseObserving()}},{key:"resume",value:function(){nk(uk,this).resumeObserving()}}])}();function lk(t){var e;return{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[t=(null===(e=t)||void 0===e?void 0:e.toLowerCase())||"en-us"]||t}function ck(t){var e=t.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(e)}var hk;function fk(t){return fk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fk(t)}function dk(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function pk(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){dk(o,r,i,a,u,"next",t)}function u(t){dk(o,r,i,a,u,"throw",t)}a(void 0)}))}}function vk(){vk=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==fk(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(fk(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function yk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gk(r.key),r)}}function gk(t){var e=function(t,e){if("object"!=fk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fk(e)?e:e+""}function mk(t,e,n){return e=wk(e),function(t,e){if(e&&("object"==fk(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bk()?Reflect.construct(e,n||[],wk(t).constructor):e.apply(t,n))}function bk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(bk=function(){return!!t})()}function wk(t){return wk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wk(t)}function Dk(t,e){return Dk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dk(t,e)}function Ek(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function Ak(t){return new Ck(t,0)}function kk(t){return function(){return new Sk(t.apply(this,arguments))}}function Sk(t){var e,n;function r(e,n){try{var o=t[e](n),a=o.value,u=a instanceof Ck;Promise.resolve(u?a.v:a).then((function(n){if(u){var s="return"===e?"return":"next";if(!a.k||n.done)return r(s,n);n=t[s](n).value}i(o.done?"return":"normal",n)}),(function(t){r("throw",t)}))}catch(t){i("throw",t)}}function i(t,i){switch(t){case"return":e.resolve({value:i,done:!0});break;case"throw":e.reject(i);break;default:e.resolve({value:i,done:!1})}(e=e.next)?r(e.key,e.arg):n=null}this._invoke=function(t,i){return new Promise((function(o,a){var u={key:t,arg:i,resolve:o,reject:a,next:null};n?n=n.next=u:(e=n=u,r(t,i))}))},"function"!=typeof t.return&&(this.return=void 0)}function Ck(t,e){this.v=t,this.k=e}function xk(t,e){var n=new SA(e),r=new tA(t),i=r.addResource(n);return i.length&&console.error("L10n errors",i),r}Sk.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Sk.prototype.next=function(t){return this._invoke("next",t)},Sk.prototype.throw=function(t){return this._invoke("throw",t)},Sk.prototype.return=function(t){return this._invoke("return",t)};var _k=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=mk(this,e,[{lang:t}]);var r=t?Fk.bind(e,"en-us",n.getLanguage()):Ik.bind(e,n.getLanguage());return n._setL10n(new KA([],r)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dk(t,e)}(e,t),function(t,e,n){return e&&yk(t.prototype,e),n&&yk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e)}(sk);function Fk(t,e){var n=this;return kk(vk().mark((function r(){var i,o,a,u,s,l,c,h,f;return vk().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ak(Ek(hk,n,Ok).call(n));case 2:i=r.sent,o=i.baseURL,a=i.paths,u=[e],t!==e&&((s=e.split("-",1)[0])!==e&&u.push(s),u.push(t)),l=0,c=u;case 8:if(!(l<c.length)){r.next=22;break}return h=c[l],r.next=12,Ak(Ek(hk,n,Pk).call(n,h,o,a));case 12:if(!(f=r.sent)){r.next=16;break}return r.next=16,f;case 16:if("en-us"!==h){r.next=19;break}return r.next=19,Ek(hk,n,Mk).call(n,h);case 19:l++,r.next=8;break;case 22:case"end":return r.stop()}}),r)})))()}function Pk(t,e,n){return Lk.apply(this,arguments)}function Lk(){return(Lk=pk(vk().mark((function t(e,n,r){var i,o,a;return vk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r[e]){t.next=3;break}return t.abrupt("return",null);case 3:return o=new URL(i,n),t.next=6,en(o,"text");case 6:return a=t.sent,t.abrupt("return",xk(e,a));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ok(){return Tk.apply(this,arguments)}function Tk(){return(Tk=pk(vk().mark((function t(){var e,n,r;return vk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=document.querySelector('link[type="application/l10n"]'),n=e.href,t.next=4,en(n,"json");case 4:return r=t.sent,t.abrupt("return",{baseURL:n.replace(/[^/]*$/,"")||"./",paths:r});case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.abrupt("return",{baseURL:"./",paths:Object.create(null)});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function Ik(t){var e=this;return kk(vk().mark((function n(){return vk().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ek(hk,e,Mk).call(e,t);case 2:case"end":return n.stop()}}),n)})))()}function Mk(t){return Bk.apply(this,arguments)}function Bk(){return(Bk=pk(vk().mark((function t(e){var n;return vk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"==typeof PDFJSDev||!PDFJSDev.test("TESTING")){t.next=2;break}throw new Error("Not implemented: #createBundleFallback");case 2:if("undefined"!=typeof PDFJSDev){t.next=8;break}return t.next=5,en(new URL("../l10n/en-US/viewer.ftl",window.location.href),"text");case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=PDFJSDev.eval("DEFAULT_FTL");case 9:return n=t.t0,t.abrupt("return",xk(e,n));case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function jk(t){return jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jk(t)}function Nk(){Nk=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==jk(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(jk(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function Rk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wk(r.key),r)}}function Wk(t){var e=function(t,e){if("object"!=jk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jk(e)?e:e+""}function Gk(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Hk(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Gk(o,r,i,a,u,"next",t)}function u(t){Gk(o,r,i,a,u,"throw",t)}a(void 0)}))}}hk=_k;var Vk=function(){return function(t,e,n){return e&&Rk(t.prototype,e),n&&Rk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._ready=new Promise((function(t,n){("undefined"==typeof PDFJSDev?i(754)(e):__non_webpack_import__(e)).then((function(e){t(e.QuickJSSandbox())})).catch(n)}))}),[{key:"createSandbox",value:(n=Hk(Nk().mark((function t(e){return Nk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:t.sent.create(e);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"dispatchEventInSandbox",value:(e=Hk(Nk().mark((function t(e){var n;return Nk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:n=t.sent,setTimeout((function(){return n.dispatchEvent(e)}),0);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"destroySandbox",value:(t=Hk(Nk().mark((function t(){return Nk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._ready;case 2:t.sent.nukeSandbox();case 4:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})}]);var t,e,n}();function Uk(t){return Uk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uk(t)}function zk(){zk=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==Uk(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Uk(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function Jk(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Yk(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Jk(o,r,i,a,u,"next",t)}function u(t){Jk(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Kk(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zk(r.key),r)}}function qk(t,e,n){return e&&Xk(t.prototype,e),n&&Xk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zk(t){var e=function(t,e){if("object"!=Uk(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Uk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Uk(e)?e:e+""}function Qk(t,e,n){return e=tS(e),function(t,e){if(e&&("object"==Uk(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$k()?Reflect.construct(e,n||[],tS(t).constructor):e.apply(t,n))}function $k(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($k=function(){return!!t})()}function tS(t){return tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tS(t)}function eS(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nS(t,e)}function nS(t,e){return nS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nS(t,e)}if("undefined"!=typeof PDFJSDev&&!PDFJSDev.test("GENERIC"))throw new Error('Module "pdfjs-web/genericcom" shall not be used outside GENERIC build.');var rS=function(t){function e(){return Kk(this,e),Qk(this,e,arguments)}return eS(e,t),qk(e,[{key:"_writeToStorage",value:(r=Yk(zk().mark((function t(e){return zk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.setItem("pdfjs.preferences",JSON.stringify(e));case 1:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})},{key:"_readFromStorage",value:(n=Yk(zk().mark((function t(e){return zk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{prefs:JSON.parse(localStorage.getItem("pdfjs.preferences"))});case 1:case"end":return t.stop()}}),t)}))),function(t){return n.apply(this,arguments)})}]);var n,r}(OE),iS=function(t){function e(){return Kk(this,e),Qk(this,e,arguments)}return eS(e,t),qk(e,[{key:"createL10n",value:(n=Yk(zk().mark((function t(){return zk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new _k(St.get("locale")));case 1:case"end":return t.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"createScripting",value:function(){return new Vk(St.get("sandboxBundleSrc"))}}]);var n}(dE),oS=function(){return qk((function t(){Kk(this,t)}),[{key:"guess",value:(t=Yk(zk().mark((function t(){return zk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null);case 1:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})}]);var t}();function aS(t){return aS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aS(t)}function uS(){uS=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==aS(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(aS(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function sS(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return lS(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lS(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function lS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cS(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function hS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fS(r.key),r)}}function fS(t){var e=function(t,e){if("object"!=aS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aS(e)?e:e+""}function dS(t,e,n){pS(t,e),e.set(t,n)}function pS(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vS(t,e){return t.get(gS(t,e))}function yS(t,e,n){return t.set(gS(t,e),n),n}function gS(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var mS=new WeakMap,bS=new WeakMap,wS=new WeakMap,DS=new WeakMap,ES=new WeakMap,AS=new WeakMap,kS=new WeakMap,SS=new WeakMap,CS=new WeakMap,xS=new WeakMap,_S=new WeakMap,FS=new WeakMap,PS=new WeakMap,LS=new WeakMap,OS=new WeakMap,TS=new WeakMap,IS=new WeakMap,MS=new WeakMap,BS=new WeakMap,jS=new WeakSet,NS=function(){return function(t,e,n){return e&&hS(t.prototype,e),n&&hS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,i){var o=this,a=e.dialog,u=e.optionDescription,s=e.optionDecorative,l=e.textarea,c=e.cancelButton,h=e.saveButton;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){pS(t,e),e.add(t)}(this,jS),dS(this,mS,gS(jS,this,VS).bind(this)),dS(this,bS,gS(jS,this,WS).bind(this)),dS(this,wS,gS(jS,this,zS).bind(this)),dS(this,DS,null),dS(this,ES,void 0),dS(this,AS,void 0),dS(this,kS,void 0),dS(this,SS,!1),dS(this,CS,void 0),dS(this,xS,void 0),dS(this,_S,void 0),dS(this,FS,void 0),dS(this,PS,void 0),dS(this,LS,void 0),dS(this,OS,null),dS(this,TS,null),dS(this,IS,null),dS(this,MS,void 0),dS(this,BS,null),yS(AS,this,a),yS(CS,this,u),yS(xS,this,s),yS(PS,this,l),yS(ES,this,c),yS(FS,this,h),yS(_S,this,r),yS(kS,this,i),yS(MS,this,n),a.addEventListener("close",gS(jS,this,HS).bind(this)),a.addEventListener("contextmenu",(function(t){t.target!==vS(PS,o)&&t.preventDefault()})),c.addEventListener("click",gS(jS,this,GS).bind(this)),h.addEventListener("click",gS(jS,this,US).bind(this)),u.addEventListener("change",vS(mS,this)),s.addEventListener("change",vS(mS,this)),vS(_S,this).register(a)}),[{key:"_elements",get:function(){return(0,Kt.r7)(this,"_elements",[vS(CS,this),vS(xS,this),vS(PS,this),vS(FS,this),vS(ES,this)])}},{key:"editAltText",value:(t=uS().mark((function t(e,n){var r,i,o,a;return uS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!vS(DS,this)&&n){t.next=2;break}return t.abrupt("return");case 2:gS(jS,this,RS).call(this),yS(SS,this,!1),r=sS(this._elements);try{for(r.s();!(i=r.n()).done;)i.value.addEventListener("click",vS(wS,this))}catch(t){r.e(t)}finally{r.f()}return o=n.altTextData,a=o.altText,!0===o.decorative?(vS(xS,this).checked=!0,vS(CS,this).checked=!1):(vS(xS,this).checked=!1,vS(CS,this).checked=!0),yS(OS,this,vS(PS,this).value=(null==a?void 0:a.trim())||""),gS(jS,this,VS).call(this),yS(DS,this,n),yS(LS,this,e),vS(LS,this).removeEditListeners(),vS(kS,this)._on("resize",vS(bS,this)),t.prev=14,t.next=17,vS(_S,this).open(vS(AS,this));case 17:gS(jS,this,WS).call(this),t.next=24;break;case 20:throw t.prev=20,t.t0=t.catch(14),gS(jS,this,HS).call(this),t.t0;case 24:case"end":return t.stop()}}),t,this,[[14,20]])})),e=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){cS(o,r,i,a,u,"next",t)}function u(t){cS(o,r,i,a,u,"throw",t)}a(void 0)}))},function(t,n){return e.apply(this,arguments)})},{key:"destroy",value:function(){var t;yS(LS,this,null),gS(jS,this,GS).call(this),null===(t=vS(TS,this))||void 0===t||t.remove(),yS(TS,this,yS(IS,this,null))}}]);var t,e}();function RS(){if(!vS(TS,this)){var t=new an,e=yS(TS,this,t.createElement("svg"));e.setAttribute("width","0"),e.setAttribute("height","0");var n=t.createElement("defs");e.append(n);var r=t.createElement("mask");n.append(r),r.setAttribute("id","alttext-manager-mask"),r.setAttribute("maskContentUnits","objectBoundingBox");var i=t.createElement("rect");r.append(i),i.setAttribute("fill","white"),i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("x","0"),i.setAttribute("y","0"),i=yS(IS,this,t.createElement("rect")),r.append(i),i.setAttribute("fill","black"),vS(AS,this).append(e)}}function WS(){if(vS(DS,this)){var t=vS(AS,this),e=t.style,n=vS(MS,this).getBoundingClientRect(),r=n.x,i=n.y,o=n.width,a=n.height,u=window,s=u.innerWidth,l=u.innerHeight,c=t.getBoundingClientRect(),h=c.width,f=c.height,d=vS(DS,this).getClientDimensions(),p=d.x,v=d.y,y=d.width,g=d.height,m=10,b="ltr"===vS(LS,this).direction,w=Math.max(p,r),D=Math.min(p+y,r+o),E=Math.max(v,i),A=Math.min(v+g,i+a);vS(IS,this).setAttribute("width","".concat((D-w)/s)),vS(IS,this).setAttribute("height","".concat((A-E)/l)),vS(IS,this).setAttribute("x","".concat(w/s)),vS(IS,this).setAttribute("y","".concat(E/l));var k=null,S=Math.max(v,0);S+=Math.min(l-(S+f),0),b?p+y+m+h<s?k=p+y+m:p>h+m&&(k=p-h-m):p>h+m?k=p-h-m:p+y+m+h<s&&(k=p+y+m),null===k&&(S=null,k=Math.max(p,0),k+=Math.min(s-(k+h),0),v>f+m?S=v-f-m:v+g+m+f<l&&(S=v+g+m)),null!==S?(t.classList.add("positioned"),b?e.left="".concat(k,"px"):e.right="".concat(s-k-h,"px"),e.top="".concat(S,"px")):(t.classList.remove("positioned"),e.left="",e.top="")}}function GS(){vS(_S,this).active===vS(AS,this)&&vS(_S,this).close(vS(AS,this))}function HS(){var t;vS(DS,this)._reportTelemetry(vS(BS,this)||{action:"alt_text_cancel",alt_text_keyboard:!vS(SS,this)}),yS(BS,this,null),gS(jS,this,JS).call(this),null===(t=vS(LS,this))||void 0===t||t.addEditListeners(),vS(kS,this)._off("resize",vS(bS,this)),vS(DS,this).altTextFinish(),yS(DS,this,null),yS(LS,this,null)}function VS(){vS(PS,this).disabled=vS(xS,this).checked}function US(){var t=vS(PS,this).value.trim(),e=vS(xS,this).checked;vS(DS,this).altTextData={altText:t,decorative:e},yS(BS,this,{action:"alt_text_save",alt_text_description:!!t,alt_text_edit:!!vS(OS,this)&&vS(OS,this)!==t,alt_text_decorative:e,alt_text_keyboard:!vS(SS,this)}),gS(jS,this,GS).call(this)}function zS(t){0!==t.detail&&(yS(SS,this,!0),gS(jS,this,JS).call(this))}function JS(){var t,e=sS(this._elements);try{for(e.s();!(t=e.n()).done;){t.value.removeEventListener("click",vS(wS,this))}}catch(t){e.e(t)}finally{e.f()}}function YS(t){return YS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YS(t)}function KS(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||XS(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function XS(t,e){if(t){if("string"==typeof t)return qS(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qS(t,e):void 0}}function qS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ZS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$S(r.key),r)}}function QS(t,e,n){return e&&ZS(t.prototype,e),n&&ZS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $S(t){var e=function(t,e){if("object"!=YS(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=YS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==YS(e)?e:e+""}function tC(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}var eC,nC=new WeakSet,rC=QS((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),tC(this,nC),this.eventBus=n,function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}(nC,this,iC).call(this,e)}));function iC(t){var e=this,n=t.editorFreeTextFontSize,r=t.editorFreeTextColor,i=t.editorInkColor,o=t.editorInkThickness,a=t.editorInkOpacity,u=t.editorStampAddImage,s=t.editorFreeHighlightThickness,l=t.editorHighlightShowAll,c=function(t,n){e.eventBus.dispatch("switchannotationeditorparams",{source:e,type:Kt.N5[t],value:n})};n.addEventListener("input",(function(){c("FREETEXT_SIZE",this.valueAsNumber)})),r.addEventListener("input",(function(){c("FREETEXT_COLOR",this.value)})),i.addEventListener("input",(function(){c("INK_COLOR",this.value)})),o.addEventListener("input",(function(){c("INK_THICKNESS",this.valueAsNumber)})),a.addEventListener("input",(function(){c("INK_OPACITY",this.valueAsNumber)})),u.addEventListener("click",(function(){c("CREATE")})),s.addEventListener("input",(function(){c("HIGHLIGHT_THICKNESS",this.valueAsNumber)})),l.addEventListener("click",(function(){var t="true"===this.getAttribute("aria-pressed");this.setAttribute("aria-pressed",!t),c("HIGHLIGHT_SHOW_ALL",!t)})),this.eventBus._on("annotationeditorparamschanged",(function(t){var e,u=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=XS(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(t.details);try{for(u.s();!(e=u.n()).done;){var c=KS(e.value,2),h=c[0],f=c[1];switch(h){case Kt.N5.FREETEXT_SIZE:n.value=f;break;case Kt.N5.FREETEXT_COLOR:r.value=f;break;case Kt.N5.INK_COLOR:i.value=f;break;case Kt.N5.INK_THICKNESS:o.value=f;break;case Kt.N5.INK_OPACITY:a.value=f;break;case Kt.N5.HIGHLIGHT_THICKNESS:s.value=f;break;case Kt.N5.HIGHLIGHT_FREE:s.disabled=!f;break;case Kt.N5.HIGHLIGHT_SHOW_ALL:l.setAttribute("aria-pressed",f)}}}catch(t){u.e(t)}finally{u.f()}}))}function oC(t){return oC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oC(t)}function aC(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||uC(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uC(t,e){if(t){if("string"==typeof t)return sC(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sC(t,e):void 0}}function sC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function lC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cC(r.key),r)}}function cC(t){var e=function(t,e){if("object"!=oC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oC(e)?e:e+""}function hC(t,e,n){fC(t,e),e.set(t,n)}function fC(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dC(t,e){return t.get(vC(t,e))}function pC(t,e,n){return t.set(vC(t,e),n),n}function vC(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var yC=.1,gC=new WeakMap,mC=new WeakMap,bC=new WeakMap,wC=new WeakSet,DC=function(){return function(t,e,n){return e&&lC(t.prototype,e),n&&lC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){fC(t,e),e.add(t)}(this,wC),hC(this,gC,void 0),hC(this,mC,void 0),hC(this,bC,void 0),pC(gC,this,e),pC(bC,this,n),pC(mC,this,null!==(i=null==r?void 0:r.getBoundingClientRect().height)&&void 0!==i?i:0)}),[{key:"moveCaret",value:function(t,e){var n=document.getSelection();if(0!==n.rangeCount){var r=n.focusNode,i=r.nodeType!==Node.ELEMENT_NODE?r.parentElement:r,o=i.closest(".textLayer");if(o){var a=document.createTreeWalker(o,NodeFilter.SHOW_TEXT);a.currentNode=r;for(var u=i.getBoundingClientRect(),s=null,l=(t?a.previousSibling:a.nextSibling).bind(a);l();){var c=a.currentNode.parentElement;if(!vC(wC,this,EC).call(this,u,c.getBoundingClientRect())){s=c;break}}if(s){var h=aC(vC(wC,this,SC).call(this,n,t),2),f=h[0],d=h[1],p=s.getBoundingClientRect();if(vC(wC,this,AC).call(this,p,f,d,t))vC(wC,this,_C).call(this,e,n,s,p,f);else{for(;l();){var v=a.currentNode.parentElement,y=v.getBoundingClientRect();if(!vC(wC,this,EC).call(this,p,y))break;if(vC(wC,this,AC).call(this,y,f,d,t))return void vC(wC,this,_C).call(this,e,n,v,y,f)}vC(wC,this,_C).call(this,e,n,s,p,f)}}else{var g=vC(wC,this,FC).call(this,o,t);if(!g)return;if(e){var m=(t?a.firstChild():a.lastChild())||r;n.extend(m,t?0:m.length);var b=document.createRange();return b.setStart(g,t?g.length:0),b.setEnd(g,t?g.length:0),void n.addRange(b)}var w=aC(vC(wC,this,SC).call(this,n,t),1)[0],D=g.parentElement;vC(wC,this,_C).call(this,e,n,D,D.getBoundingClientRect(),w)}}}}}])}();function EC(t,e){var n=t.y,r=t.bottom,i=t.y+t.height/2,o=e.y,a=e.bottom,u=e.y+e.height/2;return n<=u&&u<=r||o<=i&&i<=a}function AC(t,e,n,r){var i=t.y+t.height/2;return(r?n>=i:n<=i)&&t.x-yC<=e&&e<=t.right+yC}function kC(t){return t.top>=dC(mC,this)&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function SC(t,e){var n=t.focusNode,r=t.focusOffset,i=document.createRange();i.setStart(n,r),i.setEnd(n,r);var o=i.getBoundingClientRect();return[o.x,e?o.top:o.bottom]}function CC(t,e){if(!("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||document.caretPositionFromPoint)){var n=document.caretRangeFromPoint(t,e);return{offsetNode:n.startContainer,offset:n.startOffset}}return document.caretPositionFromPoint(t,e)}function xC(t,e,n,r,i){var o;if(i||(i=r.getBoundingClientRect()),e<=i.x+yC)n?t.extend(r.firstChild,0):t.setPosition(r.firstChild,0);else if(i.right-yC<=e){var a=r.lastChild;n?t.extend(a,a.length):t.setPosition(a,a.length)}else{var u=i.y+i.height/2,s=CC.call(eC,e,u),l=null===(o=s.offsetNode)||void 0===o?void 0:o.parentElement;if(l&&l!==r){var c,h,f=[],d=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=uC(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(document.elementsFromPoint(e,u));try{for(d.s();!(h=d.n()).done;){var p=h.value;if(p===r)break;var v=p.style;f.push([p,v.visibility]),v.visibility="hidden"}}catch(t){d.e(t)}finally{d.f()}l=null===(c=(s=CC.call(eC,e,u)).offsetNode)||void 0===c?void 0:c.parentElement;for(var y=0,g=f;y<g.length;y++){var m=aC(g[y],2),b=m[0],w=m[1];b.style.visibility=w}}l===r?n?t.extend(s.offsetNode,s.offset):t.setPosition(s.offsetNode,s.offset):n?t.extend(r.firstChild,0):t.setPosition(r.firstChild,0)}}function _C(t,e,n,r,i){vC(wC,this,kC).call(this,r)?vC(wC,this,xC).call(this,e,i,t,n,r):(dC(gC,this).addEventListener("scrollend",vC(wC,this,xC).bind(this,e,i,t,n,null),{once:!0}),n.scrollIntoView())}function FC(t,e){for(;;){var n=t.closest(".page"),r=parseInt(n.getAttribute("data-page-number")),i=e?r-1:r+1;if(!(t=dC(bC,this).querySelector('.page[data-page-number="'.concat(i,'"] .textLayer'))))return null;var o=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),a=e?o.lastChild():o.firstChild();if(a)return a}}function PC(t){return PC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PC(t)}function LC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OC(r.key),r)}}function OC(t){var e=function(t,e){if("object"!=PC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=PC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==PC(e)?e:e+""}function TC(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function IC(t,e){return t.get(function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}(t,e))}if(eC=DC,"undefined"!=typeof PDFJSDev&&!PDFJSDev.test("CHROME || GENERIC"))throw new Error('Module "pdfjs-web/download_manager" shall not be used outside CHROME and GENERIC builds.');function MC(t,e){var n=document.createElement("a");if(!n.click)throw new Error('DownloadManager: "a.click()" is not supported.');n.href=t,n.target="_parent","download"in n&&(n.download=e),(document.body||document.documentElement).append(n),n.click(),n.remove()}var BC=new WeakMap,jC=function(){return function(t,e,n){return e&&LC(t.prototype,e),n&&LC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),TC(this,BC,new WeakMap)}),[{key:"downloadUrl",value:function(t,e,n){(0,Kt.z7)(t,"http://example.com")?MC(t+"#pdfjs.action=download",e):console.error("downloadUrl - not a valid URL: ".concat(t))}},{key:"downloadData",value:function(t,e,n){MC(URL.createObjectURL(new Blob([t],{type:n})),e)}},{key:"openOrDownloadData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=cn(e),i=r?"application/pdf":"";if(("undefined"==typeof PDFJSDev||!PDFJSDev.test("COMPONENTS"))&&r){var o,a=IC(BC,this).get(t);a||(a=URL.createObjectURL(new Blob([t],{type:i})),IC(BC,this).set(t,a)),"undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC")?o="?file="+encodeURIComponent(a+"#"+e):PDFJSDev.test("CHROME")&&(o=chrome.runtime.getURL("/content/web/viewer.html")+"?file="+encodeURIComponent(a+"#"+e)),n&&(o+="#".concat(escape(n)));try{return window.open(o),!0}catch(e){console.error("openOrDownloadData: ".concat(e)),URL.revokeObjectURL(a),IC(BC,this).delete(t)}}return this.downloadData(t,e,i),!1}},{key:"download",value:function(t,e,n,r){MC(URL.createObjectURL(new Blob([t],{type:"application/pdf"})),n)}}])}();function NC(){NC=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==RC(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(RC(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function RC(t){return RC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RC(t)}function WC(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function GC(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){WC(o,r,i,a,u,"next",t)}function u(t){WC(o,r,i,a,u,"throw",t)}a(void 0)}))}}function HC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VC(r.key),r)}}function VC(t){var e=function(t,e){if("object"!=RC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=RC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==RC(e)?e:e+""}function UC(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function zC(t,e,n){return t.set(YC(t,e),n),n}function JC(t,e){return t.get(YC(t,e))}function YC(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var KC=new WeakMap,XC=new WeakMap,qC=function(){return function(t,e,n){return e&&HC(t.prototype,e),n&&HC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),UC(this,KC,new WeakMap),UC(this,XC,null)}),[{key:"active",get:function(){return JC(XC,this)}},{key:"register",value:(e=GC(NC().mark((function t(e){var n,r=this,i=arguments;return NC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],"object"===RC(e)){t.next=5;break}throw new Error("Not enough parameters.");case 5:if(!JC(KC,this).has(e)){t.next=7;break}throw new Error("The overlay is already registered.");case 7:JC(KC,this).set(e,{canForceClose:n}),e.addEventListener("cancel",(function(t){zC(XC,r,null)}));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"open",value:(t=GC(NC().mark((function t(e){return NC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(JC(KC,this).has(e)){t.next=4;break}throw new Error("The overlay does not exist.");case 4:if(!JC(XC,this)){t.next=15;break}if(JC(XC,this)!==e){t.next=9;break}throw new Error("The overlay is already active.");case 9:if(!JC(KC,this).get(e).canForceClose){t.next=14;break}return t.next=12,this.close();case 12:t.next=15;break;case 14:throw new Error("Another overlay is currently active.");case 15:zC(XC,this,e),e.showModal();case 17:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})},{key:"close",value:function(){var t=GC(NC().mark((function t(){var e,n=arguments;return NC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.length>0&&void 0!==n[0]?n[0]:JC(XC,this),JC(KC,this).has(e)){t.next=5;break}throw new Error("The overlay does not exist.");case 5:if(JC(XC,this)){t.next=9;break}throw new Error("The overlay is currently not active.");case 9:if(JC(XC,this)===e){t.next=11;break}throw new Error("Another overlay is currently active.");case 11:e.close(),zC(XC,this,null);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]);var t,e}();function ZC(t){return ZC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZC(t)}function QC(){QC=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==ZC(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(ZC(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function $C(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function tx(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){$C(o,r,i,a,u,"next",t)}function u(t){$C(o,r,i,a,u,"throw",t)}a(void 0)}))}}function ex(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nx(r.key),r)}}function nx(t){var e=function(t,e){if("object"!=ZC(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ZC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ZC(e)?e:e+""}function rx(t,e,n){ix(t,e),e.set(t,n)}function ix(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ox(t,e,n){return t.set(ux(t,e),n),n}function ax(t,e){return t.get(ux(t,e))}function ux(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var sx=new WeakMap,lx=new WeakMap,cx=new WeakMap,hx=new WeakSet,fx=function(){return function(t,e,n){return e&&ex(t.prototype,e),n&&ex(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){ix(t,e),e.add(t)}(this,hx),rx(this,sx,null),rx(this,lx,null),rx(this,cx,null),this.dialog=e.dialog,this.label=e.label,this.input=e.input,this.submitButton=e.submitButton,this.cancelButton=e.cancelButton,this.overlayManager=n,this._isViewerEmbedded=i,this.submitButton.addEventListener("click",ux(hx,this,dx).bind(this)),this.cancelButton.addEventListener("click",this.close.bind(this)),this.input.addEventListener("keydown",(function(t){13===t.keyCode&&ux(hx,r,dx).call(r)})),this.overlayManager.register(this.dialog,!0),this.dialog.addEventListener("close",ux(hx,this,px).bind(this))}),[{key:"open",value:(e=tx(QC().mark((function t(){var e,n;return QC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null===(e=ax(sx,this))||void 0===e?void 0:e.promise;case 2:return ox(sx,this,Promise.withResolvers()),t.prev=3,t.next=6,this.overlayManager.open(this.dialog);case 6:t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(3),ax(sx,this).resolve(),t.t0;case 12:n=ax(cx,this)===Kt.SS.INCORRECT_PASSWORD,this._isViewerEmbedded&&!n||this.input.focus(),this.label.setAttribute("data-l10n-id","pdfjs-password-".concat(n?"invalid":"label"));case 15:case"end":return t.stop()}}),t,this,[[3,8]])}))),function(){return e.apply(this,arguments)})},{key:"close",value:function(){var t=tx(QC().mark((function t(){return QC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.overlayManager.active===this.dialog&&this.overlayManager.close(this.dialog);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setUpdateCallback",value:(t=tx(QC().mark((function t(e,n){return QC().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!ax(sx,this)){t.next=3;break}return t.next=3,ax(sx,this).promise;case 3:ox(lx,this,e),ox(cx,this,n);case 5:case"end":return t.stop()}}),t,this)}))),function(e,n){return t.apply(this,arguments)})}]);var t,e}();function dx(){var t=this.input.value;(null==t?void 0:t.length)>0&&ux(hx,this,vx).call(this,t)}function px(){ux(hx,this,vx).call(this,new Error("PasswordPrompt cancelled.")),ax(sx,this).resolve()}function vx(t){ax(lx,this)&&(this.close(),this.input.value="",ax(lx,this).call(this,t),ox(lx,this,null))}function yx(t){return yx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yx(t)}function gx(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return mx(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mx(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function mx(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function bx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wx(r.key),r)}}function wx(t){var e=function(t,e){if("object"!=yx(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yx(e)?e:e+""}var Dx="selected",Ex=function(){return function(t,e,n){return e&&bx(t.prototype,e),n&&bx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.constructor===t)throw new Error("Cannot initialize BaseTreeViewer.");this.container=e.container,this.eventBus=e.eventBus,this._l10n=e.l10n,this.reset()}),[{key:"reset",value:function(){this._pdfDocument=null,this._lastToggleIsShow=!0,this._currentTreeItem=null,this.container.textContent="",this.container.classList.remove("treeWithDeepNesting")}},{key:"_dispatchEvent",value:function(t){throw new Error("Not implemented: _dispatchEvent")}},{key:"_bindLink",value:function(t,e){throw new Error("Not implemented: _bindLink")}},{key:"_normalizeTextContent",value:function(t){return j(t,!0)||"–"}},{key:"_addToggleButton",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.createElement("div");r.className="treeItemToggler",n&&r.classList.add("treeItemsHidden"),r.onclick=function(n){if(n.stopPropagation(),r.classList.toggle("treeItemsHidden"),n.shiftKey){var i=!r.classList.contains("treeItemsHidden");e._toggleTreeItem(t,i)}},t.prepend(r)}},{key:"_toggleTreeItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._l10n.pause(),this._lastToggleIsShow=e;var n,r=gx(t.querySelectorAll(".treeItemToggler"));try{for(r.s();!(n=r.n()).done;){n.value.classList.toggle("treeItemsHidden",!e)}}catch(t){r.e(t)}finally{r.f()}this._l10n.resume()}},{key:"_toggleAllTreeItems",value:function(){this._toggleTreeItem(this.container,!this._lastToggleIsShow)}},{key:"_finishRendering",value:function(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(this.container.classList.add("treeWithDeepNesting"),this._lastToggleIsShow=!t.querySelector(".treeItemsHidden")),this._l10n.pause(),this.container.append(t),this._l10n.resume(),this._dispatchEvent(e)}},{key:"render",value:function(t){throw new Error("Not implemented: render")}},{key:"_updateCurrentTreeItem",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._currentTreeItem&&(this._currentTreeItem.classList.remove(Dx),this._currentTreeItem=null),t&&(t.classList.add(Dx),this._currentTreeItem=t)}},{key:"_scrollToCurrentTreeItem",value:function(t){if(t){this._l10n.pause();for(var e=t.parentNode;e&&e!==this.container;){if(e.classList.contains("treeItem")){var n=e.firstElementChild;null==n||n.classList.remove("treeItemsHidden")}e=e.parentNode}this._l10n.resume(),this._updateCurrentTreeItem(t),this.container.scrollTo(t.offsetLeft,t.offsetTop+-100)}}}])}();function Ax(t){return Ax="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ax(t)}function kx(){kx=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==Ax(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Ax(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function Sx(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Cx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xx(r.key),r)}}function xx(t){var e=function(t,e){if("object"!=Ax(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ax(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ax(e)?e:e+""}function _x(t,e,n){return e=Lx(e),function(t,e){if(e&&("object"==Ax(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fx()?Reflect.construct(e,n||[],Lx(t).constructor):e.apply(t,n))}function Fx(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Fx=function(){return!!t})()}function Px(){return Px="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Lx(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},Px.apply(null,arguments)}function Lx(t){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Lx(t)}function Ox(t,e){return Ox=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ox(t,e)}function Tx(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}var Ix=new WeakSet,Mx=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),Tx(n=_x(this,e,[t]),Ix),n.downloadManager=t.downloadManager,n.eventBus._on("fileattachmentannotation",function(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}(Ix,n,Bx).bind(n)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ox(t,e)}(e,t),function(t,e,n){return e&&Cx(t.prototype,e),n&&Cx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Px(Lx(e.prototype),"reset",this).call(this),this._attachments=null,t||(this._renderedCapability=Promise.withResolvers()),this._pendingDispatchEvent=!1}},{key:"_dispatchEvent",value:(n=kx().mark((function t(e){return kx().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._renderedCapability.resolve(),0!==e||this._pendingDispatchEvent){t.next=7;break}return this._pendingDispatchEvent=!0,t.next=5,nE({target:this.eventBus,name:"annotationlayerrendered",delay:1e3});case 5:if(this._pendingDispatchEvent){t.next=7;break}return t.abrupt("return");case 7:this._pendingDispatchEvent=!1,this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:e});case 9:case"end":return t.stop()}}),t,this)})),r=function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function a(t){Sx(o,r,i,a,u,"next",t)}function u(t){Sx(o,r,i,a,u,"throw",t)}a(void 0)}))},function(t){return r.apply(this,arguments)})},{key:"_bindLink",value:function(t,e){var n=this,r=e.content,i=e.description,o=e.filename;i&&(t.title=i),t.onclick=function(){return n.downloadManager.openOrDownloadData(r,o),!1}}},{key:"render",value:function(t){var e=t.attachments,n=t.keepRenderedCapability,r=void 0!==n&&n;if(this._attachments&&this.reset(r),this._attachments=e||null,e){var i=document.createDocumentFragment(),o=0;for(var a in e){var u=e[a],s=document.createElement("div");s.className="treeItem";var l=document.createElement("a");this._bindLink(l,u),l.textContent=this._normalizeTextContent(u.filename),s.append(l),i.append(s),o++}this._finishRendering(i,o)}else this._dispatchEvent(0)}}]);var n,r}(Ex);function Bx(t){var e=this,n=this._renderedCapability.promise;n.then((function(){if(n===e._renderedCapability.promise){var r=e._attachments||Object.create(null);for(var i in r)if(t.filename===i)return;r[t.filename]=t,e.render({attachments:r,keepRenderedCapability:!0})}}))}function jx(t){return jx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jx(t)}function Nx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rx(r.key),r)}}function Rx(t){var e=function(t,e){if("object"!=jx(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jx(e)?e:e+""}function Wx(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function Gx(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Hx="grab-to-pan-grab",Vx=new WeakSet,Ux=function(){return function(t,e,n){return e&&Nx(t.prototype,e),n&&Nx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.element;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Wx(this,Vx),this.element=n,this.document=n.ownerDocument,this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.toggle=this.toggle.bind(this),this._onMouseDown=Gx(Vx,this,zx).bind(this),this._onMouseMove=Gx(Vx,this,Jx).bind(this),this._endPan=Gx(Vx,this,Yx).bind(this),(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}),[{key:"activate",value:function(){this.active||(this.active=!0,this.element.addEventListener("mousedown",this._onMouseDown,!0),this.element.classList.add(Hx))}},{key:"deactivate",value:function(){this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onMouseDown,!0),this._endPan(),this.element.classList.remove(Hx))}},{key:"toggle",value:function(){this.active?this.deactivate():this.activate()}},{key:"ignoreTarget",value:function(t){return t.matches("a[href], a[href] *, input, textarea, button, button *, select, option")}}])}();function zx(t){if(0===t.button&&!this.ignoreTarget(t.target)){if(t.originalTarget)try{t.originalTarget.tagName}catch(t){return}this.scrollLeftStart=this.element.scrollLeft,this.scrollTopStart=this.element.scrollTop,this.clientXStart=t.clientX,this.clientYStart=t.clientY,this.document.addEventListener("mousemove",this._onMouseMove,!0),this.document.addEventListener("mouseup",this._endPan,!0),this.element.addEventListener("scroll",this._endPan,!0),t.preventDefault(),t.stopPropagation();var e=document.activeElement;e&&!e.contains(t.target)&&e.blur()}}function Jx(t){if(this.element.removeEventListener("scroll",this._endPan,!0),1&t.buttons){var e=t.clientX-this.clientXStart,n=t.clientY-this.clientYStart;this.element.scrollTo({top:this.scrollTopStart-n,left:this.scrollLeftStart-e,behavior:"instant"}),this.overlay.parentNode||document.body.append(this.overlay)}else this._endPan()}function Yx(){this.element.removeEventListener("scroll",this._endPan,!0),this.document.removeEventListener("mousemove",this._onMouseMove,!0),this.document.removeEventListener("mouseup",this._endPan,!0),this.overlay.remove()}function Kx(t){return Kx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kx(t)}function Xx(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qx(r.key),r)}}function qx(t){var e=function(t,e){if("object"!=Kx(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Kx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Kx(e)?e:e+""}function Zx(t,e,n){Qx(t,e),e.set(t,n)}function Qx(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function $x(t,e,n){return t.set(e_(t,e),n),n}function t_(t,e){return t.get(e_(t,e))}function e_(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var n_=new WeakMap,r_=new WeakMap,i_=new WeakSet,o_=function(){return function(t,e,n){return e&&Xx(t.prototype,e),n&&Xx(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this,r=e.container,i=e.eventBus,o=e.cursorToolOnLoad,a=void 0===o?P.SELECT:o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){Qx(t,e),e.add(t)}(this,i_),Zx(this,n_,P.SELECT),Zx(this,r_,null),this.container=r,this.eventBus=i,e_(i_,this,a_).call(this),Promise.resolve().then((function(){n.switchTool(a)}))}),[{key:"activeTool",get:function(){return t_(n_,this)}},{key:"switchTool",value:function(t){var e=this;if(null===t_(r_,this)&&t!==t_(n_,this)){var n=function(){switch(t_(n_,e)){case P.SELECT:break;case P.HAND:e._handTool.deactivate();case P.ZOOM:}};switch(t){case P.SELECT:n();break;case P.HAND:n(),this._handTool.activate();break;case P.ZOOM:default:return void console.error('switchTool: "'.concat(t,'" is an unsupported value.'))}$x(n_,this,t),this.eventBus.dispatch("cursortoolchanged",{source:this,tool:t})}}},{key:"_handTool",get:function(){return(0,Kt.r7)(this,"_handTool",new Ux({element:this.container}))}}])}();function a_(){var t=this;this.eventBus._on("switchcursortool",(function(r){r.reset?null!==t_(r_,t)&&(e=Kt.vP.NONE,n=m.NORMAL,i()):t.switchTool(r.tool)}));var e=Kt.vP.NONE,n=m.NORMAL,r=function(){var e,n=t_(n_,t);t.switchTool(P.SELECT),null!==(e=t_(r_,t))&&void 0!==e||$x(r_,t,n)},i=function(){var r=t_(r_,t);null!==r&&e===Kt.vP.NONE&&n===m.NORMAL&&($x(r_,t,null),t.switchTool(r))};this.eventBus._on("annotationeditormodechanged",(function(t){var n=t.mode;e=n,n===Kt.vP.NONE?i():r()})),this.eventBus._on("presentationmodechanged",(function(t){var e=t.state;n=e,e===m.NORMAL?i():e===m.FULLSCREEN&&r()}))}function u_(t){return u_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u_(t)}function s_(){s_=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==u_(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(u_(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function l_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c_(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c_(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function h_(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function f_(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){h_(o,r,i,a,u,"next",t)}function u(t){h_(o,r,i,a,u,"throw",t)}a(void 0)}))}}function d_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p_(r.key),r)}}function p_(t){var e=function(t,e){if("object"!=u_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=u_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==u_(e)?e:e+""}function v_(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function y_(t,e,n){return t.set(m_(t,e),n),n}function g_(t,e){return t.get(m_(t,e))}function m_(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var b_=["en-us","en-lr","my"],w_={"8.5x11":"letter","8.5x14":"legal"},D_={"297x420":"a-three","210x297":"a-four"};function E_(t,e,n){var r=e?t.width:t.height,i=e?t.height:t.width;return n["".concat(r,"x").concat(i)]}var A_=new WeakMap,k_=new WeakSet,S_=function(){return function(t,e,n){return e&&d_(t.prototype,e),n&&d_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n,r,i,o){var a=this,u=e.dialog,s=e.fields,l=e.closeButton;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){v_(t,e),e.add(t)}(this,k_),function(t,e,n){v_(t,e),e.set(t,n)}(this,A_,null),this.dialog=u,this.fields=s,this.overlayManager=n,this.l10n=i,this._fileNameLookup=o,m_(k_,this,C_).call(this),l.addEventListener("click",this.close.bind(this)),this.overlayManager.register(this.dialog),r._on("pagechanging",(function(t){a._currentPageNumber=t.pageNumber})),r._on("rotationchanging",(function(t){a._pagesRotation=t.pagesRotation})),this._isNonMetricLocale=b_.includes(i.getLanguage())}),[{key:"open",value:(t=f_(s_().mark((function t(){var e,n,r,i,a,u,s,l,c,h,f,d,p,v,y,g,m=this;return s_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.overlayManager.open(this.dialog),this._dataAvailableCapability.promise]);case 2:if(e=this._currentPageNumber,n=this._pagesRotation,!g_(A_,this)||e!==g_(A_,this)._currentPageNumber||n!==g_(A_,this)._pagesRotation){t.next=7;break}return m_(k_,this,x_).call(this),t.abrupt("return");case 7:return t.next=9,this.pdfDocument.getMetadata();case 9:return r=t.sent,i=r.info,a=r.contentLength,t.next=14,Promise.all([this._fileNameLookup(),m_(k_,this,__).call(this,a),m_(k_,this,O_).call(this,i.CreationDate),m_(k_,this,O_).call(this,i.ModDate),this.pdfDocument.getPage(e).then((function(t){return m_(k_,m,P_).call(m,(r=(e=t).view,i=e.userUnit,a=e.rotate,u=o(r,4),s=u[0],l=u[1],c=a%180!=0,h=(u[2]-s)/72*i,f=(u[3]-l)/72*i,{width:c?f:h,height:c?h:f}),n);var e,r,i,a,u,s,l,c,h,f})),m_(k_,this,I_).call(this,i.IsLinearized)]);case 14:return u=t.sent,s=l_(u,6),l=s[0],c=s[1],h=s[2],f=s[3],d=s[4],p=s[5],y_(A_,this,Object.freeze({fileName:l,fileSize:c,title:i.Title,author:i.Author,subject:i.Subject,keywords:i.Keywords,creationDate:h,modificationDate:f,creator:i.Creator,producer:i.Producer,version:i.PDFFormatVersion,pageCount:this.pdfDocument.numPages,pageSize:d,linearized:p,_currentPageNumber:e,_pagesRotation:n})),m_(k_,this,x_).call(this),t.next=26,this.pdfDocument.getDownloadInfo();case 26:if(v=t.sent,y=v.length,a!==y){t.next=30;break}return t.abrupt("return");case 30:return g=Object.assign(Object.create(null),g_(A_,this)),t.next=33,m_(k_,this,__).call(this,y);case 33:g.fileSize=t.sent,y_(A_,this,Object.freeze(g)),m_(k_,this,x_).call(this);case 36:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"close",value:function(){var t=f_(s_().mark((function t(){return s_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.overlayManager.close(this.dialog);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setDocument",value:function(t){this.pdfDocument&&(m_(k_,this,C_).call(this),m_(k_,this,x_).call(this,!0)),t&&(this.pdfDocument=t,this._dataAvailableCapability.resolve())}}]);var t}();function C_(){this.pdfDocument=null,y_(A_,this,null),this._dataAvailableCapability=Promise.withResolvers(),this._currentPageNumber=1,this._pagesRotation=0}function x_(){if(!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])&&g_(A_,this)){if(this.overlayManager.active===this.dialog)for(var t in this.fields){var e=g_(A_,this)[t];this.fields[t].textContent=e||0===e?e:"-"}}else for(var n in this.fields)this.fields[n].textContent="-"}function __(){return F_.apply(this,arguments)}function F_(){return F_=f_(s_().mark((function t(){var e,n,r,i=arguments;return s_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=(n=(e=i.length>0&&void 0!==i[0]?i[0]:0)/1024)/1024,n){t.next=4;break}return t.abrupt("return",void 0);case 4:return t.abrupt("return",this.l10n.get("pdfjs-document-properties-".concat(r>=1?"mb":"kb"),{size_mb:r>=1&&(+r.toPrecision(3)).toLocaleString(),size_kb:r<1&&(+n.toPrecision(3)).toLocaleString(),size_b:e.toLocaleString()}));case 5:case"end":return t.stop()}}),t,this)}))),F_.apply(this,arguments)}function P_(t,e){return L_.apply(this,arguments)}function L_(){return(L_=f_(s_().mark((function t(e,n){var r,i,o,a,u,s,l,c,h,f,d,p,v,y;return s_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",void 0);case 2:return n%180!=0&&(e={width:e.height,height:e.width}),r=J(e),i={width:Math.round(100*e.width)/100,height:Math.round(100*e.height)/100},o={width:Math.round(25.4*e.width*10)/10,height:Math.round(25.4*e.height*10)/10},(a=E_(i,r,w_)||E_(o,r,D_))||Number.isInteger(o.width)&&Number.isInteger(o.height)||(u={width:25.4*e.width,height:25.4*e.height},s={width:Math.round(o.width),height:Math.round(o.height)},Math.abs(u.width-s.width)<.1&&Math.abs(u.height-s.height)<.1&&(a=E_(s,r,D_))&&(i={width:Math.round(s.width/25.4*100)/100,height:Math.round(s.height/25.4*100)/100},o=s)),t.next=10,Promise.all([this._isNonMetricLocale?i:o,this.l10n.get("pdfjs-document-properties-page-size-unit-".concat(this._isNonMetricLocale?"inches":"millimeters")),a&&this.l10n.get("pdfjs-document-properties-page-size-name-".concat(a)),this.l10n.get("pdfjs-document-properties-page-size-orientation-".concat(r?"portrait":"landscape"))]);case 10:return l=t.sent,c=l_(l,4),h=c[0],f=h.width,d=h.height,p=c[1],v=c[2],y=c[3],t.abrupt("return",this.l10n.get("pdfjs-document-properties-page-size-dimension-".concat(v?"name-":"","string"),{width:f.toLocaleString(),height:d.toLocaleString(),unit:p,name:v,orientation:y}));case 19:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function O_(t){return T_.apply(this,arguments)}function T_(){return(T_=f_(s_().mark((function t(e){var n;return s_().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=yn.toDateObject(e)){t.next=3;break}return t.abrupt("return",void 0);case 3:return t.abrupt("return",this.l10n.get("pdfjs-document-properties-date-string",{date:n.toLocaleDateString(),time:n.toLocaleTimeString()}));case 4:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function I_(t){return this.l10n.get("pdfjs-document-properties-linearized-".concat(t?"yes":"no"))}var M_,B_={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function j_(t){return function(t){return t<11904}(t)?function(t){return 0==(65408&t)}(t)?function(t){return 32===t||9===t||13===t||10===t}(t)?B_.SPACE:function(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||function(t){return t>=48&&t<=57}(t)||95===t?B_.ALPHA_LETTER:B_.PUNCT:function(t){return 3584==(65408&t)}(t)?B_.THAI_LETTER:160===t?B_.SPACE:B_.ALPHA_LETTER:function(t){return t>=13312&&t<=40959||t>=63744&&t<=64255}(t)?B_.HAN_LETTER:function(t){return t>=12448&&t<=12543}(t)?B_.KATAKANA_LETTER:function(t){return t>=12352&&t<=12447}(t)?B_.HIRAGANA_LETTER:function(t){return t>=65376&&t<=65439}(t)?B_.HALFWIDTH_KATAKANA_LETTER:B_.ALPHA_LETTER}function N_(t){return function(t){if(Array.isArray(t))return Z_(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||q_(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R_(t){return R_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R_(t)}function W_(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||q_(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,H_(r.key),r)}}function H_(t){var e=function(t,e){if("object"!=R_(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=R_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==R_(e)?e:e+""}function V_(t,e,n){U_(t,e),e.set(t,n)}function U_(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function z_(t,e,n){return n(K_(t,e))}function J_(t,e){return t.get(K_(t,e))}function Y_(t,e,n){return t.set(K_(t,e),n),n}function K_(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function X_(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=q_(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function q_(t,e){if(t){if("string"==typeof t)return Z_(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z_(t,e):void 0}}function Z_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var Q_,$_={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},tF={"‐":"-","‘":"'","’":"'","‚":"'","‛":"'","“":'"',"”":'"',"„":'"',"‟":'"',"¼":"1/4","½":"1/2","¾":"3/4"},eF=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),nF=/(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])+/g,rF=/([\$\(-\+\.\?\[-\^\{-\}])|((?:[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]))|([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)|((?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF]))|((?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF]))/g,iF=/((?:[\0-\u02FF\u0370-\u0482\u048A-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u060F\u061B-\u064A\u0660-\u066F\u0671-\u06D5\u06DD\u06DE\u06E5\u06E6\u06E9\u06EE-\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4-\u07FC\u07FE-\u0815\u081A\u0824\u0828\u082E-\u0858\u085C-\u0897\u08A0-\u08C9\u08E2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0964-\u0980\u0984-\u09BB\u09BD\u09C5\u09C6\u09C9\u09CA\u09CE-\u09D6\u09D8-\u09E1\u09E4-\u09FD\u09FF\u0A00\u0A04-\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A6F\u0A72-\u0A74\u0A76-\u0A80\u0A84-\u0ABB\u0ABD\u0AC6\u0ACA\u0ACE-\u0AE1\u0AE4-\u0AF9\u0B00\u0B04-\u0B3B\u0B3D\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B61\u0B64-\u0B81\u0B83-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE-\u0BD6\u0BD8-\u0BFF\u0C05-\u0C3B\u0C3D\u0C45\u0C49\u0C4E-\u0C54\u0C57-\u0C61\u0C64-\u0C80\u0C84-\u0CBB\u0CBD\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CE1\u0CE4-\u0CF2\u0CF4-\u0CFF\u0D04-\u0D3A\u0D3D\u0D45\u0D49\u0D4E-\u0D56\u0D58-\u0D61\u0D64-\u0D80\u0D84-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF4-\u0E30\u0E32\u0E33\u0E3B-\u0E46\u0E4F-\u0EB0\u0EB2\u0EB3\u0EBD-\u0EC7\u0ECF-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F40-\u0F70\u0F85\u0F88-\u0F8C\u0F98\u0FBD-\u0FC5\u0FC7-\u102A\u103F-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u109E-\u135C\u1360-\u1711\u1716-\u1731\u1735-\u1751\u1754-\u1771\u1774-\u17B3\u17D4-\u17DC\u17DE-\u180A\u180E\u1810-\u1884\u1887-\u18A8\u18AA-\u191F\u192C-\u192F\u193C-\u1A16\u1A1C-\u1A54\u1A5F\u1A7D\u1A7E\u1A80-\u1AAF\u1ACF-\u1AFF\u1B05-\u1B33\u1B45-\u1B6A\u1B74-\u1B7F\u1B83-\u1BA0\u1BAE-\u1BE5\u1BF4-\u1C23\u1C38-\u1CCF\u1CD3\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA-\u1DBF\u1E00-\u20CF\u20F1-\u2CEE\u2CF2-\u2D7E\u2D80-\u2DDF\u2E00-\u3029\u3030-\u3098\u309B-\uA66E\uA673\uA67E-\uA69D\uA6A0-\uA6EF\uA6F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA828-\uA82B\uA82D-\uA87F\uA882-\uA8B3\uA8C6-\uA8DF\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA954-\uA97F\uA984-\uA9B2\uA9C1-\uA9E4\uA9E6-\uAA28\uAA37-\uAA42\uAA44-\uAA4B\uAA4E-\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2-\uAAEA\uAAF0-\uAAF4\uAAF7-\uABE2\uABEB\uABEE-\uD7FF\uE000-\uFB1D\uFB1F-\uFDFF\uFE10-\uFE1F\uFE30-\uFFFF]|\uD800[\uDC00-\uDDFC\uDDFE-\uDEDF\uDEE1-\uDF75\uDF7B-\uDFFF]|[\uD801\uD808-\uD80C\uD80E-\uD819\uD81C-\uD82E\uD830-\uD832\uD835\uD837\uD83B-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD802[\uDC00-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDEE4\uDEE7-\uDFFF]|\uD803[\uDC00-\uDD23\uDD28-\uDEAA\uDEAD-\uDEFC\uDF00-\uDF45\uDF51-\uDF81\uDF86-\uDFFF]|\uD804[\uDC03-\uDC37\uDC47-\uDC6F\uDC71\uDC72\uDC75-\uDC7E\uDC83-\uDCAF\uDCBB-\uDCC1\uDCC3-\uDCFF\uDD03-\uDD26\uDD35-\uDD44\uDD47-\uDD72\uDD74-\uDD7F\uDD83-\uDDB2\uDDC1-\uDDC8\uDDCD\uDDD0-\uDE2B\uDE38-\uDE3D\uDE3F\uDE40\uDE42-\uDEDE\uDEEB-\uDEFF\uDF04-\uDF3A\uDF3D\uDF45\uDF46\uDF49\uDF4A\uDF4E-\uDF56\uDF58-\uDF61\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC00-\uDC34\uDC47-\uDC5D\uDC5F-\uDCAF\uDCC4-\uDDAE\uDDB6\uDDB7\uDDC1-\uDDDB\uDDDE-\uDE2F\uDE41-\uDEAA\uDEB8-\uDF1C\uDF2C-\uDFFF]|\uD806[\uDC00-\uDC2B\uDC3B-\uDD2F\uDD36\uDD39\uDD3A\uDD3F\uDD41\uDD44-\uDDD0\uDDD8\uDDD9\uDDE1-\uDDE3\uDDE5-\uDE00\uDE0B-\uDE32\uDE3A\uDE3F-\uDE46\uDE48-\uDE50\uDE5C-\uDE89\uDE9A-\uDFFF]|\uD807[\uDC00-\uDC2E\uDC37\uDC40-\uDC91\uDCA8\uDCB7-\uDD30\uDD37-\uDD39\uDD3B\uDD3E\uDD46\uDD48-\uDD89\uDD8F\uDD92\uDD98-\uDEF2\uDEF7-\uDEFF\uDF02\uDF04-\uDF33\uDF3B-\uDF3D\uDF43-\uDFFF]|\uD80D[\uDC00-\uDC3F\uDC41-\uDC46\uDC56-\uDFFF]|\uD81A[\uDC00-\uDEEF\uDEF5-\uDF2F\uDF37-\uDFFF]|\uD81B[\uDC00-\uDF4E\uDF50\uDF88-\uDF8E\uDF93-\uDFE3\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD82F[\uDC00-\uDC9C\uDC9F-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDC8E\uDC90-\uDD2F\uDD37-\uDEAD\uDEAF-\uDEEB\uDEF0-\uDFFF]|\uD839[\uDC00-\uDCEB\uDCF0-\uDFFF]|\uD83A[\uDC00-\uDCCF\uDCD7-\uDD43\uDD4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*$/,oF=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])*((?:[\0-\u02FF\u0370-\u0482\u048A-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u060F\u061B-\u064A\u0660-\u066F\u0671-\u06D5\u06DD\u06DE\u06E5\u06E6\u06E9\u06EE-\u0710\u0712-\u072F\u074B-\u07A5\u07B1-\u07EA\u07F4-\u07FC\u07FE-\u0815\u081A\u0824\u0828\u082E-\u0858\u085C-\u0897\u08A0-\u08C9\u08E2\u0904-\u0939\u093D\u0950\u0958-\u0961\u0964-\u0980\u0984-\u09BB\u09BD\u09C5\u09C6\u09C9\u09CA\u09CE-\u09D6\u09D8-\u09E1\u09E4-\u09FD\u09FF\u0A00\u0A04-\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A6F\u0A72-\u0A74\u0A76-\u0A80\u0A84-\u0ABB\u0ABD\u0AC6\u0ACA\u0ACE-\u0AE1\u0AE4-\u0AF9\u0B00\u0B04-\u0B3B\u0B3D\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B61\u0B64-\u0B81\u0B83-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE-\u0BD6\u0BD8-\u0BFF\u0C05-\u0C3B\u0C3D\u0C45\u0C49\u0C4E-\u0C54\u0C57-\u0C61\u0C64-\u0C80\u0C84-\u0CBB\u0CBD\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CE1\u0CE4-\u0CF2\u0CF4-\u0CFF\u0D04-\u0D3A\u0D3D\u0D45\u0D49\u0D4E-\u0D56\u0D58-\u0D61\u0D64-\u0D80\u0D84-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DF1\u0DF4-\u0E30\u0E32\u0E33\u0E3B-\u0E46\u0E4F-\u0EB0\u0EB2\u0EB3\u0EBD-\u0EC7\u0ECF-\u0F17\u0F1A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F40-\u0F70\u0F85\u0F88-\u0F8C\u0F98\u0FBD-\u0FC5\u0FC7-\u102A\u103F-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u109E-\u135C\u1360-\u1711\u1716-\u1731\u1735-\u1751\u1754-\u1771\u1774-\u17B3\u17D4-\u17DC\u17DE-\u180A\u180E\u1810-\u1884\u1887-\u18A8\u18AA-\u191F\u192C-\u192F\u193C-\u1A16\u1A1C-\u1A54\u1A5F\u1A7D\u1A7E\u1A80-\u1AAF\u1ACF-\u1AFF\u1B05-\u1B33\u1B45-\u1B6A\u1B74-\u1B7F\u1B83-\u1BA0\u1BAE-\u1BE5\u1BF4-\u1C23\u1C38-\u1CCF\u1CD3\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA-\u1DBF\u1E00-\u20CF\u20F1-\u2CEE\u2CF2-\u2D7E\u2D80-\u2DDF\u2E00-\u3029\u3030-\u3098\u309B-\uA66E\uA673\uA67E-\uA69D\uA6A0-\uA6EF\uA6F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA828-\uA82B\uA82D-\uA87F\uA882-\uA8B3\uA8C6-\uA8DF\uA8F2-\uA8FE\uA900-\uA925\uA92E-\uA946\uA954-\uA97F\uA984-\uA9B2\uA9C1-\uA9E4\uA9E6-\uAA28\uAA37-\uAA42\uAA44-\uAA4B\uAA4E-\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2-\uAAEA\uAAF0-\uAAF4\uAAF7-\uABE2\uABEB\uABEE-\uD7FF\uE000-\uFB1D\uFB1F-\uFDFF\uFE10-\uFE1F\uFE30-\uFFFF]|\uD800[\uDC00-\uDDFC\uDDFE-\uDEDF\uDEE1-\uDF75\uDF7B-\uDFFF]|[\uD801\uD808-\uD80C\uD80E-\uD819\uD81C-\uD82E\uD830-\uD832\uD835\uD837\uD83B-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD802[\uDC00-\uDE00\uDE04\uDE07-\uDE0B\uDE10-\uDE37\uDE3B-\uDE3E\uDE40-\uDEE4\uDEE7-\uDFFF]|\uD803[\uDC00-\uDD23\uDD28-\uDEAA\uDEAD-\uDEFC\uDF00-\uDF45\uDF51-\uDF81\uDF86-\uDFFF]|\uD804[\uDC03-\uDC37\uDC47-\uDC6F\uDC71\uDC72\uDC75-\uDC7E\uDC83-\uDCAF\uDCBB-\uDCC1\uDCC3-\uDCFF\uDD03-\uDD26\uDD35-\uDD44\uDD47-\uDD72\uDD74-\uDD7F\uDD83-\uDDB2\uDDC1-\uDDC8\uDDCD\uDDD0-\uDE2B\uDE38-\uDE3D\uDE3F\uDE40\uDE42-\uDEDE\uDEEB-\uDEFF\uDF04-\uDF3A\uDF3D\uDF45\uDF46\uDF49\uDF4A\uDF4E-\uDF56\uDF58-\uDF61\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC00-\uDC34\uDC47-\uDC5D\uDC5F-\uDCAF\uDCC4-\uDDAE\uDDB6\uDDB7\uDDC1-\uDDDB\uDDDE-\uDE2F\uDE41-\uDEAA\uDEB8-\uDF1C\uDF2C-\uDFFF]|\uD806[\uDC00-\uDC2B\uDC3B-\uDD2F\uDD36\uDD39\uDD3A\uDD3F\uDD41\uDD44-\uDDD0\uDDD8\uDDD9\uDDE1-\uDDE3\uDDE5-\uDE00\uDE0B-\uDE32\uDE3A\uDE3F-\uDE46\uDE48-\uDE50\uDE5C-\uDE89\uDE9A-\uDFFF]|\uD807[\uDC00-\uDC2E\uDC37\uDC40-\uDC91\uDCA8\uDCB7-\uDD30\uDD37-\uDD39\uDD3B\uDD3E\uDD46\uDD48-\uDD89\uDD8F\uDD92\uDD98-\uDEF2\uDEF7-\uDEFF\uDF02\uDF04-\uDF33\uDF3B-\uDF3D\uDF43-\uDFFF]|\uD80D[\uDC00-\uDC3F\uDC41-\uDC46\uDC56-\uDFFF]|\uD81A[\uDC00-\uDEEF\uDEF5-\uDF2F\uDF37-\uDFFF]|\uD81B[\uDC00-\uDF4E\uDF50\uDF88-\uDF8E\uDF93-\uDFE3\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD82F[\uDC00-\uDC9C\uDC9F-\uDFFF]|\uD833[\uDC00-\uDEFF\uDF2E\uDF2F\uDF47-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDC8E\uDC90-\uDD2F\uDD37-\uDEAD\uDEAF-\uDEEB\uDEF0-\uDFFF]|\uD839[\uDC00-\uDCEB\uDCF0-\uDFFF]|\uD83A[\uDC00-\uDCCF\uDCD7-\uDD43\uDD4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/,aF=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,uF=new Map,sF="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",lF=new Map,cF=null,hF=null;function fF(t){for(var e,n,r=[];null!==(e=aF.exec(t));){var i,o=e.index,a=X_(e[0]);try{for(a.s();!(i=a.n()).done;){var u=i.value,s=uF.get(u);s||(s=u.normalize("NFD").length,uF.set(u,s)),r.push([s,o++])}}catch(t){a.e(t)}finally{a.f()}}if(0===r.length&&cF)n=cF;else if(r.length>0&&hF)n=hF;else{var l=Object.keys(tF).join(""),c=function(){if(M_||(M_=" ¨ª¯²-µ¸-º¼-¾Ĳ-ĳĿ-ŀŉſǄ-ǌǱ-ǳʰ-ʸ˘-˝ˠ-ˤʹͺ;΄-΅·ϐ-ϖϰ-ϲϴ-ϵϹևٵ-ٸक़-य़ড়-ঢ়য়ਲ਼ਸ਼ਖ਼-ਜ਼ਫ਼ଡ଼-ଢ଼ำຳໜ-ໝ༌གྷཌྷདྷབྷཛྷཀྵჼᴬ-ᴮᴰ-ᴺᴼ-ᵍᵏ-ᵪᵸᶛ-ᶿẚ-ẛάέήίόύώΆ᾽-῁ΈΉ῍-῏ΐΊ῝-῟ΰΎ῭-`ΌΏ´-῾ - ‑‗․-… ″-‴‶-‷‼‾⁇-⁉⁗ ⁰-ⁱ⁴-₎ₐ-ₜ₨℀-℃℅-ℇ℉-ℓℕ-№ℙ-ℝ℠-™ℤΩℨK-ℭℯ-ℱℳ-ℹ℻-⅀ⅅ-ⅉ⅐-ⅿ↉∬-∭∯-∰〈-〉①-⓪⨌⩴-⩶⫝̸ⱼ-ⱽⵯ⺟⻳⼀-⿕　〶〸-〺゛-゜ゟヿㄱ-ㆎ㆒-㆟㈀-㈞㈠-㉇㉐-㉾㊀-㏿ꚜ-ꚝꝰꟲ-ꟴꟸ-ꟹꭜ-ꭟꭩ豈-嗀塚晴凞-羽蘒諸逸-都飯-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-זּטּ-לּמּנּ-סּףּ-פּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼︐-︙︰-﹄﹇-﹒﹔-﹦﹨-﹫ﹰ-ﹲﹴﹶ-ﻼ！-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ￠-￦"),"undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING")){for(var t=[],e=[],n=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC82\uDCB0-\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD34\uDD45\uDD46\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDDC9-\uDDCC\uDDCE\uDDCF\uDE2C-\uDE37\uDE3E\uDE41\uDEDF-\uDEEA\uDF00-\uDF03\uDF3B\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC35-\uDC46\uDC5E\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDDDC\uDDDD\uDE30-\uDE40\uDEAB-\uDEB7\uDF1D-\uDF2B]|\uD806[\uDC2C-\uDC3A\uDD30-\uDD35\uDD37\uDD38\uDD3B-\uDD3E\uDD40\uDD42\uDD43\uDDD1-\uDDD7\uDDDA-\uDDE0\uDDE4\uDE01-\uDE0A\uDE33-\uDE39\uDE3B-\uDE3E\uDE47\uDE51-\uDE5B\uDE8A-\uDE99]|\uD807[\uDC2F-\uDC36\uDC38-\uDC3F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD8A-\uDD8E\uDD90\uDD91\uDD93-\uDD97\uDEF3-\uDEF6\uDF00\uDF01\uDF03\uDF34-\uDF3A\uDF3E-\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF51-\uDF87\uDF8F-\uDF92\uDFE4\uDFF0\uDFF1]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uDB40[\uDD00-\uDDEF])$/,r=0;r<65536;r++){var i=String.fromCharCode(r);if(i.normalize("NFKC")!==i&&!n.test(i)){if(2!==e.length){e[0]=e[1]=r;continue}e[1]+1!==r?(e[0]===e[1]?t.push(String.fromCharCode(e[0])):t.push("".concat(String.fromCharCode(e[0]),"-").concat(String.fromCharCode(e[1]))),e[0]=e[1]=r):e[1]=r}}if(t.join("")!==M_)throw new Error("getNormalizeWithNFKC - update the `NormalizeWithNFKC` string.")}return M_}(),h="([".concat(l,"])|([").concat(c,"])|(").concat("(?:゙|゚)","\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(").concat("(?:\\p{Ideographic}|[぀-ヿ])","\\n)|(\\n)");n=0===r.length?cF=new RegExp(h+"|(\\u0000)","gum"):hF=new RegExp(h+"|(".concat(sF,")"),"gum")}for(var f=[];null!==(e=nF.exec(t));)f.push([e[0].length,e.index]);var d=t.normalize("NFD"),p=[[0,0]],v=0,y=0,g=0,m=0,b=0,w=!1;return d=d.replace(n,(function(t,e,n,i,o,a,u,s,l,c){var h,d;if(c-=m,e){for(var D=tF[e],E=D.length,A=1;A<E;A++)p.push([c-g+A,g-A]);return g-=E-1,D}if(n){var k=lF.get(n);k||(k=n.normalize("NFKC"),lF.set(n,k));for(var S=k.length,C=1;C<S;C++)p.push([c-g+C,g-C]);return g-=S-1,k}if(i)return w=!0,c+b===(null===(d=f[v])||void 0===d?void 0:d[1])?++v:(p.push([c-1-g+1,g-1]),g-=1,m+=1),p.push([c-g+1,g]),m+=1,b+=1,i.charAt(0);if(o){var x,_=o.endsWith("\n"),F=_?o.length-2:o.length;w=!0;var P=F;c+b===(null===(x=f[v])||void 0===x?void 0:x[1])&&(P-=f[v][0],++v);for(var L=1;L<=P;L++)p.push([c-1-g+L,g-L]);return g-=P,m+=P,_?(c+=F-1,p.push([c-g+1,1+g]),g+=1,m+=1,b+=1,o.slice(0,F)):o}if(a){var O=a.length-2;return p.push([c-g+O,1+g]),g+=1,m+=1,b+=1,a.slice(0,-2)}if(u){var T=u.length-1;return p.push([c-g+T,g]),m+=1,b+=1,u.slice(0,-1)}if(s)return p.push([c-g+1,g-1]),g-=1,m+=1,b+=1," ";if(c+b===(null===(h=r[y])||void 0===h?void 0:h[1])){var I=r[y][0]-1;++y;for(var M=1;M<=I;M++)p.push([c-(g-M),g-M]);g-=I,m+=I}return l})),p.push([d.length,g]),[d,p,w]}function dF(t,e,n){if(!t)return[e,n];var r=e,i=e+n-1,o=N(t,(function(t){return t[0]>=r}));t[o][0]>r&&--o;var a=N(t,(function(t){return t[0]>=i}),o);t[a][0]>i&&--a;var u=r+t[o][1];return[u,i+t[a][1]+1-u]}var pF=new WeakMap,vF=new WeakMap,yF=new WeakMap,gF=new WeakSet,mF=function(){return function(t,e,n){return e&&G_(t.prototype,e),n&&G_(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.linkService,r=e.eventBus,i=e.updateMatchesCountOnProgress,o=void 0===i||i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){U_(t,e),e.add(t)}(this,gF),V_(this,pF,null),V_(this,vF,!0),V_(this,yF,0),this._linkService=n,this._eventBus=r,Y_(vF,this,o),this.onIsPageVisible=null,K_(gF,this,wF).call(this),r._on("find",K_(gF,this,bF).bind(this)),r._on("findbarclose",K_(gF,this,MF).bind(this))}),[{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return J_(pF,this)}},{key:"setDocument",value:function(t){this._pdfDocument&&K_(gF,this,wF).call(this),t&&(this._pdfDocument=t,this._firstPageCapability.resolve())}},{key:"scrollMatchIntoView",value:function(t){var e=t.element,n=void 0===e?null:e,r=t.selectedLeft,i=void 0===r?0:r,o=t.pageIndex,a=void 0===o?-1:o,u=t.matchIndex,s=void 0===u?-1:u;this._scrollMatches&&n&&(-1!==s&&s===this._selected.matchIdx&&-1!==a&&a===this._selected.pageIdx&&(this._scrollMatches=!1,T(n,{top:-50,left:i+-400},!0)))}}])}();function bF(t){var e=this;if(t){var n=this._pdfDocument,r=t.type;(null===J_(pF,this)||K_(gF,this,EF).call(this,t))&&(this._dirtyMatch=!0),Y_(pF,this,t),"highlightallchange"!==r&&K_(gF,this,NF).call(this,$_.PENDING),this._firstPageCapability.promise.then((function(){if(e._pdfDocument&&(!n||e._pdfDocument===n)){K_(gF,e,xF).call(e);var t=!e._highlightMatches,i=!!e._findTimeout;e._findTimeout&&(clearTimeout(e._findTimeout),e._findTimeout=null),r?e._dirtyMatch?K_(gF,e,PF).call(e):"again"===r?(K_(gF,e,PF).call(e),t&&J_(pF,e).highlightAll&&K_(gF,e,FF).call(e)):"highlightallchange"===r?(i?K_(gF,e,PF).call(e):e._highlightMatches=!0,K_(gF,e,FF).call(e)):K_(gF,e,PF).call(e):e._findTimeout=setTimeout((function(){K_(gF,e,PF).call(e),e._findTimeout=null}),250)}}))}}function wF(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],Y_(yF,this,0),Y_(pF,this,null),this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}function DF(t){var e=J_(pF,t).query;if("string"==typeof e){if(e!==t._rawQuery){t._rawQuery=e;var n=W_(fF(e),1);t._normalizedQuery=n[0]}return t._normalizedQuery}return(e||[]).filter((function(t){return!!t})).map((function(t){return fF(t)[0]}))}function EF(t){var e,n,r=t.query,i=J_(pF,this).query,o=R_(r);if(o!==R_(i))return!0;if("string"===o){if(r!==i)return!0}else if(JSON.stringify(r)!==JSON.stringify(i))return!0;switch(t.type){case"again":var a=this._selected.pageIdx+1,u=this._linkService;return a>=1&&a<=u.pagesCount&&a!==u.page&&!(null===(e=null===(n=this.onIsPageVisible)||void 0===n?void 0:n.call(this,a))||void 0===e||e);case"highlightallchange":return!1}return!0}function AF(t,e,n){var r=t.slice(0,e).match(iF);if(r){var i=t.charCodeAt(e),o=r[1].charCodeAt(0);if(j_(i)===j_(o))return!1}if(r=t.slice(e+n).match(oF)){var a=t.charCodeAt(e+n-1),u=r[1].charCodeAt(0);if(j_(a)===j_(u))return!1}return!0}function kF(t,e,n,r){var i=this._pageMatches[n]=[],o=this._pageMatchesLength[n]=[];if(t)for(var a,u=this._pageDiffs[n];null!==(a=t.exec(r));)if(!e||K_(gF,this,AF).call(this,r,a.index,a[0].length)){var s=W_(dF(u,a.index,a[0].length),2),l=s[0],c=s[1];c&&(i.push(l),o.push(c))}}function SF(t,e){var n=J_(pF,this).matchDiacritics,r=!1,i="[ ]*";return(t=t.replaceAll(rF,(function(t,i,o,a,u,s){return i?"[ ]*\\".concat(i,"[ ]*"):o?"[ ]*".concat(o,"[ ]*"):a?"[ ]+":n?u||s:u?eF.has(u.charCodeAt(0))?u:"":e?(r=!0,"".concat(s,"\\p{M}*")):s}))).endsWith(i)&&(t=t.slice(0,t.length-4)),n&&e&&(Q_||(Q_=String.fromCharCode.apply(String,N_(eF))),r=!0,t="".concat(t,"(?=[").concat(Q_,"]|[^\\p{M}]|$)")),[r,t]}function CF(t){var e,n=this,r=z_(gF,this,DF);if(0!==r.length){var i=J_(pF,this),o=i.caseSensitive,a=i.entireWord,u=this._pageContents[t],s=this._hasDiacritics[t],l=!1;if("string"==typeof r){var c=W_(K_(gF,this,SF).call(this,r,s),2);l=c[0],r=c[1]}else r=r.sort().reverse().map((function(t){var e=W_(K_(gF,n,SF).call(n,t,s),2),r=e[0],i=e[1];return l||(l=r),"(".concat(i,")")})).join("|");var h="g".concat(l?"u":"").concat(o?"":"i");r=r?new RegExp(r,h):null,K_(gF,this,kF).call(this,r,a,t,u),J_(pF,this).highlightAll&&K_(gF,this,_F).call(this,t),this._resumePageIdx===t&&(this._resumePageIdx=null,K_(gF,this,OF).call(this));var f=this._pageMatches[t].length;this._matchesCountTotal+=f,J_(vF,this)?f>0&&K_(gF,this,jF).call(this):Y_(yF,this,(e=J_(yF,this),++e))===this._linkService.pagesCount&&K_(gF,this,jF).call(this)}}function xF(){var t=this;if(!(this._extractTextPromises.length>0))for(var e=Promise.resolve(),n={disableNormalization:!0},r=function(r){var i=Promise.withResolvers(),o=i.promise,a=i.resolve;t._extractTextPromises[r]=o,e=e.then((function(){return t._pdfDocument.getPage(r+1).then((function(t){return t.getTextContent(n)})).then((function(e){var n,i=[],o=X_(e.items);try{for(o.s();!(n=o.n()).done;){var u=n.value;i.push(u.str),u.hasEOL&&i.push("\n")}}catch(t){o.e(t)}finally{o.f()}var s=W_(fF(i.join("")),3);t._pageContents[r]=s[0],t._pageDiffs[r]=s[1],t._hasDiacritics[r]=s[2],a()}),(function(e){console.error("Unable to get text content for page ".concat(r+1),e),t._pageContents[r]="",t._pageDiffs[r]=null,t._hasDiacritics[r]=!1,a()}))}))},i=0,o=this._linkService.pagesCount;i<o;i++)r(i)}function _F(t){this._scrollMatches&&this._selected.pageIdx===t&&(this._linkService.page=t+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:t})}function FF(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function PF(){var t=this,e=J_(pF,this).findPrevious,n=this._linkService.page-1,r=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=n,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,Y_(yF,this,0),this._matchesCountTotal=0,K_(gF,this,FF).call(this);for(var i=function(e){if(t._pendingFindMatches.has(e))return 1;t._pendingFindMatches.add(e),t._extractTextPromises[e].then((function(){t._pendingFindMatches.delete(e),K_(gF,t,CF).call(t,e)}))},o=0;o<r;o++)i(o)}if(0!==z_(gF,this,DF).length){if(!this._resumePageIdx){var a=this._offset;if(this._pagesToSearch=r,null!==a.matchIdx){var u=this._pageMatches[a.pageIdx].length;if(!e&&a.matchIdx+1<u||e&&a.matchIdx>0)return a.matchIdx=e?a.matchIdx-1:a.matchIdx+1,void K_(gF,this,IF).call(this,!0);K_(gF,this,TF).call(this,e)}K_(gF,this,OF).call(this)}}else K_(gF,this,NF).call(this,$_.FOUND)}function LF(t){var e=this._offset,n=t.length,r=J_(pF,this).findPrevious;return n?(e.matchIdx=r?n-1:0,K_(gF,this,IF).call(this,!0),!0):(K_(gF,this,TF).call(this,r),!!(e.wrapped&&(e.matchIdx=null,this._pagesToSearch<0))&&(K_(gF,this,IF).call(this,!1),!0))}function OF(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var t=null;do{var e=this._offset.pageIdx;if(!(t=this._pageMatches[e])){this._resumePageIdx=e;break}}while(!K_(gF,this,LF).call(this,t))}function TF(t){var e=this._offset,n=this._linkService.pagesCount;e.pageIdx=t?e.pageIdx-1:e.pageIdx+1,e.matchIdx=null,this._pagesToSearch--,(e.pageIdx>=n||e.pageIdx<0)&&(e.pageIdx=t?n-1:0,e.wrapped=!0)}function IF(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=$_.NOT_FOUND,n=this._offset.wrapped;if(this._offset.wrapped=!1,t){var r=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=n?$_.WRAPPED:$_.FOUND,-1!==r&&r!==this._selected.pageIdx&&K_(gF,this,_F).call(this,r)}K_(gF,this,NF).call(this,e,J_(pF,this).findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,K_(gF,this,_F).call(this,this._selected.pageIdx))}function MF(t){var e=this,n=this._pdfDocument;this._firstPageCapability.promise.then((function(){!e._pdfDocument||n&&e._pdfDocument!==n||(e._findTimeout&&(clearTimeout(e._findTimeout),e._findTimeout=null),e._resumePageIdx&&(e._resumePageIdx=null,e._dirtyMatch=!0),K_(gF,e,NF).call(e,$_.FOUND),e._highlightMatches=!1,K_(gF,e,FF).call(e))}))}function BF(){var t=this._selected,e=t.pageIdx,n=t.matchIdx,r=0,i=this._matchesCountTotal;if(-1!==n){for(var o=0;o<e;o++){var a;r+=(null===(a=this._pageMatches[o])||void 0===a?void 0:a.length)||0}r+=n+1}return(r<1||r>i)&&(r=i=0),{current:r,total:i}}function jF(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:K_(gF,this,BF).call(this)})}function NF(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(J_(vF,this)||J_(yF,this)===this._linkService.pagesCount&&t!==$_.PENDING)&&this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:t,previous:r,matchesCount:K_(gF,this,BF).call(this),rawQuery:null!==(e=null===(n=J_(pF,this))||void 0===n?void 0:n.query)&&void 0!==e?e:null})}function RF(t){return RF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RF(t)}function WF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GF(r.key),r)}}function GF(t){var e=function(t,e){if("object"!=RF(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=RF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==RF(e)?e:e+""}function HF(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function VF(t,e){return t.get(UF(t,e))}function UF(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var zF=new WeakMap,JF=new WeakSet,YF=function(){return function(t,e,n){return e&&WF(t.prototype,e),n&&WF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){HF(t,e),e.add(t)}(this,JF),function(t,e,n){HF(t,e),e.set(t,n)}(this,zF,new ResizeObserver(UF(JF,this,KF).bind(this))),this.opened=!1,this.bar=e.bar,this.toggleButton=e.toggleButton,this.findField=e.findField,this.highlightAll=e.highlightAllCheckbox,this.caseSensitive=e.caseSensitiveCheckbox,this.matchDiacritics=e.matchDiacriticsCheckbox,this.entireWord=e.entireWordCheckbox,this.findMsg=e.findMsg,this.findResultsCount=e.findResultsCount,this.findPreviousButton=e.findPreviousButton,this.findNextButton=e.findNextButton,this.eventBus=n,this.toggleButton.addEventListener("click",(function(){r.toggle()})),this.findField.addEventListener("input",(function(){r.dispatchEvent("")})),this.bar.addEventListener("keydown",(function(t){switch(t.keyCode){case 13:t.target===r.findField&&r.dispatchEvent("again",t.shiftKey);break;case 27:r.close()}})),this.findPreviousButton.addEventListener("click",(function(){r.dispatchEvent("again",!0)})),this.findNextButton.addEventListener("click",(function(){r.dispatchEvent("again",!1)})),this.highlightAll.addEventListener("click",(function(){r.dispatchEvent("highlightallchange")})),this.caseSensitive.addEventListener("click",(function(){r.dispatchEvent("casesensitivitychange")})),this.entireWord.addEventListener("click",(function(){r.dispatchEvent("entirewordchange")})),this.matchDiacritics.addEventListener("click",(function(){r.dispatchEvent("diacriticmatchingchange")}))}),[{key:"reset",value:function(){this.updateUIState()}},{key:"dispatchEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.eventBus.dispatch("find",{source:this,type:t,query:this.findField.value,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,highlightAll:this.highlightAll.checked,findPrevious:e,matchDiacritics:this.matchDiacritics.checked})}},{key:"updateUIState",value:function(t,e,n){var r=this.findField,i=this.findMsg,o="",a="";switch(t){case $_.FOUND:break;case $_.PENDING:a="pending";break;case $_.NOT_FOUND:o="pdfjs-find-not-found",a="notFound";break;case $_.WRAPPED:o="pdfjs-find-reached-".concat(e?"top":"bottom")}r.setAttribute("data-status",a),r.setAttribute("aria-invalid",t===$_.NOT_FOUND),i.setAttribute("data-status",a),o?i.setAttribute("data-l10n-id",o):(i.removeAttribute("data-l10n-id"),i.textContent=""),this.updateResultsCount(n)}},{key:"updateResultsCount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.current,n=void 0===e?0:e,r=t.total,i=void 0===r?0:r,o=this.findResultsCount;if(i>0){o.setAttribute("data-l10n-id","pdfjs-find-match-count".concat(i>1e3?"-limit":"")),o.setAttribute("data-l10n-args",JSON.stringify({limit:1e3,current:n,total:i}))}else o.removeAttribute("data-l10n-id"),o.textContent=""}},{key:"open",value:function(){this.opened||(VF(zF,this).observe(this.bar.parentNode),VF(zF,this).observe(this.bar),this.opened=!0,it(this.toggleButton,!0,this.bar)),this.findField.select(),this.findField.focus()}},{key:"close",value:function(){this.opened&&(VF(zF,this).disconnect(),this.opened=!1,it(this.toggleButton,!1,this.bar),this.eventBus.dispatch("findbarclose",{source:this}))}},{key:"toggle",value:function(){this.opened?this.close():this.open()}}])}();function KF(t){var e=this.bar;e.classList.remove("wrapContainers"),e.clientHeight>e.firstElementChild.clientHeight&&e.classList.add("wrapContainers")}function XF(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return qF(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qF(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qF(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ZF(t){return ZF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ZF(t)}function QF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$F(r.key),r)}}function $F(t){var e=function(t,e){if("object"!=ZF(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ZF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ZF(e)?e:e+""}function tP(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function eP(t,e,n){return t.set(rP(t,e),n),n}function nP(t,e){return t.get(rP(t,e))}function rP(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var iP=1e3,oP=50,aP=1e3;function uP(){return document.location.hash}var sP=new WeakMap,lP=new WeakSet,cP=function(){return function(t,e,n){return e&&QF(t.prototype,e),n&&QF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this,r=e.linkService,i=e.eventBus;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){tP(t,e),e.add(t)}(this,lP),function(t,e,n){tP(t,e),e.set(t,n)}(this,sP,null),this.linkService=r,this.eventBus=i,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",(function(){n._isPagesLoaded=!1,n.eventBus._on("pagesloaded",(function(t){n._isPagesLoaded=!!t.pagesCount}),{once:!0})}))}),[{key:"initialize",value:function(t){var e=t.fingerprint,n=t.resetHistory,r=void 0!==n&&n,i=t.updateUrl,o=void 0!==i&&i;if(e&&"string"==typeof e){this._initialized&&this.reset();var a=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===o,this._initialized=!0,rP(lP,this,wP).call(this);var u=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=uP(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!rP(lP,this,pP).call(this,u,!0)||r){var s=rP(lP,this,yP).call(this,!0),l=s.hash,c=s.page,h=s.rotation;return!l||a||r?void rP(lP,this,hP).call(this,null,!0):void rP(lP,this,hP).call(this,{hash:l,page:c,rotation:h},!0)}var f=u.destination;rP(lP,this,vP).call(this,f,u.uid,!0),void 0!==f.rotation&&(this._initialRotation=f.rotation),f.dest?(this._initialBookmark=JSON.stringify(f.dest),this._destination.page=null):f.hash?this._initialBookmark=f.hash:f.page&&(this._initialBookmark="page=".concat(f.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(rP(lP,this,bP).call(this),this._initialized=!1,rP(lP,this,DP).call(this)),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(t){var e=this,n=t.namedDest,r=void 0===n?null:n,i=t.explicitDest,o=t.pageNumber;if(this._initialized)if(r&&"string"!=typeof r)console.error("PDFHistory.push: "+'"'.concat(r,'" is not a valid namedDest parameter.'));else if(Array.isArray(i))if(rP(lP,this,dP).call(this,o)||null===o&&!this._destination){var a=r||JSON.stringify(i);if(a){var u=!1;if(this._destination&&(function(t,e){if("string"!=typeof t||"string"!=typeof e)return!1;if(t===e)return!0;if(M(t).get("nameddest")===e)return!0;return!1}(this._destination.hash,a)||function(t,e){function n(t,e){if(ZF(t)!==ZF(e))return!1;if(Array.isArray(t)||Array.isArray(e))return!1;if(null!==t&&"object"===ZF(t)&&null!==e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!n(t[r],e[r]))return!1;return!0}return t===e||Number.isNaN(t)&&Number.isNaN(e)}if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var r=0,i=t.length;r<i;r++)if(!n(t[r],e[r]))return!1;return!0}(this._destination.dest,i))){if(this._destination.page)return;u=!0}this._popStateInProgress&&!u||(rP(lP,this,hP).call(this,{dest:i,hash:a,page:o,rotation:this.linkService.rotation},u),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((function(){e._popStateInProgress=!1}))))}}else console.error("PDFHistory.push: "+'"'.concat(o,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(i,'" is not a valid explicitDest parameter.'))}},{key:"pushPage",value:function(t){var e,n=this;this._initialized&&(rP(lP,this,dP).call(this,t)?(null===(e=this._destination)||void 0===e?void 0:e.page)!==t&&(this._popStateInProgress||(rP(lP,this,hP).call(this,{dest:null,hash:"page=".concat(t),page:t,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then((function(){n._popStateInProgress=!1}))))):console.error('PDFHistory.pushPage: "'.concat(t,'" is not a valid page number.')))}},{key:"pushCurrentPosition",value:function(){this._initialized&&!this._popStateInProgress&&rP(lP,this,fP).call(this)}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;rP(lP,this,pP).call(this,t)&&t.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var t=window.history.state;rP(lP,this,pP).call(this,t)&&t.uid<this._maxUid&&window.history.forward()}}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}}])}();function hP(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this._destination,i={fingerprint:this._fingerprint,uid:r?this._uid:this._uid+1,destination:t};if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("CHROME")&&null!==(e=window.history.state)&&void 0!==e&&e.chromecomState&&(i.chromecomState=window.history.state.chromecomState),rP(lP,this,vP).call(this,t,i.uid),this._updateUrl&&null!=t&&t.hash){var o=document.location.href.split("#",1)[0];o.startsWith("file://")||(n="".concat(o,"#").concat(t.hash))}r?window.history.replaceState(i,"",n):window.history.pushState(i,"",n),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("CHROME")&&top===window&&chrome.runtime.sendMessage("showPageAction")}function fP(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._position){var e=this._position;if(t&&((e=Object.assign(Object.create(null),this._position)).temporary=!0),this._destination){if(this._destination.temporary)rP(lP,this,hP).call(this,e,!0);else if(this._destination.hash!==e.hash&&(this._destination.page||!(oP<=0||this._numPositionUpdates<=oP))){var n=!1;if(this._destination.page>=e.first&&this._destination.page<=e.page){if(void 0!==this._destination.dest||!this._destination.first)return;n=!0}rP(lP,this,hP).call(this,e,n)}}else rP(lP,this,hP).call(this,e)}}function dP(t){return Number.isInteger(t)&&t>0&&t<=this.linkService.pagesCount}function pP(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return!1;if(t.fingerprint!==this._fingerprint){if(!e)return!1;if("string"!=typeof t.fingerprint||t.fingerprint.length!==this._fingerprint.length)return!1;var n=XF(performance.getEntriesByType("navigation"),1)[0];if("reload"!==(null==n?void 0:n.type))return!1}return!(!Number.isInteger(t.uid)||t.uid<0)&&(null!==t.destination&&"object"===ZF(t.destination))}function vP(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),n&&null!=t&&t.temporary&&delete t.temporary,this._destination=t,this._uid=e,this._maxUid=Math.max(this._maxUid,e),this._numPositionUpdates=0}function yP(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=unescape(uP()).substring(1),n=M(e),r=n.get("nameddest")||"",i=0|n.get("page");return(!rP(lP,this,dP).call(this,i)||t&&r.length>0)&&(i=null),{hash:e,page:i,rotation:this.linkService.rotation}}function gP(t){var e=this,n=t.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:n.pdfOpenParams.substring(1),page:this.linkService.page,first:n.pageNumber,rotation:n.rotation},this._popStateInProgress||(oP>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,aP>0&&(this._updateViewareaTimeout=setTimeout((function(){e._popStateInProgress||rP(lP,e,fP).call(e,!0),e._updateViewareaTimeout=null}),aP)))}function mP(t){var e=this,n=t.state,r=uP(),i=this._currentHash!==r;if(this._currentHash=r,"undefined"!=typeof PDFJSDev&&PDFJSDev.test("CHROME")&&null!=n&&n.chromecomState&&!rP(lP,this,pP).call(this,n)||!n){this._uid++;var o=rP(lP,this,yP).call(this),a=o.hash,u=o.page,s=o.rotation;rP(lP,this,hP).call(this,{hash:a,page:u,rotation:s},!0)}else if(rP(lP,this,pP).call(this,n)){this._popStateInProgress=!0,i&&(this._blockHashChange++,nE({target:window,name:"hashchange",delay:iP}).then((function(){e._blockHashChange--})));var l=n.destination;rP(lP,this,vP).call(this,l,n.uid,!0),V(l.rotation)&&(this.linkService.rotation=l.rotation),l.dest?this.linkService.goToDestination(l.dest):l.hash?this.linkService.setHash(l.hash):l.page&&(this.linkService.page=l.page),Promise.resolve().then((function(){e._popStateInProgress=!1}))}}function bP(){this._destination&&!this._destination.temporary||rP(lP,this,fP).call(this)}function wP(){if(!nP(sP,this)){eP(sP,this,new AbortController);var t=nP(sP,this).signal;this.eventBus._on("updateviewarea",rP(lP,this,gP).bind(this),{signal:t}),window.addEventListener("popstate",rP(lP,this,mP).bind(this),{signal:t}),window.addEventListener("pagehide",rP(lP,this,bP).bind(this),{signal:t})}}function DP(){var t;null===(t=nP(sP,this))||void 0===t||t.abort(),eP(sP,this,null)}function EP(t){return EP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EP(t)}function AP(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return kP(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kP(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function kP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function SP(){SP=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==EP(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(EP(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function CP(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function xP(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){CP(o,r,i,a,u,"next",t)}function u(t){CP(o,r,i,a,u,"throw",t)}a(void 0)}))}}function _P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FP(r.key),r)}}function FP(t){var e=function(t,e){if("object"!=EP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==EP(e)?e:e+""}function PP(t,e,n){return e=TP(e),function(t,e){if(e&&("object"==EP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,LP()?Reflect.construct(e,n||[],TP(t).constructor):e.apply(t,n))}function LP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(LP=function(){return!!t})()}function OP(){return OP="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=TP(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},OP.apply(null,arguments)}function TP(t){return TP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},TP(t)}function IP(t,e){return IP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},IP(t,e)}function MP(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function BP(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var jP=new WeakSet,NP=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),MP(n=PP(this,e,[t]),jP),n.eventBus._on("optionalcontentconfigchanged",(function(t){BP(jP,n,RP).call(n,t.promise)})),n.eventBus._on("resetlayers",(function(){BP(jP,n,RP).call(n)})),n.eventBus._on("togglelayerstree",n._toggleAllTreeItems.bind(n)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IP(t,e)}(e,t),function(t,e,n){return e&&_P(t.prototype,e),n&&_P(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"reset",value:function(){OP(TP(e.prototype),"reset",this).call(this),this._optionalContentConfig=null,this._optionalContentHash=null}},{key:"_dispatchEvent",value:function(t){this.eventBus.dispatch("layersloaded",{source:this,layersCount:t})}},{key:"_bindLink",value:function(t,e){var n=this,r=e.groupId,i=e.input,o=function(){n._optionalContentConfig.setVisibility(r,i.checked),n._optionalContentHash=n._optionalContentConfig.getHash(),n.eventBus.dispatch("optionalcontentconfig",{source:n,promise:Promise.resolve(n._optionalContentConfig)})};t.onclick=function(e){return e.target===i?(o(),!0):e.target!==t||(i.checked=!i.checked,o(),!1)}}},{key:"_setNestedName",value:(n=xP(SP().mark((function t(e,n){var r,i;return SP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.name,"string"!=typeof(i=void 0===r?null:r)){t.next=4;break}return e.textContent=this._normalizeTextContent(i),t.abrupt("return");case 4:return t.next=6,this._l10n.get("pdfjs-additional-layers");case 6:e.textContent=t.sent,e.style.fontStyle="italic";case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"_addToggleButton",value:function(t,n){var r=n.name,i=void 0===r?null:r;OP(TP(e.prototype),"_addToggleButton",this).call(this,t,null===i)}},{key:"_toggleAllTreeItems",value:function(){this._optionalContentConfig&&OP(TP(e.prototype),"_toggleAllTreeItems",this).call(this)}},{key:"render",value:function(t){var e=t.optionalContentConfig,n=t.pdfDocument;this._optionalContentConfig&&this.reset(),this._optionalContentConfig=e||null,this._pdfDocument=n||null;var r=null==e?void 0:e.getOrder();if(r){this._optionalContentHash=e.getHash();for(var i=document.createDocumentFragment(),o=[{parent:i,groups:r}],a=0,u=!1;o.length>0;){var s,l=o.shift(),c=AP(l.groups);try{for(c.s();!(s=c.n()).done;){var h=s.value,f=document.createElement("div");f.className="treeItem";var d=document.createElement("a");if(f.append(d),"object"===EP(h)){u=!0,this._addToggleButton(f,h),this._setNestedName(d,h);var p=document.createElement("div");p.className="treeItems",f.append(p),o.push({parent:p,groups:h.order})}else{var v=e.getGroup(h),y=document.createElement("input");this._bindLink(d,{groupId:h,input:y}),y.type="checkbox",y.checked=v.visible;var g=document.createElement("label");g.textContent=this._normalizeTextContent(v.name),g.append(y),d.append(g),a++}l.parent.append(f)}}catch(t){c.e(t)}finally{c.f()}}this._finishRendering(i,a,u)}else this._dispatchEvent(0)}}]);var n}(Ex);function RP(){return WP.apply(this,arguments)}function WP(){return WP=xP(SP().mark((function t(){var e,n,r,i=arguments;return SP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:null,this._optionalContentConfig){t.next=3;break}return t.abrupt("return");case 3:return n=this._pdfDocument,t.next=6,e||n.getOptionalContentConfig({intent:"display"});case 6:if(r=t.sent,n===this._pdfDocument){t.next=9;break}return t.abrupt("return");case 9:if(!e){t.next=14;break}if(r.getHash()!==this._optionalContentHash){t.next=12;break}return t.abrupt("return");case 12:t.next=15;break;case 14:this.eventBus.dispatch("optionalcontentconfig",{source:this,promise:Promise.resolve(r)});case 15:this.render({optionalContentConfig:r,pdfDocument:this._pdfDocument});case 16:case"end":return t.stop()}}),t,this)}))),WP.apply(this,arguments)}function GP(t){return GP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GP(t)}function HP(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||KP(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VP(){VP=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==GP(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(GP(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function UP(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function zP(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){UP(o,r,i,a,u,"next",t)}function u(t){UP(o,r,i,a,u,"throw",t)}a(void 0)}))}}function JP(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=KP(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function YP(t){return function(t){if(Array.isArray(t))return XP(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||KP(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function KP(t,e){if(t){if("string"==typeof t)return XP(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XP(t,e):void 0}}function XP(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function qP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZP(r.key),r)}}function ZP(t){var e=function(t,e){if("object"!=GP(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=GP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==GP(e)?e:e+""}function QP(t,e,n){return e=eL(e),function(t,e){if(e&&("object"==GP(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,$P()?Reflect.construct(e,n||[],eL(t).constructor):e.apply(t,n))}function $P(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return($P=function(){return!!t})()}function tL(){return tL="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=eL(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},tL.apply(null,arguments)}function eL(t){return eL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eL(t)}function nL(t,e){return nL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},nL(t,e)}var rL=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=QP(this,e,[t])).linkService=t.linkService,n.downloadManager=t.downloadManager,n.eventBus._on("toggleoutlinetree",n._toggleAllTreeItems.bind(n)),n.eventBus._on("currentoutlineitem",n._currentOutlineItem.bind(n)),n.eventBus._on("pagechanging",(function(t){n._currentPageNumber=t.pageNumber})),n.eventBus._on("pagesloaded",(function(t){var e;n._isPagesLoaded=!!t.pagesCount,null===(e=n._currentOutlineItemCapability)||void 0===e||e.resolve(n._isPagesLoaded)})),n.eventBus._on("sidebarviewchanged",(function(t){n._sidebarView=t.view})),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nL(t,e)}(e,t),function(t,e,n){return e&&qP(t.prototype,e),n&&qP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"reset",value:function(){var t;tL(eL(e.prototype),"reset",this).call(this),this._outline=null,this._pageNumberToDestHashCapability=null,this._currentPageNumber=1,this._isPagesLoaded=null,null===(t=this._currentOutlineItemCapability)||void 0===t||t.resolve(!1),this._currentOutlineItemCapability=null}},{key:"_dispatchEvent",value:function(t){var e;this._currentOutlineItemCapability=Promise.withResolvers(),0===t||null!==(e=this._pdfDocument)&&void 0!==e&&e.loadingParams.disableAutoFetch?this._currentOutlineItemCapability.resolve(!1):null!==this._isPagesLoaded&&this._currentOutlineItemCapability.resolve(this._isPagesLoaded),this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:t,currentOutlineItemPromise:this._currentOutlineItemCapability.promise})}},{key:"_bindLink",value:function(t,e){var n=this,r=e.url,i=e.newWindow,o=e.action,a=e.attachment,u=e.dest,s=e.setOCGState,l=this.linkService;if(r)l.addLinkAttributes(t,r,i);else{if(o)return t.href=l.getAnchorUrl(""),void(t.onclick=function(){return l.executeNamedAction(o),!1});if(a)return t.href=l.getAnchorUrl(""),void(t.onclick=function(){return n.downloadManager.openOrDownloadData(a.content,a.filename),!1});if(s)return t.href=l.getAnchorUrl(""),void(t.onclick=function(){return l.executeSetOCGState(s),!1});t.href=l.getDestinationHash(u),t.onclick=function(t){return n._updateCurrentTreeItem(t.target.parentNode),u&&l.goToDestination(u),!1}}}},{key:"_setStyles",value:function(t,e){var n=e.bold,r=e.italic;n&&(t.style.fontWeight="bold"),r&&(t.style.fontStyle="italic")}},{key:"_addToggleButton",value:function(t,n){var r=n.count,i=n.items,o=!1;if(r<0){var a=i.length;if(a>0)for(var u=YP(i);u.length>0;){var s=u.shift(),l=s.count,c=s.items;l>0&&c.length>0&&(a+=c.length,u.push.apply(u,YP(c)))}Math.abs(r)===a&&(o=!0)}tL(eL(e.prototype),"_addToggleButton",this).call(this,t,o)}},{key:"_toggleAllTreeItems",value:function(){this._outline&&tL(eL(e.prototype),"_toggleAllTreeItems",this).call(this)}},{key:"render",value:function(t){var e=t.outline,n=t.pdfDocument;if(this._outline&&this.reset(),this._outline=e||null,this._pdfDocument=n||null,e){for(var r=document.createDocumentFragment(),i=[{parent:r,items:e}],o=0,a=!1;i.length>0;){var u,s=i.shift(),l=JP(s.items);try{for(l.s();!(u=l.n()).done;){var c=u.value,h=document.createElement("div");h.className="treeItem";var f=document.createElement("a");if(this._bindLink(f,c),this._setStyles(f,c),f.textContent=this._normalizeTextContent(c.title),h.append(f),c.items.length>0){a=!0,this._addToggleButton(h,c);var d=document.createElement("div");d.className="treeItems",h.append(d),i.push({parent:d,items:c.items})}s.parent.append(h),o++}}catch(t){l.e(t)}finally{l.f()}}this._finishRendering(r,o,a)}else this._dispatchEvent(0)}},{key:"_currentOutlineItem",value:(r=zP(VP().mark((function t(){var e,n,r,i;return VP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._isPagesLoaded){t.next=2;break}throw new Error("_currentOutlineItem: All pages have not been loaded.");case 2:if(this._outline&&this._pdfDocument){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,this._getPageNumberToDestHash(this._pdfDocument);case 6:if(e=t.sent){t.next=9;break}return t.abrupt("return");case 9:if(this._updateCurrentTreeItem(null),this._sidebarView===E){t.next=12;break}return t.abrupt("return");case 12:n=this._currentPageNumber;case 13:if(!(n>0)){t.next=25;break}if(r=e.get(n)){t.next=17;break}return t.abrupt("continue",22);case 17:if(i=this.container.querySelector('a[href="'.concat(r,'"]'))){t.next=20;break}return t.abrupt("continue",22);case 20:return this._scrollToCurrentTreeItem(i.parentNode),t.abrupt("break",25);case 22:n--,t.next=13;break;case 25:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"_getPageNumberToDestHash",value:(n=zP(VP().mark((function t(e){var n,r,i,o,a,u,s,l,c,h,f,d,p,v,y;return VP().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._pageNumberToDestHashCapability){t.next=2;break}return t.abrupt("return",this._pageNumberToDestHashCapability.promise);case 2:this._pageNumberToDestHashCapability=Promise.withResolvers(),n=new Map,r=new Map,i=[{nesting:0,items:this._outline}];case 5:if(!(i.length>0)){t.next=36;break}o=i.shift(),a=o.nesting,u=JP(o.items),t.prev=8,u.s();case 10:if((s=u.n()).done){t.next=26;break}if(l=s.value,c=l.dest,h=l.items,f=void 0,d=void 0,"string"!=typeof c){t.next=21;break}return t.next=16,e.getDestination(c);case 16:if(f=t.sent,e===this._pdfDocument){t.next=19;break}return t.abrupt("return",null);case 19:t.next=22;break;case 21:f=c;case 22:Array.isArray(f)&&(p=HP(f,1),(v=p[0])&&"object"===GP(v)?d=e.cachedPageNumber(v):Number.isInteger(v)&&(d=v+1),Number.isInteger(d)&&(!n.has(d)||a>r.get(d))&&(y=this.linkService.getDestinationHash(c),n.set(d,y),r.set(d,a))),h.length>0&&i.push({nesting:a+1,items:h});case 24:t.next=10;break;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t.catch(8),u.e(t.t0);case 31:return t.prev=31,u.f(),t.finish(31);case 34:t.next=5;break;case 36:return this._pageNumberToDestHashCapability.resolve(n.size>0?n:null),t.abrupt("return",this._pageNumberToDestHashCapability.promise);case 38:case"end":return t.stop()}}),t,this,[[8,28,31,34]])}))),function(t){return n.apply(this,arguments)})}]);var n,r}(Ex);function iL(t){return iL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iL(t)}function oL(){oL=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==iL(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(iL(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function aL(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function uL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sL(r.key),r)}}function sL(t){var e=function(t,e){if("object"!=iL(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=iL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==iL(e)?e:e+""}function lL(t,e,n){cL(t,e),e.set(t,n)}function cL(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hL(t,e){return t.get(dL(t,e))}function fL(t,e,n){return t.set(dL(t,e),n),n}function dL(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var pL=3e3,vL="pdfPresentationMode",yL="pdfPresentationModeControls",gL=50,mL=.1,bL=50,wL=Math.PI/6,DL=new WeakMap,EL=new WeakMap,AL=new WeakMap,kL=new WeakMap,SL=new WeakSet,CL=function(){return function(t,e,n){return e&&uL(t.prototype,e),n&&uL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.container,r=e.pdfViewer,i=e.eventBus;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){cL(t,e),e.add(t)}(this,SL),lL(this,DL,m.UNKNOWN),lL(this,EL,null),lL(this,AL,null),lL(this,kL,null),this.container=n,this.pdfViewer=r,this.eventBus=i,this.contextMenuOpen=!1,this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0,this.touchSwipeState=null}),[{key:"request",value:(t=oL().mark((function t(){var e,n,r;return oL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.container,n=this.pdfViewer,!this.active&&n.pagesCount&&e.requestFullscreen){t.next=3;break}return t.abrupt("return",!1);case 3:return dL(SL,this,RL).call(this),dL(SL,this,_L).call(this,m.CHANGING),r=e.requestFullscreen(),fL(EL,this,{pageNumber:n.currentPageNumber,scaleValue:n.currentScaleValue,scrollMode:n.scrollMode,spreadMode:null,annotationEditorMode:null}),n.spreadMode===F.NONE||n.pageViewsReady&&n.hasEqualPageSizes||(console.warn("Ignoring Spread modes when entering PresentationMode, since the document may contain varying page sizes."),hL(EL,this).spreadMode=n.spreadMode),n.annotationEditorMode!==Kt.vP.DISABLE&&(hL(EL,this).annotationEditorMode=n.annotationEditorMode),t.prev=9,t.next=12,r;case 12:return n.focus(),t.abrupt("return",!0);case 16:t.prev=16,t.t0=t.catch(9),dL(SL,this,WL).call(this),dL(SL,this,_L).call(this,m.NORMAL);case 20:return t.abrupt("return",!1);case 21:case"end":return t.stop()}}),t,this,[[9,16]])})),e=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){aL(o,r,i,a,u,"next",t)}function u(t){aL(o,r,i,a,u,"throw",t)}a(void 0)}))},function(){return e.apply(this,arguments)})},{key:"active",get:function(){return hL(DL,this)===m.CHANGING||hL(DL,this)===m.FULLSCREEN}}]);var t,e}();function xL(t){if(this.active){t.preventDefault();var e=function(t){var e=t.deltaMode,n=H(t);return e===WheelEvent.DOM_DELTA_PIXEL?n/=900:e===WheelEvent.DOM_DELTA_LINE&&(n/=30),n}(t),n=Date.now(),r=this.mouseScrollTimeStamp;if(!(n>r&&n-r<gL)&&((this.mouseScrollDelta>0&&e<0||this.mouseScrollDelta<0&&e>0)&&dL(SL,this,ML).call(this),this.mouseScrollDelta+=e,Math.abs(this.mouseScrollDelta)>=mL)){var i=this.mouseScrollDelta;dL(SL,this,ML).call(this),(i>0?this.pdfViewer.previousPage():this.pdfViewer.nextPage())&&(this.mouseScrollTimeStamp=n)}}}function _L(t){fL(DL,this,t),this.eventBus.dispatch("presentationmodechanged",{source:this,state:t})}function FL(){var t=this;dL(SL,this,_L).call(this,m.FULLSCREEN),this.container.classList.add(vL),setTimeout((function(){t.pdfViewer.scrollMode=_.PAGE,null!==hL(EL,t).spreadMode&&(t.pdfViewer.spreadMode=F.NONE),t.pdfViewer.currentPageNumber=hL(EL,t).pageNumber,t.pdfViewer.currentScaleValue="page-fit",null!==hL(EL,t).annotationEditorMode&&(t.pdfViewer.annotationEditorMode={mode:Kt.vP.NONE})}),0),dL(SL,this,jL).call(this),dL(SL,this,TL).call(this),this.contextMenuOpen=!1,document.getSelection().empty()}function PL(){var t=this,e=this.pdfViewer.currentPageNumber;this.container.classList.remove(vL),setTimeout((function(){dL(SL,t,WL).call(t),dL(SL,t,_L).call(t,m.NORMAL),t.pdfViewer.scrollMode=hL(EL,t).scrollMode,null!==hL(EL,t).spreadMode&&(t.pdfViewer.spreadMode=hL(EL,t).spreadMode),t.pdfViewer.currentScaleValue=hL(EL,t).scaleValue,t.pdfViewer.currentPageNumber=e,null!==hL(EL,t).annotationEditorMode&&(t.pdfViewer.annotationEditorMode={mode:hL(EL,t).annotationEditorMode}),fL(EL,t,null)}),0),dL(SL,this,NL).call(this),dL(SL,this,IL).call(this),dL(SL,this,ML).call(this),this.contextMenuOpen=!1}function LL(t){var e;if(this.contextMenuOpen)return this.contextMenuOpen=!1,void t.preventDefault();0===t.button&&(t.target.href&&null!==(e=t.target.parentNode)&&void 0!==e&&e.hasAttribute("data-internal-link")||(t.preventDefault(),t.shiftKey?this.pdfViewer.previousPage():this.pdfViewer.nextPage()))}function OL(){this.contextMenuOpen=!0}function TL(){var t=this;this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add(yL),this.controlsTimeout=setTimeout((function(){t.container.classList.remove(yL),delete t.controlsTimeout}),pL)}function IL(){this.controlsTimeout&&(clearTimeout(this.controlsTimeout),this.container.classList.remove(yL),delete this.controlsTimeout)}function ML(){this.mouseScrollTimeStamp=0,this.mouseScrollDelta=0}function BL(t){if(this.active)if(t.touches.length>1)this.touchSwipeState=null;else switch(t.type){case"touchstart":this.touchSwipeState={startX:t.touches[0].pageX,startY:t.touches[0].pageY,endX:t.touches[0].pageX,endY:t.touches[0].pageY};break;case"touchmove":if(null===this.touchSwipeState)return;this.touchSwipeState.endX=t.touches[0].pageX,this.touchSwipeState.endY=t.touches[0].pageY,t.preventDefault();break;case"touchend":if(null===this.touchSwipeState)return;var e=0,n=this.touchSwipeState.endX-this.touchSwipeState.startX,r=this.touchSwipeState.endY-this.touchSwipeState.startY,i=Math.abs(Math.atan2(r,n));Math.abs(n)>bL&&(i<=wL||i>=Math.PI-wL)?e=n:Math.abs(r)>bL&&Math.abs(i-Math.PI/2)<=wL&&(e=r),e>0?this.pdfViewer.previousPage():e<0&&this.pdfViewer.nextPage()}}function jL(){if(!hL(kL,this)){fL(kL,this,new AbortController);var t=hL(kL,this).signal,e=dL(SL,this,BL).bind(this);window.addEventListener("mousemove",dL(SL,this,TL).bind(this),{signal:t}),window.addEventListener("mousedown",dL(SL,this,LL).bind(this),{signal:t}),window.addEventListener("wheel",dL(SL,this,xL).bind(this),{passive:!1,signal:t}),window.addEventListener("keydown",dL(SL,this,ML).bind(this),{signal:t}),window.addEventListener("contextmenu",dL(SL,this,OL).bind(this),{signal:t}),window.addEventListener("touchstart",e,{signal:t}),window.addEventListener("touchmove",e,{signal:t}),window.addEventListener("touchend",e,{signal:t})}}function NL(){var t;null===(t=hL(kL,this))||void 0===t||t.abort(),fL(kL,this,null)}function RL(){var t=this;hL(AL,this)||(fL(AL,this,new AbortController),window.addEventListener("fullscreenchange",(function(){document.fullscreenElement?dL(SL,t,FL).call(t):dL(SL,t,PL).call(t)}),{signal:hL(AL,this).signal}))}function WL(){var t;null===(t=hL(AL,this))||void 0===t||t.abort(),fL(AL,this,null)}function GL(t){return GL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GL(t)}function HL(){HL=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==GL(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(GL(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function VL(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function UL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zL(r.key),r)}}function zL(t){var e=function(t,e){if("object"!=GL(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=GL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==GL(e)?e:e+""}var JL=function(){return function(t,e,n){return e&&UL(t.prototype,e),n&&UL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.pdfPage,r=e.annotationStorage,i=void 0===r?null:r,o=e.linkService,a=e.xfaHtml,u=void 0===a?null:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfPage=n,this.annotationStorage=i,this.linkService=o,this.xfaHtml=u,this.div=null,this._cancelled=!1}),[{key:"render",value:function(){var t,e=(t=HL().mark((function t(e){var n,r,i,o,a=arguments;return HL().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("print"!==(n=a.length>1&&void 0!==a[1]?a[1]:"display")){t.next=6;break}return r={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},this.div=document.createElement("div"),r.div=this.div,t.abrupt("return",Hf.render(r));case 6:return t.next=8,this.pdfPage.getXfa();case 8:if(i=t.sent,!this._cancelled&&i){t.next=11;break}return t.abrupt("return",{textDivs:[]});case 11:if(o={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:n},!this.div){t.next=14;break}return t.abrupt("return",Hf.update(o));case 14:return this.div=document.createElement("div"),o.div=this.div,t.abrupt("return",Hf.render(o));case 17:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){VL(o,r,i,a,u,"next",t)}function u(t){VL(o,r,i,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}])}();function YL(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return KL(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KL(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function KL(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function XL(t){return XL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},XL(t)}function qL(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$L(r.key),r)}}function QL(t,e,n){return e&&ZL(t.prototype,e),n&&ZL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $L(t){var e=function(t,e){if("object"!=XL(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=XL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==XL(e)?e:e+""}function tO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return eO(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eO(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eO(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var nO=null,rO=null,iO=null,oO={initialized:!1};var aO,uO=function(){return QL((function t(e){var n=e.pdfDocument,r=e.pagesOverview,i=e.printContainer,o=e.printResolution,a=e.printAnnotationStoragePromise,u=void 0===a?null:a;qL(this,t),this.pdfDocument=n,this.pagesOverview=r,this.printContainer=i,this._printResolution=o||150,this._optionalContentConfigPromise=n.getOptionalContentConfig({intent:"print"}),this._printAnnotationStoragePromise=u||Promise.resolve(),this.currentPage=-1,this.scratchCanvas=document.createElement("canvas")}),[{key:"layout",value:function(){this.throwIfInactive();var t=document.querySelector("body");t.setAttribute("data-pdfjsprinting",!0);var e=this.pagesOverview[0],n=e.width,r=e.height;this.pagesOverview.every((function(t){return t.width===n&&t.height===r}))||console.warn("Not all pages have the same size. The printed result may be incorrect!"),this.pageStyleSheet=document.createElement("style"),this.pageStyleSheet.textContent="@page { size: ".concat(n,"pt ").concat(r,"pt;}"),t.append(this.pageStyleSheet)}},{key:"destroy",value:function(){nO===this&&(this.printContainer.textContent="",document.querySelector("body").removeAttribute("data-pdfjsprinting"),this.pageStyleSheet&&(this.pageStyleSheet.remove(),this.pageStyleSheet=null),this.scratchCanvas.width=this.scratchCanvas.height=0,this.scratchCanvas=null,nO=null,dO().then((function(){iO.active===rO&&iO.close(rO)})))}},{key:"renderPages",value:function(){var t=this;if(this.pdfDocument.isPureXfa)return function(t,e){var n,r=e.allXfaHtml,i=new Yt,o=Math.round(100*Ie.PDF_TO_CSS_UNITS)/100,a=YL(r.children);try{for(a.s();!(n=a.n()).done;){var u=n.value,s=document.createElement("div");s.className="xfaPrintedPage",t.append(s);var l=new JL({pdfPage:null,annotationStorage:e.annotationStorage,linkService:i,xfaHtml:u}),c=gn(u,{scale:o});l.render(c,"print"),s.append(l.div)}}catch(t){a.e(t)}finally{a.f()}}(this.printContainer,this.pdfDocument),Promise.resolve();var e=this.pagesOverview.length;return new Promise((function n(r,i){if(t.throwIfInactive(),++t.currentPage>=e)return hO(e,e),void r();var o=t.currentPage;hO(o,e),function(t,e,n,r,i,o,a){var u=nO.scratchCanvas,s=i/Ie.PDF;u.width=Math.floor(r.width*s),u.height=Math.floor(r.height*s);var l=u.getContext("2d");return l.save(),l.fillStyle="rgb(255, 255, 255)",l.fillRect(0,0,u.width,u.height),l.restore(),Promise.all([e.getPage(n),a]).then((function(t){var e=tO(t,2),n=e[0],i=e[1],a={canvasContext:l,transform:[s,0,0,s,0,0],viewport:n.getViewport({scale:1,rotation:r.rotation}),intent:"print",annotationMode:Kt.ng.ENABLE_STORAGE,optionalContentConfigPromise:o,printAnnotationStorage:i};return n.render(a).promise.catch((function(t){throw t instanceof sn||console.error(t),t}))}))}(0,t.pdfDocument,o+1,t.pagesOverview[o],t._printResolution,t._optionalContentConfigPromise,t._printAnnotationStoragePromise).then(t.useRenderedPage.bind(t)).then((function(){n(r,i)}),i)}))}},{key:"useRenderedPage",value:function(){this.throwIfInactive();var t=document.createElement("img"),e=this.scratchCanvas;"toBlob"in e?e.toBlob((function(e){t.src=URL.createObjectURL(e)})):t.src=e.toDataURL();var n=document.createElement("div");return n.className="printedPage",n.append(t),this.printContainer.append(n),new Promise((function(e,n){t.onload=e,t.onerror=n}))}},{key:"performPrint",value:function(){var t=this;return this.throwIfInactive(),new Promise((function(e){setTimeout((function(){t.active?(sO.call(window),setTimeout(e,20)):e()}),0)}))}},{key:"active",get:function(){return this===nO}},{key:"throwIfInactive",value:function(){if(!this.active)throw new Error("This print request was cancelled or completed.")}}])}(),sO=window.print;function lO(t){var e=new CustomEvent(t,{bubbles:!1,cancelable:!1,detail:"custom"});window.dispatchEvent(e)}function cO(){nO&&(nO.destroy(),lO("afterprint"))}function hO(t,e){if("undefined"!=typeof PDFJSDev||!window.isGECKOVIEW){rO||(rO=document.getElementById("printServiceDialog"));var n=Math.round(100*t/e),r=rO.querySelector("progress"),i=rO.querySelector(".relative-progress");r.value=n,i.setAttribute("data-l10n-args",JSON.stringify({progress:n}))}}if(window.print=function(){if(nO)console.warn("Ignored window.print() because of a pending print job.");else{dO().then((function(){nO&&iO.open(rO)}));try{lO("beforeprint")}finally{if(!nO)return console.error("Expected print service to be initialized."),void dO().then((function(){iO.active===rO&&iO.close(rO)}));var t=nO;nO.renderPages().then((function(){return t.performPrint()})).catch((function(){})).then((function(){t.active&&cO()}))}}},window.addEventListener("keydown",(function(t){80!==t.keyCode||!t.ctrlKey&&!t.metaKey||t.altKey||t.shiftKey&&!window.chrome&&!window.opera||(window.print(),t.preventDefault(),t.stopImmediatePropagation())}),!0),"onbeforeprint"in window){var fO=function(t){"custom"!==t.detail&&t.stopImmediatePropagation()};window.addEventListener("beforeprint",fO),window.addEventListener("afterprint",fO)}function dO(){if("undefined"==typeof PDFJSDev&&window.isGECKOVIEW)return Promise.reject(new Error("ensureOverlay not implemented in GECKOVIEW development mode."));if(!aO){if(!(iO=oO.overlayManager))throw new Error("The overlay manager has not yet been initialized.");rO||(rO=document.getElementById("printServiceDialog")),aO=iO.register(rO,!0),document.getElementById("printCancel").onclick=cO,rO.addEventListener("close",cO)}return aO}var pO=function(){return QL((function t(){qL(this,t)}),null,[{key:"initGlobals",value:function(t){oO=t}},{key:"supportsPrinting",get:function(){return(0,Kt.r7)(this,"supportsPrinting",!0)}},{key:"createPrintService",value:function(t){if(nO)throw new Error("The print service is created and active.");return nO=new uO(t)}}])}();function vO(t){return vO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vO(t)}function yO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gO(r.key),r)}}function gO(t){var e=function(t,e){if("object"!=vO(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vO(e)?e:e+""}var mO=function(){return function(t,e,n){return e&&yO(t.prototype,e),n&&yO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&Object.defineProperty(this,"hasViewer",{value:function(){return!!e.pdfViewer}})}),[{key:"setViewer",value:function(t){this.pdfViewer=t}},{key:"setThumbnailViewer",value:function(t){this.pdfThumbnailViewer=t}},{key:"isHighestPriority",value:function(t){return this.highestPriorityPage===t.renderingId}},{key:"renderHighestPriority",value:function(t){var e;this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(t)||this.isThumbnailViewEnabled&&null!==(e=this.pdfThumbnailViewer)&&void 0!==e&&e.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4))}},{key:"getHighestPriority",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.views,o=i.length;if(0===o)return null;for(var a=0;a<o;a++){var u=i[a].view;if(!this.isViewFinished(u))return u}var s=t.first.id,l=t.last.id;if(l-s+1>o)for(var c=t.ids,h=1,f=l-s;h<f;h++){var d=n?s+h:l-h;if(!c.has(d)){var p=e[d-1];if(!this.isViewFinished(p))return p}}var v=n?l:s-2,y=e[v];return y&&!this.isViewFinished(y)||r&&(y=e[v+=n?1:-1])&&!this.isViewFinished(y)?y:null}},{key:"isViewFinished",value:function(t){return t.renderingState===g.FINISHED}},{key:"renderView",value:function(t){var e=this;switch(t.renderingState){case g.FINISHED:return!1;case g.PAUSED:this.highestPriorityPage=t.renderingId,t.resume();break;case g.RUNNING:this.highestPriorityPage=t.renderingId;break;case g.INITIAL:this.highestPriorityPage=t.renderingId,t.draw().finally((function(){e.renderHighestPriority()})).catch((function(t){t instanceof sn||console.error('renderView: "'.concat(t,'"'))}))}return!0}}])}();function bO(t){return bO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bO(t)}function wO(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=xO(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function DO(t){return function(t){if(Array.isArray(t))return _O(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||xO(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function AO(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?EO(Object(n),!0).forEach((function(e){kO(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function kO(t,e,n){return(e=OO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SO(){SO=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==bO(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(bO(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function CO(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||xO(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xO(t,e){if(t){if("string"==typeof t)return _O(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_O(t,e):void 0}}function _O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function FO(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function PO(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){FO(o,r,i,a,u,"next",t)}function u(t){FO(o,r,i,a,u,"throw",t)}a(void 0)}))}}function LO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OO(r.key),r)}}function OO(t){var e=function(t,e){if("object"!=bO(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bO(e)?e:e+""}function TO(t,e,n){IO(t,e),e.set(t,n)}function IO(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function MO(t,e){return t.get(jO(t,e))}function BO(t,e,n){return t.set(jO(t,e),n),n}function jO(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var NO=new WeakMap,RO=new WeakMap,WO=new WeakMap,GO=new WeakMap,HO=new WeakMap,VO=new WeakMap,UO=new WeakMap,zO=new WeakMap,JO=new WeakMap,YO=new WeakMap,KO=new WeakMap,XO=new WeakSet,qO=function(){return function(t,e,n){return e&&LO(t.prototype,e),n&&LO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this,r=e.eventBus,i=e.externalServices,o=void 0===i?null:i,a=e.docProperties,u=void 0===a?null:a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){IO(t,e),e.add(t)}(this,XO),TO(this,NO,null),TO(this,RO,null),TO(this,WO,null),TO(this,GO,null),TO(this,HO,null),TO(this,VO,null),TO(this,UO,null),TO(this,zO,null),TO(this,JO,!1),TO(this,YO,null),TO(this,KO,null),BO(HO,this,r),BO(VO,this,o),BO(WO,this,u),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&Object.defineProperty(this,"sandboxTrip",{value:function(){return setTimeout((function(){var t;return null===(t=MO(YO,n))||void 0===t?void 0:t.dispatchEventInSandbox({name:"sandboxtripbegin"})}),0)}})}),[{key:"setViewer",value:function(t){BO(zO,this,t)}},{key:"setDocument",value:(i=PO(SO().mark((function t(e){var n,r,i,o,a,u,s,l,c,h,f=this;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!MO(UO,this)){t.next=3;break}return t.next=3,jO(XO,this,iT).call(this);case 3:if(BO(UO,this,e),e){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);case 8:if(r=t.sent,i=CO(r,3),o=i[0],a=i[1],u=i[2],o||u){t.next=17;break}return t.next=16,jO(XO,this,iT).call(this);case 16:return t.abrupt("return");case 17:if(e===MO(UO,this)){t.next=19;break}return t.abrupt("return");case 19:t.prev=19,BO(YO,this,jO(XO,this,rT).call(this)),t.next=29;break;case 23:return t.prev=23,t.t0=t.catch(19),console.error('setDocument: "'.concat(t.t0.message,'".')),t.next=28,jO(XO,this,iT).call(this);case 28:return t.abrupt("return");case 29:return s=MO(HO,this),BO(GO,this,new AbortController),l=MO(GO,this),c=l.signal,s._on("updatefromsandbox",(function(t){(null==t?void 0:t.source)===window&&jO(XO,f,ZO).call(f,t.detail)}),{signal:c}),s._on("dispatcheventinsandbox",(function(t){var e;null===(e=MO(YO,f))||void 0===e||e.dispatchEventInSandbox(t.detail)}),{signal:c}),s._on("pagechanging",(function(t){var e=t.pageNumber,n=t.previous;e!==n&&(jO(XO,f,eT).call(f,n),jO(XO,f,$O).call(f,e))}),{signal:c}),s._on("pagerendered",(function(t){var e=t.pageNumber;f._pageOpenPending.has(e)&&e===MO(zO,f).currentPageNumber&&jO(XO,f,$O).call(f,e)}),{signal:c}),s._on("pagesdestroy",PO(SO().mark((function t(){var e,n;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jO(XO,f,eT).call(f,MO(zO,f).currentPageNumber);case 2:return t.next=4,null===(e=MO(YO,f))||void 0===e?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillClose"});case 4:null===(n=MO(NO,f))||void 0===n||n.resolve();case 5:case"end":return t.stop()}}),t)}))),{signal:c}),t.prev=37,t.next=40,MO(WO,this).call(this,e);case 40:if(h=t.sent,e===MO(UO,this)){t.next=43;break}return t.abrupt("return");case 43:return t.next=45,MO(YO,this).createSandbox({objects:o,calculationOrder:a,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:AO(AO({},h),{},{actions:u})});case 45:s.dispatch("sandboxcreated",{source:this}),t.next=54;break;case 48:return t.prev=48,t.t1=t.catch(37),console.error('setDocument: "'.concat(t.t1.message,'".')),t.next=53,jO(XO,this,iT).call(this);case 53:return t.abrupt("return");case 54:return t.next=56,null===(n=MO(YO,this))||void 0===n?void 0:n.dispatchEventInSandbox({id:"doc",name:"Open"});case 56:return t.next=58,jO(XO,this,$O).call(this,MO(zO,this).currentPageNumber,!0);case 58:Promise.resolve().then((function(){e===MO(UO,f)&&BO(JO,f,!0)}));case 59:case"end":return t.stop()}}),t,this,[[19,23],[37,48]])}))),function(t){return i.apply(this,arguments)})},{key:"dispatchWillSave",value:(r=PO(SO().mark((function t(){var e;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(e=MO(YO,this))||void 0===e?void 0:e.dispatchEventInSandbox({id:"doc",name:"WillSave"}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"dispatchDidSave",value:(n=PO(SO().mark((function t(){var e;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(e=MO(YO,this))||void 0===e?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidSave"}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"dispatchWillPrint",value:(e=PO(SO().mark((function t(){var e;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(MO(YO,this)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,null===(e=MO(KO,this))||void 0===e?void 0:e.promise;case 4:return BO(KO,this,Promise.withResolvers()),t.prev=5,t.next=8,MO(YO,this).dispatchEventInSandbox({id:"doc",name:"WillPrint"});case 8:t.next=15;break;case 10:throw t.prev=10,t.t0=t.catch(5),MO(KO,this).resolve(),BO(KO,this,null),t.t0;case 15:return t.next=17,MO(KO,this).promise;case 17:case"end":return t.stop()}}),t,this,[[5,10]])}))),function(){return e.apply(this,arguments)})},{key:"dispatchDidPrint",value:(t=PO(SO().mark((function t(){var e;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",null===(e=MO(YO,this))||void 0===e?void 0:e.dispatchEventInSandbox({id:"doc",name:"DidPrint"}));case 1:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"destroyPromise",get:function(){var t;return(null===(t=MO(RO,this))||void 0===t?void 0:t.promise)||null}},{key:"ready",get:function(){return MO(JO,this)}},{key:"_pageOpenPending",get:function(){return(0,Kt.r7)(this,"_pageOpenPending",new Set)}},{key:"_visitedPages",get:function(){return(0,Kt.r7)(this,"_visitedPages",new Map)}}]);var t,e,n,r,i}();function ZO(t){return QO.apply(this,arguments)}function QO(){return QO=PO(SO().mark((function t(e){var n,r,i,o,a,u,s,l,c,h,f,d,p,v;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=MO(zO,this),i=r.isInPresentationMode||r.isChangingPresentationMode,o=e.id,a=e.siblings,u=e.command,s=e.value,o){t.next=44;break}if("undefined"==typeof PDFJSDev||!PDFJSDev.test("TESTING")||"sandboxTripEnd"!==u){t.next=7;break}return window.setTimeout((function(){window.dispatchEvent(new CustomEvent("sandboxtripend"))}),0),t.abrupt("return");case 7:t.t0=u,t.next="clear"===t.t0?10:"error"===t.t0?12:"layout"===t.t0?14:"page-num"===t.t0?16:"print"===t.t0?18:"println"===t.t0?22:"zoom"===t.t0?24:"SaveAs"===t.t0?26:"FirstPage"===t.t0?28:"LastPage"===t.t0?30:"NextPage"===t.t0?32:"PrevPage"===t.t0?34:"ZoomViewIn"===t.t0?36:"ZoomViewOut"===t.t0?38:"WillPrintFinished"===t.t0?40:43;break;case 10:return console.clear(),t.abrupt("break",43);case 12:return console.error(s),t.abrupt("break",43);case 14:return i||(l=et(s),r.spreadMode=l.spreadMode),t.abrupt("break",43);case 16:return r.currentPageNumber=s+1,t.abrupt("break",43);case 18:return t.next=20,r.pagesPromise;case 20:return MO(HO,this).dispatch("print",{source:this}),t.abrupt("break",43);case 22:return console.log(s),t.abrupt("break",43);case 24:return i||(r.currentScaleValue=s),t.abrupt("break",43);case 26:return MO(HO,this).dispatch("download",{source:this}),t.abrupt("break",43);case 28:return r.currentPageNumber=1,t.abrupt("break",43);case 30:return r.currentPageNumber=r.pagesCount,t.abrupt("break",43);case 32:return r.nextPage(),t.abrupt("break",43);case 34:return r.previousPage(),t.abrupt("break",43);case 36:return i||r.increaseScale(),t.abrupt("break",43);case 38:return i||r.decreaseScale(),t.abrupt("break",43);case 40:return null===(n=MO(KO,this))||void 0===n||n.resolve(),BO(KO,this,null),t.abrupt("break",43);case 43:return t.abrupt("return");case 44:if(!i||!e.focus){t.next=46;break}return t.abrupt("return");case 46:delete e.id,delete e.siblings,c=a?[o].concat(DO(a)):[o],h=wO(c);try{for(h.s();!(f=h.n()).done;)d=f.value,(p=document.querySelector('[data-element-id="'.concat(d,'"]')))?p.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):null===(v=MO(UO,this))||void 0===v||v.annotationStorage.setValue(d,e)}catch(t){h.e(t)}finally{h.f()}case 51:case"end":return t.stop()}}),t,this)}))),QO.apply(this,arguments)}function $O(t){return tT.apply(this,arguments)}function tT(){return tT=PO(SO().mark((function t(e){var n,r,i,o,a,u=this,s=arguments;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.length>1&&void 0!==s[1]&&s[1],r=MO(UO,this),i=this._visitedPages,n&&BO(NO,this,Promise.withResolvers()),MO(NO,this)){t.next=5;break}return t.abrupt("return");case 5:if((null==(o=MO(zO,this).getPageView(e-1))?void 0:o.renderingState)===g.FINISHED){t.next=9;break}return this._pageOpenPending.add(e),t.abrupt("return");case 9:this._pageOpenPending.delete(e),a=PO(SO().mark((function t(){var n,a,s;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.has(e)?null:null===(n=o.pdfPage)||void 0===n?void 0:n.getJSActions();case 2:if(s=t.sent,r===MO(UO,u)){t.next=5;break}return t.abrupt("return");case 5:return t.next=7,null===(a=MO(YO,u))||void 0===a?void 0:a.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:s});case 7:case"end":return t.stop()}}),t)})))(),i.set(e,a);case 12:case"end":return t.stop()}}),t,this)}))),tT.apply(this,arguments)}function eT(t){return nT.apply(this,arguments)}function nT(){return(nT=PO(SO().mark((function t(e){var n,r,i,o;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=MO(UO,this),i=this._visitedPages,MO(NO,this)){t.next=3;break}return t.abrupt("return");case 3:if(!this._pageOpenPending.has(e)){t.next=5;break}return t.abrupt("return");case 5:if(o=i.get(e)){t.next=8;break}return t.abrupt("return");case 8:return i.set(e,null),t.next=11,o;case 11:if(r===MO(UO,this)){t.next=13;break}return t.abrupt("return");case 13:return t.next=15,null===(n=MO(YO,this))||void 0===n?void 0:n.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e});case 15:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function rT(){if(BO(RO,this,Promise.withResolvers()),MO(YO,this))throw new Error("#initScripting: Scripting already exists.");return MO(VO,this).createScripting()}function iT(){return oT.apply(this,arguments)}function oT(){return oT=PO(SO().mark((function t(){var e,n,r,i;return SO().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(MO(YO,this)){t.next=4;break}return BO(UO,this,null),null===(i=MO(RO,this))||void 0===i||i.resolve(),t.abrupt("return");case 4:if(!MO(NO,this)){t.next=8;break}return t.next=7,Promise.race([MO(NO,this).promise,new Promise((function(t){setTimeout(t,1e3)}))]).catch((function(){}));case 7:BO(NO,this,null);case 8:return BO(UO,this,null),t.prev=9,t.next=12,MO(YO,this).destroySandbox();case 12:t.next=16;break;case 14:t.prev=14,t.t0=t.catch(9);case 16:null===(e=MO(KO,this))||void 0===e||e.reject(new Error("Scripting destroyed.")),BO(KO,this,null),null===(n=MO(GO,this))||void 0===n||n.abort(),BO(GO,this,null),this._pageOpenPending.clear(),this._visitedPages.clear(),BO(YO,this,null),BO(JO,this,!1),null===(r=MO(RO,this))||void 0===r||r.resolve();case 25:case"end":return t.stop()}}),t,this,[[9,14]])}))),oT.apply(this,arguments)}function aT(t){return aT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aT(t)}function uT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sT(r.key),r)}}function sT(t){var e=function(t,e){if("object"!=aT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=aT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==aT(e)?e:e+""}function lT(t,e,n){cT(t,e),e.set(t,n)}function cT(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function hT(t,e){return t.get(dT(t,e))}function fT(t,e,n){return t.set(dT(t,e),n),n}function dT(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var pT="--sidebar-width",vT=200,yT="sidebarResizing",gT="pdfSidebarNotification",mT=new WeakMap,bT=new WeakMap,wT=new WeakMap,DT=new WeakMap,ET=new WeakMap,AT=new WeakSet,kT=function(){return function(t,e,n){return e&&uT(t.prototype,e),n&&uT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.elements,r=e.eventBus,i=e.l10n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){cT(t,e),e.add(t)}(this,AT),lT(this,mT,!1),lT(this,bT,dT(AT,this,PT).bind(this)),lT(this,wT,dT(AT,this,LT).bind(this)),lT(this,DT,null),lT(this,ET,null),this.isOpen=!1,this.active=D,this.isInitialViewSet=!1,this.isInitialEventDispatched=!1,this.onToggled=null,this.onUpdateThumbnails=null,this.outerContainer=n.outerContainer,this.sidebarContainer=n.sidebarContainer,this.toggleButton=n.toggleButton,this.resizer=n.resizer,this.thumbnailButton=n.thumbnailButton,this.outlineButton=n.outlineButton,this.attachmentsButton=n.attachmentsButton,this.layersButton=n.layersButton,this.thumbnailView=n.thumbnailView,this.outlineView=n.outlineView,this.attachmentsView=n.attachmentsView,this.layersView=n.layersView,this._currentOutlineItemButton=n.currentOutlineItemButton,this.eventBus=r,fT(mT,this,"rtl"===i.getDirection()),dT(AT,this,_T).call(this)}),[{key:"reset",value:function(){this.isInitialViewSet=!1,this.isInitialEventDispatched=!1,dT(AT,this,xT).call(this,!0),this.switchView(D),this.outlineButton.disabled=!1,this.attachmentsButton.disabled=!1,this.layersButton.disabled=!1,this._currentOutlineItemButton.disabled=!0}},{key:"visibleView",get:function(){return this.isOpen?this.active:w}},{key:"setInitialView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w;this.isInitialViewSet||(this.isInitialViewSet=!0,t!==w&&t!==b?(this.switchView(t,!0),this.isInitialEventDispatched||dT(AT,this,ST).call(this)):dT(AT,this,ST).call(this))}},{key:"switchView",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t!==this.active,r=!1;switch(t){case w:return void(this.isOpen&&this.close());case D:this.isOpen&&n&&(r=!0);break;case E:if(this.outlineButton.disabled)return;break;case A:if(this.attachmentsButton.disabled)return;break;case k:if(this.layersButton.disabled)return;break;default:return void console.error('PDFSidebar.switchView: "'.concat(t,'" is not a valid view.'))}this.active=t,rt(this.thumbnailButton,t===D,this.thumbnailView),rt(this.outlineButton,t===E,this.outlineView),rt(this.attachmentsButton,t===A,this.attachmentsView),rt(this.layersButton,t===k,this.layersView),!e||this.isOpen?(r&&(this.onUpdateThumbnails(),this.onToggled()),n&&dT(AT,this,ST).call(this)):this.open()}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,it(this.toggleButton,!0),this.outerContainer.classList.add("sidebarMoving","sidebarOpen"),this.active===D&&this.onUpdateThumbnails(),this.onToggled(),dT(AT,this,ST).call(this),dT(AT,this,xT).call(this))}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isOpen&&(this.isOpen=!1,it(this.toggleButton,!1),this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.remove("sidebarOpen"),this.onToggled(),dT(AT,this,ST).call(this),(null==t?void 0:t.detail)>0&&this.toggleButton.blur())}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.isOpen?this.close(t):this.open()}},{key:"outerContainerWidth",get:function(){return hT(DT,this)||fT(DT,this,this.outerContainer.clientWidth)}}])}();function ST(){this.isInitialViewSet&&(this.isInitialEventDispatched||(this.isInitialEventDispatched=!0)),this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}function CT(){this.toggleButton.setAttribute("data-l10n-id","pdfjs-toggle-sidebar-notification-button"),this.isOpen||this.toggleButton.classList.add(gT)}function xT(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];(this.isOpen||t)&&this.toggleButton.classList.remove(gT),t&&this.toggleButton.setAttribute("data-l10n-id","pdfjs-toggle-sidebar-button")}function _T(){var t=this;this.sidebarContainer.addEventListener("transitionend",(function(e){e.target===t.sidebarContainer&&(t.outerContainer.classList.remove("sidebarMoving"),t.eventBus.dispatch("resize",{source:t}))})),this.toggleButton.addEventListener("click",(function(e){t.toggle(e)})),this.thumbnailButton.addEventListener("click",(function(){t.switchView(D)})),this.outlineButton.addEventListener("click",(function(){t.switchView(E)})),this.outlineButton.addEventListener("dblclick",(function(){t.eventBus.dispatch("toggleoutlinetree",{source:t})})),this.attachmentsButton.addEventListener("click",(function(){t.switchView(A)})),this.layersButton.addEventListener("click",(function(){t.switchView(k)})),this.layersButton.addEventListener("dblclick",(function(){t.eventBus.dispatch("resetlayers",{source:t})})),this._currentOutlineItemButton.addEventListener("click",(function(){t.eventBus.dispatch("currentoutlineitem",{source:t})}));var e=function(e,n,r){n.disabled=!e,e?dT(AT,t,CT).call(t):t.active===r&&t.switchView(D)};this.eventBus._on("outlineloaded",(function(n){e(n.outlineCount,t.outlineButton,E),n.currentOutlineItemPromise.then((function(e){t.isInitialViewSet&&(t._currentOutlineItemButton.disabled=!e)}))})),this.eventBus._on("attachmentsloaded",(function(n){e(n.attachmentsCount,t.attachmentsButton,A)})),this.eventBus._on("layersloaded",(function(n){e(n.layersCount,t.layersButton,k)})),this.eventBus._on("presentationmodechanged",(function(e){e.state===m.NORMAL&&t.visibleView===D&&t.onUpdateThumbnails()})),this.resizer.addEventListener("mousedown",(function(e){0===e.button&&(t.outerContainer.classList.add(yT),window.addEventListener("mousemove",hT(bT,t)),window.addEventListener("mouseup",hT(wT,t)))})),this.eventBus._on("resize",(function(e){if(e.source===window&&(fT(DT,t,null),hT(ET,t)))if(t.isOpen){t.outerContainer.classList.add(yT);var n=dT(AT,t,FT).call(t,hT(ET,t));Promise.resolve().then((function(){t.outerContainer.classList.remove(yT),n&&t.eventBus.dispatch("resize",{source:t})}))}else dT(AT,t,FT).call(t,hT(ET,t))}))}function FT(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=Math.floor(this.outerContainerWidth/2);return t>e&&(t=e),t<vT&&(t=vT),t!==hT(ET,this)&&(fT(ET,this,t),K.setProperty(pT,"".concat(t,"px")),!0)}function PT(t){var e=t.clientX;hT(mT,this)&&(e=this.outerContainerWidth-e),dT(AT,this,FT).call(this,e)}function LT(t){this.outerContainer.classList.remove(yT),this.eventBus.dispatch("resize",{source:this}),window.removeEventListener("mousemove",hT(bT,this)),window.removeEventListener("mouseup",hT(wT,this))}function OT(t){return OT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OT(t)}function TT(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return IT(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?IT(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function IT(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function MT(){MT=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==OT(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(OT(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function BT(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function jT(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){BT(o,r,i,a,u,"next",t)}function u(t){BT(o,r,i,a,u,"throw",t)}a(void 0)}))}}function NT(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function RT(t,e,n){return n(UT(t,e))}function WT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VT(r.key),r)}}function HT(t,e,n){return e&&GT(t.prototype,e),n&&GT(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VT(t){var e=function(t,e){if("object"!=OT(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=OT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==OT(e)?e:e+""}function UT(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var zT=3,JT=function(){function t(){WT(this,t)}return HT(t,null,[{key:"getCanvas",value:function(e,n){var r=UT(t,this,YT)._||(YT._=UT(t,this,document.createElement("canvas")));r.width=e,r.height=n;var i=r.getContext("2d",{alpha:!1});return i.save(),i.fillStyle="rgb(255, 255, 255)",i.fillRect(0,0,e,n),i.restore(),[r,r.getContext("2d")]}},{key:"destroyCanvas",value:function(){var e=UT(t,this,YT)._;e&&(e.width=0,e.height=0),YT._=UT(t,this,null)}}])}(),YT={_:null},KT=new WeakSet,XT=function(){return HT((function t(e){var n=e.container,r=e.eventBus,i=e.id,o=e.defaultViewport,a=e.optionalContentConfigPromise,u=e.linkService,s=e.renderingQueue,l=e.pageColors;WT(this,t),NT(this,KT),this.id=i,this.renderingId="thumbnail"+i,this.pageLabel=null,this.pdfPage=null,this.rotation=0,this.viewport=o,this.pdfPageRotate=o.rotation,this._optionalContentConfigPromise=a||null,this.pageColors=l||null,this.eventBus=r,this.linkService=u,this.renderingQueue=s,this.renderTask=null,this.renderingState=g.INITIAL,this.resume=null;var c=document.createElement("a");c.href=u.getAnchorUrl("#page="+i),c.setAttribute("data-l10n-id","pdfjs-thumb-page-title"),c.setAttribute("data-l10n-args",RT(KT,this,nI)),c.onclick=function(){return u.goToPage(i),!1},this.anchor=c;var h=document.createElement("div");h.className="thumbnail",h.setAttribute("data-page-number",this.id),this.div=h,UT(KT,this,qT).call(this);var f=document.createElement("div");f.className="thumbnailImage",this._placeholderImg=f,h.append(f),c.append(h),n.append(c)}),[{key:"setPdfPage",value:function(t){this.pdfPage=t,this.pdfPageRotate=t.rotate;var e=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:1,rotation:e}),this.reset()}},{key:"reset",value:function(){var t;this.cancelRendering(),this.renderingState=g.INITIAL,this.div.removeAttribute("data-loaded"),null===(t=this.image)||void 0===t||t.replaceWith(this._placeholderImg),UT(KT,this,qT).call(this),this.image&&(this.image.removeAttribute("src"),delete this.image)}},{key:"update",value:function(t){var e=t.rotation,n=void 0===e?null:e;"number"==typeof n&&(this.rotation=n);var r=(this.rotation+this.pdfPageRotate)%360;this.viewport=this.viewport.clone({scale:1,rotation:r}),this.reset()}},{key:"cancelRendering",value:function(){this.renderTask&&(this.renderTask.cancel(),this.renderTask=null),this.resume=null}},{key:"draw",value:function(){var t=jT(MT().mark((function t(){var e,n,r,i,o,a,u,s,l,c,h=this;return MT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.renderingState===g.INITIAL){t.next=3;break}return console.error("Must be in new state before drawing"),t.abrupt("return",void 0);case 3:if(e=this.pdfPage){t.next=7;break}throw this.renderingState=g.FINISHED,new Error("pdfPage is not loaded");case 7:return this.renderingState=g.RUNNING,n=UT(KT,this,ZT).call(this,2),r=n.ctx,i=n.canvas,o=n.transform,a=this.viewport.clone({scale:2*this.scale}),u=function(t){if(!h.renderingQueue.isHighestPriority(h))return h.renderingState=g.PAUSED,void(h.resume=function(){h.renderingState=g.RUNNING,t()});t()},s={canvasContext:r,transform:o,viewport:a,optionalContentConfigPromise:this._optionalContentConfigPromise,pageColors:this.pageColors},(l=this.renderTask=e.render(s)).onContinue=u,(c=l.promise.then((function(){return UT(KT,h,$T).call(h,l,i)}),(function(t){return UT(KT,h,$T).call(h,l,i,t)}))).finally((function(){i.width=0,i.height=0,h.eventBus.dispatch("thumbnailrendered",{source:h,pageNumber:h.id,pdfPage:h.pdfPage})})),t.abrupt("return",c);case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setImage",value:function(t){if(this.renderingState===g.INITIAL){var e=t.thumbnailCanvas,n=t.pdfPage,r=t.scale;e&&(this.pdfPage||this.setPdfPage(n),r<this.scale||(this.renderingState=g.FINISHED,UT(KT,this,QT).call(this,e)))}}},{key:"setPageLabel",value:function(t){var e;this.pageLabel="string"==typeof t?t:null,this.anchor.setAttribute("data-l10n-args",RT(KT,this,nI)),this.renderingState===g.FINISHED&&(null===(e=this.image)||void 0===e||e.setAttribute("data-l10n-args",RT(KT,this,nI)))}}])}();function qT(){var t=this.viewport,e=t.width,n=e/t.height;this.canvasWidth=98,this.canvasHeight=this.canvasWidth/n|0,this.scale=this.canvasWidth/e;var r=this.div.style;r.setProperty("--thumbnail-width","".concat(this.canvasWidth,"px")),r.setProperty("--thumbnail-height","".concat(this.canvasHeight,"px"))}function ZT(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=document.createElement("canvas"),n=e.getContext("2d",{alpha:!1}),r=new O;return e.width=t*this.canvasWidth*r.sx|0,e.height=t*this.canvasHeight*r.sy|0,{ctx:n,canvas:e,transform:r.scaled?[r.sx,0,0,r.sy,0,0]:null}}function QT(t){if(this.renderingState!==g.FINISHED)throw new Error("#convertCanvasToImage: Rendering has not finished.");var e=UT(KT,this,eI).call(this,t),n=document.createElement("img");n.className="thumbnailImage",n.setAttribute("data-l10n-id","pdfjs-thumb-page-canvas"),n.setAttribute("data-l10n-args",RT(KT,this,nI)),n.src=e.toDataURL(),this.image=n,this.div.setAttribute("data-loaded",!0),this._placeholderImg.replaceWith(n),e.width=0,e.height=0}function $T(t,e){return tI.apply(this,arguments)}function tI(){return tI=jT(MT().mark((function t(e,n){var r,i=arguments;return MT().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=i.length>2&&void 0!==i[2]?i[2]:null,e===this.renderTask&&(this.renderTask=null),!(r instanceof sn)){t.next=4;break}return t.abrupt("return");case 4:if(this.renderingState=g.FINISHED,UT(KT,this,QT).call(this,n),!r){t.next=8;break}throw r;case 8:case"end":return t.stop()}}),t,this)}))),tI.apply(this,arguments)}function eI(t){var e=UT(KT,this,ZT).call(this),n=e.ctx,r=e.canvas;if(t.width<=2*r.width)return n.drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),r;for(var i=r.width<<zT,o=r.height<<zT,a=TT(JT.getCanvas(i,o),2),u=a[0],s=a[1];i>t.width||o>t.height;)i>>=1,o>>=1;for(s.drawImage(t,0,0,t.width,t.height,0,0,i,o);i>2*r.width;)s.drawImage(u,0,0,i,o,0,0,i>>1,o>>1),i>>=1,o>>=1;return n.drawImage(u,0,0,i,o,0,0,r.width,r.height),r}function nI(t){var e;return JSON.stringify({page:null!==(e=t.pageLabel)&&void 0!==e?e:t.id})}function rI(t){return rI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rI(t)}function iI(){iI=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==rI(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(rI(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function oI(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function aI(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return uI(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uI(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function uI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function sI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lI(r.key),r)}}function lI(t){var e=function(t,e){if("object"!=rI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rI(e)?e:e+""}function cI(t,e){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.add(t)}function hI(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var fI="selected",dI=new WeakSet,pI=function(){return function(t,e,n){return e&&sI(t.prototype,e),n&&sI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.container,r=e.eventBus,i=e.linkService,o=e.renderingQueue,a=e.pageColors,u=e.abortSignal;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),cI(this,dI),this.container=n,this.eventBus=r,this.linkService=i,this.renderingQueue=o,this.pageColors=a||null,this.scroll=I(this.container,hI(dI,this,vI).bind(this),u),hI(dI,this,gI).call(this)}),[{key:"getThumbnail",value:function(t){return this._thumbnails[t]}},{key:"scrollThumbnailIntoView",value:function(t){if(this.pdfDocument){var e=this._thumbnails[t-1];if(e){if(t!==this._currentPageNumber)this._thumbnails[this._currentPageNumber-1].div.classList.remove(fI),e.div.classList.add(fI);var n=hI(dI,this,yI).call(this),r=n.first,i=n.last,o=n.views;if(o.length>0){var a=!1;if(t<=r.id||t>=i.id)a=!0;else{var u,s=aI(o);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=l.id,h=l.percent;if(c===t){a=h<100;break}}}catch(t){s.e(t)}finally{s.f()}}a&&T(e.div,{top:-19})}this._currentPageNumber=t}else console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.')}}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(t){if(!V(t))throw new Error("Invalid thumbnails rotation angle.");if(this.pdfDocument&&this._pagesRotation!==t){this._pagesRotation=t;var e,n={rotation:t},r=aI(this._thumbnails);try{for(r.s();!(e=r.n()).done;){e.value.update(n)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"cleanup",value:function(){var t,e=aI(this._thumbnails);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.renderingState!==g.FINISHED&&n.reset()}}catch(t){e.e(t)}finally{e.f()}JT.destroyCanvas()}},{key:"setDocument",value:function(t){var e=this;if(this.pdfDocument&&(hI(dI,this,mI).call(this),hI(dI,this,gI).call(this)),this.pdfDocument=t,t){var n=t.getPage(1),r=t.getOptionalContentConfig({intent:"display"});n.then((function(n){for(var i,o=t.numPages,a=n.getViewport({scale:1}),u=1;u<=o;++u){var s=new XT({container:e.container,eventBus:e.eventBus,id:u,defaultViewport:a.clone(),optionalContentConfigPromise:r,linkService:e.linkService,renderingQueue:e.renderingQueue,pageColors:e.pageColors});e._thumbnails.push(s)}null===(i=e._thumbnails[0])||void 0===i||i.setPdfPage(n),e._thumbnails[e._currentPageNumber-1].div.classList.add(fI)})).catch((function(t){console.error("Unable to initialize thumbnail viewer",t)}))}}},{key:"setPageLabels",value:function(t){if(this.pdfDocument){t?Array.isArray(t)&&this.pdfDocument.numPages===t.length?this._pageLabels=t:(this._pageLabels=null,console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var e=0,n=this._thumbnails.length;e<n;e++){var r,i;this._thumbnails[e].setPageLabel(null!==(r=null===(i=this._pageLabels)||void 0===i?void 0:i[e])&&void 0!==r?r:null)}}}},{key:"forceRendering",value:function(){var t=this,e=hI(dI,this,yI).call(this),n=hI(dI,this,DI).call(this,e),r=this.renderingQueue.getHighestPriority(e,this._thumbnails,n);return!!r&&(hI(dI,this,bI).call(this,r).then((function(){t.renderingQueue.renderView(r)})),!0)}}])}();function vI(){this.renderingQueue.renderHighestPriority()}function yI(){return G({scrollEl:this.container,views:this._thumbnails})}function gI(){this._thumbnails=[],this._currentPageNumber=1,this._pageLabels=null,this._pagesRotation=0,this.container.textContent=""}function mI(){var t,e=aI(this._thumbnails);try{for(e.s();!(t=e.n()).done;){t.value.cancelRendering()}}catch(t){e.e(t)}finally{e.f()}}function bI(t){return wI.apply(this,arguments)}function wI(){var t;return t=iI().mark((function t(e){var n;return iI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pdfPage){t.next=2;break}return t.abrupt("return",e.pdfPage);case 2:return t.prev=2,t.next=5,this.pdfDocument.getPage(e.id);case 5:return n=t.sent,e.pdfPage||e.setPdfPage(n),t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(2),console.error("Unable to get page for thumb view",t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,this,[[2,10]])})),wI=function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){oI(o,r,i,a,u,"next",t)}function u(t){oI(o,r,i,a,u,"throw",t)}a(void 0)}))},wI.apply(this,arguments)}function DI(t){var e,n;return 1===(null===(e=t.first)||void 0===e?void 0:e.id)||(null===(n=t.last)||void 0===n?void 0:n.id)!==this._thumbnails.length&&this.scroll.down}function EI(t){return EI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},EI(t)}function AI(){AI=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==EI(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(EI(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function kI(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function SI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CI(r.key),r)}}function CI(t){var e=function(t,e){if("object"!=EI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=EI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==EI(e)?e:e+""}function xI(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function _I(t,e){return t.get(PI(t,e))}function FI(t,e,n){return t.set(PI(t,e),n),n}function PI(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var LI=new WeakMap,OI=new WeakMap,TI=new WeakMap,II=new WeakMap,MI=new WeakMap,BI=function(){return function(t,e,n){return e&&SI(t.prototype,e),n&&SI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),xI(this,LI,null),xI(this,OI,null),xI(this,TI,null),xI(this,II,null),xI(this,MI,void 0),this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(this.l10n||(this.l10n=new _k)),this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,FI(MI,this,e.uiManager),FI(LI,this,e.annotationLayer||null),FI(II,this,e.textLayer||null),FI(OI,this,e.drawLayer||null),FI(TI,this,e.onAppend||null)}),[{key:"render",value:function(){var t,e=(t=AI().mark((function t(e){var n,r,i,o,a,u=arguments;return AI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("display"===(r=u.length>1&&void 0!==u[1]?u[1]:"display")){t.next=3;break}return t.abrupt("return");case 3:if(!this._cancelled){t.next=5;break}return t.abrupt("return");case 5:if(i=e.clone({dontFlip:!0}),!this.div){t.next=10;break}return this.annotationEditorLayer.update({viewport:i}),this.show(),t.abrupt("return");case 10:(o=this.div=document.createElement("div")).className="annotationEditorLayer",o.hidden=!0,o.dir=_I(MI,this).direction,null===(n=_I(TI,this))||void 0===n||n.call(this,o),this.annotationEditorLayer=new fD({uiManager:_I(MI,this),div:o,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:_I(LI,this),textLayer:_I(II,this),drawLayer:_I(OI,this)}),a={viewport:i,div:o,annotations:null,intent:r},this.annotationEditorLayer.render(a),this.show();case 19:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){kI(o,r,i,a,u,"next",t)}function u(t){kI(o,r,i,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}},{key:"show",value:function(){this.div&&!this.annotationEditorLayer.isInvisible&&(this.div.hidden=!1)}}])}();function jI(t){return jI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jI(t)}function NI(){NI=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==jI(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(jI(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function RI(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||WI(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function WI(t,e){if(t){if("string"==typeof t)return GI(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?GI(t,e):void 0}}function GI(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function HI(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function VI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UI(r.key),r)}}function UI(t){var e=function(t,e){if("object"!=jI(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jI(e)?e:e+""}function zI(t,e,n){JI(t,e),e.set(t,n)}function JI(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function YI(t,e){return t.get(XI(t,e))}function KI(t,e,n){return t.set(XI(t,e),n),n}function XI(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var qI=new WeakMap,ZI=new WeakMap,QI=new WeakSet,$I=function(){return function(t,e,n){return e&&VI(t.prototype,e),n&&VI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.pdfPage,r=e.linkService,i=e.downloadManager,o=e.annotationStorage,a=void 0===o?null:o,u=e.imageResourcesPath,s=void 0===u?"":u,l=e.renderForms,c=void 0===l||l,h=e.enableScripting,f=void 0!==h&&h,d=e.hasJSActionsPromise,p=void 0===d?null:d,v=e.fieldObjectsPromise,y=void 0===v?null:v,g=e.annotationCanvasMap,m=void 0===g?null:g,b=e.accessibilityManager,w=void 0===b?null:b,D=e.annotationEditorUIManager,E=void 0===D?null:D,A=e.onAppend,k=void 0===A?null:A;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){JI(t,e),e.add(t)}(this,QI),zI(this,qI,null),zI(this,ZI,null),this.pdfPage=n,this.linkService=r,this.downloadManager=i,this.imageResourcesPath=s,this.renderForms=c,this.annotationStorage=a,this.enableScripting=f,this._hasJSActionsPromise=p||Promise.resolve(!1),this._fieldObjectsPromise=y||Promise.resolve(null),this._annotationCanvasMap=m,this._accessibilityManager=w,this._annotationEditorUIManager=E,KI(qI,this,k),this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=r.eventBus}),[{key:"render",value:function(){var t,e=(t=NI().mark((function t(e){var n,r,i,o,a,u,s,l,c,h=this,f=arguments;return NI().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=f.length>1&&void 0!==f[1]?f[1]:"display",!this.div){t.next=6;break}if(!this._cancelled&&this.annotationLayer){t.next=4;break}return t.abrupt("return");case 4:return this.annotationLayer.update({viewport:e.clone({dontFlip:!0})}),t.abrupt("return");case 6:return t.next=8,Promise.all([this.pdfPage.getAnnotations({intent:r}),this._hasJSActionsPromise,this._fieldObjectsPromise]);case 8:if(i=t.sent,o=RI(i,3),a=o[0],u=o[1],s=o[2],!this._cancelled){t.next=15;break}return t.abrupt("return");case 15:if((l=this.div=document.createElement("div")).className="annotationLayer",null===(n=YI(qI,this))||void 0===n||n.call(this,l),0!==a.length){t.next=21;break}return this.hide(),t.abrupt("return");case 21:return this.annotationLayer=new zp({div:l,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0})}),t.next=24,this.annotationLayer.render({annotations:a,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:u,fieldObjects:s});case 24:this.linkService.isInPresentationMode&&XI(QI,this,tM).call(this,m.FULLSCREEN),YI(ZI,this)||(KI(ZI,this,new AbortController),null===(c=this._eventBus)||void 0===c||c._on("presentationmodechanged",(function(t){XI(QI,h,tM).call(h,t.state)}),{signal:YI(ZI,this).signal}));case 26:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){HI(o,r,i,a,u,"next",t)}function u(t){HI(o,r,i,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){var t;this._cancelled=!0,null===(t=YI(ZI,this))||void 0===t||t.abort(),KI(ZI,this,null)}},{key:"hide",value:function(){this.div&&(this.div.hidden=!0)}}])}();function tM(t){if(this.div){var e=!1;switch(t){case m.FULLSCREEN:e=!0;break;case m.NORMAL:break;default:return}var n,r=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=WI(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}(this.div.childNodes);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.hasAttribute("data-internal-link")||(i.inert=e)}}catch(t){r.e(t)}finally{r.f()}}}function eM(t){return eM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eM(t)}function nM(){nM=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==eM(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(eM(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function rM(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function iM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oM(r.key),r)}}function oM(t){var e=function(t,e){if("object"!=eM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eM(e)?e:e+""}function aM(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function uM(t,e,n){return t.set(lM(t,e),n),n}function sM(t,e){return t.get(lM(t,e))}function lM(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var cM=new WeakMap,hM=function(){return function(t,e,n){return e&&iM(t.prototype,e),n&&iM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),aM(this,cM,null),this.pageIndex=e.pageIndex}),[{key:"render",value:function(){var t,e=(t=nM().mark((function t(){var e=arguments;return nM().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("display"===(e.length>0&&void 0!==e[0]?e[0]:"display")&&!sM(cM,this)&&!this._cancelled){t.next=3;break}return t.abrupt("return");case 3:uM(cM,this,new MD({pageIndex:this.pageIndex}));case 4:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){rM(o,r,i,a,u,"next",t)}function u(t){rM(o,r,i,a,u,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){this._cancelled=!0,sM(cM,this)&&(sM(cM,this).destroy(),uM(cM,this,null))}},{key:"setParent",value:function(t){var e;null===(e=sM(cM,this))||void 0===e||e.setParent(t)}},{key:"getDrawLayer",value:function(){return sM(cM,this)}}])}();function fM(t){return fM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fM(t)}function dM(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return pM(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pM(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function pM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yM(r.key),r)}}function yM(t){var e=function(t,e){if("object"!=fM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fM(e)?e:e+""}function gM(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function mM(t,e){return t.get(bM(t,e))}function bM(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var wM={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},DM=/^H(\d+)$/,EM=new WeakMap,AM=new WeakSet,kM=function(){return function(t,e,n){return e&&vM(t.prototype,e),n&&vM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){gM(t,e),e.add(t)}(this,AM),function(t,e,n){gM(t,e),e.set(t,n)}(this,EM,void 0)}),[{key:"renderingDone",get:function(){return void 0!==mM(EM,this)}},{key:"render",value:function(t){if(void 0!==mM(EM,this))return mM(EM,this);var e=bM(AM,this,CM).call(this,t);return null==e||e.classList.add("structTree"),function(t,e,n){return t.set(bM(t,e),n),n}(EM,this,e)}},{key:"hide",value:function(){mM(EM,this)&&!mM(EM,this).hidden&&(mM(EM,this).hidden=!0)}},{key:"show",value:function(){var t;null!==(t=mM(EM,this))&&void 0!==t&&t.hidden&&(mM(EM,this).hidden=!1)}}])}();function SM(t,e){var n=t.alt,r=t.id,i=t.lang;void 0!==n&&e.setAttribute("aria-label",j(n)),void 0!==r&&e.setAttribute("aria-owns",r),void 0!==i&&e.setAttribute("lang",j(i,!0))}function CM(t){if(!t)return null;var e=document.createElement("span");if("role"in t){var n=t.role,r=n.match(DM);r?(e.setAttribute("role","heading"),e.setAttribute("aria-level",r[1])):wM[n]&&e.setAttribute("role",wM[n])}if(bM(AM,this,SM).call(this,t,e),t.children)if(1===t.children.length&&"id"in t.children[0])bM(AM,this,SM).call(this,t.children[0],e);else{var i,o=dM(t.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;e.append(bM(AM,this,CM).call(this,a))}}catch(t){o.e(t)}finally{o.f()}}return e}function xM(t){return xM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xM(t)}function _M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||PM(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FM(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=PM(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function PM(t,e){if(t){if("string"==typeof t)return LM(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LM(t,e):void 0}}function LM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function OM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TM(r.key),r)}}function TM(t){var e=function(t,e){if("object"!=xM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xM(e)?e:e+""}function IM(t,e,n){MM(t,e),e.set(t,n)}function MM(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function BM(t,e){return t.get(NM(t,e))}function jM(t,e,n){return t.set(NM(t,e),n),n}function NM(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var RM=new WeakMap,WM=new WeakMap,GM=new WeakMap,HM=new WeakMap,VM=new WeakSet,UM=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){MM(t,e),e.add(t)}(this,VM),IM(this,RM,!1),IM(this,WM,null),IM(this,GM,new Map),IM(this,HM,new Map)}return function(t,e,n){return e&&OM(t.prototype,e),n&&OM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"setTextMapping",value:function(t){jM(WM,this,t)}},{key:"enable",value:function(){if(BM(RM,this))throw new Error("TextAccessibilityManager is already enabled.");if(!BM(WM,this))throw new Error("Text divs and strings have not been set.");if(jM(RM,this,!0),jM(WM,this,BM(WM,this).slice()),BM(WM,this).sort(zM),BM(GM,this).size>0){var t,e=BM(WM,this),n=FM(BM(GM,this));try{for(n.s();!(t=n.n()).done;){var r=_M(t.value,2),i=r[0],o=r[1];document.getElementById(i)?NM(VM,this,JM).call(this,i,e[o]):BM(GM,this).delete(i)}}catch(t){n.e(t)}finally{n.f()}}var a,u=FM(BM(HM,this));try{for(u.s();!(a=u.n()).done;){var s=_M(a.value,2),l=s[0],c=s[1];this.addPointerInTextLayer(l,c)}}catch(t){u.e(t)}finally{u.f()}BM(HM,this).clear()}},{key:"disable",value:function(){BM(RM,this)&&(BM(HM,this).clear(),jM(WM,this,null),jM(RM,this,!1))}},{key:"removePointerInTextLayer",value:function(t){var e;if(BM(RM,this)){var n=BM(WM,this);if(n&&0!==n.length){var r=t.id,i=BM(GM,this).get(r);if(void 0!==i){var o=n[i];BM(GM,this).delete(r);var a=o.getAttribute("aria-owns");null!==(e=a)&&void 0!==e&&e.includes(r)&&((a=a.split(" ").filter((function(t){return t!==r})).join(" "))?o.setAttribute("aria-owns",a):(o.removeAttribute("aria-owns"),o.setAttribute("role","presentation")))}}}else BM(HM,this).delete(t)}},{key:"addPointerInTextLayer",value:function(e,n){var r=e.id;if(!r)return null;if(!BM(RM,this))return BM(HM,this).set(e,n),null;n&&this.removePointerInTextLayer(e);var i=BM(WM,this);if(!i||0===i.length)return null;var o=N(i,(function(n){return zM.call(t,e,n)<0})),a=Math.max(0,o-1),u=i[a];NM(VM,this,JM).call(this,r,u),BM(GM,this).set(r,a);var s=u.parentNode;return null!=s&&s.classList.contains("markedContent")?s.id:null}},{key:"moveElementInDOM",value:function(e,n,r,i){var o=this.addPointerInTextLayer(r,i);if(!e.hasChildNodes())return e.append(n),o;var a=Array.from(e.childNodes).filter((function(t){return t!==n}));if(0===a.length)return o;var u=r||n,s=N(a,(function(e){return zM.call(t,u,e)<0}));return 0===s?a[0].before(n):a[s-1].after(n),o}}])}();function zM(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect();if(0===n.width&&0===n.height)return 1;if(0===r.width&&0===r.height)return-1;var i=n.y,o=n.y+n.height,a=n.y+n.height/2,u=r.y,s=r.y+r.height,l=r.y+r.height/2;return a<=u&&l>=o?-1:l<=i&&a>=s?1:n.x+n.width/2-(r.x+r.width/2)}function JM(t,e){var n=e.getAttribute("aria-owns");null!=n&&n.includes(t)||e.setAttribute("aria-owns",n?"".concat(n," ").concat(t):t),e.removeAttribute("role")}function YM(t){return YM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},YM(t)}function KM(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return XM(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?XM(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function XM(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function qM(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZM(r.key),r)}}function ZM(t){var e=function(t,e){if("object"!=YM(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=YM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==YM(e)?e:e+""}function QM(t,e,n){(function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")})(t,e),e.set(t,n)}function $M(t,e,n){return t.set(eB(t,e),n),n}function tB(t,e){return t.get(eB(t,e))}function eB(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var nB,rB=new WeakMap,iB=function(){return function(t,e,n){return e&&qM(t.prototype,e),n&&qM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=e.findController,r=e.eventBus,i=e.pageIndex;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),QM(this,rB,null),this.findController=n,this.matches=[],this.eventBus=r,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}),[{key:"setTextMapping",value:function(t,e){this.textDivs=t,this.textContentItemsStr=e}},{key:"enable",value:function(){var t=this;if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,tB(rB,this)||($M(rB,this,new AbortController),this.eventBus._on("updatetextlayermatches",(function(e){e.pageIndex!==t.pageIdx&&-1!==e.pageIndex||t._updateMatches()}),{signal:tB(rB,this).signal})),this._updateMatches()}},{key:"disable",value:function(){var t;this.enabled&&(this.enabled=!1,null===(t=tB(rB,this))||void 0===t||t.abort(),$M(rB,this,null),this._updateMatches(!0))}},{key:"_convertMatches",value:function(t,e){if(!t)return[];for(var n=this.textContentItemsStr,r=0,i=0,o=n.length-1,a=[],u=0,s=t.length;u<s;u++){for(var l=t[u];r!==o&&l>=i+n[r].length;)i+=n[r].length,r++;r===n.length&&console.error("Could not find a matching mapping");var c={begin:{divIdx:r,offset:l-i}};for(l+=e[u];r!==o&&l>i+n[r].length;)i+=n[r].length,r++;c.end={divIdx:r,offset:l-i},a.push(c)}return a}},{key:"_renderMatches",value:function(t){if(0!==t.length){var e=this.findController,n=this.pageIdx,r=this.textContentItemsStr,i=this.textDivs,o=n===e.selected.pageIdx,a=e.selected.matchIdx,u=null,s={divIdx:-1,offset:void 0},l=a,c=l+1;if(e.state.highlightAll)l=0,c=t.length;else if(!o)return;for(var h=-1,f=-1,d=l;d<c;d++){var p=t[d],v=p.begin;if(v.divIdx!==h||v.offset!==f){h=v.divIdx,f=v.offset;var y=p.end,g=o&&d===a,m=g?" selected":"",b=0;if(u&&v.divIdx===u.divIdx?A(u.divIdx,u.offset,v.offset):(null!==u&&A(u.divIdx,u.offset,s.offset),E(v)),v.divIdx===y.divIdx)b=A(v.divIdx,v.offset,y.offset,"highlight"+m);else{b=A(v.divIdx,v.offset,s.offset,"highlight begin"+m);for(var w=v.divIdx+1,D=y.divIdx;w<D;w++)i[w].className="highlight middle"+m;E(y,"highlight end"+m)}u=y,g&&e.scrollMatchIntoView({element:i[v.divIdx],selectedLeft:b,pageIndex:n,matchIndex:a})}}u&&A(u.divIdx,u.offset,s.offset)}function E(t,e){var n=t.divIdx;return i[n].textContent="",A(n,0,t.offset,e)}function A(t,e,n,o){var a=i[t];if(a.nodeType===Node.TEXT_NODE){var u=document.createElement("span");a.before(u),u.append(a),i[t]=u,a=u}var s=r[t].substring(e,n),l=document.createTextNode(s);if(o){var c=document.createElement("span");return c.className="".concat(o," appended"),c.append(l),a.append(c),o.includes("selected")?c.offsetLeft:0}return a.append(l),0}}},{key:"_updateMatches",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.enabled||t){var e,n=this.findController,r=this.matches,i=this.pageIdx,o=this.textContentItemsStr,a=this.textDivs,u=-1,s=KM(r);try{for(s.s();!(e=s.n()).done;){for(var l=e.value,c=Math.max(u,l.begin.divIdx),h=l.end.divIdx;c<=h;c++){var f=a[c];f.textContent=o[c],f.className=""}u=l.end.divIdx+1}}catch(t){s.e(t)}finally{s.f()}if(null!=n&&n.highlightMatches&&!t){var d=n.pageMatches[i]||null,p=n.pageMatchesLength[i]||null;this.matches=this._convertMatches(d,p),this._renderMatches(this.matches)}}}}])}();function oB(t){return oB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oB(t)}function aB(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||sB(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uB(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=sB(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function sB(t,e){if(t){if("string"==typeof t)return lB(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lB(t,e):void 0}}function lB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function cB(){cB=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==oB(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(oB(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function hB(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function fB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dB(r.key),r)}}function dB(t){var e=function(t,e){if("object"!=oB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oB(e)?e:e+""}function pB(t,e,n){vB(t,e),e.set(t,n)}function vB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function yB(t,e){return t.get(mB(t,e))}function gB(t,e,n){return t.set(mB(t,e),n),n}function mB(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var bB=new WeakMap,wB=new WeakMap,DB=new WeakMap,EB=new WeakMap,AB=new WeakSet,kB=function(){function t(e){var n=e.pdfPage,r=e.highlighter,i=void 0===r?null:r,o=e.accessibilityManager,a=void 0===o?null:o,u=e.enablePermissions,s=void 0!==u&&u,l=e.onAppend,c=void 0===l?null:l;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){vB(t,e),e.add(t)}(this,AB),pB(this,bB,!1),pB(this,wB,null),pB(this,DB,!1),pB(this,EB,null),this.pdfPage=n,this.highlighter=i,this.accessibilityManager=a,gB(bB,this,!0===s),gB(wB,this,c),this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}return function(t,e,n){return e&&fB(t.prototype,e),n&&fB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(t,[{key:"render",value:function(){var t,e=(t=cB().mark((function t(e){var n,r,i,o,a,u,s,l,c,h,f=arguments;return cB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=f.length>1&&void 0!==f[1]?f[1]:null,!yB(DB,this)||!yB(EB,this)){t.next=5;break}return yB(EB,this).update({viewport:e,onBefore:this.hide.bind(this)}),this.show(),t.abrupt("return");case 5:return this.cancel(),gB(EB,this,new th({textContentSource:this.pdfPage.streamTextContent(u||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e})),s=yB(EB,this),l=s.textDivs,c=s.textContentItemsStr,null===(n=this.highlighter)||void 0===n||n.setTextMapping(l,c),null===(r=this.accessibilityManager)||void 0===r||r.setTextMapping(l),t.next=12,yB(EB,this).render();case 12:gB(DB,this,!0),(h=document.createElement("div")).className="endOfContent",this.div.append(h),mB(AB,this,SB).call(this,h),null===(i=yB(wB,this))||void 0===i||i.call(this,this.div),null===(o=this.highlighter)||void 0===o||o.enable(),null===(a=this.accessibilityManager)||void 0===a||a.enable();case 20:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){hB(o,r,i,a,u,"next",t)}function u(t){hB(o,r,i,a,u,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}()},{key:"hide",value:function(){var t;!this.div.hidden&&yB(DB,this)&&(null===(t=this.highlighter)||void 0===t||t.disable(),this.div.hidden=!0)}},{key:"show",value:function(){var t;this.div.hidden&&yB(DB,this)&&(this.div.hidden=!1,null===(t=this.highlighter)||void 0===t||t.enable())}},{key:"cancel",value:function(){var e,n,r;null===(e=yB(EB,this))||void 0===e||e.cancel(),gB(EB,this,null),null===(n=this.highlighter)||void 0===n||n.disable(),null===(r=this.accessibilityManager)||void 0===r||r.disable(),CB.call(t,this.div)}}])}();function SB(t){var e=this,n=this.div;n.addEventListener("mousedown",(function(e){t.classList.add("active")})),n.addEventListener("copy",(function(t){if(!yB(bB,e)){var n=document.getSelection();t.clipboardData.setData("text/plain",j((0,Kt.j_)(n.toString())))}t.preventDefault(),t.stopPropagation()})),_B._.set(n,t),xB.call(nB)}function CB(t){var e;(mB(nB,this,_B)._.delete(t),0===mB(nB,this,_B)._.size)&&(null===(e=mB(nB,this,FB)._)||void 0===e||e.abort(),FB._=mB(nB,this,null))}function xB(){var t=this;if(!mB(nB,this,FB)._){FB._=mB(nB,this,new AbortController);var e=mB(nB,this,FB)._.signal,n=function(t,e){"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||(e.append(t),t.style.width="",t.style.height=""),t.classList.remove("active")};if(document.addEventListener("pointerup",(function(){mB(nB,t,_B)._.forEach(n)}),{signal:e}),"undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL"))var r,i;document.addEventListener("selectionchange",(function(){var e=document.getSelection();if(0!==e.rangeCount){for(var o=new Set,a=0;a<e.rangeCount;a++){var u,s=e.getRangeAt(a),l=uB(mB(nB,t,_B)._.keys());try{for(l.s();!(u=l.n()).done;){var c=u.value;!o.has(c)&&s.intersectsNode(c)&&o.add(c)}}catch(t){l.e(t)}finally{l.f()}}var h,f=uB(mB(nB,t,_B)._);try{for(f.s();!(h=f.n()).done;){var d=aB(h.value,2),p=d[0],v=d[1];o.has(p)?v.classList.add("active"):n(v,p)}}catch(t){f.e(t)}finally{f.f()}if("undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL")){var y;if("undefined"==typeof PDFJSDev||!PDFJSDev.test("CHROME"))if(null!==(y=r)&&void 0!==y||(r="none"===getComputedStyle(mB(nB,t,_B)._.values().next().value).getPropertyValue("-moz-user-select")),r)return;var g=e.getRangeAt(0),m=i&&(0===g.compareBoundaryPoints(Range.END_TO_END,i)||0===g.compareBoundaryPoints(Range.START_TO_END,i)),b=m?g.startContainer:g.endContainer;b.nodeType===Node.TEXT_NODE&&(b=b.parentNode);var w=b.parentElement.closest(".textLayer"),D=mB(nB,t,_B)._.get(w);D&&(D.style.width=w.style.width,D.style.height=w.style.height,b.parentElement.insertBefore(D,m?b:b.nextSibling)),i=g.cloneRange()}}else mB(nB,t,_B)._.forEach(n)}),{signal:e})}}nB=kB;var _B={_:new Map},FB={_:null};function PB(t){return PB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},PB(t)}function LB(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return OB(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OB(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function OB(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function TB(){TB=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==PB(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(PB(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function IB(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function MB(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){IB(o,r,i,a,u,"next",t)}function u(t){IB(o,r,i,a,u,"throw",t)}a(void 0)}))}}function BB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jB(r.key),r)}}function jB(t){var e=function(t,e){if("object"!=PB(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=PB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==PB(e)?e:e+""}function NB(t,e,n){RB(t,e),e.set(t,n)}function RB(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function WB(t,e){return t.get(HB(t,e))}function GB(t,e,n){return t.set(HB(t,e),n),n}function HB(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var VB="undefined"!=typeof PDFJSDev&&PDFJSDev.test("COMPONENTS")?{annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new Yt}}:null,UB=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]),zB=new WeakMap,JB=new WeakMap,YB=new WeakMap,KB=new WeakMap,XB=new WeakMap,qB=new WeakMap,ZB=new WeakMap,QB=new WeakMap,$B=new WeakMap,tj=new WeakMap,ej=new WeakMap,nj=new WeakSet,rj=function(){return function(t,e,n){return e&&BB(t.prototype,e),n&&BB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n,r,i,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){RB(t,e),e.add(t)}(this,nj),NB(this,zB,Kt.ng.ENABLE_FORMS),NB(this,JB,!1),NB(this,YB,null),NB(this,KB,null),NB(this,XB,null),NB(this,qB,null),NB(this,ZB,g.INITIAL),NB(this,QB,C),NB(this,$B,{directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0}),NB(this,tj,new WeakMap),NB(this,ej,[null,null,null,null]);var a,u=e.container,s=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,GB(YB,this,e.layerProperties||VB),this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||1,this.viewport=s,this.pdfPageRotate=s.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,GB(QB,this,null!==(n=e.textLayerMode)&&void 0!==n?n:C),GB(zB,this,null!==(r=e.annotationMode)&&void 0!==r?r:Kt.ng.ENABLE_FORMS),this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=null!==(i=e.maxCanvasPixels)&&void 0!==i?i:St.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(this.l10n||(this.l10n=new _k)),this.renderTask=null,this.resume=null,("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(this._isStandalone=!(null!==(a=this.renderingQueue)&&void 0!==a&&a.hasViewer()),this._container=u),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;var l=document.createElement("div");if(l.className="page",l.setAttribute("data-page-number",this.id),l.setAttribute("role","region"),l.setAttribute("data-l10n-id","pdfjs-page-landmark"),l.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=l,HB(nj,this,oj).call(this),null==u||u.append(l),("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&this._isStandalone){null==u||u.style.setProperty("--scale-factor",this.scale*Ie.PDF_TO_CSS_UNITS);var c=e.optionalContentConfigPromise;c&&c.then((function(t){c===o._optionalContentConfigPromise&&(WB($B,o).initialOptionalContent=t.hasInitialVisibility)})),e.l10n||this.l10n.translate(this.div)}}),[{key:"renderingState",get:function(){return WB(ZB,this)},set:function(t){var e=this;if(t!==WB(ZB,this))switch(GB(ZB,this,t),WB(KB,this)&&(clearTimeout(WB(KB,this)),GB(KB,this,null)),t){case g.PAUSED:this.div.classList.remove("loading");break;case g.RUNNING:this.div.classList.add("loadingIcon"),GB(KB,this,setTimeout((function(){e.div.classList.add("loading"),GB(KB,e,null)}),0));break;case g.INITIAL:case g.FINISHED:this.div.classList.remove("loadingIcon","loading")}}},{key:"setPdfPage",value:function(t){var e,n,r,i;"undefined"!=typeof PDFJSDev&&!PDFJSDev.test("GENERIC")||!this._isStandalone||"CanvasText"!==(null===(e=this.pageColors)||void 0===e?void 0:e.foreground)&&"Canvas"!==(null===(n=this.pageColors)||void 0===n?void 0:n.background)||(null===(r=this._container)||void 0===r||r.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),null===(i=this._container)||void 0===i||i.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight")));this.pdfPage=t,this.pdfPageRotate=t.rotate;var o=(this.rotation+this.pdfPageRotate)%360;this.viewport=t.getViewport({scale:this.scale*Ie.PDF_TO_CSS_UNITS,rotation:o}),HB(nj,this,oj).call(this),this.reset()}},{key:"destroy",value:function(){var t;this.reset(),null===(t=this.pdfPage)||void 0===t||t.cleanup()}},{key:"_textHighlighter",get:function(){return(0,Kt.r7)(this,"_textHighlighter",new iB({pageIndex:this.id-1,eventBus:this.eventBus,findController:WB(YB,this).findController}))}},{key:"_resetZoomLayer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var e=this.zoomLayer.firstChild;WB(tj,this).delete(e),e.width=0,e.height=0,t&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var t,e,n,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=o.keepZoomLayer,u=void 0!==a&&a,s=o.keepAnnotationLayer,l=void 0!==s&&s,c=o.keepAnnotationEditorLayer,h=void 0!==c&&c,f=o.keepXfaLayer,d=void 0!==f&&f,p=o.keepTextLayer,v=void 0!==p&&p;this.cancelRendering({keepAnnotationLayer:l,keepAnnotationEditorLayer:h,keepXfaLayer:d,keepTextLayer:v}),this.renderingState=g.INITIAL;for(var y=this.div,m=y.childNodes,b=u&&this.zoomLayer||null,w=l&&(null===(t=this.annotationLayer)||void 0===t?void 0:t.div)||null,D=h&&(null===(e=this.annotationEditorLayer)||void 0===e?void 0:e.div)||null,E=d&&(null===(n=this.xfaLayer)||void 0===n?void 0:n.div)||null,A=v&&(null===(r=this.textLayer)||void 0===r?void 0:r.div)||null,k=m.length-1;k>=0;k--){var S=m[k];switch(S){case b:case w:case D:case E:case A:continue}S.remove();var C=WB(ej,this).indexOf(S);C>=0&&(WB(ej,this)[C]=null)}y.removeAttribute("data-loaded"),w&&this.annotationLayer.hide(),D&&this.annotationEditorLayer.hide(),E&&this.xfaLayer.hide(),A&&this.textLayer.hide(),null===(i=this.structTreeLayer)||void 0===i||i.hide(),b||(this.canvas&&(WB(tj,this).delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}},{key:"update",value:function(t){var e=this,n=t.scale,r=void 0===n?0:n,i=t.rotation,o=void 0===i?null:i,a=t.optionalContentConfigPromise,u=void 0===a?null:a,s=t.drawingDelay,l=void 0===s?-1:s;this.scale=r||this.scale,"number"==typeof o&&(this.rotation=o),u instanceof Promise&&(this._optionalContentConfigPromise=u,u.then((function(t){u===e._optionalContentConfigPromise&&(WB($B,e).initialOptionalContent=t.hasInitialVisibility)}))),WB($B,this).directDrawing=!0;var c,h=(this.rotation+this.pdfPageRotate)%360;(this.viewport=this.viewport.clone({scale:this.scale*Ie.PDF_TO_CSS_UNITS,rotation:h}),HB(nj,this,oj).call(this),("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&this._isStandalone)&&(null===(c=this._container)||void 0===c||c.style.setProperty("--scale-factor",this.viewport.scale));if(this.canvas){var f=!1;if(WB(JB,this))if("undefined"!=typeof PDFJSDev&&!PDFJSDev.test("GENERIC")||0!==this.maxCanvasPixels){if(this.maxCanvasPixels>0){var d=this.viewport,p=d.width,v=d.height,y=this.outputScale,m=y.sx,b=y.sy;f=(Math.floor(p)*m|0)*(Math.floor(v)*b|0)>this.maxCanvasPixels}}else f=!0;var w=l>=0&&l<1e3;if(w||f){if(w&&!f&&this.renderingState!==g.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:l}),this.renderingState=g.FINISHED,WB($B,this).directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!w,hideTextLayer:w}),w)return;return void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:WB(qB,this)})}this.zoomLayer||this.canvas.hidden||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}},{key:"cancelRendering",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.keepAnnotationLayer,r=void 0!==n&&n,i=e.keepAnnotationEditorLayer,o=void 0!==i&&i,a=e.keepXfaLayer,u=void 0!==a&&a,s=e.keepTextLayer,l=void 0!==s&&s,c=e.cancelExtraDelay,h=void 0===c?0:c;(this.renderTask&&(this.renderTask.cancel(h),this.renderTask=null),this.resume=null,!this.textLayer||l&&this.textLayer.div||(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),!this.annotationLayer||r&&this.annotationLayer.div||(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),!this.annotationEditorLayer||o&&this.annotationEditorLayer.div||(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),!this.xfaLayer||u&&this.xfaLayer.div)||(this.xfaLayer.cancel(),this.xfaLayer=null,null===(t=this._textHighlighter)||void 0===t||t.disable())}},{key:"cssTransform",value:function(t){var e=t.target,n=t.redrawAnnotationLayer,r=void 0!==n&&n,i=t.redrawAnnotationEditorLayer,o=void 0!==i&&i,a=t.redrawXfaLayer,u=void 0!==a&&a,s=t.redrawTextLayer,l=void 0!==s&&s,c=t.hideTextLayer,h=void 0!==c&&c;if(("undefined"==typeof PDFJSDev||PDFJSDev.test("TESTING"))&&!(e instanceof HTMLCanvasElement))throw new Error("Expected `target` to be a canvas.");if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);var f=e.style;f.width=f.height=""}var d,p=WB(tj,this).get(e);if(this.viewport!==p){var v=this.viewport.rotation-p.rotation,y=Math.abs(v),g=1,m=1;if(90===y||270===y){var b=this.viewport,w=b.width,D=b.height;g=D/w,m=w/D}e.style.transform="rotate(".concat(v,"deg) scale(").concat(g,", ").concat(m,")")}(r&&this.annotationLayer&&HB(nj,this,uj).call(this),o&&this.annotationEditorLayer&&(this.drawLayer&&HB(nj,this,hj).call(this),HB(nj,this,lj).call(this)),u&&this.xfaLayer&&HB(nj,this,dj).call(this),this.textLayer)&&(h?(this.textLayer.hide(),null===(d=this.structTreeLayer)||void 0===d||d.hide()):l&&HB(nj,this,vj).call(this))}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}},{key:"getPagePoint",value:function(t,e){return this.viewport.convertToPdfPoint(t,e)}},{key:"draw",value:function(){var t=MB(TB().mark((function t(){var e,n,r,i,o,a,u,s,l,c,h,f,d,p,v,y,m,b,w,D,E,A,k,C,_,F,P,L,T,I,M,B,j,N,G,H=this;return TB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.renderingState!==g.INITIAL&&(console.error("Must be in new state before drawing"),this.reset()),e=this.div,n=this.l10n,r=this.pageColors,i=this.pdfPage,o=this.viewport,i){t.next=5;break}throw this.renderingState=g.FINISHED,new Error("pdfPage is not loaded");case 5:return this.renderingState=g.RUNNING,(a=document.createElement("div")).classList.add("canvasWrapper"),HB(nj,this,ij).call(this,a,"canvasWrapper"),this.textLayer||WB(QB,this)===S||i.isPureXfa||(this._accessibilityManager||(this._accessibilityManager=new UM),this.textLayer=new kB({pdfPage:i,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:WB(QB,this)===x,onAppend:function(t){H.l10n.pause(),HB(nj,H,ij).call(H,t,"textLayer"),H.l10n.resume()}})),this.annotationLayer||WB(zB,this)===Kt.ng.DISABLE||(u=WB(YB,this),s=u.annotationStorage,l=u.annotationEditorUIManager,c=u.downloadManager,h=u.enableScripting,f=u.fieldObjectsPromise,d=u.hasJSActionsPromise,p=u.linkService,this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer=new $I({pdfPage:i,annotationStorage:s,imageResourcesPath:this.imageResourcesPath,renderForms:WB(zB,this)===Kt.ng.ENABLE_FORMS,linkService:p,downloadManager:c,enableScripting:h,hasJSActionsPromise:d,fieldObjectsPromise:f,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:l,onAppend:function(t){HB(nj,H,ij).call(H,t,"annotationLayer")}})),v=function(t){var e;if(null===(e=D)||void 0===e||e(!1),H.renderingQueue&&!H.renderingQueue.isHighestPriority(H))return H.renderingState=g.PAUSED,void(H.resume=function(){H.renderingState=g.RUNNING,t()});t()},y=o.width,m=o.height,(b=document.createElement("canvas")).setAttribute("role","presentation"),b.hidden=!0,w=!(null==r||!r.background||null==r||!r.foreground),D=function(t){w&&!t||(b.hidden=!1,D=null)},a.append(b),this.canvas=b,E=b.getContext("2d",{alpha:!1}),A=this.outputScale=new O,"undefined"!=typeof PDFJSDev&&!PDFJSDev.test("GENERIC")||0!==this.maxCanvasPixels?this.maxCanvasPixels>0&&(C=y*m,_=Math.sqrt(this.maxCanvasPixels/C),A.sx>_||A.sy>_?(A.sx=_,A.sy=_,GB(JB,this,!0)):GB(JB,this,!1)):(k=1/this.scale,A.sx*=k,A.sy*=k,GB(JB,this,!0)),F=R(A.sx),P=R(A.sy),b.width=W(y*A.sx,F[0]),b.height=W(m*A.sy,P[0]),(L=b.style).width=W(y,F[1])+"px",L.height=W(m,P[1])+"px",WB(tj,this).set(b,o),T=A.scaled?[A.sx,0,0,A.sy,0,0]:null,I={canvasContext:E,transform:T,viewport:o,annotationMode:WB(zB,this),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:r},(M=this.renderTask=i.render(I)).onContinue=v,B=M.promise.then(MB(TB().mark((function t(){var e,r,o,u;return TB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(e=D)||void 0===e||e(!0),t.next=3,HB(nj,H,Dj).call(H,M);case 3:if(HB(nj,H,vj).call(H),!H.annotationLayer){t.next=7;break}return t.next=7,HB(nj,H,uj).call(H);case 7:if(r=WB(YB,H),o=r.annotationEditorUIManager){t.next=10;break}return t.abrupt("return");case 10:return H.drawLayer||(H.drawLayer=new hM({pageIndex:H.id})),t.next=13,HB(nj,H,hj).call(H);case 13:H.drawLayer.setParent(a),H.annotationEditorLayer||(H.annotationEditorLayer=new BI({uiManager:o,pdfPage:i,l10n:n,accessibilityManager:H._accessibilityManager,annotationLayer:null===(u=H.annotationLayer)||void 0===u?void 0:u.annotationLayer,textLayer:H.textLayer,drawLayer:H.drawLayer.getDrawLayer(),onAppend:function(t){HB(nj,H,ij).call(H,t,"annotationEditorLayer")}})),HB(nj,H,lj).call(H);case 16:case"end":return t.stop()}}),t)}))),(function(t){var e;t instanceof sn||(null===(e=D)||void 0===e||e(!0));return HB(nj,H,Dj).call(H,M,t)})),i.isPureXfa&&(this.xfaLayer||(j=WB(YB,this),N=j.annotationStorage,G=j.linkService,this.xfaLayer=new JL({pdfPage:i,annotationStorage:N,linkService:G})),HB(nj,this,dj).call(this)),e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),t.abrupt("return",B);case 40:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"setPageLabel",value:function(t){var e;this.pageLabel="string"==typeof t?t:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:null!==(e=this.pageLabel)&&void 0!==e?e:this.id})),null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"thumbnailCanvas",get:function(){var t=WB($B,this),e=t.directDrawing,n=t.initialOptionalContent,r=t.regularAnnotations;return e&&n&&r?this.canvas:null}}])}();function ij(t,e){var n=UB.get(e),r=WB(ej,this)[n];if(WB(ej,this)[n]=t,r)r.replaceWith(t);else{for(var i=n-1;i>=0;i--){var o=WB(ej,this)[i];if(o)return void o.after(t)}this.div.prepend(t)}}function oj(){var t=this.viewport;if(this.pdfPage){if(WB(XB,this)===t.rotation)return;GB(XB,this,t.rotation)}Dn(this.div,t,!0,!1)}function aj(t,e){this.eventBus.dispatch(t,{source:this,pageNumber:this.id,error:e})}function uj(){return sj.apply(this,arguments)}function sj(){return(sj=MB(TB().mark((function t(){var e;return TB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.prev=1,t.next=4,this.annotationLayer.render(this.viewport,"display");case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error('#renderAnnotationLayer: "'.concat(t.t0,'".')),e=t.t0;case 10:return t.prev=10,HB(nj,this,aj).call(this,"annotationlayerrendered",e),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[1,6,10,13]])})))).apply(this,arguments)}function lj(){return cj.apply(this,arguments)}function cj(){return(cj=MB(TB().mark((function t(){var e;return TB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.prev=1,t.next=4,this.annotationEditorLayer.render(this.viewport,"display");case 4:t.next=10;break;case 6:t.prev=6,t.t0=t.catch(1),console.error('#renderAnnotationEditorLayer: "'.concat(t.t0,'".')),e=t.t0;case 10:return t.prev=10,HB(nj,this,aj).call(this,"annotationeditorlayerrendered",e),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[1,6,10,13]])})))).apply(this,arguments)}function hj(){return fj.apply(this,arguments)}function fj(){return(fj=MB(TB().mark((function t(){return TB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.drawLayer.render("display");case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error('#renderDrawLayer: "'.concat(t.t0,'".'));case 8:case"end":return t.stop()}}),t,this,[[0,5]])})))).apply(this,arguments)}function dj(){return pj.apply(this,arguments)}function pj(){return(pj=MB(TB().mark((function t(){var e,n,r;return TB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.prev=1,t.next=4,this.xfaLayer.render(this.viewport,"display");case 4:null!=(n=t.sent)&&n.textDivs&&this._textHighlighter&&HB(nj,this,bj).call(this,n.textDivs),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),console.error('#renderXfaLayer: "'.concat(t.t0,'".')),e=t.t0;case 12:return t.prev=12,null!==(r=this.xfaLayer)&&void 0!==r&&r.div&&(this.l10n.pause(),HB(nj,this,ij).call(this,this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),HB(nj,this,aj).call(this,"xfalayerrendered",e),t.finish(12);case 16:case"end":return t.stop()}}),t,this,[[1,8,12,16]])})))).apply(this,arguments)}function vj(){return yj.apply(this,arguments)}function yj(){return(yj=MB(TB().mark((function t(){var e;return TB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.textLayer){t.next=2;break}return t.abrupt("return");case 2:return e=null,t.prev=3,t.next=6,this.textLayer.render(this.viewport);case 6:t.next=14;break;case 8:if(t.prev=8,t.t0=t.catch(3),!(t.t0 instanceof Kt.e3)){t.next=12;break}return t.abrupt("return");case 12:console.error('#renderTextLayer: "'.concat(t.t0,'".')),e=t.t0;case 14:HB(nj,this,aj).call(this,"textlayerrendered",e),HB(nj,this,gj).call(this);case 16:case"end":return t.stop()}}),t,this,[[3,8]])})))).apply(this,arguments)}function gj(){return mj.apply(this,arguments)}function mj(){return(mj=MB(TB().mark((function t(){var e,n,r,i,o;return TB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.textLayer){t.next=2;break}return t.abrupt("return");case 2:return this.structTreeLayer||(this.structTreeLayer=new kM),t.next=5,this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree();case 5:r=t.sent,(i=null===(e=this.structTreeLayer)||void 0===e?void 0:e.render(r))&&(this.l10n.pause(),null===(o=this.canvas)||void 0===o||o.append(i),this.l10n.resume()),null===(n=this.structTreeLayer)||void 0===n||n.show();case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function bj(t){return wj.apply(this,arguments)}function wj(){return(wj=MB(TB().mark((function t(e){var n,r,i,o,a;return TB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.pdfPage.getTextContent();case 2:n=t.sent,r=[],i=LB(n.items);try{for(i.s();!(o=i.n()).done;)a=o.value,r.push(a.str)}catch(t){i.e(t)}finally{i.f()}this._textHighlighter.setTextMapping(e,r),this._textHighlighter.enable();case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Dj(t){return Ej.apply(this,arguments)}function Ej(){return Ej=MB(TB().mark((function t(e){var n,r=arguments;return TB().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:null,e===this.renderTask&&(this.renderTask=null),!(n instanceof sn)){t.next=5;break}return GB(qB,this,null),t.abrupt("return");case 5:if(GB(qB,this,n),this.renderingState=g.FINISHED,this._resetZoomLayer(!0),WB($B,this).regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:WB(qB,this)}),!n){t.next=12;break}throw n;case 12:case"end":return t.stop()}}),t,this)}))),Ej.apply(this,arguments)}function Aj(t){return Aj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Aj(t)}function kj(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sj(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kj(Object(n),!0).forEach((function(e){Cj(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kj(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cj(t,e,n){return(e=jj(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xj(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||Oj(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _j(){_j=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==Aj(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(Aj(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function Fj(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function Pj(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Fj(o,r,i,a,u,"next",t)}function u(t){Fj(o,r,i,a,u,"throw",t)}a(void 0)}))}}function Lj(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Oj(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function Oj(t,e){if(t){if("string"==typeof t)return Tj(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Tj(t,e):void 0}}function Tj(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ij(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mj(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jj(r.key),r)}}function Bj(t,e,n){return e&&Mj(t.prototype,e),n&&Mj(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jj(t){var e=function(t,e){if("object"!=Aj(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Aj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Aj(e)?e:e+""}function Nj(t,e){Wj(t,e),e.add(t)}function Rj(t,e,n){Wj(t,e),e.set(t,n)}function Wj(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gj(t,e){return t.get(Vj(t,e))}function Hj(t,e,n){return t.set(Vj(t,e),n),n}function Vj(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var Uj={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function zj(t){return Object.values(Kt.vP).includes(t)&&t!==Kt.vP.DISABLE}var Jj=new WeakMap,Yj=new WeakMap,Kj=new WeakSet,Xj=function(){return Bj((function t(e){Ij(this,t),Nj(this,Kj),Rj(this,Jj,new Set),Rj(this,Yj,0),Hj(Yj,this,e)}),[{key:"push",value:function(t){var e=Gj(Jj,this);e.has(t)&&e.delete(t),e.add(t),e.size>Gj(Yj,this)&&Vj(Kj,this,qj).call(this)}},{key:"resize",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Hj(Yj,this,t);var n=Gj(Jj,this);if(e){var r,i=n.size,o=1,a=Lj(n);try{for(a.s();!(r=a.n()).done;){var u=r.value;if(e.has(u.id)&&(n.delete(u),n.add(u)),++o>i)break}}catch(t){a.e(t)}finally{a.f()}}for(;n.size>Gj(Yj,this);)Vj(Kj,this,qj).call(this)}},{key:"has",value:function(t){return Gj(Jj,this).has(t)}},{key:Symbol.iterator,value:function(){return Gj(Jj,this).keys()}}])}();function qj(){var t=Gj(Jj,this).keys().next().value;null==t||t.destroy(),Gj(Jj,this).delete(t)}var Zj=new WeakMap,Qj=new WeakMap,$j=new WeakMap,tN=new WeakMap,eN=new WeakMap,nN=new WeakMap,rN=new WeakMap,iN=new WeakMap,oN=new WeakMap,aN=new WeakMap,uN=new WeakMap,sN=new WeakMap,lN=new WeakMap,cN=new WeakMap,hN=new WeakMap,fN=new WeakMap,dN=new WeakMap,pN=new WeakMap,vN=new WeakMap,yN=new WeakSet,gN=function(){return Bj((function t(e){var n,r,i,o=this;Ij(this,t),Nj(this,yN),Rj(this,Zj,null),Rj(this,Qj,null),Rj(this,$j,null),Rj(this,tN,Kt.vP.NONE),Rj(this,eN,null),Rj(this,nN,Kt.ng.ENABLE_FORMS),Rj(this,rN,null),Rj(this,iN,!1),Rj(this,oN,!1),Rj(this,aN,null),Rj(this,uN,null),Rj(this,sN,!1),Rj(this,lN,null),Rj(this,cN,!1),Rj(this,hN,0),Rj(this,fN,new ResizeObserver(Vj(yN,this,TN).bind(this))),Rj(this,dN,null),Rj(this,pN,null),Rj(this,vN,C);var a="undefined"!=typeof PDFJSDev?PDFJSDev.eval("BUNDLE_VERSION"):null;if(Sf!==a)throw new Error('The API version "'.concat(Sf,'" does not match the Viewer version "').concat(a,'".'));if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,"undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC")){var u,s;if("DIV"!==(null===(u=this.container)||void 0===u?void 0:u.tagName)||"DIV"!==(null===(s=this.viewer)||void 0===s?void 0:s.tagName))throw new Error("Invalid `container` and/or `viewer` option.");window.containerStyle=getComputedStyle(this.container)}Gj(fN,this).observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new Yt,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,Hj(Qj,this,e.altTextManager||null),this.findController&&(this.findController.onIsPageVisible=function(t){return o._getVisiblePages().ids.has(t)}),this._scriptingManager=e.scriptingManager||null,Hj(vN,this,null!==(n=e.textLayerMode)&&void 0!==n?n:C),Hj(nN,this,null!==(r=e.annotationMode)&&void 0!==r?r:Kt.ng.ENABLE_FORMS),Hj(tN,this,null!==(i=e.annotationEditorMode)&&void 0!==i?i:Kt.vP.NONE),Hj($j,this,e.annotationEditorHighlightColors||null),Hj(iN,this,!0===e.enableHighlightFloatingButton),this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(this.removePageBorders=e.removePageBorders||!1),this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(this.l10n||(this.l10n=new _k)),Hj(oN,this,e.enablePermissions||!1),this.pageColors=e.pageColors||null,Hj(uN,this,e.mlManager||null),this.defaultRenderingQueue=!e.renderingQueue,("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&this.defaultRenderingQueue?(this.renderingQueue=new mO,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;var l=e.abortSignal;null==l||l.addEventListener("abort",(function(){Gj(fN,o).disconnect(),Hj(fN,o,null)}),{once:!0}),this.scroll=I(this.container,this._scrollUpdate.bind(this),l),this.presentationModeState=m.UNKNOWN,this._resetView(),("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Vj(yN,this,ON).call(this),this.eventBus._on("thumbnailrendered",(function(t){var e=t.pageNumber,n=t.pdfPage,r=o._pages[e-1];Gj(Zj,o).has(r)||null==n||n.cleanup()})),"undefined"!=typeof PDFJSDev&&!PDFJSDev.test("GENERIC")||e.l10n||this.l10n.translate(this.container)}),[{key:"pagesCount",get:function(){return this._pages.length}},{key:"getPageView",value:function(t){return this._pages[t]}},{key:"getCachedPageViews",value:function(){return new Set(Gj(Zj,this))}},{key:"pageViewsReady",get:function(){return this._pages.every((function(t){return null==t?void 0:t.pdfPage}))}},{key:"renderForms",get:function(){return Gj(nN,this)===Kt.ng.ENABLE_FORMS}},{key:"enableScripting",get:function(){return!!this._scriptingManager}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(t){if(!Number.isInteger(t))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(t,!0)||console.error('currentPageNumber: "'.concat(t,'" is not a valid page.')))}},{key:"_setCurrentPageNumber",value:function(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===t)return r&&Vj(yN,this,_N).call(this),!0;if(!(0<t&&t<=this.pagesCount))return!1;var i=this._currentPageNumber;return this._currentPageNumber=t,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:t,pageLabel:null!==(e=null===(n=this._pageLabels)||void 0===n?void 0:n[t-1])&&void 0!==e?e:null,previous:i}),r&&Vj(yN,this,_N).call(this),!0}},{key:"currentPageLabel",get:function(){var t,e;return null!==(t=null===(e=this._pageLabels)||void 0===e?void 0:e[this._currentPageNumber-1])&&void 0!==t?t:null},set:function(t){if(this.pdfDocument){var e=0|t;if(this._pageLabels){var n=this._pageLabels.indexOf(t);n>=0&&(e=n+1)}this._setCurrentPageNumber(e,!0)||console.error('currentPageLabel: "'.concat(t,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return 0!==this._currentScale?this._currentScale:1},set:function(t){if(isNaN(t))throw new Error("Invalid numeric scale.");this.pdfDocument&&Vj(yN,this,xN).call(this,t,{noScroll:!1})}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(t){this.pdfDocument&&Vj(yN,this,xN).call(this,t,{noScroll:!1})}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(t){if(!V(t))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&((t%=360)<0&&(t+=360),this._pagesRotation!==t)){this._pagesRotation=t;var e=this._currentPageNumber;this.refresh(!0,{rotation:t}),this._currentScaleValue&&Vj(yN,this,xN).call(this,this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:t,pageNumber:e}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_layerProperties",get:function(){var t=this;return(0,Kt.r7)(this,"_layerProperties",{get annotationEditorUIManager(){return Gj(eN,t)},get annotationStorage(){var e;return null===(e=t.pdfDocument)||void 0===e?void 0:e.annotationStorage},get downloadManager(){return t.downloadManager},get enableScripting(){return!!t._scriptingManager},get fieldObjectsPromise(){var e;return null===(e=t.pdfDocument)||void 0===e?void 0:e.getFieldObjects()},get findController(){return t.findController},get hasJSActionsPromise(){var e;return null===(e=t.pdfDocument)||void 0===e?void 0:e.hasJSActions()},get linkService(){return t.linkService}})}},{key:"getAllText",value:(t=Pj(_j().mark((function t(){var e,n,r,i,o,a,u,s,l,c;return _j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=[],n=[],r=1,i=this.pdfDocument.numPages;case 3:if(!(r<=i)){t.next=20;break}if(!Gj(cN,this)){t.next=6;break}return t.abrupt("return",null);case 6:return n.length=0,t.next=9,this.pdfDocument.getPage(r);case 9:return o=t.sent,t.next=12,o.getTextContent();case 12:a=t.sent,u=a.items,s=Lj(u);try{for(s.s();!(l=s.n()).done;)(c=l.value).str&&n.push(c.str),c.hasEOL&&n.push("\n")}catch(t){s.e(t)}finally{s.f()}e.push(j(n.join("")));case 17:++r,t.next=3;break;case 20:return t.abrupt("return",e.join("\n"));case 21:case"end":return t.stop()}}),t,this)}))),function(){return t.apply(this,arguments)})},{key:"setDocument",value:function(t){var e,n,r=this;this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),null===(e=this.findController)||void 0===e||e.setDocument(null),null===(n=this._scriptingManager)||void 0===n||n.setDocument(null),Gj(eN,this)&&(Gj(eN,this).destroy(),Hj(eN,this,null)));if(this.pdfDocument=t,t){var i=t.numPages,o=t.getPage(1),a=t.getOptionalContentConfig({intent:"display"}),u=Gj(oN,this)?t.getPermissions():Promise.resolve(),s=this.eventBus,l=this.pageColors,c=this.viewer;Hj(aN,this,new AbortController);var h=Gj(aN,this).signal;if(i>Uj.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");var f=this._scrollMode=_.PAGE;s.dispatch("scrollmodechanged",{source:this,mode:f})}this._pagesCapability.promise.then((function(){s.dispatch("pagesloaded",{source:r,pagesCount:i})}),(function(){}));s._on("pagerender",(function(t){var e=r._pages[t.pageNumber-1];e&&Gj(Zj,r).push(e)}),{signal:h});s._on("pagerendered",(function t(e){e.cssTransform||(r._onePageRenderedCapability.resolve({timestamp:e.timestamp}),s._off("pagerendered",t))}),{signal:h}),Promise.all([o,u]).then((function(e){var n,o=xj(e,2),u=o[0],f=o[1];if(t===r.pdfDocument){r._firstPageCapability.resolve(u),r._optionalContentConfigPromise=a;var d=Vj(yN,r,mN).call(r,f),p=d.annotationEditorMode,v=d.annotationMode,y=d.textLayerMode;if(y!==S){var g=Hj(lN,r,document.createElement("div"));g.id="hiddenCopyElement",c.before(g)}if(p!==Kt.vP.DISABLE){var m=p;t.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):zj(m)?(Hj(eN,r,new Ri(r.container,c,Gj(Qj,r),s,t,l,Gj($j,r),Gj(iN,r),Gj(uN,r))),s.dispatch("annotationeditoruimanager",{source:r,uiManager:Gj(eN,r)}),m!==Kt.vP.NONE&&Gj(eN,r).updateMode(m)):console.error("Invalid AnnotationEditor mode: ".concat(m))}var b=r._scrollMode===_.PAGE?null:c,w=r.currentScale,D=u.getViewport({scale:w*Ie.PDF_TO_CSS_UNITS});c.style.setProperty("--scale-factor",D.scale),"CanvasText"!==(null==l?void 0:l.foreground)&&"Canvas"!==(null==l?void 0:l.background)||(c.style.setProperty("--hcm-highlight-filter",t.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),c.style.setProperty("--hcm-highlight-selected-filter",t.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(var E=1;E<=i;++E){var A=new rj({container:b,eventBus:s,id:E,scale:w,defaultViewport:D.clone(),optionalContentConfigPromise:a,renderingQueue:r.renderingQueue,textLayerMode:y,annotationMode:v,imageResourcesPath:r.imageResourcesPath,maxCanvasPixels:r.maxCanvasPixels,pageColors:l,l10n:r.l10n,layerProperties:r._layerProperties});r._pages.push(A)}null===(n=r._pages[0])||void 0===n||n.setPdfPage(u),r._scrollMode===_.PAGE?Vj(yN,r,EN).call(r):r._spreadMode!==F.NONE&&r._updateSpreadMode(),Vj(yN,r,bN).call(r,h).then(Pj(_j().mark((function e(){var n,o,a,u,l;return _j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===r.pdfDocument){e.next=2;break}return e.abrupt("return");case 2:if(null===(n=r.findController)||void 0===n||n.setDocument(t),null===(o=r._scriptingManager)||void 0===o||o.setDocument(t),Gj(lN,r)&&document.addEventListener("copy",Vj(yN,r,DN).bind(r,y),{signal:h}),Gj(eN,r)&&s.dispatch("annotationeditormodechanged",{source:r,mode:Gj(tN,r)}),!(t.loadingParams.disableAutoFetch||i>Uj.FORCE_LAZY_PAGE_INIT)){e.next=9;break}return r._pagesCapability.resolve(),e.abrupt("return");case 9:if(!((a=i-1)<=0)){e.next=13;break}return r._pagesCapability.resolve(),e.abrupt("return");case 13:u=_j().mark((function e(n){var i;return _j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getPage(n).then((function(t){var e=r._pages[n-1];e.pdfPage||e.setPdfPage(t),0==--a&&r._pagesCapability.resolve()}),(function(t){console.error("Unable to get page ".concat(n," to initialize viewer"),t),0==--a&&r._pagesCapability.resolve()})),n%Uj.PAUSE_EAGER_PAGE_INIT!=0){e.next=4;break}return e.next=4,i;case 4:case"end":return e.stop()}}),e)})),l=2;case 15:if(!(l<=i)){e.next=20;break}return e.delegateYield(u(l),"t0",17);case 17:++l,e.next=15;break;case 20:case"end":return e.stop()}}),e)})))),s.dispatch("pagesinit",{source:r}),t.getMetadata().then((function(e){var n=e.info;t===r.pdfDocument&&n.Language&&(c.lang=n.Language)})),r.defaultRenderingQueue&&r.update()}})).catch((function(t){console.error("Unable to initialize viewer",t),r._pagesCapability.reject(t)}))}}},{key:"setPageLabels",value:function(t){if(this.pdfDocument){t?Array.isArray(t)&&this.pdfDocument.numPages===t.length?this._pageLabels=t:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(var e=0,n=this._pages.length;e<n;e++){var r,i;this._pages[e].setPageLabel(null!==(r=null===(i=this._pageLabels)||void 0===i?void 0:i[e])&&void 0!==r?r:null)}}}},{key:"_resetView",value:function(){var t,e;this._pages=[],this._currentPageNumber=1,this._currentScale=0,this._currentScaleValue=null,this._pageLabels=null,Hj(Zj,this,new Xj(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=_.VERTICAL,this._previousScrollMode=_.UNKNOWN,this._spreadMode=F.NONE,Hj(dN,this,{previousPageNumber:1,scrollDown:!0,pages:[]}),null===(t=Gj(aN,this))||void 0===t||t.abort(),Hj(aN,this,null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),null===(e=Gj(lN,this))||void 0===e||e.remove(),Hj(lN,this,null)}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"pageLabelToPageNumber",value:function(t){if(!this._pageLabels)return null;var e=this._pageLabels.indexOf(t);return e<0?null:e+1}},{key:"scrollPageIntoView",value:function(t){var e=t.pageNumber,n=t.destArray,r=void 0===n?null:n,i=t.allowNegativeOffset,o=void 0!==i&&i,a=t.ignoreDestinationZoom,u=void 0!==a&&a;if(this.pdfDocument){var s=Number.isInteger(e)&&this._pages[e-1];if(s)if(!this.isInPresentationMode&&r){var l,c,h=0,f=0,p=0,g=0,m=s.rotation%180!=0,b=(m?s.height:s.width)/s.scale/Ie.PDF_TO_CSS_UNITS,w=(m?s.width:s.height)/s.scale/Ie.PDF_TO_CSS_UNITS,D=0;switch(r[1].name){case"XYZ":h=r[2],f=r[3],D=r[4],h=null!==h?h:0,f=null!==f?f:w;break;case"Fit":case"FitB":D="page-fit";break;case"FitH":case"FitBH":D="page-width",null===(f=r[2])&&this._location?(h=this._location.left,f=this._location.top):("number"!=typeof f||f<0)&&(f=w);break;case"FitV":case"FitBV":h=r[2],p=b,g=w,D="page-height";break;case"FitR":h=r[2],f=r[3],p=r[4]-h,g=r[5]-f;var E=v,A=y;("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&this.removePageBorders&&(E=A=0),l=(this.container.clientWidth-E)/p/Ie.PDF_TO_CSS_UNITS,c=(this.container.clientHeight-A)/g/Ie.PDF_TO_CSS_UNITS,D=Math.min(Math.abs(l),Math.abs(c));break;default:return void console.error('scrollPageIntoView: "'.concat(r[1].name,'" is not a valid destination type.'))}if(u||(D&&D!==this._currentScale?this.currentScaleValue=D:0===this._currentScale&&(this.currentScaleValue=d)),"page-fit"!==D||r[4]){var k=[s.viewport.convertToViewportPoint(h,f),s.viewport.convertToViewportPoint(h+p,f+g)],S=Math.min(k[0][0],k[1][0]),C=Math.min(k[0][1],k[1][1]);o||(S=Math.max(S,0),C=Math.max(C,0)),Vj(yN,this,AN).call(this,s,{left:S,top:C})}else Vj(yN,this,AN).call(this,s)}else this._setCurrentPageNumber(e,!0);else console.error('scrollPageIntoView: "'.concat(e,'" is not a valid pageNumber parameter.'))}}},{key:"_updateLocation",value:function(t){var e=this._currentScale,n=this._currentScaleValue,r=parseFloat(n)===e?Math.round(1e4*e)/100:n,i=t.id,o=this._pages[i-1],a=this.container,u=o.getPagePoint(a.scrollLeft-t.x,a.scrollTop-t.y),s=Math.round(u[0]),l=Math.round(u[1]),c="#page=".concat(i);this.isInPresentationMode||(c+="&zoom=".concat(r,",").concat(s,",").concat(l)),this._location={pageNumber:i,scale:r,top:l,left:s,rotation:this._pagesRotation,pdfOpenParams:c}}},{key:"update",value:function(){var t=this._getVisiblePages(),e=t.views,n=e.length;if(0!==n){var r=Math.max(10,2*n+1);Gj(Zj,this).resize(r,t.ids),this.renderingQueue.renderHighestPriority(t);var i,o=this._spreadMode===F.NONE&&(this._scrollMode===_.PAGE||this._scrollMode===_.VERTICAL),a=this._currentPageNumber,u=!1,s=Lj(e);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(l.percent<100)break;if(l.id===a&&o){u=!0;break}}}catch(t){s.e(t)}finally{s.f()}this._setCurrentPageNumber(u?a:e[0].id),this._updateLocation(t.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(t){return this.container.contains(t)}},{key:"focus",value:function(){this.container.focus()}},{key:"_isContainerRtl",get:function(){return"rtl"===getComputedStyle(this.container).direction}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===m.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===m.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"_getVisiblePages",value:function(){var t=this._scrollMode===_.PAGE?Gj(dN,this).pages:this._pages,e=this._scrollMode===_.HORIZONTAL,n=e&&this._isContainerRtl;return G({scrollEl:this.container,views:t,sortByVisibility:!0,horizontal:e,rtl:n})}},{key:"cleanup",value:function(){var t,e=Lj(this._pages);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.renderingState!==g.FINISHED&&n.reset()}}catch(t){e.e(t)}finally{e.f()}}},{key:"_cancelRendering",value:function(){var t,e=Lj(this._pages);try{for(e.s();!(t=e.n()).done;){t.value.cancelRendering()}}catch(t){e.e(t)}finally{e.f()}}},{key:"forceRendering",value:function(t){var e=this,n=t||this._getVisiblePages(),r=Vj(yN,this,LN).call(this,n),i=this._spreadMode!==F.NONE&&this._scrollMode!==_.HORIZONTAL,o=this.renderingQueue.getHighestPriority(n,this._pages,r,i);return!!o&&(Vj(yN,this,FN).call(this,o).then((function(){e.renderingQueue.renderView(o)})),!0)}},{key:"hasEqualPageSizes",get:function(){for(var t=this._pages[0],e=1,n=this._pages.length;e<n;++e){var r=this._pages[e];if(r.width!==t.width||r.height!==t.height)return!1}return!0}},{key:"getPagesOverview",value:function(){var t,e=this;return this._pages.map((function(n){var r=n.pdfPage.getViewport({scale:1}),i=J(r);if(void 0===t)t=i;else if(e.enablePrintAutoRotate&&i!==t)return{width:r.height,height:r.width,rotation:(r.rotation-90)%360};return{width:r.width,height:r.height,rotation:r.rotation}}))}},{key:"optionalContentConfigPromise",get:function(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)},set:function(t){if(!(t instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(t));this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=t,this.refresh(!1,{optionalContentConfigPromise:t}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:t}))}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(t){if(!("undefined"==typeof PDFJSDev?window.isGECKOVIEW:PDFJSDev.test("GECKOVIEW"))&&this._scrollMode!==t){if(!U(t))throw new Error("Invalid scroll mode: ".concat(t));this.pagesCount>Uj.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=t,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:t}),this._updateScrollMode(this._currentPageNumber))}}},{key:"_updateScrollMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this._scrollMode,n=this.viewer;n.classList.toggle("scrollHorizontal",e===_.HORIZONTAL),n.classList.toggle("scrollWrapped",e===_.WRAPPED),this.pdfDocument&&t&&(e===_.PAGE?Vj(yN,this,EN).call(this):this._previousScrollMode===_.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&Vj(yN,this,xN).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(t,!0),this.update())}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(t){if(!("undefined"==typeof PDFJSDev?window.isGECKOVIEW:PDFJSDev.test("GECKOVIEW"))&&this._spreadMode!==t){if(!z(t))throw new Error("Invalid spread mode: ".concat(t));this._spreadMode=t,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:t}),this._updateSpreadMode(this._currentPageNumber)}}},{key:"_updateSpreadMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var e=this.viewer,n=this._pages;if(this._scrollMode===_.PAGE)Vj(yN,this,EN).call(this);else if(e.textContent="",this._spreadMode===F.NONE){var r,i=Lj(this._pages);try{for(i.s();!(r=i.n()).done;){var o=r.value;e.append(o.div)}}catch(t){i.e(t)}finally{i.f()}}else for(var a=this._spreadMode-1,u=null,s=0,l=n.length;s<l;++s)null===u?((u=document.createElement("div")).className="spread",e.append(u)):s%2===a&&(u=u.cloneNode(!1),e.append(u)),u.append(n[s].div);t&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&Vj(yN,this,xN).call(this,this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(t,!0),this.update())}}},{key:"_getPageAdvance",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this._scrollMode){case _.WRAPPED:var n,r=this._getVisiblePages().views,i=new Map,o=Lj(r);try{for(o.s();!(n=o.n()).done;){var a=n.value,u=a.id,s=a.y,l=a.percent,c=a.widthPercent;if(!(0===l||c<100)){var h=i.get(s);h||i.set(s,h||(h=[])),h.push(u)}}}catch(t){o.e(t)}finally{o.f()}var f,d=Lj(i.values());try{for(d.s();!(f=d.n()).done;){var p=f.value,v=p.indexOf(t);if(-1!==v){var y=p.length;if(1===y)break;if(e)for(var g=v-1;g>=0;g--){var m=p[g],b=p[g+1]-1;if(m<b)return t-b}else for(var w=v+1,D=y;w<D;w++){var E=p[w],A=p[w-1]+1;if(E>A)return A-t}if(e){var k=p[0];if(k<t)return t-k+1}else{var S=p[y-1];if(S>t)return S-t+1}break}}}catch(t){d.e(t)}finally{d.f()}break;case _.HORIZONTAL:break;case _.PAGE:case _.VERTICAL:if(this._spreadMode===F.NONE)break;var C=this._spreadMode-1;if(e&&t%2!==C)break;if(!e&&t%2===C)break;var x,P=e?t-1:t+1,L=Lj(this._getVisiblePages().views);try{for(L.s();!(x=L.n()).done;){var O=x.value,T=O.id,I=O.percent,M=O.widthPercent;if(T===P){if(I>0&&100===M)return 2;break}}}catch(t){L.e(t)}finally{L.f()}}return 1}},{key:"nextPage",value:function(){var t=this._currentPageNumber,e=this.pagesCount;if(t>=e)return!1;var n=this._getPageAdvance(t,!1)||1;return this.currentPageNumber=Math.min(t+n,e),!0}},{key:"previousPage",value:function(){var t=this._currentPageNumber;if(t<=1)return!1;var e=this._getPageAdvance(t,!0)||1;return this.currentPageNumber=Math.max(t-e,1),!0}},{key:"updateScale",value:function(t){var e=t.drawingDelay,n=t.scaleFactor,r=void 0===n?null:n,i=t.steps,o=void 0===i?null:i,a=t.origin;if(console.log({drawingDelay:e,scaleFactor:r,steps:o,origin:a}),null===o&&null===r)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(this.pdfDocument){var u=this._currentScale;if(r>0&&1!==r)u=Math.round(u*r*100)/100;else if(o){var s=o>0?1.1:1/1.1,l=o>0?Math.ceil:Math.floor;o=Math.abs(o);do{u=l(10*(u*s).toFixed(2))/10}while(--o>0)}u=Math.max(.1,Math.min(10,u)),Vj(yN,this,xN).call(this,u,{noScroll:!1,drawingDelay:e,origin:a})}}},{key:"increaseScale",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.updateScale(Sj(Sj({},e),{},{steps:null!==(t=e.steps)&&void 0!==t?t:1}))}},{key:"decreaseScale",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.updateScale(Sj(Sj({},e),{},{steps:-(null!==(t=e.steps)&&void 0!==t?t:1)}))}},{key:"containerTopLeft",get:function(){return Gj(rN,this)||Hj(rN,this,[this.container.offsetTop,this.container.offsetLeft])}},{key:"annotationEditorMode",get:function(){return Gj(eN,this)?Gj(tN,this):Kt.vP.DISABLE},set:function(t){var e=t.mode,n=t.editId,r=void 0===n?null:n,i=t.isFromKeyboard,o=void 0!==i&&i;if(!Gj(eN,this))throw new Error("The AnnotationEditor is not enabled.");if(Gj(tN,this)!==e){if(!zj(e))throw new Error("Invalid AnnotationEditor mode: ".concat(e));this.pdfDocument&&(Hj(tN,this,e),this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:e}),Gj(eN,this).updateMode(e,r,o))}}},{key:"annotationEditorParams",set:function(t){var e=t.type,n=t.value;if(!Gj(eN,this))throw new Error("The AnnotationEditor is not enabled.");Gj(eN,this).updateParams(e,n)}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null);if(this.pdfDocument){var n,r=Lj(this._pages);try{for(r.s();!(n=r.n()).done;){n.value.update(e)}}catch(t){r.e(t)}finally{r.f()}null!==Gj(pN,this)&&(clearTimeout(Gj(pN,this)),Hj(pN,this,null)),t||this.update()}}}]);var t}();function mN(t){var e={annotationEditorMode:Gj(tN,this),annotationMode:Gj(nN,this),textLayerMode:Gj(vN,this)};return t?(t.includes(Kt._i.COPY)||Gj(vN,this)!==C||(e.textLayerMode=x),t.includes(Kt._i.MODIFY_CONTENTS)||(e.annotationEditorMode=Kt.vP.DISABLE),t.includes(Kt._i.MODIFY_ANNOTATIONS)||t.includes(Kt._i.FILL_INTERACTIVE_FORMS)||Gj(nN,this)!==Kt.ng.ENABLE_FORMS||(e.annotationMode=Kt.ng.ENABLE),e):e}function bN(t){return wN.apply(this,arguments)}function wN(){return(wN=Pj(_j().mark((function t(e){var n,r;return _j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=function(){"hidden"===document.visibilityState&&n.resolve()},"hidden"!==document.visibilityState&&this.container.offsetParent&&0!==this._getVisiblePages().views.length){t.next=3;break}return t.abrupt("return");case 3:return n=Promise.withResolvers(),document.addEventListener("visibilitychange",r,{signal:e}),t.next=7,Promise.race([this._onePageRenderedCapability.promise,n.promise]);case 7:document.removeEventListener("visibilitychange",r);case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function DN(t,e){var n=this,r=document.getSelection(),i=r.focusNode;if(r.anchorNode&&i&&r.containsNode(Gj(lN,this))){if(Gj(sN,this)||t===x)return e.preventDefault(),void e.stopPropagation();Hj(sN,this,!0);var o=this.container.style.cursor;this.container.style.cursor="wait";var a=function(t){return Hj(cN,n,"Escape"===t.key)};window.addEventListener("keydown",a),this.getAllText().then(function(){var t=Pj(_j().mark((function t(e){return _j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e){t.next=3;break}return t.next=3,navigator.clipboard.writeText(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){console.warn("Something goes wrong when extracting the text: ".concat(t.message))})).finally((function(){Hj(sN,n,!1),Hj(cN,n,!1),window.removeEventListener("keydown",a),n.container.style.cursor=o})),e.preventDefault(),e.stopPropagation()}}function EN(){if(this._scrollMode!==_.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");var t=this._currentPageNumber,e=Gj(dN,this),n=this.viewer;if(n.textContent="",e.pages.length=0,this._spreadMode!==F.NONE||this.isInPresentationMode){var r=new Set,i=this._spreadMode-1;-1===i?r.add(t-1):t%2!==i?(r.add(t-1),r.add(t)):(r.add(t-2),r.add(t-1));var o=document.createElement("div");if(o.className="spread",this.isInPresentationMode){var a=document.createElement("div");a.className="dummyPage",o.append(a)}var u,s=Lj(r);try{for(s.s();!(u=s.n()).done;){var l=u.value,c=this._pages[l];c&&(o.append(c.div),e.pages.push(c))}}catch(t){s.e(t)}finally{s.f()}n.append(o)}else{var h=this._pages[t-1];n.append(h.div),e.pages.push(h)}e.scrollDown=t>=e.previousPageNumber,e.previousPageNumber=t}function AN(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.div,r=t.id;if(this._currentPageNumber!==r&&this._setCurrentPageNumber(r),this._scrollMode===_.PAGE&&(Vj(yN,this,EN).call(this),this.update()),!e&&!this.isInPresentationMode){var i=n.offsetLeft+n.clientLeft,o=i+n.clientWidth,a=this.container,u=a.scrollLeft,s=a.clientWidth;(this._scrollMode===_.HORIZONTAL||i<u||o>u+s)&&(e={left:0,top:0})}T(n,e),!this._currentScaleValue&&this._location&&(this._location=null)}function kN(t){return t===this._currentScale||Math.abs(t-this._currentScale)<1e-15}function SN(t,e,n){var r=this,i=n.noScroll,o=void 0!==i&&i,a=n.preset,u=void 0!==a&&a,s=n.drawingDelay,l=void 0===s?-1:s,c=n.origin,h=void 0===c?null:c;if(this._currentScaleValue=e.toString(),Vj(yN,this,kN).call(this,t))u&&this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:e});else{this.viewer.style.setProperty("--scale-factor",t*Ie.PDF_TO_CSS_UNITS);var f=l>=0&&l<1e3;this.refresh(!0,{scale:t,drawingDelay:f?l:-1}),f&&Hj(pN,this,setTimeout((function(){Hj(pN,r,null),r.refresh()}),l));var d=this._currentScale;if(this._currentScale=t,!o){var p,v=this._currentPageNumber;if(!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(v=this._location.pageNumber,p=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:v,destArray:p,allowNegativeOffset:!0}),Array.isArray(h)){var y=t/d-1,g=xj(this.containerTopLeft,2),m=g[0],b=g[1];this.container.scrollLeft+=(h[0]-b)*y,this.container.scrollTop+=(h[1]-m)*y}}this.eventBus.dispatch("scalechanging",{source:this,scale:t,presetValue:u?e:void 0}),this.defaultRenderingQueue&&this.update()}}function CN(t){return t._spreadMode!==F.NONE&&t._scrollMode!==_.HORIZONTAL?2:1}function xN(t,e){var n=parseFloat(t);if(n>0)e.preset=!1,Vj(yN,this,SN).call(this,n,t,e);else{var r=this._pages[this._currentPageNumber-1];if(!r)return;var i=v,o=y;if(this.isInPresentationMode)i=o=4,this._spreadMode!==F.NONE&&(i*=2);else if(("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&this.removePageBorders)i=o=0;else if(this._scrollMode===_.HORIZONTAL){var a=[o,i];i=a[0],o=a[1]}var u=(this.container.clientWidth-i)/r.width*r.scale/function(t,e,n){return n(Vj(t,e))}(yN,this,CN),s=(this.container.clientHeight-o)/r.height*r.scale;switch(t){case"page-actual":n=1;break;case"page-width":n=u;break;case"page-height":n=s;break;case"page-fit":n=Math.min(u,s);break;case"auto":var l=J(r)?u:Math.min(s,u);n=Math.min(p,l);break;default:return void console.error('#setScale: "'.concat(t,'" is an unknown zoom value.'))}e.preset=!0,Vj(yN,this,SN).call(this,n,t,e)}}function _N(){var t=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&Vj(yN,this,xN).call(this,this._currentScaleValue,{noScroll:!0}),Vj(yN,this,AN).call(this,t)}function FN(t){return PN.apply(this,arguments)}function PN(){return(PN=Pj(_j().mark((function t(e){var n;return _j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.pdfPage){t.next=2;break}return t.abrupt("return",e.pdfPage);case 2:return t.prev=2,t.next=5,this.pdfDocument.getPage(e.id);case 5:return n=t.sent,e.pdfPage||e.setPdfPage(n),t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(2),console.error("Unable to get page for page view",t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,this,[[2,10]])})))).apply(this,arguments)}function LN(t){var e,n;if(1===(null===(e=t.first)||void 0===e?void 0:e.id))return!0;if((null===(n=t.last)||void 0===n?void 0:n.id)===this.pagesCount)return!1;switch(this._scrollMode){case _.PAGE:return Gj(dN,this).scrollDown;case _.HORIZONTAL:return this.scroll.right}return this.scroll.down}function ON(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.container.clientHeight;t!==Gj(hN,this)&&(Hj(hN,this,t),K.setProperty("--viewer-container-height","".concat(t,"px")))}function TN(t){var e,n=Lj(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.target===this.container){Vj(yN,this,ON).call(this,Math.floor(r.borderBoxSize[0].blockSize)),Hj(rN,this,null);break}}}catch(t){n.e(t)}finally{n.f()}}function IN(t){return IN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IN(t)}function MN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function BN(t,e,n){return(e=WN(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jN(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return NN(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?NN(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function NN(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function RN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,WN(r.key),r)}}function WN(t){var e=function(t,e){if("object"!=IN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=IN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==IN(e)?e:e+""}function GN(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function HN(t,e){return t.get(VN(t,e))}function VN(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var UN=new WeakMap,zN=new WeakSet,JN=function(){return function(t,e,n){return e&&RN(t.prototype,e),n&&RN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){GN(t,e),e.add(t)}(this,zN),function(t,e,n){GN(t,e),e.set(t,n)}(this,UN,void 0),function(t,e,n){t.set(VN(t,e),n)}(UN,this,e);var r=[{element:e.presentationModeButton,eventName:"presentationmode",close:!0},{element:e.printButton,eventName:"print",close:!0},{element:e.downloadButton,eventName:"download",close:!0},{element:e.viewBookmarkButton,eventName:null,close:!0},{element:e.firstPageButton,eventName:"firstpage",close:!0},{element:e.lastPageButton,eventName:"lastpage",close:!0},{element:e.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:e.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:e.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:P.SELECT},close:!0},{element:e.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:P.HAND},close:!0},{element:e.scrollPageButton,eventName:"switchscrollmode",eventDetails:{mode:_.PAGE},close:!0},{element:e.scrollVerticalButton,eventName:"switchscrollmode",eventDetails:{mode:_.VERTICAL},close:!0},{element:e.scrollHorizontalButton,eventName:"switchscrollmode",eventDetails:{mode:_.HORIZONTAL},close:!0},{element:e.scrollWrappedButton,eventName:"switchscrollmode",eventDetails:{mode:_.WRAPPED},close:!0},{element:e.spreadNoneButton,eventName:"switchspreadmode",eventDetails:{mode:F.NONE},close:!0},{element:e.spreadOddButton,eventName:"switchspreadmode",eventDetails:{mode:F.ODD},close:!0},{element:e.spreadEvenButton,eventName:"switchspreadmode",eventDetails:{mode:F.EVEN},close:!0},{element:e.documentPropertiesButton,eventName:"documentproperties",close:!0}];("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&r.push({element:e.openFileButton,eventName:"openfile",close:!0}),this.eventBus=n,this.opened=!1,VN(zN,this,KN).call(this,r),this.reset()}),[{key:"isOpen",get:function(){return this.opened}},{key:"setPageNumber",value:function(t){this.pageNumber=t,VN(zN,this,YN).call(this)}},{key:"setPagesCount",value:function(t){this.pagesCount=t,VN(zN,this,YN).call(this)}},{key:"reset",value:function(){this.pageNumber=0,this.pagesCount=0,VN(zN,this,YN).call(this),this.eventBus.dispatch("switchcursortool",{source:this,reset:!0}),VN(zN,this,qN).call(this,{mode:_.VERTICAL}),VN(zN,this,ZN).call(this,{mode:F.NONE})}},{key:"open",value:function(){if(!this.opened){this.opened=!0;var t=HN(UN,this);it(t.toggleButton,!0,t.toolbar)}}},{key:"close",value:function(){if(this.opened){this.opened=!1;var t=HN(UN,this);it(t.toggleButton,!1,t.toolbar)}}},{key:"toggle",value:function(){this.opened?this.close():this.open()}}])}();function YN(){var t=HN(UN,this),e=t.firstPageButton,n=t.lastPageButton,r=t.pageRotateCwButton,i=t.pageRotateCcwButton;e.disabled=this.pageNumber<=1,n.disabled=this.pageNumber>=this.pagesCount,r.disabled=0===this.pagesCount,i.disabled=0===this.pagesCount}function KN(t){var e=this,n=this.eventBus;HN(UN,this).toggleButton.addEventListener("click",this.toggle.bind(this));var r,i=jN(t);try{var o=function(){var t=r.value,i=t.element,o=t.eventName,a=t.close,u=t.eventDetails;i.addEventListener("click",(function(t){null!==o&&n.dispatch(o,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?MN(Object(n),!0).forEach((function(e){BN(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MN(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({source:e},u)),a&&e.close(),n.dispatch("reporttelemetry",{source:e,details:{type:"buttons",data:{id:i.id}}})}))};for(i.s();!(r=i.n()).done;)o()}catch(t){i.e(t)}finally{i.f()}n._on("cursortoolchanged",VN(zN,this,XN).bind(this)),n._on("scrollmodechanged",VN(zN,this,qN).bind(this)),n._on("spreadmodechanged",VN(zN,this,ZN).bind(this))}function XN(t){var e=t.tool,n=HN(UN,this),r=n.cursorSelectToolButton,i=n.cursorHandToolButton;rt(r,e===P.SELECT),rt(i,e===P.HAND)}function qN(t){var e=t.mode,n=HN(UN,this),r=n.scrollPageButton,i=n.scrollVerticalButton,o=n.scrollHorizontalButton,a=n.scrollWrappedButton,u=n.spreadNoneButton,s=n.spreadOddButton,l=n.spreadEvenButton;rt(r,e===_.PAGE),rt(i,e===_.VERTICAL),rt(o,e===_.HORIZONTAL),rt(a,e===_.WRAPPED);var c=this.pagesCount>Uj.FORCE_SCROLL_MODE_PAGE;r.disabled=c,i.disabled=c,o.disabled=c,a.disabled=c;var h=e===_.HORIZONTAL;u.disabled=h,s.disabled=h,l.disabled=h}function ZN(t){var e=t.mode,n=HN(UN,this),r=n.spreadNoneButton,i=n.spreadOddButton,o=n.spreadEvenButton;rt(r,e===F.NONE),rt(i,e===F.ODD),rt(o,e===F.EVEN)}function QN(t){return QN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QN(t)}function $N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$N(Object(n),!0).forEach((function(e){eR(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function eR(t,e,n){return(e=oR(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nR(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return rR(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rR(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function rR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function iR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oR(r.key),r)}}function oR(t){var e=function(t,e){if("object"!=QN(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=QN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==QN(e)?e:e+""}function aR(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function uR(t,e){return t.get(sR(t,e))}function sR(t,e,n){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}var lR=new WeakMap,cR=new WeakSet,hR=function(){return function(t,e,n){return e&&iR(t.prototype,e),n&&iR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e){aR(t,e),e.add(t)}(this,cR),function(t,e,n){aR(t,e),e.set(t,n)}(this,lR,void 0),function(t,e,n){t.set(sR(t,e),n)}(lR,this,e),this.eventBus=n;var i=[{element:e.previous,eventName:"previouspage"},{element:e.next,eventName:"nextpage"},{element:e.zoomIn,eventName:"zoomin"},{element:e.zoomOut,eventName:"zoomout"},{element:e.print,eventName:"print"},{element:e.download,eventName:"download"},{element:e.editorFreeTextButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){return e.editorFreeTextButton.classList.contains("toggled")?Kt.vP.NONE:Kt.vP.FREETEXT}}},{element:e.editorHighlightButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){return e.editorHighlightButton.classList.contains("toggled")?Kt.vP.NONE:Kt.vP.HIGHLIGHT}}},{element:e.editorInkButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){return e.editorInkButton.classList.contains("toggled")?Kt.vP.NONE:Kt.vP.INK}}},{element:e.editorStampButton,eventName:"switchannotationeditormode",eventDetails:{get mode(){return e.editorStampButton.classList.contains("toggled")?Kt.vP.NONE:Kt.vP.STAMP}}}];sR(cR,this,dR).call(this,i),e.editorHighlightColorPicker&&n._on("annotationeditoruimanager",(function(t){var n=t.uiManager;sR(cR,r,fR).call(r,n,e.editorHighlightColorPicker)}),{once:!0}),n._on("showannotationeditorui",(function(t){if(t.mode===Kt.vP.HIGHLIGHT)e.editorHighlightButton.click()})),this.reset()}),[{key:"setPageNumber",value:function(t,e){this.pageNumber=t,this.pageLabel=e,sR(cR,this,vR).call(this,!1)}},{key:"setPagesCount",value:function(t,e){this.pagesCount=t,this.hasPageLabels=e,sR(cR,this,vR).call(this,!0)}},{key:"setPageScale",value:function(t,e){this.pageScaleValue=(t||e).toString(),this.pageScale=e,sR(cR,this,vR).call(this,!1)}},{key:"reset",value:function(){this.pageNumber=0,this.pageLabel=null,this.hasPageLabels=!1,this.pagesCount=0,this.pageScaleValue=d,this.pageScale=1,sR(cR,this,vR).call(this,!0),this.updateLoadingIndicatorState(),sR(cR,this,pR).call(this,{mode:Kt.vP.DISABLE})}},{key:"updateLoadingIndicatorState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];uR(lR,this).pageNumber.classList.toggle("loading",t)}}])}();function fR(t,e){var n=new Eg({uiManager:t});t.setMainHighlightColorPicker(n),e.append(n.renderMainDropdown())}function dR(t){var e,n=this,r=this.eventBus,i=uR(lR,this),o=i.pageNumber,a=i.scaleSelect,u=this,s=nR(t);try{var l=function(){var t=e.value,i=t.element,o=t.eventName,a=t.eventDetails;i.addEventListener("click",(function(t){null!==o&&r.dispatch(o,tR(tR({source:n},a),{},{isFromKeyboard:0===t.detail}))}))};for(s.s();!(e=s.n()).done;)l()}catch(t){s.e(t)}finally{s.f()}o.addEventListener("click",(function(){this.select()})),o.addEventListener("change",(function(){r.dispatch("pagenumberchanged",{source:u,value:this.value})})),a.addEventListener("change",(function(){"custom"!==this.value&&r.dispatch("scalechanged",{source:u,value:this.value})})),a.addEventListener("click",(function(t){var e=t.target;this.value===u.pageScaleValue&&"OPTION"===e.tagName.toUpperCase()&&this.blur()})),a.oncontextmenu=vn,r._on("annotationeditormodechanged",sR(cR,this,pR).bind(this))}function pR(t){var e=t.mode,n=uR(lR,this),r=n.editorFreeTextButton,i=n.editorFreeTextParamsToolbar,o=n.editorHighlightButton,a=n.editorHighlightParamsToolbar,u=n.editorInkButton,s=n.editorInkParamsToolbar,l=n.editorStampButton,c=n.editorStampParamsToolbar;rt(r,e===Kt.vP.FREETEXT,i),rt(o,e===Kt.vP.HIGHLIGHT,a),rt(u,e===Kt.vP.INK,s),rt(l,e===Kt.vP.STAMP,c);var h=e===Kt.vP.DISABLE;r.disabled=h,o.disabled=h,u.disabled=h,l.disabled=h}function vR(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.pageNumber,n=this.pagesCount,r=this.pageScaleValue,i=this.pageScale,o=uR(lR,this);t&&(this.hasPageLabels?(o.pageNumber.type="text",o.numPages.setAttribute("data-l10n-id","pdfjs-page-of-pages")):(o.pageNumber.type="number",o.numPages.setAttribute("data-l10n-id","pdfjs-of-pages"),o.numPages.setAttribute("data-l10n-args",JSON.stringify({pagesCount:n}))),o.pageNumber.max=n),this.hasPageLabels?(o.pageNumber.value=this.pageLabel,o.numPages.setAttribute("data-l10n-args",JSON.stringify({pageNumber:e,pagesCount:n}))):o.pageNumber.value=e,o.previous.disabled=e<=1,o.next.disabled=e>=n,o.zoomOut.disabled=i<=.1,o.zoomIn.disabled=i>=10;var a,u=!1,s=nR(o.scaleSelect.options);try{for(s.s();!(a=s.n()).done;){var l=a.value;l.value===r?(l.selected=!0,u=!0):l.selected=!1}}catch(t){s.e(t)}finally{s.f()}u||(o.customScaleOption.selected=!0,o.customScaleOption.setAttribute("data-l10n-args",JSON.stringify({scale:Math.round(1e4*i)/100})))}function yR(t){return yR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yR(t)}function gR(){gR=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==yR(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(yR(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function mR(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function bR(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){mR(o,r,i,a,u,"next",t)}function u(t){mR(o,r,i,a,u,"throw",t)}a(void 0)}))}}function wR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DR(r.key),r)}}function DR(t){var e=function(t,e){if("object"!=yR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yR(e)?e:e+""}var ER=function(){return function(t,e,n){return e&&wR(t.prototype,e),n&&wR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}((function t(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fingerprint=e,this.cacheSize=r,this._initializedPromise=this._readFromStorage().then((function(t){var e=JSON.parse(t||"{}"),r=-1;if(Array.isArray(e.files)){for(;e.files.length>=n.cacheSize;)e.files.shift();for(var i=0,o=e.files.length;i<o;i++){if(e.files[i].fingerprint===n.fingerprint){r=i;break}}}else e.files=[];-1===r&&(r=e.files.push({fingerprint:n.fingerprint})-1),n.file=e.files[r],n.database=e}))}),[{key:"_writeToStorage",value:(i=bR(gR().mark((function t(){var e;return gR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=JSON.stringify(this.database),"undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL")){t.next=4;break}return sessionStorage.setItem("pdfjs.history",e),t.abrupt("return");case 4:localStorage.setItem("pdfjs.history",e);case 5:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"_readFromStorage",value:(r=bR(gR().mark((function t(){return gR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"==typeof PDFJSDev||!PDFJSDev.test("MOZCENTRAL")){t.next=2;break}return t.abrupt("return",sessionStorage.getItem("pdfjs.history"));case 2:return t.abrupt("return",localStorage.getItem("pdfjs.history"));case 3:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"set",value:(n=bR(gR().mark((function t(e,n){return gR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:return this.file[e]=n,t.abrupt("return",this._writeToStorage());case 4:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"setMultiple",value:(e=bR(gR().mark((function t(e){var n;return gR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:for(n in e)this.file[n]=e[n];return t.abrupt("return",this._writeToStorage());case 4:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"get",value:function(){var t=bR(gR().mark((function t(e,n){var r;return gR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:return r=this.file[e],t.abrupt("return",void 0!==r?r:n);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getMultiple",value:(t=bR(gR().mark((function t(e){var n,r,i;return gR().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._initializedPromise;case 2:for(r in n=Object.create(null),e)i=this.file[r],n[r]=void 0!==i?i:e[r];return t.abrupt("return",n);case 5:case"end":return t.stop()}}),t,this)}))),function(e){return t.apply(this,arguments)})}]);var t,e,n,r,i}();function AR(t){return AR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},AR(t)}function kR(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,u=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(l)throw i}}return u}}(t,e)||CR(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SR(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=CR(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function CR(t,e){if(t){if("string"==typeof t)return xR(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xR(t,e):void 0}}function xR(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _R(){_R=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),u=new P(r||[]);return i(a,"_invoke",{value:C(t,n,u)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var f="suspendedStart",d="suspendedYield",p="executing",v="completed",y={};function g(){}function m(){}function b(){}var w={};l(w,a,(function(){return this}));var D=Object.getPrototypeOf,E=D&&D(D(L([])));E&&E!==n&&r.call(E,a)&&(w=E);var A=b.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(i,o,a,u){var s=h(t[i],t,o);if("throw"!==s.type){var l=s.arg,c=l.value;return c&&"object"==AR(c)&&r.call(c,"__await")?e.resolve(c.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(c).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function C(e,n,r){var i=f;return function(o,a){if(i===p)throw Error("Generator is already running");if(i===v){if("throw"===o)throw a;return{value:t,done:!0}}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var s=x(u,r);if(s){if(s===y)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(e,n,r);if("normal"===l.type){if(i=r.done?v:d,l.arg===y)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=v,r.method="throw",r.arg=l.arg)}}}function x(e,n){var r=n.method,i=e.iterator[r];if(i===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var o=h(i,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function F(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function L(e){if(e||""===e){var n=e[a];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}throw new TypeError(AR(e)+" is not iterable")}return m.prototype=b,i(A,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,s,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,s,"GeneratorFunction")),t.prototype=Object.create(A),t},e.awrap=function(t){return{__await:t}},k(S.prototype),l(S.prototype,u,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(A),l(A,s,"Generator"),l(A,a,(function(){return this})),l(A,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=L,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(F),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),F(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;F(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function FR(t,e,n,r,i,o,a){try{var u=t[o](a),s=u.value}catch(t){return void n(t)}u.done?e(s):Promise.resolve(s).then(r,i)}function PR(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){FR(o,r,i,a,u,"next",t)}function u(t){FR(o,r,i,a,u,"throw",t)}a(void 0)}))}}function LR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function OR(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?LR(Object(n),!0).forEach((function(e){TR(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LR(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function TR(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=AR(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=AR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==AR(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var IR,MR,BR=1e3,jR=-1,NR=1,RR=new Promise((function(t,e){IR=t,MR=e}));void 0===Promise.withResolvers&&(Promise.withResolvers=function(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return{resolve:t,reject:e,promise:n}});var WR={initialBookmark:document.location.hash.substring(1),_initializedCapability:OR(OR({},Promise.withResolvers()),{},{resolve:IR,reject:MR,promise:RR,settled:!1}),appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,pdfLayerViewer:null,pdfCursorTools:null,pdfScriptingManager:null,store:null,downloadManager:null,overlayManager:null,preferences:null,toolbar:null,secondaryToolbar:null,eventBus:null,l10n:null,annotationEditorParams:null,isInitialViewSet:!1,downloadComplete:!1,isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",_downloadUrl:"",_eventBusAbortController:null,_windowAbortController:null,_globalAbortController:new AbortController,documentInfo:null,metadata:null,_contentDispositionFilename:null,_contentLength:null,_saveInProgress:!1,_wheelUnusedTicks:0,_wheelUnusedFactor:1,_touchUnusedTicks:0,_touchUnusedFactor:1,_PDFBug:null,_hasAnnotationEditors:!1,_title:document.title,_printAnnotationStoragePromise:null,_touchInfo:null,_isCtrlKeyDown:!1,_nimbusDataPromise:null,_caretBrowsing:null,_isScrolling:!1,initialize:function(t){var e=this;return PR(_R().mark((function n(){var r,i;return _R().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC")||(r=e.externalServices.createL10n()),e.appConfig=t,("undefined"==typeof PDFJSDev?window.isGECKOVIEW:PDFJSDev.test("GECKOVIEW"))&&(e._nimbusDataPromise=e.externalServices.getNimbusExperimentData()),n.prev=3,n.next=6,e.preferences.initializedPromise;case 6:n.next=11;break;case 8:n.prev=8,n.t0=n.catch(3),console.error('initialize: "'.concat(n.t0.message,'".'));case 11:if(!St.get("pdfBugEnabled")){n.next=14;break}return n.next=14,e._parseHashParams();case 14:if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")){n.next=23;break}n.t1=St.get("viewerCssTheme"),n.next=1===n.t1?18:2===n.t1?20:22;break;case 18:return i="is-light",n.abrupt("break",22);case 20:return i="is-dark",n.abrupt("break",22);case 22:i&&document.documentElement.classList.add(i);case 23:return("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(r=e.externalServices.createL10n()),n.next=26,r;case 26:return e.l10n=n.sent,document.getElementsByTagName("html")[0].dir=e.l10n.getDirection(),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||e.l10n.translate(t.appContainer||document.documentElement),e.isViewerEmbedded&&St.get("externalLinkTarget")===Ut.NONE&&St.set("externalLinkTarget",Ut.TOP),n.next=32,e._initializeViewerComponents();case 32:e.bindEvents(),e.bindWindowEvents(),e._initializedCapability.settled=!0,e._initializedCapability.resolve();case 36:case"end":return n.stop()}}),n,null,[[3,8]])})))()},_parseHashParams:function(){var t=this;return PR(_R().mark((function e(){var n,r,o,a,u,s,l;return _R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=document.location.hash.substring(1)){e.next=3;break}return e.abrupt("return");case 3:if(r=t.appConfig,o=r.mainContainer,a=r.viewerContainer,u=M(n),s=function(){var e=PR(_R().mark((function e(){var n,r;return _R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._PDFBug){e.next=2;break}return e.abrupt("return");case 2:if("undefined"!=typeof PDFJSDev){e.next=8;break}return e.next=5,i(754)(St.get("debuggerSrc"));case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,__non_webpack_import__(St.get("debuggerSrc"));case 10:e.t0=e.sent;case 11:n=e.t0,r=n.PDFBug,t._PDFBug=r;case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),"true"!==u.get("disableworker")){e.next=21;break}if(e.prev=6,Rs.workerSrc||(Rs.workerSrc=St.get("workerSrc")),"undefined"!=typeof PDFJSDev){e.next=14;break}return e.next=11,i.e(892).then(i.bind(i,892));case 11:globalThis.pdfjsWorker=e.sent,e.next=16;break;case 14:return e.next=16,__non_webpack_import__(of.workerSrc);case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(6),console.error('_parseHashParams: "'.concat(e.t0.message,'".'));case 21:if(u.has("disablerange")&&St.set("disableRange","true"===u.get("disablerange")),u.has("disablestream")&&St.set("disableStream","true"===u.get("disablestream")),u.has("disableautofetch")&&St.set("disableAutoFetch","true"===u.get("disableautofetch")),u.has("disablefontface")&&St.set("disableFontFace","true"===u.get("disablefontface")),u.has("disablehistory")&&St.set("disableHistory","true"===u.get("disablehistory")),u.has("verbosity")&&St.set("verbosity",0|u.get("verbosity")),!u.has("textlayer")){e.next=44;break}e.t1=u.get("textlayer"),e.next="off"===e.t1?31:"visible"===e.t1||"shadow"===e.t1||"hover"===e.t1?33:44;break;case 31:return St.set("textLayerMode",S),e.abrupt("break",44);case 33:return a.classList.add("textLayer-".concat(u.get("textlayer"))),e.prev=34,e.next=37,s();case 37:t._PDFBug.loadCSS(),e.next=43;break;case 40:e.prev=40,e.t2=e.catch(34),console.error('_parseHashParams: "'.concat(e.t2.message,'".'));case 43:return e.abrupt("break",44);case 44:if(!u.has("pdfbug")){e.next=56;break}return St.setAll({pdfBug:!0,fontExtraProperties:!0}),l=u.get("pdfbug").split(","),e.prev=47,e.next=50,s();case 50:t._PDFBug.init(o,l),e.next=56;break;case 53:e.prev=53,e.t3=e.catch(47),console.error('_parseHashParams: "'.concat(e.t3.message,'".'));case 56:("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&u.has("locale")&&St.set("locale",u.get("locale")),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("TESTING")&&(u.has("highlighteditorcolors")&&St.set("highlightEditorColors",u.get("highlighteditorcolors")),u.has("maxcanvaspixels")&&St.set("maxCanvasPixels",Number(u.get("maxcanvaspixels"))),u.has("supportscaretbrowsingmode")&&St.set("supportsCaretBrowsingMode","true"===u.get("supportscaretbrowsingmode")));case 58:case"end":return e.stop()}}),e,null,[[6,18],[34,40],[47,53]])})))()},_initializeViewerComponents:function(){var t=this;return PR(_R().mark((function e(){var n,r,i,o,a,u,s,l,c,h,f,d,p,v,y,m,b,w,D,E,A,k,S,C,x,_,F,P;return _R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=t.appConfig,l=t.externalServices,c=t.l10n,h=St.get("isInAutomation")?new aE:new oE,t.eventBus=h,t.overlayManager=new qC,(f=new mO).onIdle=t._cleanup.bind(t),t.pdfRenderingQueue=f,d=new zt({eventBus:h,externalLinkTarget:St.get("externalLinkTarget"),externalLinkRel:St.get("externalLinkRel"),ignoreDestinationZoom:St.get("ignoreDestinationZoom")}),t.pdfLinkService=d,p=t.downloadManager=new jC,v=new mF({linkService:d,eventBus:h,updateMatchesCountOnProgress:"undefined"==typeof PDFJSDev?!window.isGECKOVIEW:!PDFJSDev.test("GECKOVIEW")}),t.findController=v,y=new qO({eventBus:h,externalServices:l,docProperties:t._scriptingDocProperties.bind(t)}),t.pdfScriptingManager=y,m=s.mainContainer,b=s.viewerContainer,w=St.get("annotationEditorMode"),D=St.get("forcePageColors")||window.matchMedia("(forced-colors: active)").matches?{background:St.get("pageColorsBackground"),foreground:St.get("pageColorsForeground")}:null,E=s.altTextDialog?new NS(s.altTextDialog,m,t.overlayManager,h):null,A=new gN({container:m,viewer:b,eventBus:h,renderingQueue:f,linkService:d,downloadManager:p,altTextManager:E,findController:v,scriptingManager:St.get("enableScripting")&&y,l10n:c,textLayerMode:St.get("textLayerMode"),annotationMode:St.get("annotationMode"),annotationEditorMode:w,annotationEditorHighlightColors:St.get("highlightEditorColors"),enableHighlightFloatingButton:St.get("enableHighlightFloatingButton"),imageResourcesPath:St.get("imageResourcesPath"),enablePrintAutoRotate:St.get("enablePrintAutoRotate"),maxCanvasPixels:St.get("maxCanvasPixels"),enablePermissions:St.get("enablePermissions"),pageColors:D,mlManager:t.mlManager,abortSignal:t._globalAbortController.signal}),t.pdfViewer=A,f.setViewer(A),d.setViewer(A),y.setViewer(A),null!==(n=s.sidebar)&&void 0!==n&&n.thumbnailView&&(t.pdfThumbnailViewer=new pI({container:s.sidebar.thumbnailView,eventBus:h,renderingQueue:f,linkService:d,pageColors:D,abortSignal:t._globalAbortController.signal}),f.setThumbnailViewer(t.pdfThumbnailViewer)),t.isViewerEmbedded||St.get("disableHistory")||(t.pdfHistory=new cP({linkService:d,eventBus:h}),d.setHistory(t.pdfHistory)),!t.supportsIntegratedFind&&s.findBar&&(t.findBar=new YF(s.findBar,h)),s.annotationEditorParams)if(w!==Kt.vP.DISABLE)St.get("enableStampEditor")&&(null===(S=s.toolbar)||void 0===S||null===(S=S.editorStampButton)||void 0===S||S.classList.remove("hidden")),(C=null===(k=s.toolbar)||void 0===k?void 0:k.editorHighlightButton)&&St.get("enableHighlightEditor")&&(C.hidden=!1),t.annotationEditorParams=new rC(s.annotationEditorParams,h);else for(x=0,_=["editorModeButtons","editorModeSeparator"];x<_.length;x++)P=_[x],null===(F=document.getElementById(P))||void 0===F||F.classList.add("hidden");if(s.documentProperties&&(t.pdfDocumentProperties=new S_(s.documentProperties,t.overlayManager,h,c,(function(){return t._docFilename}))),null!==(r=s.secondaryToolbar)&&void 0!==r&&r.cursorHandToolButton&&(t.pdfCursorTools=new o_({container:m,eventBus:h,cursorToolOnLoad:St.get("cursorToolOnLoad")})),!s.toolbar){e.next=41;break}if(!("undefined"==typeof PDFJSDev?window.isGECKOVIEW:PDFJSDev.test("GECKOVIEW"))){e.next=40;break}return e.t0=hR,e.t1=s.toolbar,e.t2=h,e.next=36,t._nimbusDataPromise;case 36:e.t3=e.sent,t.toolbar=new e.t0(e.t1,e.t2,e.t3),e.next=41;break;case 40:t.toolbar=new hR(s.toolbar,h);case 41:s.secondaryToolbar&&(t.secondaryToolbar=new JN(s.secondaryToolbar,h)),t.supportsFullscreen&&null!==(i=s.secondaryToolbar)&&void 0!==i&&i.presentationModeButton&&(t.pdfPresentationMode=new CL({container:m,pdfViewer:A,eventBus:h})),s.passwordOverlay&&(t.passwordPrompt=new fx(s.passwordOverlay,t.overlayManager,t.isViewerEmbedded)),null!==(o=s.sidebar)&&void 0!==o&&o.outlineView&&(t.pdfOutlineViewer=new rL({container:s.sidebar.outlineView,eventBus:h,l10n:c,linkService:d,downloadManager:p})),null!==(a=s.sidebar)&&void 0!==a&&a.attachmentsView&&(t.pdfAttachmentViewer=new Mx({container:s.sidebar.attachmentsView,eventBus:h,l10n:c,downloadManager:p})),null!==(u=s.sidebar)&&void 0!==u&&u.layersView&&(t.pdfLayerViewer=new NP({container:s.sidebar.layersView,eventBus:h,l10n:c})),s.sidebar&&(t.pdfSidebar=new kT({elements:s.sidebar,eventBus:h,l10n:c}),t.pdfSidebar.onToggled=t.forceRendering.bind(t),t.pdfSidebar.onUpdateThumbnails=function(){var e,n=SR(A.getCachedPageViews());try{for(n.s();!(e=n.n()).done;){var r,i=e.value;if(i.renderingState===g.FINISHED)null===(r=t.pdfThumbnailViewer.getThumbnail(i.id-1))||void 0===r||r.setImage(i)}}catch(t){n.e(t)}finally{n.f()}t.pdfThumbnailViewer.scrollThumbnailIntoView(A.currentPageNumber)});case 48:case"end":return e.stop()}}),e)})))()},run:function(t){var e=this;return PR(_R().mark((function n(){var r,i,o,a,u,s,l,c,h,f,d;return _R().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preferences=new rS,n.next=3,e.initialize(t);case 3:if(r=e.appConfig,i=e.eventBus,"undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC")?(u=document.location.search.substring(1),s=M(u),o=null!==(a=s.get("file"))&&void 0!==a?a:St.get("defaultUrl"),HR(o)):PDFJSDev.test("MOZCENTRAL")?o=window.location.href:PDFJSDev.test("CHROME")&&(o=St.get("defaultUrl")),("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&((l=e._openFileInput=document.createElement("input")).id="fileInput",l.hidden=!0,l.type="file",l.value=null,document.body.append(l),l.addEventListener("change",(function(t){var e=t.target.files;e&&0!==e.length&&i.dispatch("fileinputchange",{source:this,fileInput:t.target})})),r.mainContainer.addEventListener("dragover",(function(t){var e,n=SR(t.dataTransfer.items);try{for(n.s();!(e=n.n()).done;){if("application/pdf"===e.value.type)return t.dataTransfer.dropEffect="copy"===t.dataTransfer.effectAllowed?"copy":"move",t.preventDefault(),void t.stopPropagation()}}catch(t){n.e(t)}finally{n.f()}})),r.mainContainer.addEventListener("drop",(function(t){var e;"application/pdf"===(null===(e=t.dataTransfer.files)||void 0===e?void 0:e[0].type)&&(t.preventDefault(),t.stopPropagation(),i.dispatch("fileinputchange",{source:this,fileInput:t.dataTransfer}))}))),St.get("supportsDocumentFonts")||(St.set("disableFontFace",!0),e.l10n.get("pdfjs-web-fonts-disabled").then((function(t){console.warn(t)}))),e.supportsPrinting||(null===(c=r.toolbar)||void 0===c||null===(c=c.print)||void 0===c||c.classList.add("hidden"),null===(h=r.secondaryToolbar)||void 0===h||h.printButton.classList.add("hidden")),e.supportsFullscreen||null===(f=r.secondaryToolbar)||void 0===f||f.presentationModeButton.classList.add("hidden"),e.supportsIntegratedFind&&(null===(d=r.toolbar)||void 0===d||null===(d=d.viewFind)||void 0===d||d.classList.add("hidden")),"undefined"!=typeof PDFJSDev&&!PDFJSDev.test("GENERIC")){n.next=14;break}o?e.open({url:o}):e._hideViewBookmark(),n.next=20;break;case 14:if(!PDFJSDev.test("MOZCENTRAL || CHROME")){n.next=19;break}e.setTitleUsingUrl(o,o),e.externalServices.initPassiveLoading(),n.next=20;break;case 19:throw new Error("Not implemented: run");case 20:case"end":return n.stop()}}),n)})))()},get externalServices(){return(0,Kt.r7)(this,"externalServices",new iS)},get mlManager(){return(0,Kt.r7)(this,"mlManager",!0===St.get("enableML")?new oS:null)},get initialized(){return this._initializedCapability.settled},get initializedPromise(){return this._initializedCapability.promise},updateZoom:function(t,e,n){console.log({steps:t,scaleFactor:e,origin:n}),this.pdfViewer.isInPresentationMode||this.pdfViewer.updateScale({drawingDelay:St.get("defaultZoomDelay"),steps:t,scaleFactor:e,origin:n})},zoomIn:function(){this.updateZoom(1)},zoomOut:function(){this.updateZoom(-1)},zoomReset:function(){this.pdfViewer.isInPresentationMode||(this.pdfViewer.currentScaleValue=d)},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},get page(){return this.pdfViewer.currentPageNumber},set page(t){this.pdfViewer.currentPageNumber=t},get supportsPrinting(){return pO.supportsPrinting},get supportsFullscreen(){return(0,Kt.r7)(this,"supportsFullscreen",document.fullscreenEnabled)},get supportsPinchToZoom(){return(0,Kt.r7)(this,"supportsPinchToZoom",St.get("supportsPinchToZoom"))},get supportsIntegratedFind(){return(0,Kt.r7)(this,"supportsIntegratedFind",St.get("supportsIntegratedFind"))},get loadingBar(){var t=document.getElementById("loadingBar"),e=t?new tt(t):null;return(0,Kt.r7)(this,"loadingBar",e)},get supportsMouseWheelZoomCtrlKey(){return(0,Kt.r7)(this,"supportsMouseWheelZoomCtrlKey",St.get("supportsMouseWheelZoomCtrlKey"))},get supportsMouseWheelZoomMetaKey(){return(0,Kt.r7)(this,"supportsMouseWheelZoomMetaKey",St.get("supportsMouseWheelZoomMetaKey"))},get supportsCaretBrowsingMode(){return St.get("supportsCaretBrowsingMode")},moveCaret:function(t,e){var n;this._caretBrowsing||(this._caretBrowsing=new DC(this.appConfig.mainContainer,this.appConfig.viewerContainer,null===(n=this.appConfig.toolbar)||void 0===n?void 0:n.container)),this._caretBrowsing.moveCaret(t,e)},setTitleUsingUrl:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.url=t,this.baseUrl=t.split("#",1)[0],e&&(this._downloadUrl=e===t?this.baseUrl:e.split("#",1)[0]),ln(t)&&this._hideViewBookmark();var n=hn(t,"");if(!n)try{n=decodeURIComponent(function(t){var e=t.split(/[#?]/,1);return(t=pe(e,1)[0]).substring(t.lastIndexOf("/")+1)}(t))||t}catch(e){n=t}this.setTitle(n)},setTitle:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._title;if(this._title=t,!this.isViewerEmbedded){var e=this._hasAnnotationEditors&&!this.pdfRenderingQueue.printing;document.title="".concat(e?"* ":"").concat(t)}},get _docFilename(){return this._contentDispositionFilename||hn(this.url)},_hideViewBookmark:function(){var t,e=this.appConfig.secondaryToolbar;(null==e||e.viewBookmarkButton.classList.add("hidden"),null!=e&&e.presentationModeButton.classList.contains("hidden"))&&(null===(t=document.getElementById("viewBookmarkSeparator"))||void 0===t||t.classList.add("hidden"))},close:function(){var t=this;return PR(_R().mark((function e(){var n,r,i,o,a,u,s,l,c,h,f,d,p;return _R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._unblockDocumentLoadEvent(),t._hideViewBookmark(),t.pdfLoadingTask){e.next=4;break}return e.abrupt("return");case 4:if(!(("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(null===(n=t.pdfDocument)||void 0===n?void 0:n.annotationStorage.size)>0&&t._annotationStorageModified)){e.next=12;break}return e.prev=5,e.next=8,t.save();case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(5);case 12:return(f=[]).push(t.pdfLoadingTask.destroy()),t.pdfLoadingTask=null,t.pdfDocument&&(t.pdfDocument=null,null===(d=t.pdfThumbnailViewer)||void 0===d||d.setDocument(null),t.pdfViewer.setDocument(null),t.pdfLinkService.setDocument(null),null===(p=t.pdfDocumentProperties)||void 0===p||p.setDocument(null)),t.pdfLinkService.externalLinkEnabled=!0,t.store=null,t.isInitialViewSet=!1,t.downloadComplete=!1,t.url="",t.baseUrl="",t._downloadUrl="",t.documentInfo=null,t.metadata=null,t._contentDispositionFilename=null,t._contentLength=null,t._saveInProgress=!1,t._hasAnnotationEditors=!1,f.push(t.pdfScriptingManager.destroyPromise,t.passwordPrompt.close()),t.setTitle(),null===(r=t.pdfSidebar)||void 0===r||r.reset(),null===(i=t.pdfOutlineViewer)||void 0===i||i.reset(),null===(o=t.pdfAttachmentViewer)||void 0===o||o.reset(),null===(a=t.pdfLayerViewer)||void 0===a||a.reset(),null===(u=t.pdfHistory)||void 0===u||u.reset(),null===(s=t.findBar)||void 0===s||s.reset(),null===(l=t.toolbar)||void 0===l||l.reset(),null===(c=t.secondaryToolbar)||void 0===c||c.reset(),null===(h=t._PDFBug)||void 0===h||h.cleanup(),e.next=42,Promise.all(f);case 42:case"end":return e.stop()}}),e,null,[[5,10]])})))()},open:function(t){var e=this;return PR(_R().mark((function n(){var r,i,o;return _R().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.pdfLoadingTask){n.next=3;break}return n.next=3,e.close();case 3:return r=St.getAll(yt),Object.assign(Rs,r),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")?t.data&&cn(t.filename)&&(e._contentDispositionFilename=t.filename):t.url&&e.setTitleUsingUrl(t.originalUrl||t.url,t.url),"undefined"==typeof PDFJSDev?St.set("docBaseUrl",document.URL.split("#",1)[0]):PDFJSDev.test("MOZCENTRAL || CHROME")&&St.set("docBaseUrl",e.baseUrl),("undefined"==typeof PDFJSDev?window.isGECKOVIEW:PDFJSDev.test("GECKOVIEW"))&&(t.useSystemFonts=!1),i=St.getAll(vt),o=Hh(OR(OR({},i),t)),e.pdfLoadingTask=o,o.onPassword=function(t,n){e.isViewerEmbedded&&e._unblockDocumentLoadEvent(),e.pdfLinkService.externalLinkEnabled=!1,e.passwordPrompt.setUpdateCallback(t,n),e.passwordPrompt.open()},o.onProgress=function(t){var n=t.loaded,r=t.total;e.progress(n/r)},n.abrupt("return",o.promise.then((function(t){e.load(t)}),(function(t){if(o===e.pdfLoadingTask){var n="pdfjs-loading-error";return t instanceof Kt.Z7?n="pdfjs-invalid-file-error":t instanceof Kt.ew?n="pdfjs-missing-file-error":t instanceof Kt.wW&&(n="pdfjs-unexpected-response-error"),e._documentError(n,{message:t.message}).then((function(){throw t}))}})));case 14:case"end":return n.stop()}}),n)})))()},_ensureDownloadComplete:function(){if(!this.pdfDocument||!this.downloadComplete)throw new Error("PDF document not downloaded.")},download:function(){var t=arguments,e=this;return PR(_R().mark((function n(){var r,i,o,a;return _R().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:{},i=e._downloadUrl,o=e._docFilename,n.prev=2,e._ensureDownloadComplete(),n.next=6,e.pdfDocument.getData();case 6:a=n.sent,e.downloadManager.download(a,i,o,r),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),e.downloadManager.downloadUrl(i,o,r);case 13:case"end":return n.stop()}}),n,null,[[2,10]])})))()},save:function(){var t=arguments,e=this;return PR(_R().mark((function n(){var r,i,o,a,u;return _R().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:{},!e._saveInProgress){n.next=3;break}return n.abrupt("return");case 3:return e._saveInProgress=!0,n.next=6,e.pdfScriptingManager.dispatchWillSave();case 6:return i=e._downloadUrl,o=e._docFilename,n.prev=7,e._ensureDownloadComplete(),n.next=11,e.pdfDocument.saveDocument();case 11:a=n.sent,e.downloadManager.download(a,i,o,r),n.next=20;break;case 15:return n.prev=15,n.t0=n.catch(7),console.error("Error when saving the document: ".concat(n.t0.message)),n.next=20,e.download(r);case 20:return n.prev=20,n.next=23,e.pdfScriptingManager.dispatchDidSave();case 23:return e._saveInProgress=!1,n.finish(20);case 25:e._hasAnnotationEditors&&e.externalServices.reportTelemetry({type:"editing",data:{type:"save",stats:null===(u=e.pdfDocument)||void 0===u?void 0:u.annotationStorage.editorStats}});case 26:case"end":return n.stop()}}),n,null,[[7,15,20,25]])})))()},downloadOrSave:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(null===(t=this.pdfDocument)||void 0===t?void 0:t.annotationStorage.size)>0?this.save(e):this.download(e)},_documentError:function(t){var e=arguments,n=this;return PR(_R().mark((function r(){var i,o,a;return _R().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.length>1&&void 0!==e[1]?e[1]:null,n._unblockDocumentLoadEvent(),r.next=4,n._otherError(t||"pdfjs-loading-error",o);case 4:a=r.sent,n.eventBus.dispatch("documenterror",{source:n,message:a,reason:null!==(i=null==o?void 0:o.message)&&void 0!==i?i:null});case 6:case"end":return r.stop()}}),r)})))()},_otherError:function(t){var e=arguments,n=this;return PR(_R().mark((function r(){var i,o,a;return _R().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=e.length>1&&void 0!==e[1]?e[1]:null,r.next=3,n.l10n.get(t);case 3:return o=r.sent,a=["PDF.js v".concat(Sf||"?"," (build: ").concat(Cf||"?",")")],i&&(a.push("Message: ".concat(i.message)),i.stack?a.push("Stack: ".concat(i.stack)):(i.filename&&a.push("File: ".concat(i.filename)),i.lineNumber&&a.push("Line: ".concat(i.lineNumber)))),console.error("".concat(o,"\n\n").concat(a.join("\n"))),r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()},progress:function(t){var e,n;if(this.loadingBar&&!this.downloadComplete){var r=Math.round(100*t);r<=this.loadingBar.percent||(this.loadingBar.percent=r,(null!==(e=null===(n=this.pdfDocument)||void 0===n?void 0:n.loadingParams.disableAutoFetch)&&void 0!==e?e:St.get("disableAutoFetch"))&&this.loadingBar.setDisableAutoFetch())}},load:function(t){var e,n,r,i,o=this;this.pdfDocument=t,t.getDownloadInfo().then((function(t){var e,n=t.length;o._contentLength=n,o.downloadComplete=!0,null===(e=o.loadingBar)||void 0===e||e.hide(),h.then((function(){o.eventBus.dispatch("documentloaded",{source:o})}))}));var a=t.getPageLayout().catch((function(){})),u=t.getPageMode().catch((function(){})),s=t.getOpenAction().catch((function(){}));if(null===(e=this.toolbar)||void 0===e||e.setPagesCount(t.numPages,!1),null===(n=this.secondaryToolbar)||void 0===n||n.setPagesCount(t.numPages),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("CHROME")){var l=location.href.split("#",1)[0];this.pdfLinkService.setDocument(t,ln(l)?null:l)}else this.pdfLinkService.setDocument(t);null===(r=this.pdfDocumentProperties)||void 0===r||r.setDocument(t);var c=this.pdfViewer;c.setDocument(t);var h=c.firstPagePromise,f=c.onePageRendered,p=c.pagesPromise;null===(i=this.pdfThumbnailViewer)||void 0===i||i.setDocument(t);var v=(this.store=new ER(t.fingerprints[0])).getMultiple({page:null,zoom:d,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:b,scrollMode:_.UNKNOWN,spreadMode:F.UNKNOWN}).catch((function(){}));h.then((function(e){var n;null===(n=o.loadingBar)||void 0===n||n.setWidth(o.appConfig.viewerContainer),o._initializeAnnotationStorageCallbacks(t),Promise.all([Y,v,a,u,s]).then(function(){var e=PR(_R().mark((function e(n){var r,i,a,u,s,l,h,f,d,v,y,g,m,w;return _R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kR(n,5),r[0],i=r[1],a=r[2],u=r[3],s=r[4],l=St.get("viewOnLoad"),o._initializePdfHistory({fingerprint:t.fingerprints[0],viewOnLoad:l,initialDest:null==s?void 0:s.dest}),h=o.initialBookmark,f=St.get("defaultZoomValue"),d=f?"zoom=".concat(f):null,v=null,y=St.get("sidebarViewOnLoad"),g=St.get("scrollModeOnLoad"),m=St.get("spreadModeOnLoad"),null!=i&&i.page&&l!==NR&&(d="page=".concat(i.page,"&zoom=").concat(f||i.zoom,",")+"".concat(i.scrollLeft,",").concat(i.scrollTop),v=parseInt(i.rotation,10),y===b&&(y=0|i.sidebarView),g===_.UNKNOWN&&(g=0|i.scrollMode),m===F.UNKNOWN&&(m=0|i.spreadMode)),u&&y===b&&(y=nt(u)),a&&g===_.UNKNOWN&&m===F.UNKNOWN&&(w=et(a),m=w.spreadMode),o.setInitialView(d,{rotation:v,sidebarView:y,scrollMode:g,spreadMode:m}),o.eventBus.dispatch("documentinit",{source:o}),o.isViewerEmbedded||c.focus(),e.next=18,Promise.race([p,new Promise((function(t){setTimeout(t,1e4)}))]);case 18:if(h||d){e.next=20;break}return e.abrupt("return");case 20:if(!c.hasEqualPageSizes){e.next=22;break}return e.abrupt("return");case 22:o.initialBookmark=h,c.currentScaleValue=c.currentScaleValue,o.setInitialView(d);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){o.setInitialView()})).then((function(){c.update()}))})),p.then((function(){o._unblockDocumentLoadEvent(),o._initializeAutoPrint(t,s)}),(function(t){o._documentError("pdfjs-loading-error",{message:t.message})})),f.then((function(e){o.externalServices.reportTelemetry({type:"pageInfo",timestamp:e.timestamp}),o.pdfOutlineViewer&&t.getOutline().then((function(e){t===o.pdfDocument&&o.pdfOutlineViewer.render({outline:e,pdfDocument:t})})),o.pdfAttachmentViewer&&t.getAttachments().then((function(e){t===o.pdfDocument&&o.pdfAttachmentViewer.render({attachments:e})})),o.pdfLayerViewer&&c.optionalContentConfigPromise.then((function(e){t===o.pdfDocument&&o.pdfLayerViewer.render({optionalContentConfig:e,pdfDocument:t})}))})),this._initializePageLabels(t),this._initializeMetadata(t)},_scriptingDocProperties:function(t){var e=this;return PR(_R().mark((function n(){var r,i;return _R().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.documentInfo){n.next=5;break}return n.next=3,new Promise((function(t){e.eventBus._on("metadataloaded",t,{once:!0})}));case 3:if(t===e.pdfDocument){n.next=5;break}return n.abrupt("return",null);case 5:if(e._contentLength){n.next=10;break}return n.next=8,new Promise((function(t){e.eventBus._on("documentloaded",t,{once:!0})}));case 8:if(t===e.pdfDocument){n.next=10;break}return n.abrupt("return",null);case 10:return n.abrupt("return",OR(OR({},e.documentInfo),{},{baseURL:e.baseUrl,filesize:e._contentLength,filename:e._docFilename,metadata:null===(r=e.metadata)||void 0===r?void 0:r.getRaw(),authors:null===(i=e.metadata)||void 0===i?void 0:i.get("dc:creator"),numPages:e.pagesCount,URL:e.url}));case 11:case"end":return n.stop()}}),n)})))()},_initializeAutoPrint:function(t,e){var n=this;return PR(_R().mark((function r(){var i,o,a,u,s,l;return _R().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all([e,n.pdfViewer.enableScripting?null:t.getJSActions()]);case 2:if(i=r.sent,o=kR(i,2),a=o[0],u=o[1],t===n.pdfDocument){r.next=8;break}return r.abrupt("return");case 8:if(s="Print"===(null==a?void 0:a.action),!u){r.next=23;break}console.warn("Warning: JavaScript support is not enabled"),r.t0=_R().keys(u);case 12:if((r.t1=r.t0()).done){r.next=23;break}if(l=r.t1.value,!s){r.next=16;break}return r.abrupt("break",23);case 16:r.t2=l,r.next="WillClose"===r.t2||"WillSave"===r.t2||"DidSave"===r.t2||"WillPrint"===r.t2||"DidPrint"===r.t2?19:20;break;case 19:return r.abrupt("continue",12);case 20:s=u[l].some((function(t){return L.test(t)})),r.next=12;break;case 23:s&&n.triggerPrinting();case 24:case"end":return r.stop()}}),r)})))()},_initializeMetadata:function(t){var e=this;return PR(_R().mark((function n(){var r,i,o,a,u,s,l,c,h;return _R().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getMetadata();case 2:if(o=n.sent,a=o.info,u=o.metadata,s=o.contentDispositionFilename,l=o.contentLength,t===e.pdfDocument){n.next=9;break}return n.abrupt("return");case 9:e.documentInfo=a,e.metadata=u,null!==(r=e._contentDispositionFilename)&&void 0!==r||(e._contentDispositionFilename=s),null!==(i=e._contentLength)&&void 0!==i||(e._contentLength=l),console.log("PDF ".concat(t.fingerprints[0]," [").concat(a.PDFFormatVersion," ")+"".concat((a.Producer||"-").trim()," / ").concat((a.Creator||"-").trim(),"] ")+"(PDF.js: ".concat(Sf||"?"," [").concat(Cf||"?","])")),c=a.Title,(h=null==u?void 0:u.get("dc:title"))&&("Untitled"===h||/[\uFFF0-\uFFFF]/g.test(h)||(c=h)),c?e.setTitle("".concat(c," - ").concat(e._contentDispositionFilename||e._title)):e._contentDispositionFilename&&e.setTitle(e._contentDispositionFilename),!a.IsXFAPresent||a.IsAcroFormPresent||t.isPureXfa?!a.IsAcroFormPresent&&!a.IsXFAPresent||e.pdfViewer.renderForms||console.warn("Warning: Interactive form support is not enabled"):t.loadingParams.enableXfa?console.warn("Warning: XFA Foreground documents are not supported"):console.warn("Warning: XFA support is not enabled"),a.IsSignaturesPresent&&console.warn("Warning: Digital signatures validation is not supported"),e.eventBus.dispatch("metadataloaded",{source:e});case 21:case"end":return n.stop()}}),n)})))()},_initializePageLabels:function(t){var e=this;return PR(_R().mark((function n(){var r,i,o,a,u,s,l,c,h;return _R().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!("undefined"==typeof PDFJSDev?window.isGECKOVIEW:PDFJSDev.test("GECKOVIEW"))){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t.getPageLabels();case 4:if(r=n.sent,t===e.pdfDocument){n.next=7;break}return n.abrupt("return");case 7:if(r&&!St.get("disablePageLabels")){n.next=9;break}return n.abrupt("return");case 9:i=r.length,o=0,a=0,u=0;case 12:if(!(u<i)){n.next=26;break}if((s=r[u])!==(u+1).toString()){n.next=18;break}o++,n.next=23;break;case 18:if(""!==s){n.next=22;break}a++,n.next=23;break;case 22:return n.abrupt("break",26);case 23:u++,n.next=12;break;case 26:if(!(o>=i||a>=i)){n.next=28;break}return n.abrupt("return");case 28:l=e.pdfViewer,c=e.pdfThumbnailViewer,h=e.toolbar,l.setPageLabels(r),null==c||c.setPageLabels(r),null==h||h.setPagesCount(i,!0),null==h||h.setPageNumber(l.currentPageNumber,l.currentPageLabel);case 33:case"end":return n.stop()}}),n)})))()},_initializePdfHistory:function(t){var e=t.fingerprint,n=t.viewOnLoad,r=t.initialDest,i=void 0===r?null:r;this.pdfHistory&&(this.pdfHistory.initialize({fingerprint:e,resetHistory:n===NR,updateUrl:St.get("historyUpdateUrl")}),this.pdfHistory.initialBookmark&&(this.initialBookmark=this.pdfHistory.initialBookmark,this.initialRotation=this.pdfHistory.initialRotation),i&&!this.initialBookmark&&n===jR&&(this.initialBookmark=JSON.stringify(i),this.pdfHistory.push({explicitDest:i,pageNumber:null})))},_initializeAnnotationStorageCallbacks:function(t){var e=this;if(t===this.pdfDocument){var n=t.annotationStorage;n.onSetModified=function(){window.addEventListener("beforeunload",RW),("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(e._annotationStorageModified=!0)},n.onResetModified=function(){window.removeEventListener("beforeunload",RW),("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&delete e._annotationStorageModified},n.onAnnotationEditor=function(t){e._hasAnnotationEditors=!!t,e.setTitle()}}},setInitialView:function(t){var e,n,r,i,o,a=this,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=u.rotation,l=u.sidebarView,c=u.scrollMode,h=u.spreadMode,f=function(t){V(t)&&(a.pdfViewer.pagesRotation=t)};this.isInitialViewSet=!0,null===(e=this.pdfSidebar)||void 0===e||e.setInitialView(l),o=h,U(i=c)&&(a.pdfViewer.scrollMode=i),z(o)&&(a.pdfViewer.spreadMode=o),this.initialBookmark?(f(this.initialRotation),delete this.initialRotation,this.pdfLinkService.setHash(this.initialBookmark),this.initialBookmark=null):t&&(f(s),this.pdfLinkService.setHash(t)),null===(n=this.toolbar)||void 0===n||n.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel),null===(r=this.secondaryToolbar)||void 0===r||r.setPageNumber(this.pdfViewer.currentPageNumber),this.pdfViewer.currentScaleValue||(this.pdfViewer.currentScaleValue=d)},_cleanup:function(){var t;this.pdfDocument&&(this.pdfViewer.cleanup(),null===(t=this.pdfThumbnailViewer)||void 0===t||t.cleanup(),this.pdfDocument.cleanup(St.get("fontExtraProperties")))},forceRendering:function(){var t;this.pdfRenderingQueue.printing=!!this.printService,this.pdfRenderingQueue.isThumbnailViewEnabled=(null===(t=this.pdfSidebar)||void 0===t?void 0:t.visibleView)===D,this.pdfRenderingQueue.renderHighestPriority()},beforePrint:function(){var t,e=this;(this._printAnnotationStoragePromise=this.pdfScriptingManager.dispatchWillPrint().catch((function(){})).then((function(){var t;return null===(t=e.pdfDocument)||void 0===t?void 0:t.annotationStorage.print})),this.printService)||(this.supportsPrinting?this.pdfViewer.pageViewsReady?(this.printService=pO.createPrintService({pdfDocument:this.pdfDocument,pagesOverview:this.pdfViewer.getPagesOverview(),printContainer:this.appConfig.printContainer,printResolution:St.get("printResolution"),printAnnotationStoragePromise:this._printAnnotationStoragePromise}),this.forceRendering(),this.setTitle(),this.printService.layout(),this._hasAnnotationEditors&&this.externalServices.reportTelemetry({type:"editing",data:{type:"print",stats:null===(t=this.pdfDocument)||void 0===t?void 0:t.annotationStorage.editorStats}})):this.l10n.get("pdfjs-printing-not-ready").then((function(t){window.alert(t)})):this._otherError("pdfjs-printing-not-supported"))},afterPrint:function(){var t,e=this;(this._printAnnotationStoragePromise&&(this._printAnnotationStoragePromise.then((function(){e.pdfScriptingManager.dispatchDidPrint()})),this._printAnnotationStoragePromise=null),this.printService)&&(this.printService.destroy(),this.printService=null,null===(t=this.pdfDocument)||void 0===t||t.annotationStorage.resetModified());this.forceRendering(),this.setTitle()},rotatePages:function(t){this.pdfViewer.pagesRotation+=t},requestPresentationMode:function(){var t;null===(t=this.pdfPresentationMode)||void 0===t||t.request()},triggerPrinting:function(){this.supportsPrinting&&window.print()},bindEvents:function(){if(!this._eventBusAbortController){this._eventBusAbortController=new AbortController;var t=this.eventBus,e=this._eventBusAbortController.signal;t._on("resize",QR,{signal:e}),t._on("hashchange",$R,{signal:e}),t._on("beforeprint",this.beforePrint.bind(this),{signal:e}),t._on("afterprint",this.afterPrint.bind(this),{signal:e}),t._on("pagerender",VR,{signal:e}),t._on("pagerendered",UR,{signal:e}),t._on("updateviewarea",XR,{signal:e}),t._on("pagechanging",xW,{signal:e}),t._on("scalechanging",SW,{signal:e}),t._on("rotationchanging",CW,{signal:e}),t._on("sidebarviewchanged",KR,{signal:e}),t._on("pagemode",zR,{signal:e}),t._on("namedaction",JR,{signal:e}),t._on("presentationmodechanged",YR,{signal:e}),t._on("presentationmode",nW,{signal:e}),t._on("switchannotationeditormode",rW,{signal:e}),t._on("switchannotationeditorparams",iW,{signal:e}),t._on("print",oW,{signal:e}),t._on("download",aW,{signal:e}),t._on("firstpage",uW,{signal:e}),t._on("lastpage",sW,{signal:e}),t._on("nextpage",lW,{signal:e}),t._on("previouspage",cW,{signal:e}),t._on("zoomin",hW,{signal:e}),t._on("zoomout",fW,{signal:e}),t._on("zoomreset",dW,{signal:e}),t._on("pagenumberchanged",pW,{signal:e}),t._on("scalechanged",vW,{signal:e}),t._on("rotatecw",yW,{signal:e}),t._on("rotateccw",gW,{signal:e}),t._on("optionalcontentconfig",mW,{signal:e}),t._on("switchscrollmode",bW,{signal:e}),t._on("scrollmodechanged",qR,{signal:e}),t._on("switchspreadmode",wW,{signal:e}),t._on("spreadmodechanged",ZR,{signal:e}),t._on("documentproperties",DW,{signal:e}),t._on("findfromurlhash",EW,{signal:e}),t._on("updatefindmatchescount",AW,{signal:e}),t._on("updatefindcontrolstate",kW,{signal:e}),("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(t._on("fileinputchange",tW,{signal:e}),t._on("openfile",eW,{signal:e})),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")&&(t._on("annotationeditorstateschanged",WW,{signal:e}),t._on("reporttelemetry",GW,{signal:e}))}},bindWindowEvents:function(){var t=this;if(!this._windowAbortController){this._windowAbortController=new AbortController;var e=this.eventBus,n=this.appConfig.mainContainer,r=this._windowAbortController.signal;if(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&WR.pdfViewer.refresh(),window.matchMedia("(resolution: ".concat(window.devicePixelRatio||1,"dppx)")).addEventListener("change",t,{once:!0,signal:r})}(),window.addEventListener("visibilitychange",_W,{signal:r}),window.addEventListener("wheel",OW,{passive:!1,signal:r}),window.addEventListener("touchstart",TW,{passive:!1,signal:r}),window.addEventListener("touchmove",IW,{passive:!1,signal:r}),window.addEventListener("touchend",MW,{passive:!1,signal:r}),window.addEventListener("click",BW,{signal:r}),window.addEventListener("keydown",NW,{signal:r}),window.addEventListener("keyup",jW,{signal:r}),window.addEventListener("resize",(function(){e.dispatch("resize",{source:window})}),{signal:r}),window.addEventListener("hashchange",(function(){e.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})}),{signal:r}),window.addEventListener("beforeprint",(function(){e.dispatch("beforeprint",{source:window})}),{signal:r}),window.addEventListener("afterprint",(function(){e.dispatch("afterprint",{source:window})}),{signal:r}),window.addEventListener("updatefromsandbox",(function(t){e.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),{signal:r}),"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||"onscrollend"in document.documentElement){"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||(this._lastScrollTop=n.scrollTop,this._lastScrollLeft=n.scrollLeft);var i=function e(){"undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||(t._lastScrollTop=n.scrollTop,t._lastScrollLeft=n.scrollLeft),t._isScrolling=!1,n.addEventListener("scroll",o,{passive:!0,signal:r}),n.removeEventListener("scrollend",e),n.removeEventListener("blur",e)},o=function e(){t._isCtrlKeyDown||("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||t._lastScrollTop!==n.scrollTop||t._lastScrollLeft!==n.scrollLeft)&&(n.removeEventListener("scroll",e,{passive:!0}),t._isScrolling=!0,n.addEventListener("scrollend",i,{signal:r}),n.addEventListener("blur",i,{signal:r}))};n.addEventListener("scroll",o,{passive:!0,signal:r})}}},unbindEvents:function(){var t;null===(t=this._eventBusAbortController)||void 0===t||t.abort(),this._eventBusAbortController=null},unbindWindowEvents:function(){var t,e;(null===(t=this._windowAbortController)||void 0===t||t.abort(),this._windowAbortController=null,St.get("isInAutomation"))&&(null===(e=this._globalAbortController)||void 0===e||e.abort(),this._globalAbortController=null)},_accumulateTicks:function(t,e){(this[e]>0&&t<0||this[e]<0&&t>0)&&(this[e]=0),this[e]+=t;var n=Math.trunc(this[e]);return this[e]-=n,n},_accumulateFactor:function(t,e,n){if(1===e)return 1;(this[n]>1&&e<1||this[n]<1&&e>1)&&(this[n]=1);var r=Math.floor(t*e*this[n]*100)/(100*t);return this[n]=e/r,r},_unblockDocumentLoadEvent:function(){var t,e;null===(t=(e=document).blockUnblockOnload)||void 0===t||t.call(e,!1),this._unblockDocumentLoadEvent=function(){}},get scriptingReady(){return this.pdfScriptingManager.ready}};if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")||pO.initGlobals(WR),"undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))var GR=["null","http://mozilla.github.io","https://mozilla.github.io"],HR=function(t){if(t)try{var e=new URL(window.location.href).origin||"null";if(GR.includes(e))return;if(new URL(t,window.location.href).origin!==e)throw new Error("file origin does not match viewer's")}catch(t){throw WR._documentError("pdfjs-loading-error",{message:t.message}),t}};function VR(t){var e;t.pageNumber===WR.page&&(null===(e=WR.toolbar)||void 0===e||e.updateLoadingIndicatorState(!0))}function UR(t){var e,n,r=t.pageNumber,i=t.error;r===WR.page&&(null===(n=WR.toolbar)||void 0===n||n.updateLoadingIndicatorState(!1));if((null===(e=WR.pdfSidebar)||void 0===e?void 0:e.visibleView)===D){var o,a=WR.pdfViewer.getPageView(r-1),u=null===(o=WR.pdfThumbnailViewer)||void 0===o?void 0:o.getThumbnail(r-1);a&&(null==u||u.setImage(a))}i&&WR._otherError("pdfjs-rendering-error",i)}function zR(t){var e,n,r=t.mode;switch(r){case"thumbs":n=D;break;case"bookmarks":case"outline":n=E;break;case"attachments":n=A;break;case"layers":n=k;break;case"none":n=w;break;default:return void console.error('Invalid "pagemode" hash parameter: '+r)}null===(e=WR.pdfSidebar)||void 0===e||e.switchView(n,!0)}function JR(t){var e;switch(t.action){case"GoToPage":null===(e=WR.appConfig.toolbar)||void 0===e||e.pageNumber.select();break;case"Find":var n;if(!WR.supportsIntegratedFind)null===(n=WR.findBar)||void 0===n||n.toggle();break;case"Print":WR.triggerPrinting();break;case"SaveAs":WR.downloadOrSave()}}function YR(t){WR.pdfViewer.presentationModeState=t.state}function KR(t){var e,n=t.view;(WR.pdfRenderingQueue.isThumbnailViewEnabled=n===D,WR.isInitialViewSet)&&(null===(e=WR.store)||void 0===e||e.set("sidebarView",n).catch((function(){})))}function XR(t){var e,n=t.location;WR.isInitialViewSet&&(null===(e=WR.store)||void 0===e||e.setMultiple({page:n.pageNumber,zoom:n.scale,scrollLeft:n.left,scrollTop:n.top,rotation:n.rotation}).catch((function(){})));if(WR.appConfig.secondaryToolbar){var r=WR.pdfLinkService.getAnchorUrl(n.pdfOpenParams);WR.appConfig.secondaryToolbar.viewBookmarkButton.href=r}}function qR(t){var e;WR.isInitialViewSet&&!WR.pdfViewer.isInPresentationMode&&(null===(e=WR.store)||void 0===e||e.set("scrollMode",t.mode).catch((function(){})))}function ZR(t){var e;WR.isInitialViewSet&&!WR.pdfViewer.isInPresentationMode&&(null===(e=WR.store)||void 0===e||e.set("spreadMode",t.mode).catch((function(){})))}function QR(){var t=WR.pdfDocument,e=WR.pdfViewer;if((!WR.pdfRenderingQueue.printing||!window.matchMedia("print").matches)&&t){var n=e.currentScaleValue;"auto"!==n&&"page-fit"!==n&&"page-width"!==n||(e.currentScaleValue=n),e.update()}}function $R(t){var e,n=t.hash;n&&(WR.isInitialViewSet?null!==(e=WR.pdfHistory)&&void 0!==e&&e.popStateInProgress||WR.pdfLinkService.setHash(n):WR.initialBookmark=n)}if("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))var tW=function(t){var e;if(null===(e=WR.pdfViewer)||void 0===e||!e.isInPresentationMode){var n=t.fileInput.files[0];WR.open({url:URL.createObjectURL(n),originalUrl:n.name})}},eW=function(t){var e;null===(e=WR._openFileInput)||void 0===e||e.click()};function nW(){WR.requestPresentationMode()}function rW(t){WR.pdfViewer.annotationEditorMode=t}function iW(t){WR.pdfViewer.annotationEditorParams=t}function oW(){WR.triggerPrinting()}function aW(){WR.downloadOrSave()}function uW(){WR.page=1}function sW(){WR.page=WR.pagesCount}function lW(){WR.pdfViewer.nextPage()}function cW(){WR.pdfViewer.previousPage()}function hW(){WR.zoomIn()}function fW(){WR.zoomOut()}function dW(){WR.zoomReset()}function pW(t){var e,n=WR.pdfViewer;(""!==t.value&&WR.pdfLinkService.goToPage(t.value),t.value!==n.currentPageNumber.toString()&&t.value!==n.currentPageLabel)&&(null===(e=WR.toolbar)||void 0===e||e.setPageNumber(n.currentPageNumber,n.currentPageLabel))}function vW(t){console.log({evt:t}),WR.pdfViewer.currentScaleValue=t.value}function yW(){WR.rotatePages(90)}function gW(){WR.rotatePages(-90)}function mW(t){WR.pdfViewer.optionalContentConfigPromise=t.promise}function bW(t){WR.pdfViewer.scrollMode=t.mode}function wW(t){WR.pdfViewer.spreadMode=t.mode}function DW(){var t;null===(t=WR.pdfDocumentProperties)||void 0===t||t.open()}function EW(t){WR.eventBus.dispatch("find",{source:t.source,type:"",query:t.query,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1,matchDiacritics:!0})}function AW(t){var e,n=t.matchesCount;WR.supportsIntegratedFind?WR.externalServices.updateFindMatchesCount(n):null===(e=WR.findBar)||void 0===e||e.updateResultsCount(n)}function kW(t){var e,n=t.state,r=t.previous,i=t.matchesCount,o=t.rawQuery;WR.supportsIntegratedFind?WR.externalServices.updateFindControlState({result:n,findPrevious:r,matchesCount:i,rawQuery:o}):null===(e=WR.findBar)||void 0===e||e.updateUIState(n,r,i)}function SW(t){var e;null===(e=WR.toolbar)||void 0===e||e.setPageScale(t.presetValue,t.scale),WR.pdfViewer.update()}function CW(t){WR.pdfThumbnailViewer&&(WR.pdfThumbnailViewer.pagesRotation=t.pagesRotation),WR.forceRendering(),WR.pdfViewer.currentPageNumber=t.pageNumber}function xW(t){var e,n,r,i,o,a=t.pageNumber,u=t.pageLabel;(null===(e=WR.toolbar)||void 0===e||e.setPageNumber(a,u),null===(n=WR.secondaryToolbar)||void 0===n||n.setPageNumber(a),(null===(r=WR.pdfSidebar)||void 0===r?void 0:r.visibleView)===D)&&(null===(o=WR.pdfThumbnailViewer)||void 0===o||o.scrollThumbnailIntoView(a));var s=WR.pdfViewer.getPageView(a-1);null===(i=WR.toolbar)||void 0===i||i.updateLoadingIndicatorState((null==s?void 0:s.renderingState)===g.RUNNING)}function _W(t){"visible"===document.visibilityState&&function(){LW&&clearTimeout(LW);LW=setTimeout((function(){LW=null}),BR)}()}var FW,PW,LW=null;function OW(t){var e=WR.pdfViewer,n=WR.supportsMouseWheelZoomCtrlKey,r=WR.supportsMouseWheelZoomMetaKey,i=WR.supportsPinchToZoom;if(!e.isInPresentationMode){var o=t.deltaMode,a=Math.exp(-t.deltaY/100),u="undefined"!=typeof PDFJSDev&&PDFJSDev.test("MOZCENTRAL")&&Kt.TV.platform.isMac,s=t.ctrlKey&&!WR._isCtrlKeyDown&&o===WheelEvent.DOM_DELTA_PIXEL&&0===t.deltaX&&(Math.abs(a-1)<.05||u)&&0===t.deltaZ,l=[t.clientX,t.clientY];if(s||t.ctrlKey&&n||t.metaKey&&r){if(t.preventDefault(),WR._isScrolling||LW||"hidden"===document.visibilityState||WR.overlayManager.active)return;if(s&&i)a=WR._accumulateFactor(e.currentScale,a,"_wheelUnusedFactor"),WR.updateZoom(null,a,l);else{var c=H(t),h=0;if(o===WheelEvent.DOM_DELTA_LINE||o===WheelEvent.DOM_DELTA_PAGE)h=Math.abs(c)>=1?Math.sign(c):WR._accumulateTicks(c,"_wheelUnusedTicks");else{h=WR._accumulateTicks(c/30,"_wheelUnusedTicks")}WR.updateZoom(h,null,l)}}}}function TW(t){if(!(WR.pdfViewer.isInPresentationMode||t.touches.length<2))if(t.preventDefault(),2!==t.touches.length||WR.overlayManager.active)WR._touchInfo=null;else{var e=kR(t.touches,2),n=e[0],r=e[1];if(n.identifier>r.identifier){var i=[r,n];n=i[0],r=i[1]}WR._touchInfo={touch0X:n.pageX,touch0Y:n.pageY,touch1X:r.pageX,touch1Y:r.pageY}}}function IW(t){if(WR._touchInfo&&2===t.touches.length){var e=WR.pdfViewer,n=WR._touchInfo,r=WR.supportsPinchToZoom,i=kR(t.touches,2),o=i[0],a=i[1];if(o.identifier>a.identifier){var u=[a,o];o=u[0],a=u[1]}var s=o,l=s.pageX,c=s.pageY,h=a,f=h.pageX,d=h.pageY,p=n.touch0X,v=n.touch0Y,y=n.touch1X,g=n.touch1Y;if(!(Math.abs(p-l)<=1&&Math.abs(v-c)<=1&&Math.abs(y-f)<=1&&Math.abs(g-d)<=1)){if(n.touch0X=l,n.touch0Y=c,n.touch1X=f,n.touch1Y=d,p===l&&v===c){var m=y-l,b=g-c,w=f-l,D=d-c,E=m*D-b*w;if(Math.abs(E)>.02*Math.hypot(m,b)*Math.hypot(w,D))return}else if(y===f&&g===d){var A=p-f,k=v-d,S=l-f,C=c-d,x=A*C-k*S;if(Math.abs(x)>.02*Math.hypot(A,k)*Math.hypot(S,C))return}else{if((l-p)*(f-y)+(c-v)*(d-g)>=0)return}t.preventDefault();var _=[(l+f)/2,(c+d)/2],F=Math.hypot(l-f,c-d)||1,P=Math.hypot(p-y,v-g)||1;if(r){var L=WR._accumulateFactor(e.currentScale,F/P,"_touchUnusedFactor");WR.updateZoom(null,L,_)}else{var O=WR._accumulateTicks((F-P)/30,"_touchUnusedTicks");WR.updateZoom(O,null,_)}}}}function MW(t){WR._touchInfo&&(t.preventDefault(),WR._touchInfo=null,WR._touchUnusedTicks=0,WR._touchUnusedFactor=1)}function BW(t){var e,n,r;if(null!==(e=WR.secondaryToolbar)&&void 0!==e&&e.isOpen){var i=WR.appConfig;(WR.pdfViewer.containsElement(t.target)||null!==(n=i.toolbar)&&void 0!==n&&n.container.contains(t.target)&&t.target!==(null===(r=i.secondaryToolbar)||void 0===r?void 0:r.toggleButton))&&WR.secondaryToolbar.close()}}function jW(t){"Control"===t.key&&(WR._isCtrlKeyDown=!1)}function NW(t){var e,n,r,i,o;if(WR._isCtrlKeyDown="Control"===t.key,!WR.overlayManager.active){var a=WR.eventBus,u=WR.pdfViewer,s=u.isInPresentationMode,l=!1,c=!1,h=(t.ctrlKey?1:0)|(t.altKey?2:0)|(t.shiftKey?4:0)|(t.metaKey?8:0);if(1===h||8===h||5===h||12===h)switch(t.keyCode){case 70:var f;if(!WR.supportsIntegratedFind&&!t.shiftKey)null===(f=WR.findBar)||void 0===f||f.open(),l=!0;break;case 71:if(!WR.supportsIntegratedFind){var d=WR.findController.state;if(d){var p={source:window,type:"again",findPrevious:5===h||12===h};a.dispatch("find",OR(OR({},d),p))}l=!0}break;case 61:case 107:case 187:case 171:WR.zoomIn(),l=!0;break;case 173:case 109:case 189:WR.zoomOut(),l=!0;break;case 48:case 96:s||(setTimeout((function(){WR.zoomReset()})),l=!1);break;case 38:(s||WR.page>1)&&(WR.page=1,l=!0,c=!0);break;case 40:(s||WR.page<WR.pagesCount)&&(WR.page=WR.pagesCount,l=!0,c=!0)}if(("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC || CHROME"))&&(1===h||8===h))switch(t.keyCode){case 83:a.dispatch("download",{source:window}),l=!0;break;case 79:("undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC"))&&(a.dispatch("openfile",{source:window}),l=!0)}if(3===h||10===h)switch(t.keyCode){case 80:WR.requestPresentationMode(),l=!0,WR.externalServices.reportTelemetry({type:"buttons",data:{id:"presentationModeKeyboard"}});break;case 71:WR.appConfig.toolbar&&(WR.appConfig.toolbar.pageNumber.select(),l=!0)}if(l)return c&&!s&&u.focus(),void t.preventDefault();var v=function(){for(var t=document,e=t.activeElement||t.querySelector(":focus");null!==(n=e)&&void 0!==n&&n.shadowRoot;){var n;e=(t=e.shadowRoot).activeElement||t.querySelector(":focus")}return e}(),y=null==v?void 0:v.tagName.toUpperCase();if(!("INPUT"===y||"TEXTAREA"===y||"SELECT"===y||"BUTTON"===y&&(13===t.keyCode||32===t.keyCode)||null!=v&&v.isContentEditable)||27===t.keyCode){if(0===h){var g=0,m=!1;switch(t.keyCode){case 38:if(WR.supportsCaretBrowsingMode){WR.moveCaret(!0,!1),l=!0;break}case 33:u.isVerticalScrollbarEnabled&&(m=!0),g=-1;break;case 8:s||(m=!0),g=-1;break;case 37:if(WR.supportsCaretBrowsingMode)return;u.isHorizontalScrollbarEnabled&&(m=!0);case 75:case 80:g=-1;break;case 27:null!==(e=WR.secondaryToolbar)&&void 0!==e&&e.isOpen&&(WR.secondaryToolbar.close(),l=!0),!WR.supportsIntegratedFind&&null!==(n=WR.findBar)&&void 0!==n&&n.opened&&(WR.findBar.close(),l=!0);break;case 40:if(WR.supportsCaretBrowsingMode){WR.moveCaret(!1,!1),l=!0;break}case 34:u.isVerticalScrollbarEnabled&&(m=!0),g=1;break;case 13:case 32:s||(m=!0),g=1;break;case 39:if(WR.supportsCaretBrowsingMode)return;u.isHorizontalScrollbarEnabled&&(m=!0);case 74:case 78:g=1;break;case 36:(s||WR.page>1)&&(WR.page=1,l=!0,c=!0);break;case 35:(s||WR.page<WR.pagesCount)&&(WR.page=WR.pagesCount,l=!0,c=!0);break;case 83:null===(r=WR.pdfCursorTools)||void 0===r||r.switchTool(P.SELECT);break;case 72:null===(i=WR.pdfCursorTools)||void 0===i||i.switchTool(P.HAND);break;case 82:WR.rotatePages(90);break;case 115:null===(o=WR.pdfSidebar)||void 0===o||o.toggle()}0===g||m&&"page-fit"!==u.currentScaleValue||(g>0?u.nextPage():u.previousPage(),l=!0)}if(4===h)switch(t.keyCode){case 13:case 32:if(!s&&"page-fit"!==u.currentScaleValue)break;u.previousPage(),l=!0;break;case 38:WR.moveCaret(!0,!0),l=!0;break;case 40:WR.moveCaret(!1,!0),l=!0;break;case 82:WR.rotatePages(-90)}l||s||(t.keyCode>=33&&t.keyCode<=40||32===t.keyCode&&"BUTTON"!==y)&&(c=!0),c&&!u.containsElement(v)&&u.focus(),l&&t.preventDefault()}}}function RW(t){return t.preventDefault(),t.returnValue="",!1}function WW(t){WR.externalServices.updateEditorStates(t)}function GW(t){var e=t.details;WR.externalServices.reportTelemetry(e)}"undefined"!=typeof PDFJSDev&&PDFJSDev.eval("BUNDLE_VERSION"),"undefined"!=typeof PDFJSDev&&PDFJSDev.eval("BUNDLE_BUILD");var HW="undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC")?{LinkTarget:Ut,RenderingStates:g,ScrollMode:_,SpreadMode:F}:null;function VW(){var t={appContainer:document.body,mainContainer:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),toolbar:{container:document.getElementById("toolbarViewer"),numPages:document.getElementById("numPages"),pageNumber:document.getElementById("pageNumber"),scaleSelect:document.getElementById("scaleSelect"),customScaleOption:document.getElementById("customScaleOption"),previous:document.getElementById("previous"),next:document.getElementById("next"),zoomIn:document.getElementById("zoomIn"),zoomOut:document.getElementById("zoomOut"),viewFind:document.getElementById("viewFind"),print:document.getElementById("print"),editorFreeTextButton:document.getElementById("editorFreeText"),editorFreeTextParamsToolbar:document.getElementById("editorFreeTextParamsToolbar"),editorHighlightButton:document.getElementById("editorHighlight"),editorHighlightParamsToolbar:document.getElementById("editorHighlightParamsToolbar"),editorHighlightColorPicker:document.getElementById("editorHighlightColorPicker"),editorInkButton:document.getElementById("editorInk"),editorInkParamsToolbar:document.getElementById("editorInkParamsToolbar"),editorStampButton:document.getElementById("editorStamp"),editorStampParamsToolbar:document.getElementById("editorStampParamsToolbar"),download:document.getElementById("download")},secondaryToolbar:{toolbar:document.getElementById("secondaryToolbar"),toggleButton:document.getElementById("secondaryToolbarToggle"),presentationModeButton:document.getElementById("presentationMode"),openFileButton:"undefined"==typeof PDFJSDev||PDFJSDev.test("GENERIC")?document.getElementById("secondaryOpenFile"):null,printButton:document.getElementById("secondaryPrint"),downloadButton:document.getElementById("secondaryDownload"),viewBookmarkButton:document.getElementById("viewBookmark"),firstPageButton:document.getElementById("firstPage"),lastPageButton:document.getElementById("lastPage"),pageRotateCwButton:document.getElementById("pageRotateCw"),pageRotateCcwButton:document.getElementById("pageRotateCcw"),cursorSelectToolButton:document.getElementById("cursorSelectTool"),cursorHandToolButton:document.getElementById("cursorHandTool"),scrollPageButton:document.getElementById("scrollPage"),scrollVerticalButton:document.getElementById("scrollVertical"),scrollHorizontalButton:document.getElementById("scrollHorizontal"),scrollWrappedButton:document.getElementById("scrollWrapped"),spreadNoneButton:document.getElementById("spreadNone"),spreadOddButton:document.getElementById("spreadOdd"),spreadEvenButton:document.getElementById("spreadEven"),documentPropertiesButton:document.getElementById("documentProperties")},sidebar:{outerContainer:document.getElementById("outerContainer"),sidebarContainer:document.getElementById("sidebarContainer"),toggleButton:document.getElementById("sidebarToggle"),resizer:document.getElementById("sidebarResizer"),thumbnailButton:document.getElementById("viewThumbnail"),outlineButton:document.getElementById("viewOutline"),attachmentsButton:document.getElementById("viewAttachments"),layersButton:document.getElementById("viewLayers"),thumbnailView:document.getElementById("thumbnailView"),outlineView:document.getElementById("outlineView"),attachmentsView:document.getElementById("attachmentsView"),layersView:document.getElementById("layersView"),currentOutlineItemButton:document.getElementById("currentOutlineItem")},findBar:{bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),matchDiacriticsCheckbox:document.getElementById("findMatchDiacritics"),entireWordCheckbox:document.getElementById("findEntireWord"),findMsg:document.getElementById("findMsg"),findResultsCount:document.getElementById("findResultsCount"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")},passwordOverlay:{dialog:document.getElementById("passwordDialog"),label:document.getElementById("passwordText"),input:document.getElementById("password"),submitButton:document.getElementById("passwordSubmit"),cancelButton:document.getElementById("passwordCancel")},documentProperties:{dialog:document.getElementById("documentPropertiesDialog"),closeButton:document.getElementById("documentPropertiesClose"),fields:{fileName:document.getElementById("fileNameField"),fileSize:document.getElementById("fileSizeField"),title:document.getElementById("titleField"),author:document.getElementById("authorField"),subject:document.getElementById("subjectField"),keywords:document.getElementById("keywordsField"),creationDate:document.getElementById("creationDateField"),modificationDate:document.getElementById("modificationDateField"),creator:document.getElementById("creatorField"),producer:document.getElementById("producerField"),version:document.getElementById("versionField"),pageCount:document.getElementById("pageCountField"),pageSize:document.getElementById("pageSizeField"),linearized:document.getElementById("linearizedField")}},altTextDialog:{dialog:document.getElementById("altTextDialog"),optionDescription:document.getElementById("descriptionButton"),optionDecorative:document.getElementById("decorativeButton"),textarea:document.getElementById("descriptionTextarea"),cancelButton:document.getElementById("altTextCancel"),saveButton:document.getElementById("altTextSave")},annotationEditorParams:{editorFreeTextFontSize:document.getElementById("editorFreeTextFontSize"),editorFreeTextColor:document.getElementById("editorFreeTextColor"),editorInkColor:document.getElementById("editorInkColor"),editorInkThickness:document.getElementById("editorInkThickness"),editorInkOpacity:document.getElementById("editorInkOpacity"),editorStampAddImage:document.getElementById("editorStampAddImage"),editorFreeHighlightThickness:document.getElementById("editorFreeHighlightThickness"),editorHighlightShowAll:document.getElementById("editorHighlightShowAll")},printContainer:document.getElementById("printContainer")};if("undefined"!=typeof PDFJSDev&&PDFJSDev.test("GENERIC")){var e=new CustomEvent("webviewerloaded",{bubbles:!0,cancelable:!0,detail:{source:window}});try{parent.document.dispatchEvent(e)}catch(t){console.error("webviewerloaded: ".concat(t)),document.dispatchEvent(e)}}WR.run(t)}window.PDFViewerApplication=WR,window.PDFViewerApplicationConstants=HW,window.PDFViewerApplicationOptions=St,null===(FW=(PW=document).blockUnblockOnload)||void 0===FW||FW.call(PW,!0),"interactive"===document.readyState||"complete"===document.readyState?VW():document.addEventListener("DOMContentLoaded",VW,!0)})()})();
//# sourceMappingURL=viewer.js.map