{"version":3,"file":"wc-stripe-cartflows.js","mappings":"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","sources":["webpack://wc_stripe/webpack/bootstrap","webpack://wc_stripe/webpack/runtime/compat get default export","webpack://wc_stripe/webpack/runtime/define property getters","webpack://wc_stripe/webpack/runtime/hasOwnProperty shorthand","webpack://wc_stripe/webpack/runtime/make namespace object","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://wc_stripe/external window \"regeneratorRuntime\"","webpack://wc_stripe/external window \"jQuery\"","webpack://wc_stripe/./node_modules/@stripe/stripe-js/dist/stripe.esm.js","webpack://wc_stripe/external window [\"wp\",\"apiFetch\"]","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://wc_stripe/./packages/cartflows/assets/js/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export default function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}","import _typeof from \"./typeof.js\";\nexport default function toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  for (var key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key)) {\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"regeneratorRuntime\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"jQuery\"];","var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.54.2\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n// own script injection.\n\nvar stripePromise$1 = Promise.resolve().then(function () {\n  return loadScript(null);\n});\nvar loadCalled = false;\nstripePromise$1[\"catch\"](function (err) {\n  if (!loadCalled) {\n    console.warn(err);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now();\n  return stripePromise$1.then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import $ from 'jquery';\nimport {loadStripe} from '@stripe/stripe-js';\nimport apiFetch from \"@wordpress/api-fetch\";\n\nconst data = cartflows_offer.stripeData;\nconst getStripe = new Promise(resolve => {\n    loadStripe(data.key, (() => data.accountId ? {stripeAccount: data.accountId} : {})()).then(stripe => {\n        resolve(stripe);\n    }).catch(error => {\n        resolve(false);\n    })\n});\n\nlet currentButton;\n\nconst initialize = () => {\n    window.addEventListener('hashchange', handleHashChange);\n    $(document.body).on('click', 'a[href*=\"wcf-up-offer\"], a[href*=\"wcf-down-offer\"]', handleButtonClick);\n}\n\nconst handleButtonClick = (e) => {\n    currentButton = $(e.currentTarget);\n}\n\nconst handleHashChange = async (e) => {\n    var match = e.newURL.match(/response=(.*)/);\n    if (match) {\n        try {\n            var obj = JSON.parse(window.atob(decodeURIComponent(match[1])));\n            if (obj && obj.hasOwnProperty('client_secret')) {\n                history.pushState({}, '', window.location.pathname + window.location.search);\n                handleCardAction(obj);\n            }\n        } catch (err) {\n\n        }\n    }\n    return true;\n}\n\nconst handleCardAction = async ({client_secret, ...props}) => {\n    const stripe = await getStripe;\n    stripe.handleCardAction(client_secret).then(result => {\n        if (result.error) {\n            $('body').trigger('wcf-update-msg', [result.error.message, 'wcf-payment-error']);\n            setTimeout(() => {\n                $(document.body).trigger('wcf-hide-loader')\n                $(document.body).trigger('wcf-update-msg', [data.msg, 'wcf-payment-success']);\n            }, data.timeout);\n            syncPaymentIntent({client_secret, ...props});\n        } else {\n            triggerOfferClick();\n        }\n    })\n}\n\nconst triggerOfferClick = () => {\n    currentButton.click();\n}\n\nconst syncPaymentIntent = (data) => {\n    return new Promise((resolve, reject) => {\n        apiFetch({\n            path: '/wc-stripe/v1/cartflows/payment-intent',\n            method: 'POST',\n            data\n        }).then(response => {\n        }).catch(err => {\n        });\n    });\n}\n\ninitialize();"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","_typeof","iterator","constructor","toPropertyKey","t","i","r","e","toPrimitive","TypeError","String","_objectWithoutProperties","source","excluded","target","indexOf","getOwnPropertySymbols","sourceSymbolKeys","length","propertyIsEnumerable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","window","V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","stripePromise","stripePromise$1","params","document","Stripe","console","warn","script","scripts","querySelectorAll","concat","test","src","findScript","queryString","advancedFraudSignals","createElement","headOrBody","head","body","Error","appendChild","injectScript","addEventListener","loadCalled","configurable","writable","currentButton","data","cartflows_offer","stripeData","getStripe","_len","Array","_key","startTime","Date","now","maybeStripe","stripe","_registerWrapper","name","version","registerWrapper","initStripe","loadStripe","accountId","stripeAccount","catch","handleHashChange","_ref","_regeneratorRuntime","_callee","match","_context","prev","next","newURL","JSON","parse","atob","decodeURIComponent","history","pushState","location","pathname","search","handleCardAction","abrupt","stop","_x","_ref3","_callee2","_ref2","client_secret","props","_context2","_excluded","sent","result","$","trigger","message","setTimeout","msg","timeout","syncPaymentIntent","_objectSpread","triggerOfferClick","_x2","click","apiFetch","path","method","response","on","currentTarget"],"sourceRoot":""}