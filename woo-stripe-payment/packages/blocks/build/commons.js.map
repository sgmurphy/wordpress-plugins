{"version":3,"file":"commons.js","mappings":"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","sources":["webpack://wc_stripe/./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/asyncToGenerator.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/classCallCheck.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/construct.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/createClass.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/extends.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/inherits.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/isNativeFunction.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/iterableToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/nonIterableSpread.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/toConsumableArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/typeof.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack://wc_stripe/./node_modules/@babel/runtime/helpers/wrapNativeSuper.js","webpack://wc_stripe/./node_modules/@stripe/react-stripe-js/dist/react-stripe.umd.js","webpack://wc_stripe/./node_modules/@stripe/stripe-js/dist/stripe.esm.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/installments/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/offsite-notice/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/payment-method-label/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/payment-method/index.js","webpack://wc_stripe/./packages/blocks/assets/js/components/checkout/radio-option/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/hooks/use-process-payment.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/ach/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/applepay/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/applepay/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/bootstrap/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/custom-card-form.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/simple/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/components/stripe-card-form.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/payment-element.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/credit-card/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/error-boundary.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/button.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/constants.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/use-error-message.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/use-payment-request.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/hooks/use-payments-client.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/googlepay/util.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-after-process-payment.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-breakpoint-width.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-deferred-payment-intent.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-exported-values.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-payment-events.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-payment-request.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-process-checkout-error.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-process-payment-intent.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-setup-intent.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/hooks/use-stripe-error.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/block.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/error-boundary.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/hooks/use-link-icon.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/hooks/use-link.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/link/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/affirm.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/afterpay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/alipay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/bancontact.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/becs.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/blik/blik.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/blik/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/blik/input-codes.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/blik/timer.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/boleto.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/eps.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/fpx.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/giropay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/grabpay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/use-after-process-local-payment.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/use-create-source.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/hooks/use-validate-checkout.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/ideal.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/klarna.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/konbini.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/local-payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/multibanco.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/oxxo.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/p24.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/paynow.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/promptpay.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/sepa.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/sofort.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/local-payment/wechat.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/payment-request/index.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/payment-request/payment-method.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/saved-card-component.js","webpack://wc_stripe/./packages/blocks/assets/js/payment-methods/util.js","webpack://wc_stripe/./node_modules/classnames/index.js"],"sourcesContent":["function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}\n\nmodule.exports = _arrayWithoutHoles;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nmodule.exports = _isNativeFunction;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableSpread;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var _typeof = require(\"@babel/runtime/helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","var arrayLikeToArray = require(\"./arrayLikeToArray\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nvar setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeFunction = require(\"./isNativeFunction\");\n\nvar construct = require(\"./construct\");\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  module.exports = _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nmodule.exports = _wrapNativeSuper;","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('react')) :\n  typeof define === 'function' && define.amd ? define(['exports', 'react'], factory) :\n  (global = global || self, factory(global.ReactStripe = {}, global.React));\n}(this, (function (exports, React) { 'use strict';\n\n  React = React && Object.prototype.hasOwnProperty.call(React, 'default') ? React['default'] : React;\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n\n      if (enumerableOnly) {\n        symbols = symbols.filter(function (sym) {\n          return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n        });\n      }\n\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n      _typeof = function (obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n\n    var _s, _e;\n\n    try {\n      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n\n  var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n  var ReactPropTypesSecret_1 = ReactPropTypesSecret;\n\n  function emptyFunction() {}\n\n  function emptyFunctionWithReset() {}\n\n  emptyFunctionWithReset.resetWarningCache = emptyFunction;\n\n  var factoryWithThrowingShims = function () {\n    function shim(props, propName, componentName, location, propFullName, secret) {\n      if (secret === ReactPropTypesSecret_1) {\n        // It is still safe when called from React.\n        return;\n      }\n\n      var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n      err.name = 'Invariant Violation';\n      throw err;\n    }\n    shim.isRequired = shim;\n\n    function getShim() {\n      return shim;\n    }\n    // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n    var ReactPropTypes = {\n      array: shim,\n      bool: shim,\n      func: shim,\n      number: shim,\n      object: shim,\n      string: shim,\n      symbol: shim,\n      any: shim,\n      arrayOf: getShim,\n      element: shim,\n      elementType: shim,\n      instanceOf: getShim,\n      node: shim,\n      objectOf: getShim,\n      oneOf: getShim,\n      oneOfType: getShim,\n      shape: getShim,\n      exact: getShim,\n      checkPropTypes: emptyFunctionWithReset,\n      resetWarningCache: emptyFunction\n    };\n    ReactPropTypes.PropTypes = ReactPropTypes;\n    return ReactPropTypes;\n  };\n\n  var propTypes = createCommonjsModule(function (module) {\n  /**\n   * Copyright (c) 2013-present, Facebook, Inc.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   */\n  {\n    // By explicitly using `prop-types` you are opting into new production behavior.\n    // http://fb.me/prop-types-in-prod\n    module.exports = factoryWithThrowingShims();\n  }\n  });\n\n  var usePrevious = function usePrevious(value) {\n    var ref = React.useRef(value);\n    React.useEffect(function () {\n      ref.current = value;\n    }, [value]);\n    return ref.current;\n  };\n\n  var isUnknownObject = function isUnknownObject(raw) {\n    return raw !== null && _typeof(raw) === 'object';\n  };\n  var isPromise = function isPromise(raw) {\n    return isUnknownObject(raw) && typeof raw.then === 'function';\n  }; // We are using types to enforce the `stripe` prop in this lib,\n  // but in an untyped integration `stripe` could be anything, so we need\n  // to do some sanity validation to prevent type errors.\n\n  var isStripe = function isStripe(raw) {\n    return isUnknownObject(raw) && typeof raw.elements === 'function' && typeof raw.createToken === 'function' && typeof raw.createPaymentMethod === 'function' && typeof raw.confirmCardPayment === 'function';\n  };\n\n  var PLAIN_OBJECT_STR = '[object Object]';\n  var isEqual = function isEqual(left, right) {\n    if (!isUnknownObject(left) || !isUnknownObject(right)) {\n      return left === right;\n    }\n\n    var leftArray = Array.isArray(left);\n    var rightArray = Array.isArray(right);\n    if (leftArray !== rightArray) return false;\n    var leftPlainObject = Object.prototype.toString.call(left) === PLAIN_OBJECT_STR;\n    var rightPlainObject = Object.prototype.toString.call(right) === PLAIN_OBJECT_STR;\n    if (leftPlainObject !== rightPlainObject) return false; // not sure what sort of special object this is (regexp is one option), so\n    // fallback to reference check.\n\n    if (!leftPlainObject && !leftArray) return left === right;\n    var leftKeys = Object.keys(left);\n    var rightKeys = Object.keys(right);\n    if (leftKeys.length !== rightKeys.length) return false;\n    var keySet = {};\n\n    for (var i = 0; i < leftKeys.length; i += 1) {\n      keySet[leftKeys[i]] = true;\n    }\n\n    for (var _i = 0; _i < rightKeys.length; _i += 1) {\n      keySet[rightKeys[_i]] = true;\n    }\n\n    var allKeys = Object.keys(keySet);\n\n    if (allKeys.length !== leftKeys.length) {\n      return false;\n    }\n\n    var l = left;\n    var r = right;\n\n    var pred = function pred(key) {\n      return isEqual(l[key], r[key]);\n    };\n\n    return allKeys.every(pred);\n  };\n\n  var extractAllowedOptionsUpdates = function extractAllowedOptionsUpdates(options, prevOptions, immutableKeys) {\n    if (!isUnknownObject(options)) {\n      return null;\n    }\n\n    return Object.keys(options).reduce(function (newOptions, key) {\n      var isUpdated = !isUnknownObject(prevOptions) || !isEqual(options[key], prevOptions[key]);\n\n      if (immutableKeys.includes(key)) {\n        if (isUpdated) {\n          console.warn(\"Unsupported prop change: options.\".concat(key, \" is not a mutable property.\"));\n        }\n\n        return newOptions;\n      }\n\n      if (!isUpdated) {\n        return newOptions;\n      }\n\n      return _objectSpread2(_objectSpread2({}, newOptions || {}), {}, _defineProperty({}, key, options[key]));\n    }, null);\n  };\n\n  var INVALID_STRIPE_ERROR = 'Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.'; // We are using types to enforce the `stripe` prop in this lib, but in a real\n  // integration `stripe` could be anything, so we need to do some sanity\n  // validation to prevent type errors.\n\n  var validateStripe = function validateStripe(maybeStripe) {\n    var errorMsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : INVALID_STRIPE_ERROR;\n\n    if (maybeStripe === null || isStripe(maybeStripe)) {\n      return maybeStripe;\n    }\n\n    throw new Error(errorMsg);\n  };\n\n  var parseStripeProp = function parseStripeProp(raw) {\n    var errorMsg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : INVALID_STRIPE_ERROR;\n\n    if (isPromise(raw)) {\n      return {\n        tag: 'async',\n        stripePromise: Promise.resolve(raw).then(function (result) {\n          return validateStripe(result, errorMsg);\n        })\n      };\n    }\n\n    var stripe = validateStripe(raw, errorMsg);\n\n    if (stripe === null) {\n      return {\n        tag: 'empty'\n      };\n    }\n\n    return {\n      tag: 'sync',\n      stripe: stripe\n    };\n  };\n\n  var registerWithStripeJs = function registerWithStripeJs(stripe) {\n    if (!stripe || !stripe._registerWrapper || !stripe.registerAppInfo) {\n      return;\n    }\n\n    stripe._registerWrapper({\n      name: 'react-stripe-js',\n      version: \"2.4.0\"\n    });\n\n    stripe.registerAppInfo({\n      name: 'react-stripe-js',\n      version: \"2.4.0\",\n      url: 'https://stripe.com/docs/stripe-js/react'\n    });\n  };\n\n  var _excluded = [\"on\", \"session\"];\n  var CustomCheckoutSdkContext = /*#__PURE__*/React.createContext(null);\n  CustomCheckoutSdkContext.displayName = 'CustomCheckoutSdkContext';\n  var parseCustomCheckoutSdkContext = function parseCustomCheckoutSdkContext(ctx, useCase) {\n    if (!ctx) {\n      throw new Error(\"Could not find CustomCheckoutProvider context; You need to wrap the part of your app that \".concat(useCase, \" in an <CustomCheckoutProvider> provider.\"));\n    }\n\n    return ctx;\n  };\n  var CustomCheckoutContext = /*#__PURE__*/React.createContext(null);\n  CustomCheckoutContext.displayName = 'CustomCheckoutContext';\n  var extractCustomCheckoutContextValue = function extractCustomCheckoutContextValue(customCheckoutSdk, sessionState) {\n    if (!customCheckoutSdk) {\n      return null;\n    }\n\n    var _on = customCheckoutSdk.on,\n        _session = customCheckoutSdk.session,\n        actions = _objectWithoutProperties(customCheckoutSdk, _excluded);\n\n    if (!sessionState) {\n      return _objectSpread2(_objectSpread2({}, actions), customCheckoutSdk.session());\n    }\n\n    return _objectSpread2(_objectSpread2({}, actions), sessionState);\n  };\n  var INVALID_STRIPE_ERROR$1 = 'Invalid prop `stripe` supplied to `CustomCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.';\n  var CustomCheckoutProvider = function CustomCheckoutProvider(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp, INVALID_STRIPE_ERROR$1);\n    }, [rawStripeProp]); // State used to trigger a re-render when sdk.session is updated\n\n    var _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        session = _React$useState2[0],\n        setSession = _React$useState2[1];\n\n    var _React$useState3 = React.useState(function () {\n      return {\n        stripe: parsed.tag === 'sync' ? parsed.stripe : null,\n        customCheckoutSdk: null\n      };\n    }),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        ctx = _React$useState4[0],\n        setContext = _React$useState4[1];\n\n    var safeSetContext = function safeSetContext(stripe, customCheckoutSdk) {\n      setContext(function (ctx) {\n        if (ctx.stripe && ctx.customCheckoutSdk) {\n          return ctx;\n        }\n\n        return {\n          stripe: stripe,\n          customCheckoutSdk: customCheckoutSdk\n        };\n      });\n    }; // Ref used to avoid calling initCustomCheckout multiple times when options changes\n\n\n    var initCustomCheckoutCalledRef = React.useRef(false);\n    React.useEffect(function () {\n      var isMounted = true;\n\n      if (parsed.tag === 'async' && !ctx.stripe) {\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe && isMounted && !initCustomCheckoutCalledRef.current) {\n            // Only update context if the component is still mounted\n            // and stripe is not null. We allow stripe to be null to make\n            // handling SSR easier.\n            initCustomCheckoutCalledRef.current = true;\n            stripe.initCustomCheckout(options).then(function (customCheckoutSdk) {\n              if (customCheckoutSdk) {\n                safeSetContext(stripe, customCheckoutSdk);\n                customCheckoutSdk.on('change', setSession);\n              }\n            });\n          }\n        });\n      } else if (parsed.tag === 'sync' && parsed.stripe && !initCustomCheckoutCalledRef.current) {\n        initCustomCheckoutCalledRef.current = true;\n        parsed.stripe.initCustomCheckout(options).then(function (customCheckoutSdk) {\n          if (customCheckoutSdk) {\n            safeSetContext(parsed.stripe, customCheckoutSdk);\n            customCheckoutSdk.on('change', setSession);\n          }\n        });\n      }\n\n      return function () {\n        isMounted = false;\n      };\n    }, [parsed, ctx, options, setSession]); // Warn on changes to stripe prop\n\n    var prevStripe = usePrevious(rawStripeProp);\n    React.useEffect(function () {\n      if (prevStripe !== null && prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on CustomCheckoutProvider: You cannot change the `stripe` prop after setting it.');\n      }\n    }, [prevStripe, rawStripeProp]); // Apply updates to elements when options prop has relevant changes\n\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      var _prevOptions$elements, _options$elementsOpti;\n\n      if (!ctx.customCheckoutSdk) {\n        return;\n      }\n\n      if (options.clientSecret && !isUnknownObject(prevOptions) && !isEqual(options.clientSecret, prevOptions.clientSecret)) {\n        console.warn('Unsupported prop change: options.client_secret is not a mutable property.');\n      }\n\n      var previousAppearance = prevOptions === null || prevOptions === void 0 ? void 0 : (_prevOptions$elements = prevOptions.elementsOptions) === null || _prevOptions$elements === void 0 ? void 0 : _prevOptions$elements.appearance;\n      var currentAppearance = options === null || options === void 0 ? void 0 : (_options$elementsOpti = options.elementsOptions) === null || _options$elementsOpti === void 0 ? void 0 : _options$elementsOpti.appearance;\n\n      if (currentAppearance && !isEqual(currentAppearance, previousAppearance)) {\n        ctx.customCheckoutSdk.changeAppearance(currentAppearance);\n      }\n    }, [options, prevOptions, ctx.customCheckoutSdk]); // Attach react-stripe-js version to stripe.js instance\n\n    React.useEffect(function () {\n      registerWithStripeJs(ctx.stripe);\n    }, [ctx.stripe]);\n    var customCheckoutContextValue = React.useMemo(function () {\n      return extractCustomCheckoutContextValue(ctx.customCheckoutSdk, session);\n    }, [ctx.customCheckoutSdk, session]);\n\n    if (!ctx.customCheckoutSdk) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(CustomCheckoutSdkContext.Provider, {\n      value: ctx\n    }, /*#__PURE__*/React.createElement(CustomCheckoutContext.Provider, {\n      value: customCheckoutContextValue\n    }, children));\n  };\n  CustomCheckoutProvider.propTypes = {\n    stripe: propTypes.any,\n    options: propTypes.shape({\n      clientSecret: propTypes.string.isRequired,\n      elementsOptions: propTypes.object\n    }).isRequired\n  };\n  var useCustomCheckoutSdkContextWithUseCase = function useCustomCheckoutSdkContextWithUseCase(useCaseString) {\n    var ctx = React.useContext(CustomCheckoutSdkContext);\n    return parseCustomCheckoutSdkContext(ctx, useCaseString);\n  };\n  var useElementsOrCustomCheckoutSdkContextWithUseCase = function useElementsOrCustomCheckoutSdkContextWithUseCase(useCaseString) {\n    var customCheckoutSdkContext = React.useContext(CustomCheckoutSdkContext);\n    var elementsContext = React.useContext(ElementsContext);\n\n    if (customCheckoutSdkContext && elementsContext) {\n      throw new Error(\"You cannot wrap the part of your app that \".concat(useCaseString, \" in both <CustomCheckoutProvider> and <Elements> providers.\"));\n    }\n\n    if (customCheckoutSdkContext) {\n      return parseCustomCheckoutSdkContext(customCheckoutSdkContext, useCaseString);\n    }\n\n    return parseElementsContext(elementsContext, useCaseString);\n  };\n  var useCustomCheckout = function useCustomCheckout() {\n    // ensure it's in CustomCheckoutProvider\n    useCustomCheckoutSdkContextWithUseCase('calls useCustomCheckout()');\n    var ctx = React.useContext(CustomCheckoutContext);\n\n    if (!ctx) {\n      throw new Error('Could not find CustomCheckout Context; You need to wrap the part of your app that calls useCustomCheckout() in an <CustomCheckoutProvider> provider.');\n    }\n\n    return ctx;\n  };\n\n  var ElementsContext = /*#__PURE__*/React.createContext(null);\n  ElementsContext.displayName = 'ElementsContext';\n  var parseElementsContext = function parseElementsContext(ctx, useCase) {\n    if (!ctx) {\n      throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n    }\n\n    return ctx;\n  };\n  var CartElementContext = /*#__PURE__*/React.createContext(null);\n  CartElementContext.displayName = 'CartElementContext';\n  var parseCartElementContext = function parseCartElementContext(ctx, useCase) {\n    if (!ctx) {\n      throw new Error(\"Could not find Elements context; You need to wrap the part of your app that \".concat(useCase, \" in an <Elements> provider.\"));\n    }\n\n    return ctx;\n  };\n  /**\n   * The `Elements` provider allows you to use [Element components](https://stripe.com/docs/stripe-js/react#element-components) and access the [Stripe object](https://stripe.com/docs/js/initializing) in any nested component.\n   * Render an `Elements` provider at the root of your React app so that it is available everywhere you need it.\n   *\n   * To use the `Elements` provider, call `loadStripe` from `@stripe/stripe-js` with your publishable key.\n   * The `loadStripe` function will asynchronously load the Stripe.js script and initialize a `Stripe` object.\n   * Pass the returned `Promise` to `Elements`.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#elements-provider\n   */\n\n  var Elements = function Elements(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp);\n    }, [rawStripeProp]);\n\n    var _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        cart = _React$useState2[0],\n        setCart = _React$useState2[1];\n\n    var _React$useState3 = React.useState(null),\n        _React$useState4 = _slicedToArray(_React$useState3, 2),\n        cartState = _React$useState4[0],\n        setCartState = _React$useState4[1]; // For a sync stripe instance, initialize into context\n\n\n    var _React$useState5 = React.useState(function () {\n      return {\n        stripe: parsed.tag === 'sync' ? parsed.stripe : null,\n        elements: parsed.tag === 'sync' ? parsed.stripe.elements(options) : null\n      };\n    }),\n        _React$useState6 = _slicedToArray(_React$useState5, 2),\n        ctx = _React$useState6[0],\n        setContext = _React$useState6[1];\n\n    React.useEffect(function () {\n      var isMounted = true;\n\n      var safeSetContext = function safeSetContext(stripe) {\n        setContext(function (ctx) {\n          // no-op if we already have a stripe instance (https://github.com/stripe/react-stripe-js/issues/296)\n          if (ctx.stripe) return ctx;\n          return {\n            stripe: stripe,\n            elements: stripe.elements(options)\n          };\n        });\n      }; // For an async stripePromise, store it in context once resolved\n\n\n      if (parsed.tag === 'async' && !ctx.stripe) {\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe && isMounted) {\n            // Only update Elements context if the component is still mounted\n            // and stripe is not null. We allow stripe to be null to make\n            // handling SSR easier.\n            safeSetContext(stripe);\n          }\n        });\n      } else if (parsed.tag === 'sync' && !ctx.stripe) {\n        // Or, handle a sync stripe instance going from null -> populated\n        safeSetContext(parsed.stripe);\n      }\n\n      return function () {\n        isMounted = false;\n      };\n    }, [parsed, ctx, options]); // Warn on changes to stripe prop\n\n    var prevStripe = usePrevious(rawStripeProp);\n    React.useEffect(function () {\n      if (prevStripe !== null && prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.');\n      }\n    }, [prevStripe, rawStripeProp]); // Apply updates to elements when options prop has relevant changes\n\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      if (!ctx.elements) {\n        return;\n      }\n\n      var updates = extractAllowedOptionsUpdates(options, prevOptions, ['clientSecret', 'fonts']);\n\n      if (updates) {\n        ctx.elements.update(updates);\n      }\n    }, [options, prevOptions, ctx.elements]); // Attach react-stripe-js version to stripe.js instance\n\n    React.useEffect(function () {\n      registerWithStripeJs(ctx.stripe);\n    }, [ctx.stripe]);\n    return /*#__PURE__*/React.createElement(ElementsContext.Provider, {\n      value: ctx\n    }, /*#__PURE__*/React.createElement(CartElementContext.Provider, {\n      value: {\n        cart: cart,\n        setCart: setCart,\n        cartState: cartState,\n        setCartState: setCartState\n      }\n    }, children));\n  };\n  Elements.propTypes = {\n    stripe: propTypes.any,\n    options: propTypes.object\n  };\n  var useElementsContextWithUseCase = function useElementsContextWithUseCase(useCaseMessage) {\n    var ctx = React.useContext(ElementsContext);\n    return parseElementsContext(ctx, useCaseMessage);\n  };\n  var DUMMY_CART_ELEMENT_CONTEXT = {\n    cart: null,\n    cartState: null,\n    setCart: function setCart() {},\n    setCartState: function setCartState() {}\n  };\n  var useCartElementContextWithUseCase = function useCartElementContextWithUseCase(useCaseMessage) {\n    var isInCustomCheckout = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n    var ctx = React.useContext(CartElementContext);\n\n    if (isInCustomCheckout) {\n      return DUMMY_CART_ELEMENT_CONTEXT;\n    }\n\n    return parseCartElementContext(ctx, useCaseMessage);\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#useelements-hook\n   */\n\n  var useElements = function useElements() {\n    var _useElementsContextWi = useElementsContextWithUseCase('calls useElements()'),\n        elements = _useElementsContextWi.elements;\n\n    return elements;\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#usestripe-hook\n   */\n\n  var useStripe = function useStripe() {\n    var _useElementsOrCustomC = useElementsOrCustomCheckoutSdkContextWithUseCase('calls useStripe()'),\n        stripe = _useElementsOrCustomC.stripe;\n\n    return stripe;\n  };\n  /**\n   * @docs https://stripe.com/docs/payments/checkout/cart-element\n   */\n\n  var useCartElement = function useCartElement() {\n    var _useCartElementContex = useCartElementContextWithUseCase('calls useCartElement()'),\n        cart = _useCartElementContex.cart;\n\n    return cart;\n  };\n  /**\n   * @docs https://stripe.com/docs/payments/checkout/cart-element\n   */\n\n  var useCartElementState = function useCartElementState() {\n    var _useCartElementContex2 = useCartElementContextWithUseCase('calls useCartElementState()'),\n        cartState = _useCartElementContex2.cartState;\n\n    return cartState;\n  };\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#elements-consumer\n   */\n\n  var ElementsConsumer = function ElementsConsumer(_ref2) {\n    var children = _ref2.children;\n    var ctx = useElementsContextWithUseCase('mounts <ElementsConsumer>'); // Assert to satisfy the busted React.FC return type (it should be ReactNode)\n\n    return children(ctx);\n  };\n  ElementsConsumer.propTypes = {\n    children: propTypes.func.isRequired\n  };\n\n  var useAttachEvent = function useAttachEvent(element, event, cb) {\n    var cbDefined = !!cb;\n    var cbRef = React.useRef(cb); // In many integrations the callback prop changes on each render.\n    // Using a ref saves us from calling element.on/.off every render.\n\n    React.useEffect(function () {\n      cbRef.current = cb;\n    }, [cb]);\n    React.useEffect(function () {\n      if (!cbDefined || !element) {\n        return function () {};\n      }\n\n      var decoratedCb = function decoratedCb() {\n        if (cbRef.current) {\n          cbRef.current.apply(cbRef, arguments);\n        }\n      };\n\n      element.on(event, decoratedCb);\n      return function () {\n        element.off(event, decoratedCb);\n      };\n    }, [cbDefined, event, element, cbRef]);\n  };\n\n  var capitalized = function capitalized(str) {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  };\n\n  var createElementComponent = function createElementComponent(type, isServer) {\n    var displayName = \"\".concat(capitalized(type), \"Element\");\n\n    var ClientElement = function ClientElement(_ref) {\n      var id = _ref.id,\n          className = _ref.className,\n          _ref$options = _ref.options,\n          options = _ref$options === void 0 ? {} : _ref$options,\n          onBlur = _ref.onBlur,\n          onFocus = _ref.onFocus,\n          onReady = _ref.onReady,\n          onChange = _ref.onChange,\n          onEscape = _ref.onEscape,\n          onClick = _ref.onClick,\n          onLoadError = _ref.onLoadError,\n          onLoaderStart = _ref.onLoaderStart,\n          onNetworksChange = _ref.onNetworksChange,\n          onCheckout = _ref.onCheckout,\n          onLineItemClick = _ref.onLineItemClick,\n          onConfirm = _ref.onConfirm,\n          onCancel = _ref.onCancel,\n          onShippingAddressChange = _ref.onShippingAddressChange,\n          onShippingRateChange = _ref.onShippingRateChange;\n      var ctx = useElementsOrCustomCheckoutSdkContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n      var elements = 'elements' in ctx ? ctx.elements : null;\n      var customCheckoutSdk = 'customCheckoutSdk' in ctx ? ctx.customCheckoutSdk : null;\n\n      var _React$useState = React.useState(null),\n          _React$useState2 = _slicedToArray(_React$useState, 2),\n          element = _React$useState2[0],\n          setElement = _React$useState2[1];\n\n      var elementRef = React.useRef(null);\n      var domNode = React.useRef(null);\n\n      var _useCartElementContex = useCartElementContextWithUseCase(\"mounts <\".concat(displayName, \">\"), 'customCheckoutSdk' in ctx),\n          setCart = _useCartElementContex.setCart,\n          setCartState = _useCartElementContex.setCartState; // For every event where the merchant provides a callback, call element.on\n      // with that callback. If the merchant ever changes the callback, removes\n      // the old callback with element.off and then call element.on with the new one.\n\n\n      useAttachEvent(element, 'blur', onBlur);\n      useAttachEvent(element, 'focus', onFocus);\n      useAttachEvent(element, 'escape', onEscape);\n      useAttachEvent(element, 'click', onClick);\n      useAttachEvent(element, 'loaderror', onLoadError);\n      useAttachEvent(element, 'loaderstart', onLoaderStart);\n      useAttachEvent(element, 'networkschange', onNetworksChange);\n      useAttachEvent(element, 'lineitemclick', onLineItemClick);\n      useAttachEvent(element, 'confirm', onConfirm);\n      useAttachEvent(element, 'cancel', onCancel);\n      useAttachEvent(element, 'shippingaddresschange', onShippingAddressChange);\n      useAttachEvent(element, 'shippingratechange', onShippingRateChange);\n      var readyCallback;\n\n      if (type === 'cart') {\n        readyCallback = function readyCallback(event) {\n          setCartState(event);\n          onReady && onReady(event);\n        };\n      } else if (onReady) {\n        if (type === 'expressCheckout') {\n          // Passes through the event, which includes visible PM types\n          readyCallback = onReady;\n        } else {\n          // For other Elements, pass through the Element itself.\n          readyCallback = function readyCallback() {\n            onReady(element);\n          };\n        }\n      }\n\n      useAttachEvent(element, 'ready', readyCallback);\n      var changeCallback = type === 'cart' ? function (event) {\n        setCartState(event);\n        onChange && onChange(event);\n      } : onChange;\n      useAttachEvent(element, 'change', changeCallback);\n      var checkoutCallback = type === 'cart' ? function (event) {\n        setCartState(event);\n        onCheckout && onCheckout(event);\n      } : onCheckout;\n      useAttachEvent(element, 'checkout', checkoutCallback);\n      React.useLayoutEffect(function () {\n        if (elementRef.current === null && domNode.current !== null && (elements || customCheckoutSdk)) {\n          var newElement = null;\n\n          if (customCheckoutSdk) {\n            newElement = customCheckoutSdk.createElement(type, options);\n          } else if (elements) {\n            newElement = elements.create(type, options);\n          }\n\n          if (type === 'cart' && setCart) {\n            // we know that elements.create return value must be of type StripeCartElement if type is 'cart',\n            // we need to cast because typescript is not able to infer which overloaded method is used based off param type\n            setCart(newElement);\n          } // Store element in a ref to ensure it's _immediately_ available in cleanup hooks in StrictMode\n\n\n          elementRef.current = newElement; // Store element in state to facilitate event listener attachment\n\n          setElement(newElement);\n\n          if (newElement) {\n            newElement.mount(domNode.current);\n          }\n        }\n      }, [elements, customCheckoutSdk, options, setCart]);\n      var prevOptions = usePrevious(options);\n      React.useEffect(function () {\n        if (!elementRef.current) {\n          return;\n        }\n\n        var updates = extractAllowedOptionsUpdates(options, prevOptions, ['paymentRequest']);\n\n        if (updates) {\n          elementRef.current.update(updates);\n        }\n      }, [options, prevOptions]);\n      React.useLayoutEffect(function () {\n        return function () {\n          if (elementRef.current && typeof elementRef.current.destroy === 'function') {\n            try {\n              elementRef.current.destroy();\n              elementRef.current = null;\n            } catch (error) {// Do nothing\n            }\n          }\n        };\n      }, []);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: id,\n        className: className,\n        ref: domNode\n      });\n    }; // Only render the Element wrapper in a server environment.\n\n\n    var ServerElement = function ServerElement(props) {\n      // Validate that we are in the right context by calling useElementsContextWithUseCase.\n      var ctx = useElementsOrCustomCheckoutSdkContextWithUseCase(\"mounts <\".concat(displayName, \">\"));\n      useCartElementContextWithUseCase(\"mounts <\".concat(displayName, \">\"), 'customCheckoutSdk' in ctx);\n      var id = props.id,\n          className = props.className;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        id: id,\n        className: className\n      });\n    };\n\n    var Element = isServer ? ServerElement : ClientElement;\n    Element.propTypes = {\n      id: propTypes.string,\n      className: propTypes.string,\n      onChange: propTypes.func,\n      onBlur: propTypes.func,\n      onFocus: propTypes.func,\n      onReady: propTypes.func,\n      onEscape: propTypes.func,\n      onClick: propTypes.func,\n      onLoadError: propTypes.func,\n      onLoaderStart: propTypes.func,\n      onNetworksChange: propTypes.func,\n      onCheckout: propTypes.func,\n      onLineItemClick: propTypes.func,\n      onConfirm: propTypes.func,\n      onCancel: propTypes.func,\n      onShippingAddressChange: propTypes.func,\n      onShippingRateChange: propTypes.func,\n      options: propTypes.object\n    };\n    Element.displayName = displayName;\n    Element.__elementType = type;\n    return Element;\n  };\n\n  var isServer = typeof window === 'undefined';\n\n  var EmbeddedCheckoutContext = /*#__PURE__*/React.createContext(null);\n  EmbeddedCheckoutContext.displayName = 'EmbeddedCheckoutProviderContext';\n  var useEmbeddedCheckoutContext = function useEmbeddedCheckoutContext() {\n    var ctx = React.useContext(EmbeddedCheckoutContext);\n\n    if (!ctx) {\n      throw new Error('<EmbeddedCheckout> must be used within <EmbeddedCheckoutProvider>');\n    }\n\n    return ctx;\n  };\n  var INVALID_STRIPE_ERROR$2 = 'Invalid prop `stripe` supplied to `EmbeddedCheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.';\n  var EmbeddedCheckoutProvider = function EmbeddedCheckoutProvider(_ref) {\n    var rawStripeProp = _ref.stripe,\n        options = _ref.options,\n        children = _ref.children;\n    var parsed = React.useMemo(function () {\n      return parseStripeProp(rawStripeProp, INVALID_STRIPE_ERROR$2);\n    }, [rawStripeProp]);\n    var embeddedCheckoutPromise = React.useRef(null);\n    var loadedStripe = React.useRef(null);\n\n    var _React$useState = React.useState({\n      embeddedCheckout: null\n    }),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        ctx = _React$useState2[0],\n        setContext = _React$useState2[1];\n\n    React.useEffect(function () {\n      // Don't support any ctx updates once embeddedCheckout or stripe is set.\n      if (loadedStripe.current || embeddedCheckoutPromise.current) {\n        return;\n      }\n\n      var setStripeAndInitEmbeddedCheckout = function setStripeAndInitEmbeddedCheckout(stripe) {\n        if (loadedStripe.current || embeddedCheckoutPromise.current) return;\n        loadedStripe.current = stripe;\n        embeddedCheckoutPromise.current = loadedStripe.current.initEmbeddedCheckout(options).then(function (embeddedCheckout) {\n          setContext({\n            embeddedCheckout: embeddedCheckout\n          });\n        });\n      }; // For an async stripePromise, store it once resolved\n\n\n      if (parsed.tag === 'async' && !loadedStripe.current && options.clientSecret) {\n        parsed.stripePromise.then(function (stripe) {\n          if (stripe) {\n            setStripeAndInitEmbeddedCheckout(stripe);\n          }\n        });\n      } else if (parsed.tag === 'sync' && !loadedStripe.current && options.clientSecret) {\n        // Or, handle a sync stripe instance going from null -> populated\n        setStripeAndInitEmbeddedCheckout(parsed.stripe);\n      }\n    }, [parsed, options, ctx, loadedStripe]);\n    React.useEffect(function () {\n      // cleanup on unmount\n      return function () {\n        // If embedded checkout is fully initialized, destroy it.\n        if (ctx.embeddedCheckout) {\n          embeddedCheckoutPromise.current = null;\n          ctx.embeddedCheckout.destroy();\n        } else if (embeddedCheckoutPromise.current) {\n          // If embedded checkout is still initializing, destroy it once\n          // it's done. This could be caused by unmounting very quickly\n          // after mounting.\n          embeddedCheckoutPromise.current.then(function () {\n            embeddedCheckoutPromise.current = null;\n\n            if (ctx.embeddedCheckout) {\n              ctx.embeddedCheckout.destroy();\n            }\n          });\n        }\n      };\n    }, [ctx.embeddedCheckout]); // Attach react-stripe-js version to stripe.js instance\n\n    React.useEffect(function () {\n      registerWithStripeJs(loadedStripe);\n    }, [loadedStripe]); // Warn on changes to stripe prop.\n    // The stripe prop value can only go from null to non-null once and\n    // can't be changed after that.\n\n    var prevStripe = usePrevious(rawStripeProp);\n    React.useEffect(function () {\n      if (prevStripe !== null && prevStripe !== rawStripeProp) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the `stripe` prop after setting it.');\n      }\n    }, [prevStripe, rawStripeProp]); // Warn on changes to options.\n\n    var prevOptions = usePrevious(options);\n    React.useEffect(function () {\n      if (prevOptions == null) {\n        return;\n      }\n\n      if (options == null) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot unset options after setting them.');\n        return;\n      }\n\n      if (prevOptions.clientSecret != null && options.clientSecret !== prevOptions.clientSecret) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the client secret after setting it. Unmount and create a new instance of EmbeddedCheckoutProvider instead.');\n      }\n\n      if (prevOptions.onComplete != null && options.onComplete !== prevOptions.onComplete) {\n        console.warn('Unsupported prop change on EmbeddedCheckoutProvider: You cannot change the onComplete option after setting it.');\n      }\n    }, [prevOptions, options]);\n    return /*#__PURE__*/React.createElement(EmbeddedCheckoutContext.Provider, {\n      value: ctx\n    }, children);\n  };\n\n  var EmbeddedCheckoutClientElement = function EmbeddedCheckoutClientElement(_ref) {\n    var id = _ref.id,\n        className = _ref.className;\n\n    var _useEmbeddedCheckoutC = useEmbeddedCheckoutContext(),\n        embeddedCheckout = _useEmbeddedCheckoutC.embeddedCheckout;\n\n    var isMounted = React.useRef(false);\n    var domNode = React.useRef(null);\n    React.useLayoutEffect(function () {\n      if (!isMounted.current && embeddedCheckout && domNode.current !== null) {\n        embeddedCheckout.mount(domNode.current);\n        isMounted.current = true;\n      } // Clean up on unmount\n\n\n      return function () {\n        if (isMounted.current && embeddedCheckout) {\n          try {\n            embeddedCheckout.unmount();\n            isMounted.current = false;\n          } catch (e) {// Do nothing.\n            // Parent effects are destroyed before child effects, so\n            // in cases where both the EmbeddedCheckoutProvider and\n            // the EmbeddedCheckout component are removed at the same\n            // time, the embeddedCheckout instance will be destroyed,\n            // which causes an error when calling unmount.\n          }\n        }\n      };\n    }, [embeddedCheckout]);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: domNode,\n      id: id,\n      className: className\n    });\n  }; // Only render the wrapper in a server environment.\n\n\n  var EmbeddedCheckoutServerElement = function EmbeddedCheckoutServerElement(_ref2) {\n    var id = _ref2.id,\n        className = _ref2.className;\n    // Validate that we are in the right context by calling useEmbeddedCheckoutContext.\n    useEmbeddedCheckoutContext();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: id,\n      className: className\n    });\n  };\n\n  var EmbeddedCheckout = isServer ? EmbeddedCheckoutServerElement : EmbeddedCheckoutClientElement;\n\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AuBankAccountElement = createElementComponent('auBankAccount', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardElement = createElementComponent('card', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardNumberElement = createElementComponent('cardNumber', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardExpiryElement = createElementComponent('cardExpiry', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var CardCvcElement = createElementComponent('cardCvc', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var FpxBankElement = createElementComponent('fpxBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IbanElement = createElementComponent('iban', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var IdealBankElement = createElementComponent('idealBank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var P24BankElement = createElementComponent('p24Bank', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var EpsBankElement = createElementComponent('epsBank', isServer);\n  var PaymentElement = createElementComponent('payment', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var ExpressCheckoutElement = createElementComponent('expressCheckout', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var PaymentRequestButtonElement = createElementComponent('paymentRequestButton', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var LinkAuthenticationElement = createElementComponent('linkAuthentication', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AddressElement = createElementComponent('address', isServer);\n  /**\n   * @deprecated\n   * Use `AddressElement` instead.\n   *\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var ShippingAddressElement = createElementComponent('shippingAddress', isServer);\n  /**\n   * Requires beta access:\n   * Contact [Stripe support](https://support.stripe.com/) for more information.\n   *\n   * @docs https://stripe.com/docs/elements/cart-element\n   */\n\n  var CartElement = createElementComponent('cart', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var PaymentMethodMessagingElement = createElementComponent('paymentMethodMessaging', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AffirmMessageElement = createElementComponent('affirmMessage', isServer);\n  /**\n   * @docs https://stripe.com/docs/stripe-js/react#element-components\n   */\n\n  var AfterpayClearpayMessageElement = createElementComponent('afterpayClearpayMessage', isServer);\n\n  exports.AddressElement = AddressElement;\n  exports.AffirmMessageElement = AffirmMessageElement;\n  exports.AfterpayClearpayMessageElement = AfterpayClearpayMessageElement;\n  exports.AuBankAccountElement = AuBankAccountElement;\n  exports.CardCvcElement = CardCvcElement;\n  exports.CardElement = CardElement;\n  exports.CardExpiryElement = CardExpiryElement;\n  exports.CardNumberElement = CardNumberElement;\n  exports.CartElement = CartElement;\n  exports.CustomCheckoutProvider = CustomCheckoutProvider;\n  exports.Elements = Elements;\n  exports.ElementsConsumer = ElementsConsumer;\n  exports.EmbeddedCheckout = EmbeddedCheckout;\n  exports.EmbeddedCheckoutProvider = EmbeddedCheckoutProvider;\n  exports.EpsBankElement = EpsBankElement;\n  exports.ExpressCheckoutElement = ExpressCheckoutElement;\n  exports.FpxBankElement = FpxBankElement;\n  exports.IbanElement = IbanElement;\n  exports.IdealBankElement = IdealBankElement;\n  exports.LinkAuthenticationElement = LinkAuthenticationElement;\n  exports.P24BankElement = P24BankElement;\n  exports.PaymentElement = PaymentElement;\n  exports.PaymentMethodMessagingElement = PaymentMethodMessagingElement;\n  exports.PaymentRequestButtonElement = PaymentRequestButtonElement;\n  exports.ShippingAddressElement = ShippingAddressElement;\n  exports.useCartElement = useCartElement;\n  exports.useCartElementState = useCartElementState;\n  exports.useCustomCheckout = useCustomCheckout;\n  exports.useElements = useElements;\n  exports.useStripe = useStripe;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","var V3_URL = 'https://js.stripe.com/v3';\nvar V3_URL_REGEX = /^https:\\/\\/js\\.stripe\\.com\\/v3\\/?(\\?.*)?$/;\nvar EXISTING_SCRIPT_MESSAGE = 'loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used';\nvar findScript = function findScript() {\n  var scripts = document.querySelectorAll(\"script[src^=\\\"\".concat(V3_URL, \"\\\"]\"));\n\n  for (var i = 0; i < scripts.length; i++) {\n    var script = scripts[i];\n\n    if (!V3_URL_REGEX.test(script.src)) {\n      continue;\n    }\n\n    return script;\n  }\n\n  return null;\n};\n\nvar injectScript = function injectScript(params) {\n  var queryString = params && !params.advancedFraudSignals ? '?advancedFraudSignals=false' : '';\n  var script = document.createElement('script');\n  script.src = \"\".concat(V3_URL).concat(queryString);\n  var headOrBody = document.head || document.body;\n\n  if (!headOrBody) {\n    throw new Error('Expected document.body not to be null. Stripe.js requires a <body> element.');\n  }\n\n  headOrBody.appendChild(script);\n  return script;\n};\n\nvar registerWrapper = function registerWrapper(stripe, startTime) {\n  if (!stripe || !stripe._registerWrapper) {\n    return;\n  }\n\n  stripe._registerWrapper({\n    name: 'stripe-js',\n    version: \"1.53.0\",\n    startTime: startTime\n  });\n};\n\nvar stripePromise = null;\nvar loadScript = function loadScript(params) {\n  // Ensure that we only attempt to load Stripe.js at most once\n  if (stripePromise !== null) {\n    return stripePromise;\n  }\n\n  stripePromise = new Promise(function (resolve, reject) {\n    if (typeof window === 'undefined' || typeof document === 'undefined') {\n      // Resolve to null when imported server side. This makes the module\n      // safe to import in an isomorphic code base.\n      resolve(null);\n      return;\n    }\n\n    if (window.Stripe && params) {\n      console.warn(EXISTING_SCRIPT_MESSAGE);\n    }\n\n    if (window.Stripe) {\n      resolve(window.Stripe);\n      return;\n    }\n\n    try {\n      var script = findScript();\n\n      if (script && params) {\n        console.warn(EXISTING_SCRIPT_MESSAGE);\n      } else if (!script) {\n        script = injectScript(params);\n      }\n\n      script.addEventListener('load', function () {\n        if (window.Stripe) {\n          resolve(window.Stripe);\n        } else {\n          reject(new Error('Stripe.js not available'));\n        }\n      });\n      script.addEventListener('error', function () {\n        reject(new Error('Failed to load Stripe.js'));\n      });\n    } catch (error) {\n      reject(error);\n      return;\n    }\n  });\n  return stripePromise;\n};\nvar initStripe = function initStripe(maybeStripe, args, startTime) {\n  if (maybeStripe === null) {\n    return null;\n  }\n\n  var stripe = maybeStripe.apply(undefined, args);\n  registerWrapper(stripe, startTime);\n  return stripe;\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n// own script injection.\n\nvar stripePromise$1 = Promise.resolve().then(function () {\n  return loadScript(null);\n});\nvar loadCalled = false;\nstripePromise$1[\"catch\"](function (err) {\n  if (!loadCalled) {\n    console.warn(err);\n  }\n});\nvar loadStripe = function loadStripe() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  loadCalled = true;\n  var startTime = Date.now();\n  return stripePromise$1.then(function (maybeStripe) {\n    return initStripe(maybeStripe, args, startTime);\n  });\n};\n\nexport { loadStripe };\n","export * from './payment-method-label';\nexport * from './radio-option';\nexport * from './payment-method';\nexport * from './installments';\nexport * from './offsite-notice';","import {useState, useRef, useEffect} from '@wordpress/element';\nimport {__} from '@wordpress/i18n';\nimport apiFetch from '@wordpress/api-fetch';\nimport classnames from 'classnames';\nimport {StripeError, getRoute} from \"../../../payment-methods/util\";\nimport './style.scss';\n\nexport const Installments = (\n    {\n        paymentMethodName,\n        cardFormComplete = false,\n        addPaymentMethodData = null,\n        getPaymentMethod\n    }) => {\n    const [installments, setInstallments] = useState(null);\n    const [installment, setInstallment] = useState('');\n    const [loading, setLoading] = useState(false);\n    const onInstallmentSelected = (e) => {\n        setInstallment(e.target.value);\n        if (addPaymentMethodData) {\n            addPaymentMethodData({_stripe_installment_plan: e.target.value});\n        }\n    }\n\n    useEffect(() => {\n        if (cardFormComplete) {\n            // fetch the installments\n            setLoading(true);\n            setInstallment('');\n\n            getPaymentMethod().then(async paymentMethod => {\n                if (paymentMethod) {\n                    // fetch the installment plans\n                    const result = await apiFetch({\n                        url: getRoute('create/payment_intent'),\n                        method: 'POST',\n                        data: {payment_method_id: paymentMethod, payment_method: paymentMethodName}\n                    });\n                    setInstallments(result.installments);\n                    if (Object.keys(result.installments)?.length) {\n                        setInstallment(Object.keys(result.installments)[0]);\n                    }\n                }\n            }).catch(error => {\n                console.log(error);\n            }).finally(() => setLoading(false));\n        }\n    }, [cardFormComplete, getPaymentMethod]);\n\n    return (\n        <div className='wc-stripe-installments__container'>\n            <label className={'wc-stripe-installments__label'}>\n                {__('Pay in installments:', 'woo-stripe-payment')}\n                <Loader loading={loading}/>\n            </label>\n            <InstallmentOptions\n                installment={installment}\n                onChange={onInstallmentSelected}\n                installments={installments}\n                isLoading={loading}/>\n        </div>\n    )\n}\n\nconst InstallmentOptions = ({installment, installments, onChange, isLoading}) => {\n    let OPTIONS = null;\n    if (isLoading) {\n        OPTIONS = <option value=\"\" disabled>{__('Loading installments...', 'woo-stripe-payment')}</option>\n    } else {\n        if (installments === null) {\n            OPTIONS = <option value=\"\" disabled>{__('Fill out card form for eligibility.', 'woo-stripe-payment')}</option>\n        } else {\n            OPTIONS = Object.keys(installments).map(id => {\n                return <option key={id} value={id} dangerouslySetInnerHTML={{__html: installments[id].text}}/>\n            });\n        }\n    }\n    return (\n        <select\n            value={installment}\n            onChange={onChange}\n            className={classnames('wc-stripe-installment__options', {loading: isLoading})}>\n            {OPTIONS}\n        </select>\n    );\n}\n\nconst Loader = ({loading}) => {\n    return (\n        <div className=\"wc-stripe-installment-loader__container\">\n            {loading && <div className=\"wc-stripe-installment-loader\">\n                <div></div>\n                <div></div>\n                <div></div>\n            </div>}\n        </div>\n    );\n}\nexport default Installments;","import {__, sprintf} from \"@wordpress/i18n\";\nimport {getSetting} from '@woocommerce/settings'\n\nconst data = getSetting('stripeGeneralData');\n\nexport const OffsiteNotice = (\n    {\n        paymentText,\n        buttonText = __('', 'woo-stripe-payment')\n    }\n) => {\n    return (\n        <div className=\"wc-stripe-blocks-offsite-notice\">\n            <div>\n                <img src={`${data.assetsUrl}/img/offsite.svg`}/>\n                <p>{sprintf(__('After clicking \"%1$s\", you will be redirected to %2$s to complete your purchase securely.', 'woo-stripe-payment'), buttonText, paymentText)}</p>\n            </div>\n        </div>\n    )\n}","import './style.scss';\n\nexport const PaymentMethodLabel = ({title, icons, paymentMethod, ...props}) => {\n    const {PaymentMethodLabel: Label, PaymentMethodIcons: Icons} = props.components;\n    if (!Array.isArray(icons)) {\n        icons = [icons];\n    }\n    return (\n        <span className={`wc-stripe-label-container ${paymentMethod}`}>\n            <Label text={title}/>\n            <Icons icons={icons} align='left'/>\n        </span>\n    )\n}","import {useEffect, useRef} from '@wordpress/element';\n\nexport const PaymentMethod = ({getData, content, ...props}) => {\n    const Content = content;\n    const desc = getData('description');\n    const el = useRef(null);\n    useEffect(() => {\n        if (el.current && el.current.childNodes.length == 0) {\n            el.current.classList.add('no-content');\n        }\n    });\n    return (\n        <>\n            {desc && <Description desc={desc} payment_method={getData('name')}/>}\n            <div ref={el} className='wc-stripe-blocks-payment-method-content'>\n                <Content {...{...props, getData}}/>\n            </div>\n        </>);\n}\n\nconst Description = ({desc, payment_method}) => {\n    return (\n        <div className={`wc-stripe-blocks-payment-method__desc ${payment_method}`}>\n            <p>{desc}</p>\n        </div>\n    )\n}","import classnames from 'classnames';\n\nexport const RadioControlOption = ({checked, onChange, value, label}) => {\n    return (\n        <label\n            className={classnames('wc-stripe-blocks-radio-control__option', {\n                'wc-stripe-blocks-radio-control__option-checked': checked\n            })}>\n            <input\n                className='wc-stripe-blocks-radio-control__input'\n                type='radio'\n                value={value}\n                checked={checked}\n                onChange={(event) => onChange(event.target.value)}/>\n            <div className='wc-stripe-blocks-radio-control__label'>\n                <span>{label}</span>\n            </div>\n        </label>\n    )\n}\n\nexport default RadioControlOption;","export * from './use-process-payment';","import {useEffect, useRef, useCallback} from '@wordpress/element';\nimport {useStripe} from '@stripe/react-stripe-js';\nimport {ensureSuccessResponse, ensureErrorResponse, isNextActionRequired, handleCardAction, getRoute, StripeError} from \"../../util\";\nimport apiFetch from \"@wordpress/api-fetch\";\nimport {__} from '@wordpress/i18n';\n\nexport const useProcessPayment = (\n    {\n        onCheckoutSuccess,\n        emitResponse,\n        paymentMethod,\n        billingAddress,\n\n    }) => {\n    const stripe = useStripe();\n    const currentData = useRef({billingAddress});\n    useEffect(() => {\n        currentData.current = {...currentData.current, billingAddress};\n    });\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutSuccess(async ({redirectUrl}) => {\n            const result = isNextActionRequired(redirectUrl);\n            if (result) {\n                if (result.type === 'intent') {\n                    return await processPaymentIntent(result, stripe);\n                } else {\n                    return await processSetupIntent(result, stripe);\n                }\n            }\n        });\n        return () => unsubscribe();\n    }, [\n        onCheckoutSuccess,\n        stripe,\n        processPaymentIntent,\n        processSetupIntent\n    ]);\n\n    const processPaymentIntent = useCallback(async (data, stripe) => {\n        const {billingAddress} = currentData.current;\n        const {client_secret, order_id, order_key} = data;\n        try {\n            let response = await stripe.collectBankAccountForPayment({\n                clientSecret: client_secret,\n                params: {\n                    payment_method_type: 'us_bank_account',\n                    payment_method_data: {\n                        billing_details: {\n                            name: `${billingAddress.first_name} ${billingAddress.last_name}`,\n                            email: billingAddress.email,\n                        },\n                    },\n                }\n            });\n            if (response.error) {\n                throw response.error;\n            }\n            if (response.paymentIntent.status === \"requires_confirmation\") {\n                let response = await stripe.confirmUsBankAccountPayment(client_secret);\n                if (response.error) {\n                    throw response.error;\n                }\n                if (response.paymentIntent.status === 'processing') {\n                    let result = await apiFetch({\n                        url: getRoute('process/payment'),\n                        method: 'POST',\n                        data: {\n                            order_id,\n                            order_key,\n                            stripe_ach_token_key: response.paymentIntent.payment_method\n                        }\n                    });\n                    if (result.messages) {\n                        throw result.messages;\n                    }\n                    return ensureSuccessResponse(\n                        emitResponse.responseTypes, {\n                            redirectUrl: result.redirect\n                        });\n                } else if (response.paymentIntent.status === 'requires_action') {\n                    throw {code: 'ach_instant_only'};\n                }\n            } else if (response.paymentIntent.status === 'requires_payment_method') {\n                return {\n                    type: emitResponse.responseTypes.FAIL,\n                    message: __('ACH payment has been cancelled', 'woo-stripe-payment'),\n                    messageContext: emitResponse.noticeContexts.PAYMENTS,\n                    retry: true\n                }\n            }\n        } catch (err) {\n            return false;\n            return ensureErrorResponse(\n                emitResponse.responseTypes,\n                err,\n                {\n                    messageContext: emitResponse.noticeContexts.PAYMENTS\n                }\n            );\n        }\n    }, []);\n\n    const processSetupIntent = useCallback(async (data, stripe) => {\n        const {billingAddress} = currentData.current;\n        const {client_secret, order_id, order_key} = data;\n        try {\n            let response = await stripe.collectBankAccountForSetup({\n                clientSecret: client_secret,\n                params: {\n                    payment_method_type: 'us_bank_account',\n                    payment_method_data: {\n                        billing_details: {\n                            name: `${billingAddress.first_name} ${billingAddress.last_name}`,\n                            email: billingAddress.email,\n                        },\n                    },\n                }\n            });\n            if (response.error) {\n                throw response.error;\n            }\n            if (response.setupIntent.status === \"requires_confirmation\") {\n                let {setupIntent, error} = await stripe.confirmUsBankAccountSetup(client_secret);\n                if (error) {\n                    throw error;\n                }\n                if (setupIntent.status === 'succeeded') {\n                    let response = await apiFetch({\n                        url: getRoute('process/payment'),\n                        method: 'POST',\n                        data: {order_id, order_key, stripe_ach_token_key: setupIntent.payment_method}\n                    });\n                    if (response.messages) {\n                        throw response.messages;\n                    }\n                    return ensureSuccessResponse(emitResponse.responseTypes, {\n                        redirectUrl: response.redirect\n                    });\n                } else if (setupIntent.status === 'requires_action') {\n                    throw {code: 'ach_instant_only'};\n                }\n            }\n        } catch (err) {\n            console.log(err);\n            return ensureErrorResponse(\n                emitResponse.responseTypes,\n                err,\n                {messageContext: emitResponse.noticeContexts.PAYMENTS}\n            );\n        }\n    }, []);\n}","import './styles.scss';\nimport './payment-method'","import {useEffect} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {Elements} from '@stripe/react-stripe-js';\nimport {ensureSuccessResponse, getSettings, initStripe as loadStripe} from '../util';\nimport {PaymentMethodLabel, PaymentMethod} from '../../components/checkout';\nimport SavedCardComponent from '../saved-card-component';\nimport {useProcessPayment} from './hooks';\nimport {useProcessCheckoutError} from \"../hooks\";\n\nconst getData = getSettings('stripe_ach_data');\n\nconst ACHPaymentContent = (\n    {\n        eventRegistration,\n        components,\n        emitResponse,\n        onSubmit,\n        billing,\n        shouldSavePayment,\n        ...props\n    }) => {\n    const {\n        onPaymentSetup,\n        onCheckoutFail,\n        onCheckoutSuccess\n    } = eventRegistration;\n\n    useProcessCheckoutError({\n        emitResponse,\n        subscriber: onCheckoutFail,\n        messageContext: emitResponse.noticeContexts.PAYMENTS\n    });\n\n\n    useProcessPayment({\n        onCheckoutSuccess,\n        emitResponse,\n        paymentMethod: getData('name'),\n        billingAddress: billing.billingAddress\n    });\n\n    useEffect(() => {\n        const unsubscribe = onPaymentSetup(() => {\n            return ensureSuccessResponse(emitResponse.responseTypes, {\n                meta: {\n                    paymentMethodData: {\n                        [`${getData('name')}_save_source_key`]: shouldSavePayment,\n                    }\n                }\n            });\n        });\n        return unsubscribe;\n    }, [onPaymentSetup, shouldSavePayment]);\n\n    return (\n        <div className={'wc-stripe-ach__container'}>\n            <Mandate text={getData('mandateText')}/>\n        </div>\n    )\n}\n\nconst ACHComponent = (props) => {\n    return (\n        <Elements stripe={loadStripe}>\n            <ACHPaymentContent {...props}/>\n        </Elements>\n    )\n}\n\nconst Mandate = ({text}) => {\n    return (\n        <p className={'wc-stripe-ach__mandate'}>\n            {text}\n        </p>\n    )\n}\n\nregisterPaymentMethod({\n    name: getData('name'),\n    label: <PaymentMethodLabel title={getData('title')}\n                               paymentMethod={getData('name')}\n                               icons={getData('icons')}/>,\n    ariaLabel: 'ACH Payment',\n    canMakePayment: ({cartTotals}) => cartTotals.currency_code === 'USD',\n    content: <PaymentMethod\n        getData={getData}\n        content={ACHComponent}/>,\n    savedTokenComponent: <SavedCardComponent getData={getData}/>,\n    edit: <ACHComponent/>,\n    placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n    supports: {\n        showSavedCards: getData('showSavedCards'),\n        showSaveOption: getData('showSaveOption'),\n        features: getData('features')\n    }\n})","import './style.scss';\n\nimport './payment-method';","import {useCallback} from '@wordpress/element';\nimport {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, initStripe as loadStripe, canMakePayment, isCartPage, isCheckoutPage} from \"../util\";\nimport {Elements, useStripe} from \"@stripe/react-stripe-js\";\nimport ErrorBoundary from \"../error-boundary\";\nimport {\n    usePaymentRequest,\n    useProcessPaymentIntent,\n    useExportedValues,\n    useAfterProcessingPayment,\n    useStripeError,\n    useExpressBreakpointWidth\n} from '../hooks';\n\nconst getData = getSettings('stripe_applepay_data');\n\nconst ApplePayContent = (props) => {\n    return (\n        <ErrorBoundary>\n            <div className='wc-stripe-apple-pay-container'>\n                <Elements stripe={loadStripe}>\n                    <ApplePayButton {...props}/>\n                </Elements>\n            </div>\n        </ErrorBoundary>\n    );\n}\n\nconst ApplePayButton = (\n    {\n        getData,\n        onClick,\n        onClose,\n        billing,\n        shippingData,\n        eventRegistration,\n        emitResponse,\n        onSubmit,\n        activePaymentMethod,\n        ...props\n    }) => {\n    const {onPaymentSetup} = eventRegistration;\n    const {noticeContexts} = emitResponse;\n    const stripe = useStripe();\n    const [error] = useStripeError();\n    const canPay = (result) => result != null && result.applePay;\n    const exportedValues = useExportedValues();\n\n    useExpressBreakpointWidth({payment_method: getData('name'), width: 375});\n\n    const {setPaymentMethod} = useProcessPaymentIntent({\n        getData,\n        billing,\n        shippingData,\n        onPaymentSetup,\n        emitResponse,\n        error,\n        onSubmit,\n        activePaymentMethod,\n        exportedValues\n    });\n    useAfterProcessingPayment({\n        getData,\n        eventRegistration,\n        emitResponse,\n        activePaymentMethod,\n        messageContext: noticeContexts.EXPRESS_PAYMENTS\n    });\n    const {paymentRequest} = usePaymentRequest({\n        getData,\n        onClose,\n        stripe,\n        billing,\n        shippingData,\n        setPaymentMethod,\n        exportedValues,\n        canPay\n    });\n\n    const handleClick = useCallback((e) => {\n        if (paymentRequest) {\n            e.preventDefault();\n            onClick();\n            paymentRequest.show();\n        }\n    }, [paymentRequest, onClick]);\n\n    if (paymentRequest) {\n        return (\n            <button\n                className={`apple-pay-button ${getData('buttonStyle')}`}\n                style={{\n                    'ApplePayButtonType': getData('buttonType')\n                }}\n                onClick={handleClick}/>\n\n        )\n    }\n    return null;\n}\n\nconst ApplePayEdit = ({getData, ...props}) => {\n    return (\n        <div className={'apple-pay-block-editor'}>\n            <img src={getData('editorIcon')}/>\n        </div>\n    )\n}\n\nif ((isCartPage() && getData('cartCheckoutEnabled')) ||\n    (isCheckoutPage() && getData('expressCheckoutEnabled'))) {\n    registerExpressPaymentMethod({\n        name: getData('name'),\n        canMakePayment: ({cartTotals, ...props}) => {\n            if (getData('isAdmin')) {\n                return true;\n            }\n            const {currency_code: currency, total_price} = cartTotals;\n            return canMakePayment({\n                country: getData('countryCode'),\n                currency: currency.toLowerCase(),\n                total: {\n                    label: getData('totalLabel'),\n                    amount: parseInt(total_price)\n                }\n            }, (result) => result != null && result.applePay);\n        },\n        content: <ApplePayContent getData={getData}/>,\n        edit: <ApplePayEdit getData={getData}/>,\n        supports: {\n            showSavedCards: getData('showSavedCards'),\n            showSaveOption: getData('showSaveOption'),\n            features: getData('features')\n        }\n    })\n}","import './style.scss';\nimport {registerCreditCardForm} from \"@paymentplugins/stripe/util\";\nimport {CardNumberElement, CardExpiryElement, CardCvcElement} from '@stripe/react-stripe-js';\nimport {__} from \"@wordpress/i18n\";\n\nconst Bootstrap = ({CardIcon, options, onChange}) => {\n    return (\n        <div className='wc-stripe-bootstrap-form'>\n            <div className='row'>\n                <div className='col-md-6 mb-3'>\n                    <CardNumberElement className='md-form md-outline stripe-input' options={options['cardNumber']}\n                                       onChange={onChange(CardNumberElement)}/>\n                    <label htmlFor=\"stripe-card-number\">{__('Card Number', 'woo-stripe-payment')}</label>\n                    {CardIcon}\n                </div>\n                <div className='col-md-3 mb-3'>\n                    <CardExpiryElement className='md-form md-outline stripe-input' options={options['cardExpiry']}\n                                       onChange={onChange(CardExpiryElement)}/>\n                    <label htmlFor=\"stripe-exp\">{__('Exp', 'woo-stripe-payment')}</label>\n                </div>\n                <div className='col-md-3 mb-3'>\n                    <CardCvcElement className=\"md-form md-outline stripe-input\" options={options['cardCvc']}\n                                    onChange={onChange(CardCvcElement)}/>\n                    <label htmlFor=\"stripe-cvv\">{__('CVV', 'woo-stripe-payment')}</label>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nregisterCreditCardForm({\n    id: 'bootstrap',\n    breakpoint: 475,\n    component: <Bootstrap/>\n})","import {getCreditCardForm} from \"../../util\";\nimport {cloneElement, useRef, useCallback, useEffect, useState} from '@wordpress/element';\nimport {useElements, CardNumberElement, CardExpiryElement, CardCvcElement} from '@stripe/react-stripe-js';\nimport {sprintf, __} from '@wordpress/i18n';\nimport {useBreakpointWidth} from \"../../hooks\";\n\nconst classes = {\n    focus: 'focused',\n    empty: 'empty',\n    invalid: 'invalid'\n}\n\nconst CustomCardForm = (\n    {\n        getData,\n        onChange: eventChange,\n        onComplete\n    }) => {\n    const [cardType, setCardType] = useState('');\n    const elementOrder = useRef([]);\n    const [container, setContainer] = useState(null);\n    const elements = useElements();\n    const id = getData('customForm');\n    const {component: CardForm = null, breakpoint = 475} = getCreditCardForm(id);\n    const postalCodeEnabled = getData('postalCodeEnabled');\n    const options = {};\n    const elementStatus = useRef({'cardNumber': {}, 'cardExpiry': {}, 'cardCvc': {}});\n    ['cardNumber', 'cardExpiry', 'cardCvc'].forEach(type => {\n        options[type] = {\n            classes,\n            ...getData('cardOptions'),\n            ...getData('customFieldOptions')[type],\n        }\n    });\n    const onChange = (element) => {\n        setElementOrder(element);\n        return (event) => {\n            eventChange(event);\n            elementStatus.current[event.elementType] = event;\n            if (event.elementType === 'cardNumber') {\n                if (event.brand === 'unknown') {\n                    setCardType('');\n                } else {\n                    setCardType(event.brand);\n                }\n            }\n            if (event.complete) {\n                const idx = elementOrder.current.indexOf(element);\n                if (elementOrder.current[idx + 1]) {\n                    const nextElement = elementOrder.current[idx + 1];\n                    elements.getElement(nextElement).focus();\n                }\n            }\n            onComplete(isFormComplete());\n        }\n    }\n\n    const isFormComplete = () => {\n        let status = elementStatus.current;\n        return Object.keys(status).filter(key => !!status[key].complete).length === Object.keys(status).length;\n    }\n\n    const setElementOrder = useCallback((element) => {\n        if (!elementOrder.current.includes(element)) {\n            elementOrder.current.push(element);\n        }\n    }, []);\n\n    useBreakpointWidth({name: 'creditCardForm', width: breakpoint, node: container, className: 'small-form'});\n\n    const getCardIconSrc = useCallback((type) => {\n        for (let id of Object.keys(getData('cards'))) {\n            if (id === type) {\n                return getData('cards')[id];\n            }\n        }\n        return '';\n    }, []);\n\n    if (!CardForm) {\n        return (\n            <div className='wc-stripe-custom-form-error'>\n                <p>{sprintf(__('%s is not a valid blocks Stripe custom form. Please choose another custom form option in the Credit Card Settings.', 'woo-stripe-payment'), getData('customFormLabels')[id])}</p>\n            </div>\n        )\n    }\n    return (\n        <div className={`wc-stripe-custom-form ${id}`} ref={setContainer}>\n            {cloneElement(CardForm, {\n                postalCodeEnabled,\n                options,\n                onChange,\n                CardIcon: <CardIcon type={cardType} src={getCardIconSrc(cardType)}/>\n            })}\n        </div>\n    )\n\n}\n\nconst CardIcon = ({type, src}) => {\n    if (type) {\n        return <img className={`wc-stripe-card ${type}`} src={src}/>\n    }\n    return null;\n}\n\nexport default CustomCardForm;\n","import './style.scss';\nimport {registerCreditCardForm} from \"@paymentplugins/stripe/util\";\nimport {CardNumberElement, CardExpiryElement, CardCvcElement} from '@stripe/react-stripe-js';\nimport {__} from \"@wordpress/i18n\";\nimport {useEffect, useCallback, useRef} from '@wordpress/element';\n\nconst SimpleForm = ({CardIcon, options, onChange}) => {\n    useEffect(() => {\n    }, []);\n    return (\n        <div className='wc-stripe-simple-form'>\n            <div className=\"row\">\n                <div className=\"field\">\n                    <div className='field-item'>\n                        <CardNumberElement id=\"stripe-card-number\" className=\"input empty\"\n                                           options={options['cardNumber']}\n                                           onChange={onChange(CardNumberElement)}/>\n                        <label htmlFor=\"stripe-card-number\"\n                               data-tid=\"\">{__('Card Number', 'woo-stripe-payment')}</label>\n                        <div className=\"baseline\"></div>\n                        {CardIcon}\n                    </div>\n                </div>\n            </div>\n            <div className=\"row\">\n                <div className=\"field half-width\">\n                    <div className='field-item'>\n                        <CardExpiryElement id=\"stripe-exp\" className=\"input empty\" options={options['cardExpiry']}\n                                           onChange={onChange(CardExpiryElement)}/>\n                        <label htmlFor=\"stripe-exp\"\n                               data-tid=\"\">{__('Expiration', 'woo-stripe-payment')}</label>\n                        <div className=\"baseline\"></div>\n                    </div>\n                </div>\n                <div className=\"field half-width cvc\">\n                    <div className='field-item'>\n                        <CardCvcElement id=\"stripe-cvv\" className=\"input empty\" options={options['cardCvc']}\n                                        onChange={onChange(CardCvcElement)}/>\n                        <label htmlFor=\"stripe-cvv\"\n                               data-tid=\"\">{__('CVV', 'woo-stripe-payment')}</label>\n                        <div className=\"baseline\"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nregisterCreditCardForm({\n    id: 'simple',\n    component: <SimpleForm/>,\n    breakpoint: 375\n})","import {CardElement} from \"@stripe/react-stripe-js\";\nimport {isFieldRequired} from \"../../util\";\nimport {useMemo} from '@wordpress/element';\n\nconst StripeCardForm = ({getData, billing, onChange: eventChange, onComplete}) => {\n    const elementStatus = {card: {}};\n    const onChange = (event) => {\n        eventChange(event);\n        elementStatus[event.elementType] = event;\n        onComplete(isFormComplete());\n    }\n    const isFormComplete = () => {\n        return Object.keys(elementStatus).filter(type => !!elementStatus[type].complete).length === Object.keys(elementStatus).length;\n    }\n    const cardOptions = useMemo(() => {\n        return {\n            ...{\n                value: {\n                    postalCode: billing?.billingAddress?.postcode\n                },\n                hidePostalCode: isFieldRequired('postcode'),\n                iconStyle: 'default'\n            }, ...getData('cardOptions')\n        };\n    }, [billing.billingAddress]);\n    return (\n        <div className='wc-stripe-inline-form'>\n            <CardElement options={cardOptions} onChange={onChange}/>\n        </div>\n    )\n}\n\nexport default StripeCardForm;","import './style.scss';\n\nexport * from './payment-method';\n\nimport './components/bootstrap';\nimport './components/simple';\n","import {useState, useCallback, useMemo} from '@wordpress/element';\nimport {loadStripe} from \"@stripe/stripe-js\";\nimport {Elements, PaymentElement, useStripe, useElements} from '@stripe/react-stripe-js';\nimport {getSetting} from '@woocommerce/settings'\nimport {cloneDeep} from 'lodash';\nimport {\n    getSettings,\n    //initStripe as loadStripe\n} from '../util';\nimport {Installments} from '../../components/checkout/';\n\nimport {useProcessCheckoutError, useDeferredPaymentIntent} from \"../hooks\";\n\nconst {publishableKey, stripeParams} = getSetting('stripeGeneralData');\nconst params = cloneDeep(stripeParams);\nif (params.hasOwnProperty('betas') && params.betas.indexOf('link_autofill_modal_beta_1') > -1) {\n    delete params.betas[params.betas.indexOf('link_autofill_modal_beta_1')];\n}\nconst stripe = loadStripe(publishableKey, params);\n\n\nconst getData = getSettings('stripe_cc_data');\n\nconst isSetupCard = total => 0 >= total;\n\nexport const PaymentElementComponent = (props) => {\n    const {cartTotal, currency} = props.billing;\n    let options = {\n        mode: 'payment',\n        ...getData('elementOptions')\n    }\n    if (isSetupCard(cartTotal.value)) {\n        options = {...options, mode: 'setup', paymentMethodCreation: 'manual'}\n    } else {\n        options = {\n            ...options,\n            amount: cartTotal.value,\n            currency: currency?.code?.toLowerCase()\n        }\n    }\n    return (\n        <>\n            <Elements stripe={stripe} options={options}>\n                <CardElement {...props} options={options}/>\n            </Elements>\n        </>\n    );\n}\n\nconst CardElement = ({options, ...props}) => {\n    const [formComplete, setFormComplete] = useState(false);\n    const installmentsActive = getData('installmentsActive')\n    const elements = useElements();\n    const stripe = useStripe();\n    const {billing: {billingAddress}, eventRegistration, emitResponse, shouldSavePayment} = props;\n    const {email} = billingAddress;\n    const {onCheckoutFail} = eventRegistration;\n    const {noticeContexts} = emitResponse;\n    const name = getData('name');\n    const onChange = useCallback((event) => {\n        setFormComplete(event.complete);\n    }, []);\n\n    const {createPaymentMethod, addPaymentMethodData} = useDeferredPaymentIntent({\n        billingAddress,\n        eventRegistration,\n        emitResponse,\n        shouldSavePayment,\n        noticeContexts,\n        name\n    });\n\n    useProcessCheckoutError({\n        emitResponse,\n        subscriber: onCheckoutFail,\n        messageContext: emitResponse.noticeContexts.PAYMENTS\n    });\n\n    const getPaymentMethod = useCallback(async () => {\n        let paymentMethod = null;\n        const result = await createPaymentMethod();\n        if (result?.paymentMethod?.id) {\n            paymentMethod = result.paymentMethod.id;\n        }\n        return paymentMethod;\n    }, [createPaymentMethod]);\n\n    const elementOptions = {\n        defaultValues: {\n            billingDetails: {\n                email\n            }\n        },\n        fields: {\n            billingDetails: {address: 'never'}\n        },\n        wallets: {applePay: 'never', googlePay: 'never'}\n    }\n    return (\n        <>\n            <PaymentElement options={elementOptions} onChange={onChange}/>\n            {installmentsActive && <Installments\n                paymentMethodName={getData('name')}\n                stripe={stripe}\n                cardFormComplete={formComplete}\n                getPaymentMethod={getPaymentMethod}\n                addPaymentMethodData={addPaymentMethodData}/>}\n        </>\n    )\n}\n\nexport default PaymentElementComponent;","import {useEffect, useState, useCallback, useMemo} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {\n    initStripe as loadStripe,\n    getSettings,\n} from '../util';\nimport {Elements, CardElement, useStripe, useElements, CardNumberElement} from '@stripe/react-stripe-js';\nimport {PaymentMethodLabel, PaymentMethod} from '../../components/checkout';\nimport SavedCardComponent from '../saved-card-component';\nimport CustomCardForm from './components/custom-card-form';\nimport StripeCardForm from \"./components/stripe-card-form\";\nimport {Installments} from '../../components/checkout';\nimport PaymentElementComponent from './payment-element';\nimport {\n    useProcessPaymentIntent,\n    useAfterProcessingPayment,\n    useSetupIntent,\n    useStripeError\n} from \"../hooks\";\n\nconst getData = getSettings('stripe_cc_data');\n\nconst CreditCardContent = (props) => {\n    const [error, setError] = useState(false);\n    useEffect(() => {\n        loadStripe.catch(error => {\n            setError(error);\n        })\n    }, [setError]);\n    if (error) {\n        throw new Error(error);\n    }\n    if (getData('isPaymentElement')) {\n        return (\n            <PaymentElementComponent {...props}/>\n        )\n    }\n    return (\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\n            <CreditCardElement {...props}/>\n        </Elements>\n    );\n};\n\nconst CreditCardElement = (\n    {\n        getData,\n        billing,\n        shippingData,\n        emitResponse,\n        eventRegistration,\n        activePaymentMethod,\n        shouldSavePayment\n    }) => {\n    const [error, setError] = useStripeError();\n    const [formComplete, setFormComplete] = useState(false);\n    const {onPaymentSetup} = eventRegistration;\n    const stripe = useStripe();\n    const elements = useElements();\n    const getPaymentMethodArgs = useCallback(() => {\n        const elType = getData('customFormActive') ? CardNumberElement : CardElement;\n        return {card: elements.getElement(elType)};\n    }, [stripe, elements]);\n\n    const {setupIntent, removeSetupIntent} = useSetupIntent({\n        getData,\n        cartTotal: billing.cartTotal,\n        setError\n    })\n\n    const {getCreatePaymentMethodArgs, addPaymentMethodData} = useProcessPaymentIntent({\n        getData,\n        billing,\n        shippingData,\n        emitResponse,\n        error,\n        onPaymentSetup,\n        shouldSavePayment,\n        setupIntent,\n        removeSetupIntent,\n        getPaymentMethodArgs,\n        activePaymentMethod\n    });\n    useAfterProcessingPayment({\n        getData,\n        eventRegistration,\n        emitResponse,\n        activePaymentMethod,\n        shouldSavePayment\n    });\n\n    const onChange = (event) => {\n        if (event.error) {\n            setError(event.error);\n        } else {\n            setError(false);\n        }\n    }\n\n    const getPaymentMethod = useCallback(async () => {\n        let paymentMethod = null;\n        const result = await stripe.createPaymentMethod(getCreatePaymentMethodArgs());\n        if (result?.paymentMethod?.id) {\n            paymentMethod = result.paymentMethod.id;\n        }\n        return paymentMethod;\n    }, [stripe, getCreatePaymentMethodArgs]);\n\n    const Tag = getData('customFormActive') ? CustomCardForm : StripeCardForm;\n    return (\n        <div className='wc-stripe-card-container'>\n            <Tag {...{getData, billing, onChange}} onComplete={setFormComplete}/>\n            {getData('installmentsActive') && <Installments\n                paymentMethodName={getData('name')}\n                cardFormComplete={formComplete}\n                addPaymentMethodData={addPaymentMethodData}\n                getPaymentMethod={getPaymentMethod}/>}\n\n        </div>\n    );\n}\n\nregisterPaymentMethod({\n    name: getData('name'),\n    label: <PaymentMethodLabel\n        title={getData('title')}\n        paymentMethod={getData('name')}\n        icons={getData('icons')}/>,\n    ariaLabel: 'Credit Cards',\n    canMakePayment: () => loadStripe,\n    content: <PaymentMethod content={CreditCardContent} getData={getData}/>,\n    savedTokenComponent: <SavedCardComponent getData={getData} method={'handleCardAction'}/>,\n    edit: <PaymentMethod content={CreditCardContent} getData={getData}/>,\n    supports: {\n        showSavedCards: getData('showSavedCards'),\n        showSaveOption: getData('showSaveOption'),\n        features: getData('features')\n    }\n})","import {Component} from '@wordpress/element';\n\nclass ErrorBoundary extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {hasError: false, error: null, errorInfo: null};\n    }\n\n    componentDidCatch(error, errorInfo) {\n        this.setState({\n            hasError: true,\n            error,\n            errorInfo\n        })\n    }\n\n    render() {\n        if (this.state.hasError) {\n            return (\n                <>\n                    {this.state.error && <div className='wc-stripe-block-error'>{this.state.error.toString()}</div>}\n                    {this.state.errorInfo &&\n                    <div className='wc-stripe-block-error'>{this.state.errorInfo.componentStack}</div>}\n                </>\n            )\n        }\n        return this.props.children;\n    }\n}\n\nexport default ErrorBoundary;","import {useRef, useEffect} from '@wordpress/element';\nimport {usePaymentsClient, usePaymentRequest} from './hooks';\nimport {\n    useProcessPaymentIntent,\n    useStripeError,\n    useExportedValues,\n    useExpressBreakpointWidth, useAfterProcessingPayment\n} from '../hooks';\nimport {getSettings} from '@paymentplugins/stripe/util';\n\nconst {publishableKey} = getSettings('stripeGeneralData')();\n\nconst GooglePayButton = (\n    {\n        getData,\n        setErrorMessage,\n        billing,\n        shippingData,\n        canMakePayment,\n        checkoutStatus,\n        eventRegistration,\n        activePaymentMethod,\n        onClick,\n        onClose,\n        ...props\n    }) => {\n    const merchantInfo = {\n        merchantId: getData('merchantId'),\n        merchantName: getData('merchantName')\n    };\n    const [error, setError] = useStripeError();\n    const buttonContainer = useRef();\n    const {onSubmit, emitResponse} = props;\n    const {onPaymentSetup} = eventRegistration;\n    const exportedValues = useExportedValues();\n    const width = getData('buttonStyle').buttonType === 'long' ? 390 : 375;\n\n    const {setPaymentMethod} = useProcessPaymentIntent({\n        getData,\n        billing,\n        shippingData,\n        onPaymentSetup,\n        emitResponse,\n        error,\n        exportedValues,\n        onSubmit,\n        checkoutStatus,\n        activePaymentMethod\n    });\n\n    const buildPaymentRequest = usePaymentRequest({\n        getData,\n        publishableKey,\n        merchantInfo,\n        billing,\n        shippingData\n    })\n\n    const {button, removeButton} = usePaymentsClient({\n        merchantInfo,\n        buildPaymentRequest,\n        billing,\n        shippingData,\n        eventRegistration,\n        canMakePayment,\n        setErrorMessage,\n        onSubmit,\n        setPaymentMethod,\n        exportedValues,\n        onClick,\n        onClose,\n        getData\n    });\n\n    useAfterProcessingPayment({\n        getData,\n        eventRegistration,\n        emitResponse,\n        activePaymentMethod\n    });\n\n    useExpressBreakpointWidth({payment_method: getData('name'), width});\n\n    useEffect(() => {\n        if (button) {\n            // prevent button duplicates\n            removeButton(buttonContainer.current);\n            buttonContainer.current.append(button);\n        }\n    }, [button]);\n\n    return (\n        <div className='wc-stripe-gpay-button-container' ref={buttonContainer}></div>\n    )\n}\n\nexport default GooglePayButton;","export const BASE_PAYMENT_METHOD = {\n    type: 'CARD',\n    parameters: {\n        allowedAuthMethods: [\"PAN_ONLY\"],\n        allowedCardNetworks: [\"AMEX\", \"DISCOVER\", \"INTERAC\", \"JCB\", \"MASTERCARD\", \"VISA\"],\n        assuranceDetailsRequired: true\n    }\n};\n\nexport const BASE_PAYMENT_REQUEST = {\n    apiVersion: 2,\n    apiVersionMinor: 0\n}","export * from './use-payments-client';\nexport * from './use-payment-request';\nexport * from './use-error-message';","import {useState} from '@wordpress/element';\n\nexport const useErrorMessage = () => {\n    const [errorMessage, setErrorMessage] = useState(false);\n    return {errorMessage, setErrorMessage};\n}","import {useEffect, useCallback, useRef, useMemo} from '@wordpress/element';\nimport {BASE_PAYMENT_REQUEST, BASE_PAYMENT_METHOD} from \"../constants\";\nimport {isEmpty, isFieldRequired} from \"../../util\";\nimport {getTransactionInfo, getShippingOptionParameters} from \"../util\";\n\nexport const usePaymentRequest = ({getData, publishableKey, merchantInfo, billing, shippingData}) => {\n    const {processingCountry, totalPriceLabel} = getData();\n    const currentData = useRef({\n        shippingData,\n        billing\n    });\n\n    useEffect(() => {\n        currentData.current = {\n            shippingData,\n            billing\n        }\n    });\n\n    const buildPaymentRequest = useCallback(() => {\n        const {billing, shippingData} = currentData.current;\n        const {billingAddress} = billing;\n        const {shippingRates} = shippingData;\n        let options = {\n            ...{\n                emailRequired: isEmpty(billingAddress.email),\n                merchantInfo,\n                allowedPaymentMethods: [{\n                    ...{\n                        type: 'CARD',\n                        tokenizationSpecification: {\n                            type: \"PAYMENT_GATEWAY\",\n                            parameters: {\n                                gateway: 'stripe',\n                                \"stripe:version\": \"2018-10-31\",\n                                \"stripe:publishableKey\": publishableKey\n                            }\n                        }\n                    }, ...BASE_PAYMENT_METHOD\n                }],\n                shippingAddressRequired: shippingData.needsShipping,\n                transactionInfo: getTransactionInfo({\n                    billing,\n                    processingCountry,\n                    totalPriceLabel\n                }),\n                callbackIntents: ['PAYMENT_AUTHORIZATION']\n            }, ...BASE_PAYMENT_REQUEST\n        };\n        options.allowedPaymentMethods[0].parameters.billingAddressRequired = true;\n        options.allowedPaymentMethods[0].parameters.billingAddressParameters = {\n            format: 'FULL',\n            phoneNumberRequired: isFieldRequired(shippingData.needsShipping ? 'shipping-phone' : 'phone', billingAddress.country) && isEmpty(billingAddress.phone)\n        };\n        if (options.shippingAddressRequired) {\n            options.callbackIntents = [...options.callbackIntents, ...['SHIPPING_ADDRESS', 'SHIPPING_OPTION']];\n            options.shippingOptionRequired = true;\n            const shippingOptionParameters = getShippingOptionParameters(shippingRates);\n            if (shippingOptionParameters.shippingOptions.length > 0) {\n                options = {...options, shippingOptionParameters};\n            }\n        }\n        return options;\n    }, []);\n\n\n    return buildPaymentRequest;\n}","import {useState, useEffect, useCallback, useMemo, useRef} from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport {\n    getRoute,\n    getErrorMessage,\n    getSelectedShippingOption,\n    getBillingDetailsFromAddress,\n    isAddressValid,\n    isEmpty,\n    StripeError\n} from \"../../util\";\nimport {useStripe} from \"@stripe/react-stripe-js\";\nimport {toCartAddress} from \"../util\";\n\nexport const usePaymentsClient = (\n    {\n        merchantInfo,\n        buildPaymentRequest,\n        billing,\n        shippingData,\n        eventRegistration,\n        canMakePayment,\n        setErrorMessage,\n        setPaymentMethod,\n        exportedValues,\n        onClick,\n        onClose,\n        getData\n    }) => {\n    const {environment} = getData();\n    const [paymentsClient, setPaymentsClient] = useState();\n    const [button, setButton] = useState(null);\n    const currentBilling = useRef(billing);\n    const currentShipping = useRef(shippingData);\n    const {needsShipping} = shippingData;\n    const stripe = useStripe();\n\n    useEffect(() => {\n        currentBilling.current = billing;\n        currentShipping.current = shippingData;\n    });\n\n    const setAddressData = useCallback((paymentData) => {\n        let billingAddress = {};\n        const {shippingAddress} = currentShipping.current;\n        if (paymentData?.paymentMethodData?.info?.billingAddress) {\n            billingAddress = paymentData.paymentMethodData.info.billingAddress;\n            exportedValues.billingAddress = currentBilling.current.billingAddress = toCartAddress(billingAddress, {\n                email: paymentData.email || currentBilling.current.billingAddress.email,\n                phoneNumber: billingAddress.phoneNumber || currentBilling.current.billingAddress.phone,\n            });\n        }\n        if (paymentData?.shippingAddress) {\n            exportedValues.shippingAddress = toCartAddress(paymentData.shippingAddress);\n            if (exportedValues?.billingAddress?.phone && !shippingAddress.phone) {\n                exportedValues.shippingAddress.phone = exportedValues.billingAddress.phone;\n            }\n        }\n    }, []);\n\n    const removeButton = useCallback((parentElement) => {\n        while (parentElement.firstChild) {\n            parentElement.removeChild(parentElement.firstChild);\n        }\n    }, [button]);\n    const handleClick = useCallback(async () => {\n        onClick();\n        try {\n            let paymentData = await paymentsClient.loadPaymentData(buildPaymentRequest());\n\n            // set the address data so it can be used during the checkout process\n            setAddressData(paymentData);\n\n            const data = JSON.parse(paymentData.paymentMethodData.tokenizationData.token);\n\n            let result = await stripe.createPaymentMethod({\n                type: 'card',\n                card: {token: data.id},\n                billing_details: getBillingDetailsFromAddress(currentBilling.current.billingAddress)\n            });\n\n            if (result.error) {\n                throw new StripeError(result.error);\n            }\n\n            setPaymentMethod(result.paymentMethod.id);\n        } catch (err) {\n            if (err?.statusCode === \"CANCELED\") {\n                onClose();\n            } else {\n                console.log(getErrorMessage(err));\n                setErrorMessage(getErrorMessage(err));\n            }\n        }\n    }, [\n        stripe,\n        paymentsClient,\n        onClick,\n        buildPaymentRequest\n    ]);\n\n    const createButton = useCallback(async () => {\n        try {\n            if (paymentsClient && stripe) {\n                await canMakePayment;\n                const button = paymentsClient.createButton({\n                    onClick: handleClick,\n                    ...getData('buttonStyle')\n                });\n                if (getData('buttonShape') === 'rect') {\n                    button.querySelector('button')?.classList?.remove('new_style');\n                }\n                setButton(button);\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    }, [\n        stripe,\n        paymentsClient,\n        handleClick\n    ]);\n\n    const paymentOptions = useMemo(() => {\n        let options = {\n            environment,\n            merchantInfo,\n            paymentDataCallbacks: {\n                onPaymentAuthorized: () => Promise.resolve({transactionState: \"SUCCESS\"})\n            }\n        }\n        if (needsShipping) {\n            options.paymentDataCallbacks.onPaymentDataChanged = (paymentData) => {\n                const shipping = currentShipping.current;\n                const {shippingAddress: address, shippingOptionData} = paymentData;\n                const selectedRates = getSelectedShippingOption(shippingOptionData.id);\n                const shipping_method = ['default', 'shipping_option_unselected'].includes(shippingOptionData.id) ? null : shippingOptionData.id;\n                return new Promise((resolve, reject) => {\n                    apiFetch({\n                        method: 'POST',\n                        url: getRoute('payment/data'),\n                        data: {\n                            address: toCartAddress(address),\n                            shipping_method,\n                            page_id: null\n                        }\n                    }).then(response => {\n                        if (response.code) {\n                            resolve(response.data.data);\n                        } else {\n                            resolve(response.data.paymentRequestUpdate);\n                        }\n                    }).catch(response => {\n                        resolve(response.data);\n                    }).finally(() => {\n                        if (shipping_method && shipping_method !== 'shipping_option_unselected') {\n                            shipping.setSelectedRates(...selectedRates);\n                        }\n                    });\n                });\n            }\n        }\n        return options;\n    }, [needsShipping]);\n\n    useEffect(() => {\n        setPaymentsClient(new google.payments.api.PaymentsClient(paymentOptions));\n    }, [paymentOptions]);\n\n    useEffect(() => {\n        createButton();\n    }, [createButton])\n\n    return {\n        button,\n        removeButton\n    };\n}","import './style.scss';\n\nexport * from './payment-method';","import {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, initStripe as loadStripe, isCartPage, isCheckoutPage} from '../util';\nimport {useErrorMessage} from \"./hooks\";\nimport GooglePayButton from './button';\nimport {BASE_PAYMENT_METHOD, BASE_PAYMENT_REQUEST} from './constants';\nimport google from '@googlepay';\nimport {Elements} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_googlepay_data');\n\nconst canMakePayment = (() => {\n    const paymentsClient = new google.payments.api.PaymentsClient({\n        environment: getData('environment'),\n        merchantInfo: {\n            merchantId: getData('merchantId'),\n            merchantName: getData('merchantName')\n        }\n    });\n    const isReadyToPayRequest = {...BASE_PAYMENT_REQUEST, allowedPaymentMethods: [BASE_PAYMENT_METHOD]};\n    return paymentsClient.isReadyToPay(isReadyToPayRequest).then(() => {\n        return true;\n    }).catch(err => {\n        console.log(err);\n        return false;\n    })\n})();\n\nconst GooglePayContent = ({getData, components, ...props}) => {\n    const {ValidationInputError} = components;\n    const {errorMessage, setErrorMessage} = useErrorMessage();\n    return (\n        <div className='wc-stripe-gpay-container'>\n            <Elements stripe={loadStripe}>\n                <GooglePayButton getData={getData}\n                                 canMakePayment={canMakePayment}\n                                 setErrorMessage={setErrorMessage}\n                                 {...props}/>\n                {errorMessage && <ValidationInputError errorMessage={errorMessage}/>}\n            </Elements>\n        </div>\n    )\n}\n\nconst GooglePayEdit = ({getData, ...props}) => {\n    const buttonType = getData('buttonStyle').buttonType;\n    const src = getData('editorIcons').long;\n    return (\n        <div className={`gpay-block-editor ${buttonType}`}>\n            <img src={src}/>\n        </div>\n    )\n}\nif ((isCartPage() && getData('cartCheckoutEnabled')) ||\n    (isCheckoutPage() && getData('expressCheckoutEnabled'))) {\n    registerExpressPaymentMethod({\n        name: getData('name'),\n        canMakePayment: () => {\n            return loadStripe.then(stripe => {\n                if (stripe.error) {\n                    return stripe;\n                }\n                return canMakePayment;\n            });\n        },\n        content: <GooglePayContent getData={getData}/>,\n        edit: <GooglePayEdit getData={getData}/>,\n        supports: {\n            showSavedCards: getData('showSavedCards'),\n            showSaveOption: getData('showSaveOption'),\n            features: getData('features')\n        }\n    })\n}","import {getShippingOptionId, removeNumberPrecision, toCartAddress as mapAddressToCartAddress} from \"../util\";\nimport {formatPrice} from '../util';\nimport {getSetting} from '@woocommerce/settings'\n\nconst generalData = getSetting('stripeGeneralData');\n\nconst ADDRESS_MAPPINGS = {\n    name: (address, name) => {\n        address.first_name = name.split(' ').slice(0, -1).join(' ');\n        address.last_name = name.split(' ').pop();\n        return address;\n    },\n    countryCode: 'country',\n    address1: 'address_1',\n    address2: 'address_2',\n    locality: 'city',\n    administrativeArea: 'state',\n    postalCode: 'postcode',\n    email: 'email',\n    phoneNumber: 'phone'\n}\n\nexport const getTransactionInfo = ({billing, processingCountry, totalPriceLabel}, status = 'ESTIMATED') => {\n    const {cartTotal, cartTotalItems, currency} = billing;\n    const transactionInfo = {\n        countryCode: processingCountry,\n        currencyCode: currency.code,\n        totalPriceStatus: status,\n        totalPrice: removeNumberPrecision(cartTotal.value, currency.minorUnit).toString(),\n        displayItems: getDisplayItems(cartTotalItems, currency.minorUnit),\n        totalPriceLabel\n    }\n    return transactionInfo;\n}\n\nexport const getPaymentRequestUpdate = ({billing, shippingData, processingCountry, totalPriceLabel}) => {\n    const {needsShipping, shippingRates} = shippingData;\n    let update = {\n        newTransactionInfo: getTransactionInfo({\n            billing, processingCountry, totalPriceLabel\n        }, 'FINAL')\n    }\n    if (needsShipping) {\n        update.newShippingOptionParameters = getShippingOptionParameters(shippingRates);\n    }\n    return update;\n}\n\n/**\n * Return an array of line item objects\n * @param cartTotalItems\n * @param unit\n * @returns {[]}\n */\nconst getDisplayItems = (cartTotalItems, unit = 2) => {\n    let items = [];\n    const keys = ['total_tax', 'total_shipping'];\n    cartTotalItems.forEach(item => {\n        if (0 < item.value || (item.key && keys.includes(item.key))) {\n            items.push({\n                label: item.label,\n                type: 'LINE_ITEM',\n                price: removeNumberPrecision(item.value, unit).toString()\n            });\n        }\n    })\n    return items;\n}\n\nexport const getShippingOptionParameters = (shippingRates) => {\n    const shippingOptions = getShippingOptions(shippingRates);\n    const shippingOptionIds = shippingOptions.map(option => option.id);\n    let defaultSelectedOptionId = shippingOptionIds.slice(0, 1).shift();\n    shippingRates.forEach((shippingPackage, idx) => {\n        shippingPackage.shipping_rates.forEach(rate => {\n            if (rate.selected) {\n                defaultSelectedOptionId = getShippingOptionId(idx, rate.rate_id);\n            }\n        });\n    });\n    return {\n        shippingOptions,\n        defaultSelectedOptionId,\n    }\n}\n\n//id label description\nexport const getShippingOptions = (shippingRates) => {\n    let options = [];\n    shippingRates.forEach((shippingPackage, idx) => {\n        let rates = shippingPackage.shipping_rates.map(rate => {\n            let txt = document.createElement('textarea');\n            txt.innerHTML = rate.name;\n            let price = formatPrice(rate.price, rate.currency_code);\n            return {\n                id: getShippingOptionId(idx, rate.rate_id),\n                label: txt.value,\n                description: `${price}`\n            }\n        });\n        options = [...options, ...rates];\n    });\n    return options;\n}\n\nexport const toCartAddress = mapAddressToCartAddress(ADDRESS_MAPPINGS);\n","export * from './use-process-payment-intent';\nexport * from './use-after-process-payment';\nexport * from './use-setup-intent';\nexport * from './use-stripe-error';\nexport * from './use-exported-values';\nexport * from './use-payment-request';\nexport * from './use-payment-events';\nexport * from './use-breakpoint-width';\nexport * from './use-process-checkout-error';\nexport * from './use-deferred-payment-intent';","import {useEffect} from '@wordpress/element'\nimport {useStripe} from \"@stripe/react-stripe-js\";\nimport {handleCardAction} from \"../util\";\nimport {useProcessCheckoutError} from \"./use-process-checkout-error\";\n\nexport const useAfterProcessingPayment = (\n    {\n        getData,\n        eventRegistration,\n        emitResponse,\n        activePaymentMethod,\n        shouldSavePayment = false,\n        messageContext = null\n    }) => {\n    const stripe = useStripe();\n    const {onCheckoutSuccess, onCheckoutFail} = eventRegistration;\n    useProcessCheckoutError({\n        emitResponse,\n        subscriber: onCheckoutFail,\n        messageContext\n    });\n    useEffect(() => {\n        let unsubscribeAfterProcessingWithSuccess = onCheckoutSuccess(async ({redirectUrl}) => {\n            if (getData('name') === activePaymentMethod) {\n                //check if response is in redirect. If so, open modal\n                return await handleCardAction({\n                    redirectUrl,\n                    emitResponse,\n                    name: activePaymentMethod,\n                    savePaymentMethod: shouldSavePayment\n                });\n            }\n            return null;\n        })\n        return () => unsubscribeAfterProcessingWithSuccess()\n    }, [\n        stripe,\n        onCheckoutSuccess,\n        activePaymentMethod,\n        shouldSavePayment\n    ]);\n}","import {useState, useEffect, useCallback} from '@wordpress/element';\nimport {storeInCache, getFromCache} from \"../util\";\n\nexport const useBreakpointWidth = (\n    {\n        name,\n        width,\n        node,\n        className\n    }) => {\n    const [windowWidth, setWindowWidth] = useState(window.innerWidth);\n    const getMaxWidth = useCallback((name) => {\n        const maxWidth = getFromCache(name);\n        return maxWidth ? parseInt(maxWidth) : 0;\n    }, []);\n    const setMaxWidth = useCallback((name, width) => storeInCache(name, width), []);\n\n    useEffect(() => {\n        const el = typeof node === 'function' ? node() : node;\n\n        if (el) {\n            const maxWidth = getMaxWidth(name);\n            if (!maxWidth || width > maxWidth) {\n                setMaxWidth(name, width);\n            }\n            if (el.clientWidth < width) {\n                el.classList.add(className);\n            } else {\n                if (el.clientWidth > maxWidth) {\n                    el.classList.remove(className);\n                }\n            }\n        }\n    }, [windowWidth, node]);\n    useEffect(() => {\n        const handleResize = () => setWindowWidth(window.innerWidth);\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    });\n}\n\nexport const useExpressBreakpointWidth = (\n    {\n        payment_method,\n        width\n    }) => {\n    const node = useCallback(() => {\n        const el = document.getElementById(`express-payment-method-${payment_method}`);\n        return el ? el.parentNode : null;\n    }, []);\n    useBreakpointWidth({\n        name: 'expressMaxWidth',\n        width,\n        node,\n        className: 'wc-stripe-express__sm'\n    });\n\n}","import {useState, useEffect, useRef, useCallback} from '@wordpress/element';\nimport {useStripe, useElements} from \"@stripe/react-stripe-js\";\nimport {ensureErrorResponse, ensureSuccessResponse, getBillingDetailsFromAddress, StripeError, isNextActionRequired, getRoute, handleCardAction} from '../util';\n\nexport const useDeferredPaymentIntent = (\n    {\n        billingAddress,\n        eventRegistration,\n        emitResponse,\n        name,\n        shouldSavePayment,\n        noticeContexts\n    }\n) => {\n    const {onPaymentSetup, onCheckoutSuccess} = eventRegistration;\n    const currentData = useRef({billingAddress});\n    const paymentMethodData = useRef({});\n    const stripe = useStripe();\n    const elements = useElements();\n\n    const getSuccessResponse = useCallback((paymentMethod, shouldSavePayment) => {\n        const response = {\n            meta: {\n                paymentMethodData: {\n                    [`${name}_token_key`]: paymentMethod,\n                    [`${name}_save_source_key`]: shouldSavePayment,\n                    ...paymentMethodData.current\n                }\n            }\n        }\n        return response;\n    }, []);\n\n    const addPaymentMethodData = useCallback((data) => {\n        paymentMethodData.current = {...paymentMethodData.current, ...data};\n    }, []);\n\n    const createPaymentMethod = useCallback(async () => {\n        const {billingAddress} = currentData.current;\n        await elements.submit();\n        return await stripe.createPaymentMethod({\n            elements,\n            params: {\n                billing_details: getBillingDetailsFromAddress(billingAddress)\n            }\n        });\n    }, [stripe, elements]);\n\n    useEffect(() => {\n        currentData.current.billingAddress = billingAddress;\n    });\n\n    useEffect(() => {\n        const unsubscribe = onPaymentSetup(async () => {\n            try {\n                const result = await createPaymentMethod();\n                if (result.error) {\n                    throw new StripeError(result.error);\n                }\n                const paymentMethod = result.paymentMethod.id;\n                currentData.current.paymentMethod = paymentMethod;\n                return ensureSuccessResponse(emitResponse.responseTypes, getSuccessResponse(paymentMethod, shouldSavePayment));\n            } catch (error) {\n                return ensureErrorResponse(emitResponse.responseTypes, error, {messageContext: noticeContexts.PAYMENTS});\n            }\n        });\n        return () => unsubscribe();\n    }, [\n        onPaymentSetup,\n        createPaymentMethod,\n        shouldSavePayment\n    ]);\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutSuccess(async ({redirectUrl}) => {\n            return await handleCardAction({\n                redirectUrl,\n                emitResponse,\n                name,\n                savePaymentMethod: shouldSavePayment,\n                data: {\n                    [`${name}_token_key`]: currentData.current.paymentMethod\n                }\n            })\n        });\n        return () => unsubscribe();\n    }, [\n        onCheckoutSuccess,\n        shouldSavePayment,\n        name\n    ]);\n\n    return {\n        createPaymentMethod,\n        addPaymentMethodData\n    }\n}","import {useRef} from '@wordpress/element';\n\nexport const useExportedValues = () => {\n    const exportedValues = useRef({});\n    return exportedValues.current;\n}","import {useEffect, useCallback, useRef, useState} from '@wordpress/element';\nimport {hasShippingRates} from '../util';\n\nexport const usePaymentEvents = (\n    {\n        billing,\n        shippingData,\n        eventRegistration\n    }) => {\n    const {onShippingRateSuccess, onShippingRateFail, onShippingRateSelectSuccess} = eventRegistration;\n    const currentBilling = useRef(billing);\n    const currentShipping = useRef(shippingData);\n    const [handler, setHandler] = useState(null);\n    const [paymentEvents, setPaymentEvent] = useState({\n        onShippingChanged: false\n    });\n    const addPaymentEvent = useCallback((name, handler, execute = false) => {\n        if (execute) {\n            setHandler({[name]: handler});\n        } else {\n            setPaymentEvent({...paymentEvents, [name]: handler});\n        }\n    }, [paymentEvents, setPaymentEvent]);\n    const removePaymentEvent = useCallback((name) => {\n        if (paymentEvents[name]) {\n            delete paymentEvents[name];\n            setPaymentEvent(paymentEvents);\n        }\n    }, [paymentEvents]);\n\n    const onShippingChanged = useCallback(() => {\n        const shipping = currentShipping.current;\n        const billing = currentBilling.current;\n        if (paymentEvents.onShippingChanged && !shipping.isSelectingRate && !shipping.shippingRatesLoading) {\n            const handler = paymentEvents.onShippingChanged;\n            let success = true;\n            if (!hasShippingRates(shipping.shippingRates)) {\n                success = false;\n            }\n            handler(success, {\n                billing,\n                shipping\n            });\n            removePaymentEvent('onShippingChanged');\n        }\n    }, [paymentEvents, removePaymentEvent]);\n\n    useEffect(() => {\n        currentBilling.current = billing;\n        currentShipping.current = shippingData;\n    });\n\n    useEffect(() => {\n        if (handler) {\n            if (handler.onShippingChanged) {\n                handler.onShippingChanged(true, {\n                    billing: currentBilling.current,\n                    shipping: currentShipping.current\n                })\n                setHandler(null);\n            }\n        }\n    }, [handler]);\n\n    useEffect(() => {\n        const unsubscribeShippingRateSuccess = onShippingRateSuccess(onShippingChanged);\n        const unsubscribeShippingRateSelectSuccess = onShippingRateSelectSuccess(onShippingChanged);\n        const unsubscribeShippingRateFail = onShippingRateFail(({hasInvalidAddress, hasError}) => {\n            if (paymentEvents.onShippingChanged) {\n                const handler = paymentEvents.onShippingChanged;\n                handler(false);\n                removePaymentEvent('onShippingChanged');\n            }\n        });\n\n        return () => {\n            unsubscribeShippingRateSuccess();\n            unsubscribeShippingRateFail();\n            unsubscribeShippingRateSelectSuccess();\n        }\n    }, [\n        paymentEvents,\n        onShippingRateSuccess,\n        onShippingRateFail,\n        onShippingRateSelectSuccess\n    ]);\n\n    return {addPaymentEvent, removePaymentEvent};\n}","import {useState, useEffect, useRef, useCallback} from '@wordpress/element';\nimport {getIntermediateAddress, getRoute} from '../util';\nimport isShallowEqual from '@wordpress/is-shallow-equal';\nimport {\n    getDisplayItems,\n    getShippingOptions,\n    getSelectedShippingOption,\n    isFieldRequired,\n    toCartAddress as mapToCartAddress\n} from \"../util\";\nimport apiFetch from \"@wordpress/api-fetch\";\n\nconst toCartAddress = mapToCartAddress();\n\nexport const usePaymentRequest = (\n    {\n        getData,\n        onClose,\n        stripe,\n        billing,\n        shippingData,\n        setPaymentMethod,\n        exportedValues,\n        canPay\n    }) => {\n\n    const {shippingAddress, needsShipping, shippingRates} = shippingData;\n    const {cartTotalItems, currency, cartTotal} = billing;\n    const [paymentRequest, setPaymentRequest] = useState(null);\n    const paymentRequestOptions = useRef({});\n    const currentShipping = useRef(shippingData)\n    const currentBilling = useRef(billing);\n\n    useEffect(() => {\n        currentShipping.current = shippingData;\n        currentBilling.current = billing;\n    }, [shippingData, billing]);\n\n    useEffect(() => {\n        if (stripe) {\n            const options = {\n                country: getData('countryCode'),\n                currency: currency?.code.toLowerCase(),\n                total: {\n                    amount: cartTotal.value,\n                    label: cartTotal.label,\n                    pending: true\n                },\n                requestPayerName: true,\n                requestPayerEmail: true,\n                requestPayerPhone: isFieldRequired(needsShipping ? 'shipping-phone' : 'phone'),\n                requestShipping: needsShipping,\n                displayItems: getDisplayItems(cartTotalItems, currency)\n            }\n            if (options.requestShipping) {\n                options.shippingOptions = getShippingOptions(shippingRates);\n            }\n            paymentRequestOptions.current = options;\n            const paymentRequest = stripe.paymentRequest(paymentRequestOptions.current);\n            paymentRequest.canMakePayment().then(result => {\n                if (canPay(result)) {\n                    setPaymentRequest(paymentRequest);\n                } else {\n                    setPaymentRequest(null);\n                }\n            });\n        }\n    }, [\n        stripe,\n        cartTotal.value,\n        needsShipping,\n        shippingRates,\n        cartTotalItems,\n        currency.code\n    ]);\n\n    const onShippingAddressChange = useCallback(event => {\n        const shipping = currentShipping.current;\n        const {shippingAddress} = event;\n        const intermediateAddress = toCartAddress(shippingAddress);\n        apiFetch({\n            method: 'POST',\n            url: getRoute('shipping-address'),\n            data: {\n                address: intermediateAddress,\n                payment_method: getData('name'),\n                page_id: 'checkout'\n            }\n        }).then(response => {\n            event.updateWith(response.data.newData);\n            shipping.setShippingAddress({...shipping.shippingAddress, ...intermediateAddress});\n        }).catch(error => {\n            console.log(error);\n        })\n    }, []);\n\n    const onShippingOptionChange = useCallback(event => {\n        const {shippingOption} = event;\n        const shipping = currentShipping.current;\n\n        apiFetch({\n            method: 'POST',\n            url: getRoute('shipping-method'),\n            data: {\n                shipping_method: shippingOption.id,\n                payment_method: getData('name'),\n                page_id: null\n            }\n        }).then(response => {\n            event.updateWith(response.data.newData);\n            shipping.setSelectedRates(...getSelectedShippingOption(shippingOption.id))\n        }).catch(error => {\n            console.log(error);\n        })\n    }, []);\n\n    const onPaymentMethodReceived = useCallback((paymentResponse) => {\n        const {shippingAddress} = currentShipping.current;\n        const billing = currentBilling.current;\n        const {paymentMethod, payerName = null, payerEmail = null, payerPhone = null} = paymentResponse;\n\n        if (paymentMethod?.billing_details.address) {\n            exportedValues.billingAddress = {...billing.billingAddress, ...toCartAddress(paymentMethod.billing_details.address, {payerName})};\n            if (!exportedValues.billingAddress.email && payerEmail) {\n                exportedValues.billingAddress.email = payerEmail;\n            }\n            if (!exportedValues.billingAddress.phone && payerPhone) {\n                exportedValues.billingAddress.phone = payerPhone;\n            }\n        }\n\n        if (paymentResponse.shippingAddress) {\n            exportedValues.shippingAddress = {...shippingAddress, ...toCartAddress(paymentResponse.shippingAddress)};\n            if (!exportedValues.shippingAddress.phone && payerPhone) {\n                exportedValues.shippingAddress.phone = payerPhone;\n            }\n        }\n\n        // set payment method\n        setPaymentMethod(paymentMethod.id);\n        paymentResponse.complete(\"success\");\n    }, []);\n\n    useEffect(() => {\n        if (paymentRequest) {\n            if (paymentRequestOptions.current.requestShipping) {\n                paymentRequest.on('shippingaddresschange', onShippingAddressChange);\n                paymentRequest.on('shippingoptionchange', onShippingOptionChange);\n            }\n            paymentRequest.on('cancel', onClose);\n            paymentRequest.on('paymentmethod', onPaymentMethodReceived);\n        }\n    }, [\n        onClose,\n        paymentRequest,\n        onShippingAddressChange,\n        onPaymentMethodReceived\n    ]);\n\n    return {paymentRequest};\n}","import {useEffect} from '@wordpress/element';\n\nexport const useProcessCheckoutError = (\n    {\n        emitResponse,\n        subscriber,\n        messageContext = null\n    }) => {\n    useEffect(() => {\n        const unsubscribe = subscriber((data) => {\n            if (data?.processingResponse.paymentDetails?.stripeErrorMessage) {\n                return {\n                    type: emitResponse.responseTypes.ERROR,\n                    message: data.processingResponse.paymentDetails.stripeErrorMessage,\n                    messageContext: messageContext || emitResponse.noticeContexts.PAYMENTS\n                };\n            }\n            return null;\n        });\n        return () => unsubscribe();\n    }, [\n        subscriber,\n        messageContext,\n        emitResponse.responseTypes.ERROR,\n        emitResponse.noticeContexts.PAYMENTS\n    ]);\n}","import {useEffect, useState, useCallback, useRef} from '@wordpress/element';\nimport {useStripe} from '@stripe/react-stripe-js';\nimport {\n    getSettings,\n    ensureSuccessResponse,\n    ensureErrorResponse,\n    getBillingDetailsFromAddress,\n    StripeError,\n    DEFAULT_BILLING_ADDRESS,\n    DEFAULT_SHIPPING_ADDRESS\n} from '../util';\n\nconst generalData = getSettings('stripeGeneralData');\n\nexport const useProcessPaymentIntent = (\n    {\n        getData,\n        billing,\n        shippingData,\n        onPaymentSetup,\n        emitResponse,\n        error,\n        onSubmit,\n        activePaymentMethod,\n        paymentType = 'card',\n        setupIntent = null,\n        removeSetupIntent = null,\n        shouldSavePayment = false,\n        exportedValues = {},\n        getPaymentMethodArgs = () => ({})\n    }) => {\n    const {billingAddress} = billing;\n    const {shippingAddress} = shippingData;\n    const [paymentMethod, setPaymentMethod] = useState(null);\n    const stripe = useStripe();\n    const currentPaymentMethodArgs = useRef(getPaymentMethodArgs);\n    const paymentMethodData = useRef({});\n    useEffect(() => {\n        currentPaymentMethodArgs.current = getPaymentMethodArgs;\n    }, [getPaymentMethodArgs]);\n\n    const addPaymentMethodData = useCallback((data) => {\n        paymentMethodData.current = {...paymentMethodData.current, ...data};\n    }, []);\n\n    const getCreatePaymentMethodArgs = useCallback(() => {\n        const args = {\n            type: paymentType,\n            billing_details: getBillingDetailsFromAddress(exportedValues?.billingAddress ? exportedValues.billingAddress : billingAddress)\n        }\n        return {...args, ...currentPaymentMethodArgs.current()};\n    }, [billingAddress, paymentType, getPaymentMethodArgs]);\n\n    const getSuccessResponse = useCallback((paymentMethodId, shouldSavePayment) => {\n        const response = {\n            meta: {\n                paymentMethodData: {\n                    [`${getData('name')}_token_key`]: paymentMethodId,\n                    [`${getData('name')}_save_source_key`]: shouldSavePayment,\n                    ...paymentMethodData.current\n                }\n            }\n        }\n        if (exportedValues?.billingAddress) {\n            response.meta.billingAddress = {\n                ...DEFAULT_BILLING_ADDRESS,\n                ...exportedValues.billingAddress\n            };\n        }\n        if (exportedValues?.shippingAddress) {\n            response.meta.shippingAddress = {\n                ...DEFAULT_SHIPPING_ADDRESS, ...exportedValues.shippingAddress\n            }\n        }\n        return response;\n    }, [billingAddress, shippingAddress]);\n\n    useEffect(() => {\n        if (paymentMethod && typeof paymentMethod === 'string') {\n            onSubmit();\n        }\n    }, [paymentMethod, onSubmit]);\n\n    useEffect(() => {\n        const unsubscribeProcessingPayment = onPaymentSetup(async () => {\n            if (activePaymentMethod !== getData('name')) {\n                return null;\n            }\n            let [result, paymentMethodId] = [null, null];\n            try {\n                if (error) {\n                    throw new StripeError(error);\n                }\n                if (setupIntent) {\n                    result = await stripe.confirmCardSetup(setupIntent.client_secret, {\n                        payment_method: getCreatePaymentMethodArgs()\n                    });\n                    if (result.error) {\n                        throw new StripeError(result.error);\n                    }\n                    paymentMethodId = result.setupIntent.payment_method;\n                    removeSetupIntent();\n                } else {\n                    // payment method has already been created.\n                    if (paymentMethod) {\n                        paymentMethodId = paymentMethod;\n                    } else {\n                        //create the payment method\n                        result = await stripe.createPaymentMethod(getCreatePaymentMethodArgs());\n                        if (result.error) {\n                            throw new StripeError(result.error);\n                        }\n                        paymentMethodId = result.paymentMethod.id;\n                    }\n                }\n                return ensureSuccessResponse(emitResponse.responseTypes, getSuccessResponse(paymentMethodId, shouldSavePayment));\n            } catch (e) {\n                console.log(e);\n                setPaymentMethod(null);\n                return ensureErrorResponse(\n                    emitResponse.responseTypes,\n                    e.error,\n                    {\n                        messageContext: emitResponse.noticeContexts.PAYMENTS\n                    }\n                );\n            }\n\n        });\n        return () => unsubscribeProcessingPayment();\n    }, [\n        paymentMethod,\n        billingAddress,\n        onPaymentSetup,\n        stripe,\n        setupIntent,\n        activePaymentMethod,\n        shouldSavePayment\n    ]);\n    return {\n        setPaymentMethod,\n        getCreatePaymentMethodArgs,\n        addPaymentMethodData\n    };\n}","import {useEffect, useState, useCallback} from '@wordpress/element';\nimport apiFetch from \"@wordpress/api-fetch\";\nimport {\n    getSettings,\n    getRoute,\n    cartContainsPreOrder,\n    cartContainsSubscription,\n    getFromCache,\n    storeInCache,\n    deleteFromCache\n} from '../util';\n\nexport const useSetupIntent = (\n    {\n        cartTotal,\n        setError\n    }) => {\n    const [setupIntent, setSetupIntent] = useState(getFromCache('setupIntent'));\n\n    useEffect(() => {\n        const createSetupIntent = async () => {\n            if (setupIntent) {\n                return;\n            }\n            // only create intent under certain conditions\n            let result = await apiFetch({\n                url: getRoute('create/setup_intent'),\n                method: 'POST'\n            });\n            if (result.code) {\n                setError(result.message);\n            } else {\n                storeInCache('setupIntent', result.intent);\n                setSetupIntent(result.intent);\n            }\n        }\n        if (cartContainsPreOrder() || (cartContainsSubscription() && cartTotal.value == 0)) {\n            if (!setupIntent) {\n                createSetupIntent();\n            }\n        } else {\n            setSetupIntent(null);\n        }\n    }, [cartTotal.value]);\n    const removeSetupIntent = useCallback(() => {\n        deleteFromCache('setupIntent');\n    }, [cartTotal.value]);\n    return {setupIntent, removeSetupIntent};\n}","import {useState} from '@wordpress/element'\n\nexport const useStripeError = () => {\n    const [error, setError] = useState(false);\n    return [error, setError];\n}","import {Elements, PaymentElement} from \"@stripe/react-stripe-js\";\nimport {useSelect} from '@wordpress/data';\nimport {CART_STORE_KEY} from '@woocommerce/block-data';\nimport {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\nimport {useLinkIcon, useLink} from \"./hooks\";\nimport {getSettings, initStripe} from \"../util\";\nimport ErrorBoundary from \"./error-boundary\";\n\nconst getData = getSettings('stripe_link_checkout_data');\n\nexport default function Block() {\n    const cart = useSelect(select => {\n        const store = select(CART_STORE_KEY);\n        const data = store.getCartData();\n        return data;\n    })\n    let options = {\n        mode: 'payment',\n        paymentMethodCreation: 'manual',\n        amount: parseInt(cart.totals.total_price),\n        currency: cart.totals.currency_code.toLowerCase(),\n        payment_method_types: ['card', 'link']\n    }\n    if (parseInt(cart.totals.total_price) === 0) {\n        options = {\n            mode: 'setup',\n            currency: cart.totals.currency_code.toLowerCase(),\n        }\n    }\n    return (\n        <ErrorBoundary>\n            <Elements stripe={initStripe} options={options}>\n                <LinkComponent cart={cart}/>\n            </Elements>\n        </ErrorBoundary>\n    )\n}\n\nconst LinkComponent = ({cart}) => {\n    const {billingAddress} = cart;\n    const {email} = billingAddress;\n    const linkIcon = getData('linkIcon');\n    const popupEnabled = getData('popupEnabled');\n\n    if (popupEnabled) {\n        useLink({\n            email\n        });\n    }\n\n    useLinkIcon({enabled: linkIcon, icon: linkIcon});\n\n    const options = {\n        fields: {\n            billingDetails: {address: 'never'}\n        },\n        wallets: {applePay: 'never', googlePay: 'never'}\n    };\n\n    return (\n        <div style={{display: 'none'}}>\n            <PaymentElement options={options}/>\n        </div>\n    );\n}\n\nregisterExpressPaymentMethod({\n    name: getData('name'),\n    canMakePayment: (props) => {\n        return false;\n    },\n    content: <LinkComponent/>,\n    edit: <LinkComponent/>,\n    supports: {\n        showSavedCards: getData('showSavedCards'),\n        showSaveOption: getData('showSaveOption'),\n        features: getData('features')\n    }\n})","import {Component} from '@wordpress/element';\n\nclass ErrorBoundary extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {hasError: false};\n    }\n\n    static getDerivedStateFromError(error) {\n        return {hasError: true};\n    }\n\n    render() {\n        if (this.state.hasError) {\n            // silently fail\n            return null;\n        }\n        return this.props.children;\n    }\n}\n\nexport default ErrorBoundary;","export * from './use-link';\nexport * from './use-link-icon';","import {useEffect} from '@wordpress/element';\n\nexport const useLinkIcon = ({enabled, email, icon}) => {\n    useEffect(() => {\n        if (enabled) {\n            let el = document.getElementById('email');\n            if (el) {\n                if (!el.classList.contains('stripe-link-icon-container')) {\n                    removeElement('.wc-stripe-link-icon');\n                    el.classList.add('stripe-link-icon-container');\n                    const iconEl = document.createElement('template');\n                    iconEl.innerHTML = icon;\n                    el.parentElement.append(iconEl.content.firstChild);\n                }\n            } else {\n\n            }\n        }\n    });\n}\n\nconst removeElement = (className) => {\n    const el = document.querySelector(className);\n    if (el) {\n        el.remove();\n    }\n}","import {useEffect, useState, useRef} from '@wordpress/element';\nimport {useStripe, useElements} from \"@stripe/react-stripe-js\";\nimport {useSelect, useDispatch} from '@wordpress/data';\nimport {CART_STORE_KEY, PAYMENT_STORE_KEY, CHECKOUT_STORE_KEY} from '@woocommerce/block-data';\nimport {\n    toCartAddress as mapToCartAddress,\n    DEFAULT_BILLING_ADDRESS,\n    DEFAULT_SHIPPING_ADDRESS, getSettings, getErrorMessage\n} from '../../util';\n\nconst toCartAddress = mapToCartAddress();\nconst getData = getSettings('stripe_link_checkout_data');\n\nexport const useLink = (\n    {\n        email,\n    }) => {\n    const [link, setLink] = useState();\n    const stripe = useStripe();\n    const elements = useElements();\n    const currentData = useRef({email, oldEmail: email, isProcessing: false});\n    const launchLink = getData('launchLink');\n\n    const {\n        __internalSetActivePaymentMethod: setActivePaymentMethod,\n        __internalSetPaymentMethodData: setPaymentMethodData,\n        __internalSetExpressPaymentError: setExpressPaymentError,\n        __internalSetExpressPaymentStarted\n    } = useDispatch(PAYMENT_STORE_KEY);\n\n    const {\n        __internalSetBeforeProcessing: onSubmit\n    } = useDispatch(CHECKOUT_STORE_KEY);\n\n    const {\n        setBillingAddress,\n        setShippingAddress\n    } = useDispatch(CART_STORE_KEY);\n\n    const paymentStatus = useSelect(select => {\n        const store = select(PAYMENT_STORE_KEY);\n        return {\n            isProcessing: store.isPaymentProcessing()\n        }\n    });\n\n    useEffect(() => {\n        if (stripe && elements && !link) {\n            setLink(stripe.linkAutofillModal(elements));\n        }\n    }, [\n        stripe,\n        elements,\n        link\n    ]);\n\n    useEffect(() => {\n        if (link && launchLink) {\n            const {email} = currentData.current;\n            link.launch({email});\n        }\n    }, [link]);\n\n    useEffect(() => {\n        const {oldEmail = '', isProcessing = false} = currentData.current;\n        if (link && oldEmail !== email && !isProcessing) {\n            link.launch({email});\n            currentData.current.oldEmail = email;\n        }\n\n    }, [\n        link,\n        email\n    ]);\n\n    useEffect(() => {\n        currentData.current.email = email;\n        currentData.current.isProcessing = paymentStatus.isProcessing;\n    }, [email, paymentStatus.isProcessing]);\n\n    useEffect(() => {\n        if (link) {\n            link.on('autofill', async event => {\n                currentData.current.event = event;\n                const {billingAddress = null, shippingAddress = null} = event.value;\n                //const billing_details = getBillingDetailsFromAddress(billingAddress);\n                try {\n                    await elements.submit();\n                    const result = await stripe.createPaymentMethod({\n                        elements,\n                        params: {\n                            billing_details: billingAddress\n                        }\n                    });\n                    if (result.error) {\n                        throw result.error;\n                    }\n\n                    if (billingAddress) {\n                        setBillingAddress({\n                            ...DEFAULT_BILLING_ADDRESS,\n                            ...toCartAddress({...billingAddress.address, recipient: billingAddress.name}),\n                            email: currentData.current.email\n                        });\n                    }\n                    if (shippingAddress) {\n                        setShippingAddress({\n                            ...DEFAULT_SHIPPING_ADDRESS,\n                            ...toCartAddress({...shippingAddress.address, recipient: shippingAddress.name})\n                        });\n                    }\n\n                    setPaymentMethodData({\n                        stripe_cc_token_key: result.paymentMethod.id,\n                        stripe_cc_save_source_key: false,\n                    });\n                    onSubmit();\n                } catch (error) {\n                    // set express error\n                    console.log(error);\n                    setExpressPaymentError(error.message);\n                }\n            });\n            link.on('authenticated', event => {\n                __internalSetExpressPaymentStarted();\n                setActivePaymentMethod(getData('name'));\n            })\n        }\n    }, [\n        link,\n        stripe,\n        elements,\n        onSubmit,\n        setBillingAddress,\n        setShippingAddress,\n        setPaymentMethodData,\n        setActivePaymentMethod,\n        setExpressPaymentError,\n        __internalSetExpressPaymentStarted\n    ]);\n}","import {registerCheckoutBlock} from '@woocommerce/blocks-checkout';\n\nimport metadata from './block.json';\nimport Block from './block';\n\nregisterCheckoutBlock({\n    metadata,\n    component: Block\n})\n","import {useState, useEffect} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, initStripe, isCartPage} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethod, OffsiteNotice, PaymentMethodLabel} from \"../../components/checkout\";\nimport {AffirmMessageElement, Elements} from \"@stripe/react-stripe-js\";\nimport {registerPlugin} from '@wordpress/plugins';\nimport {ExperimentalOrderMeta, TotalsWrapper} from '@woocommerce/blocks-checkout';\n\nconst getData = getSettings('stripe_affirm_data');\n\nconst isAvailable = ({amount, billingCountry = null, currency}) => {\n    const requirements = getData('requirements');\n    const accountCountry = getData('accountCountry');\n\n    if (!billingCountry) {\n        return currency in requirements\n            && 5000 <= amount && amount <= 3000000;\n    }\n\n    return currency in requirements\n        && accountCountry === billingCountry\n        && 5000 <= amount && amount <= 3000000;\n}\n\nconst dispatchAffirmChange = (options) => {\n    document.dispatchEvent(new CustomEvent('stripeAffirmChange', {\n        detail: {options}\n    }));\n}\n\nconst AffirmPaymentMethod = (props) => {\n    return (\n        <>\n            <LocalPaymentIntentContent {...props}/>\n            <OffsiteNotice paymentText={getData('title')} buttonText={getData('placeOrderButtonLabel')}/>\n        </>\n    )\n}\n\nconst AffirmPaymentMethodLabel = ({title, components, ...props}) => {\n    const {PaymentMethodLabel: Label} = components;\n    const [options, setOptions] = useState({\n        amount: getData('cartTotals')?.value,\n        currency: getData('currency'),\n        ...getData('messageOptions')\n    });\n    useEffect(() => {\n        const updateOptions = (e) => {\n            setOptions(e.detail.options);\n        }\n        document.addEventListener('stripeAffirmChange', updateOptions);\n\n        return () => document.removeEventListener('stripeAffirmChange', updateOptions);\n    }, []);\n\n    if (!getData('paymentSections').includes('checkout')) {\n        return (\n            <PaymentMethodLabel\n                paymentMethod={props.paymentMethod}\n                title={title}\n                icons={props.icons}\n                components={components}/>\n        )\n    }\n\n    return (\n        <div className={'wc-stripe-label-container'}>\n            <Label text={title}/>\n            <div className={'wc-stripe-affirm-message-container'}>\n                <Elements stripe={initStripe} options={getData('elementOptions')}>\n                    <AffirmMessageElement options={options}/>\n                </Elements>\n            </div>\n        </div>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <AffirmPaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Affirm',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: ({cart}) => {\n            const {cartTotals, billingAddress} = cart;\n            const {currency_code} = cartTotals;\n            const amount = parseInt(cartTotals.total_price);\n            const requirements = getData('requirements');\n            const accountCountry = getData('accountCountry');\n            dispatchAffirmChange({\n                amount: amount,\n                currency: currency_code\n            });\n            return isAvailable({amount, billingCountry: billingAddress.country, currency: currency_code});\n        },\n        content: <PaymentMethod\n            content={AffirmPaymentMethod}\n            getData={getData}\n            confirmationMethod={'confirmAffirmPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n\nif (isCartPage() && getData('cartEnabled')) {\n    const AffirmCartMessage = ({cart}) => {\n        const {cartTotals} = cart;\n        const options = {\n            amount: parseInt(cartTotals.total_price),\n            currency: cartTotals.currency_code,\n            ...getData('cartMessageOptions')\n        };\n        if (isAvailable({amount: parseInt(cartTotals.total_price), currency: cartTotals.currency_code})) {\n            return (\n                <TotalsWrapper>\n                    <div className={'wc-block-components-totals-item wc-stripe-cart-message-container stripe_affirm'}>\n                        <AffirmMessageElement options={options}/>\n                    </div>\n                </TotalsWrapper>\n            )\n        }\n        return null;\n    }\n    const render = () => {\n        const Component = (props) => {\n            return (\n                <Elements stripe={initStripe} options={getData('elementOptions')}>\n                    <AffirmCartMessage {...props}/>\n                </Elements>\n            )\n        }\n        return (\n            <ExperimentalOrderMeta>\n                <Component/>\n            </ExperimentalOrderMeta>\n        )\n    }\n    registerPlugin('wc-stripe-blocks-affirm', {render, scope: 'woocommerce-checkout'});\n}","import {useState, useEffect} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, initStripe, isCartPage} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {OffsiteNotice, PaymentMethod, PaymentMethodLabel} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {AfterpayClearpayMessageElement, Elements} from \"@stripe/react-stripe-js\";\nimport {__} from '@wordpress/i18n';\nimport {registerPlugin} from '@wordpress/plugins';\nimport {ExperimentalOrderMeta, TotalsWrapper} from '@woocommerce/blocks-checkout';\n\nconst getData = getSettings('stripe_afterpay_data');\n\nconst dispatchAfterpayChange = (options) => {\n    document.dispatchEvent(new CustomEvent('stripeAfterpayChange', {\n        detail: {\n            options\n        }\n    }))\n}\n\nconst isAvailable = ({total, currency, country}) => {\n    let available = false;\n    const billingCountry = country;\n    const requiredParams = getData('requiredParams');\n    const accountCountry = getData('accountCountry');\n    const requiredParamObj = requiredParams.hasOwnProperty(currency) ? requiredParams[currency] : false;\n    if (requiredParamObj) {\n        let countries = requiredParamObj?.[0];\n        if (!Array.isArray(countries)) {\n            countries = [countries];\n        }\n        available = countries.indexOf(accountCountry) > -1\n            && (currency !== 'EUR' || !billingCountry || accountCountry === billingCountry)\n            && (total > requiredParamObj?.[1] && total < requiredParamObj?.[2]);\n    }\n    return available;\n}\n\nconst AfterpayPaymentMethodLabel = ({title, getData, ...props}) => {\n    const {PaymentMethodLabel: Label} = props.components;\n    const [options, setOptions] = useState({\n        amount: getData('cartTotal'),\n        currency: getData('currency'),\n        isCartEligible: true\n    });\n    useEffect(() => {\n        const updateOptions = e => setOptions(e.detail.options);\n        document.addEventListener('stripeAfterpayChange', updateOptions);\n        return () => document.removeEventListener('stripeAfterpayChange', updateOptions);\n    }, []);\n\n    if (!getData('paymentSections').includes('checkout')) {\n        return (\n            <PaymentMethodLabel\n                paymentMethod={props.paymentMethod}\n                title={title}\n                icons={props.icons}\n                components={props.components}/>\n        )\n    }\n\n    return (\n        <div className={'wc-stripe-label-container'}>\n            <Label text={title}/>\n            <div className={'wc-stripe-afterpay-message-container'}>\n                <Elements stripe={initStripe} options={getData('elementOptions')}>\n                    <div className='wc-stripe-blocks-afterpay__label'>\n                        <AfterpayClearpayMessageElement options={{\n                            ...getData('checkoutMessageOptions'),\n                            ...options\n                        }}/>\n                    </div>\n                </Elements>\n            </div>\n        </div>\n    )\n}\n\nconst AfterpayPaymentMethod = ({content, billing, shippingData, ...props}) => {\n    const Content = content;\n    const {cartTotal, currency, billingAddress: {country}} = billing;\n    const total = parseInt(cartTotal.value) / 10 ** currency.minorUnit;\n    return (\n        <>\n            <div className='wc-stripe-blocks-payment-method-content'>\n                <div className=\"wc-stripe-blocks-afterpay-offsite__container\">\n                    <OffsiteNotice paymentText={getData('title')} buttonText={getData('placeOrderButtonLabel')}/>\n                </div>\n                <Content {...{...props, billing, shippingData}}/>\n            </div>\n        </>\n    );\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <AfterpayPaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}\n            getData={getData}/>,\n        ariaLabel: __('Afterpay', 'woo-stripe-payment'),\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData, ({settings, cartTotals, billingAddress}) => {\n            const {currency_code: currency, currency_minor_unit, total_price} = cartTotals;\n            const {country} = billingAddress;\n            const total = parseInt(total_price) / (10 ** currency_minor_unit);\n            const available = isAvailable({total, currency, country});\n            dispatchAfterpayChange({\n                amount: parseInt(cartTotals.total_price),\n                currency,\n                isCartEligible: available\n            });\n            if (!available && !settings('hideIneligible')) {\n                return true;\n            }\n            return available;\n        }),\n        content: <AfterpayPaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmAfterpayClearpayPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    });\n}\n\nif (isCartPage() && getData('cartEnabled')) {\n\n    const AfterpayCartMessage = ({cart}) => {\n        const {billingAddress} = cart;\n        const {currency_code: currency, currency_minor_unit, total_price} = cart.cartTotals;\n        const {country} = billingAddress;\n        const total = parseInt(total_price) / (10 ** currency_minor_unit);\n        const available = isAvailable({total, currency, country});\n        if (available) {\n            return (\n                <TotalsWrapper>\n                    <div className={'wc-block-components-totals-item wc-stripe-cart-message-container stripe_afterpay'}>\n                        <AfterpayClearpayMessageElement options={{\n                            ...getData('cartMessageOptions'),\n                            ...{amount: parseInt(total_price), currency, isCartEligible: true}\n                        }}/>\n                    </div>\n                </TotalsWrapper>\n            )\n        }\n    }\n\n    const render = (props) => {\n        const Component = (props) => (\n            <Elements stripe={initStripe} options={getData('elementOptions')}>\n                <AfterpayCartMessage {...props}/>\n            </Elements>\n        );\n        return (\n            <ExperimentalOrderMeta>\n                <Component/>\n            </ExperimentalOrderMeta>\n        )\n    }\n    registerPlugin('wc-stripe-blocks-afterpay', {render, scope: 'woocommerce-checkout'});\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {canMakePayment, LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel} from \"../../components/checkout/payment-method-label\";\nimport {PaymentMethod} from \"../../components/checkout\";\n\nconst getData = getSettings('stripe_alipay_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Alipay',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            confirmationMethod={'confirmAlipayPayment'}\n            getData={getData}/>,\n        edit: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\n\nconst getData = getSettings('stripe_bancontact_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Bancontact',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            confirmationMethod={'confirmBancontactPayment'}\n            getData={getData}/>,\n        edit: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {AuBankAccountElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_becs_data');\n\nconst BecsPaymentMethod = (props) => {\n    return (\n        <>\n            <PaymentMethod {...props} />\n            <div className={'wc-stripe-blocks-mandate becs-mandate'}\n                 dangerouslySetInnerHTML={{__html: props.getData('mandate')}}/>\n        </>\n    );\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'BECS',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <BecsPaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmAuBecsDebitPayment'}\n            component={AuBankAccountElement}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {useState, useEffect, useRef} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {sprintf, __} from '@wordpress/i18n';\nimport {\n    ensureErrorResponse,\n    ensureSuccessResponse,\n    getBillingDetailsFromAddress,\n    getSettings, initStripe as loadStripe,\n    isNextActionRequired,\n    StripeError\n} from \"../../util\";\nimport {PaymentMethod, PaymentMethodLabel} from \"../../../components/checkout\";\nimport {canMakePayment} from \"../local-payment-method\";\nimport {Elements, useStripe} from \"@stripe/react-stripe-js\";\nimport InputCodes from \"./input-codes\";\nimport Timer from './timer';\n\nconst getData = getSettings('stripe_blik_data');\n\nconst BLIKPaymentMethod = (props) => {\n    return (\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\n            <PaymentMethodContent {...props}/>\n        </Elements>\n    )\n}\n\nconst PaymentMethodContent = (props) => {\n    const currentData = useRef();\n    const [showTimer, setShowTimer] = useState(false);\n    const {eventRegistration, billing, activePaymentMethod} = props;\n    const {emitResponse} = props;\n    const {\n        onPaymentSetup,\n        onCheckoutSuccess,\n        onCheckoutValidationBeforeProcessing\n    } = eventRegistration;\n    const [codes, setCodes] = useState([]);\n    const stripe = useStripe();\n\n    useEffect(() => {\n        currentData.current = {codes, billing, activePaymentMethod};\n    }, [\n        codes,\n        billing,\n        activePaymentMethod\n    ]);\n\n    const formatCodes = () => {\n        const response = currentData.current.codes.reduce((carry, code, idx) => {\n            return {...carry, [`blik_code_${idx}`]: code}\n        }, {});\n        return response;\n    }\n\n    useEffect(() => {\n        const unsubscribe = onPaymentSetup(() => {\n            const {activePaymentMethod} = currentData.current;\n            if (getData('name') === activePaymentMethod) {\n                return ensureSuccessResponse(\n                    emitResponse.responseTypes,\n                    {\n                        meta: {\n                            paymentMethodData: {\n                                ...formatCodes()\n                            }\n                        }\n                    });\n            }\n        });\n        return unsubscribe;\n    }, [\n        onPaymentSetup\n    ])\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutValidationBeforeProcessing(() => {\n            const {activePaymentMethod} = currentData.current;\n            if (getData('name') === activePaymentMethod) {\n                if (codes.length < 6) {\n                    return ensureErrorResponse(\n                        emitResponse.responseTypes,\n                        __('Please enter your 6-digit BLIK code.', 'woo-stripe-payment'),\n                        {\n                            messageContext: emitResponse.noticeContexts.PAYMENTS\n                        }\n                    );\n                }\n            }\n        });\n        return unsubscribe;\n    }, [\n        codes,\n        onCheckoutValidationBeforeProcessing\n    ]);\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutSuccess((async ({redirectUrl}) => {\n            const {activePaymentMethod} = currentData.current;\n            if (getData('name') === activePaymentMethod) {\n                const {billingAddress} = currentData.current.billing;\n                try {\n                    const args = isNextActionRequired(redirectUrl);\n                    if (args) {\n                        let {client_secret, return_url, ...order} = args;\n                        setShowTimer(true)\n                        let result = await stripe.confirmBlikPayment(client_secret, {\n                            payment_method: {\n                                billing_details: getBillingDetailsFromAddress(billingAddress),\n                                blik: {}\n                            },\n                            payment_method_options: {\n                                blik: {\n                                    code: codes.join('')\n                                }\n                            },\n                            return_url\n                        });\n                        if (result.error) {\n                            throw new StripeError(result.error);\n                        }\n                        if (result.paymentIntent.status === 'requires_payment_method') {\n                            throw new StripeError(result.paymentIntent.last_payment_error);\n                        }\n                        window.location = decodeURI(order.order_received_url);\n                    }\n                } catch (error) {\n                    return ensureErrorResponse(\n                        emitResponse.responseTypes,\n                        error,\n                        {\n                            messageContext: emitResponse.noticeContexts.PAYMENTS\n                        }\n                    );\n                } finally {\n                    setShowTimer(false);\n                }\n            }\n        }));\n        return unsubscribe;\n    }, [\n        codes,\n        stripe,\n        onCheckoutSuccess\n    ])\n\n    return (\n        <>\n            <Instructions/>\n            {!showTimer && <InputCodes onComplete={codes => setCodes(codes)}/>}\n            {showTimer && <Timer onTimeout={() => setShowTimer(false)}/>}\n        </>\n    )\n}\n\nconst Instructions = () => {\n    return (\n        <ol>\n            <li>{__('Request your 6-digit code from your banking application.', 'woo-stripe-payment')}</li>\n            <li dangerouslySetInnerHTML={{__html: sprintf(__('Enter the code into the input fields below. Click %1$s once you have entered the code.', 'woo-stripe-payment'), '<b>' + getData('placeOrderButtonLabel') + '</b>')}}/>\n            <li>{__('You will receive a notification on your mobile device asking you to authorize the payment.', 'woo-stripe-payment')}</li>\n        </ol>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'BLIK',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod content={BLIKPaymentMethod} getData={getData}/>,\n        edit: <PaymentMethod content={BLIKPaymentMethod} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","export * from './blik';","import {useState, useCallback, useRef} from '@wordpress/element';\nimport {__} from '@wordpress/i18n';\n\nexport const InputCodes = ({onComplete}) => {\n    const keyCode = useRef();\n    const refs = useRef([]);\n    const setRef = useCallback(idx => node => {\n        if (node) {\n            if (idx === 0) {\n                refs.current = [];\n            }\n            refs.current = [...refs.current, node];\n            if (idx === 0) {\n                node.focus();\n            }\n        }\n    }, []);\n    const onInput = idx => e => {\n        let next = idx;\n        if (keyCode.current === 8) {\n            if (idx > 0) {\n                next = idx - 1;\n            }\n        } else if (idx < 5) {\n            next = idx + 1;\n        }\n        if (refs.current[next]) {\n            refs.current[next].focus();\n        }\n    }\n\n    const onKeyDown = idx => e => {\n        keyCode.current = e.keyCode;\n        const value = refs.current[idx].value.length;\n        if (e.keyCode === 8) {\n            if (!value) {\n                onInput(idx)();\n            }\n        } else if (value) {\n            onInput(idx)();\n        }\n    }\n\n    const onChange = value => {\n        let codes = [];\n        for (const el of refs.current) {\n            if (el.value?.length) {\n                codes.push(el.value);\n            }\n        }\n        if (codes.length === 6) {\n            onComplete(codes);\n        }\n    }\n\n    return (\n        <div className={'wc-stripe-blik-codes-container'}>\n            <p>\n                {__('Please enter your 6 digit BLIK code.', 'woo-stripe-payment')}\n            </p>\n            <div className={'wc-stripe-blik-codes'}>\n                {[...Array(6).keys()].map(idx => {\n                    return <InputCode\n                        setRef={setRef(idx)}\n                        key={idx}\n                        idx={idx}\n                        onInput={onInput(idx)}\n                        onKeyDown={onKeyDown(idx)}\n                        onChange={onChange}\n                    />\n                })}\n            </div>\n        </div>\n    )\n}\n\nconst InputCode = (\n    {\n        setRef,\n        onInput,\n        onChange,\n        onKeyDown,\n    }) => {\n    return (\n        <span>\n            <input\n                ref={setRef}\n                type={'text'}\n                maxLength={1}\n                onKeyDown={onKeyDown}\n                onInput={onInput}\n                onChange={e => onChange(e.currentTarget.value)}/>\n        </span>\n    )\n}\n\nexport default InputCodes;","import {useState, useEffect} from '@wordpress/element';\nimport {__} from '@wordpress/i18n';\n\nexport const Timer = ({onTimeout}) => {\n    const [count, setCount] = useState(60);\n    useEffect(() => {\n        let count = 60;\n        const id = setInterval(() => {\n            if (count === 0) {\n                onTimeout();\n                return clearInterval(id);\n            }\n            count -= 1;\n            setCount(count);\n        }, 1000);\n        return () => clearInterval(id);\n    }, [onTimeout])\n\n    return (\n        <div className='wc-stripe-blik-timer-container'>\n            <div>\n                <p>{__('Your transaction will expire in:', 'woo-stripe-payment')}&nbsp;</p>\n                <div className={'wc-stripe-blik-timer'}>\n                    <span className={'timer'}>{count}s</span>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Timer;","import {useState, useEffect, useCallback} from '@wordpress/element';\nimport {__} from '@wordpress/i18n';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport classnames from 'classnames';\nimport {ensureErrorResponse, ensureSuccessResponse, getSettings, isTestMode} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\n\nconst getData = getSettings('stripe_boleto_data');\n\nconst BoletoPaymentMethodContainer = ({eventRegistration, ...props}) => {\n    const [taxId, setTaxId] = useState('');\n    const [isActive, setIsActive] = useState(false);\n    const {onPaymentSetup} = eventRegistration;\n    const callback = useCallback(() => {\n        return {\n            boleto: {\n                tax_id: taxId\n            }\n        };\n    }, [taxId]);\n\n    useEffect(() => {\n        const unsubscribe = onPaymentSetup(() => {\n            if (!taxId) {\n                return ensureErrorResponse(\n                    props.emitResponse.responseTypes,\n                    __('Please enter a valid CPF/CNPJ value', 'woo-stripe-payment'),\n                    {\n                        messageContext: props.emitResponse.noticeContexts.PAYMENTS\n                    }\n                );\n            }\n            return ensureSuccessResponse(props.emitResponse.responseTypes, {\n                meta: {\n                    paymentMethodData: {\n                        wc_stripe_boleto_tax_id: taxId\n                    }\n                }\n            });\n        })\n        return () => unsubscribe();\n    }, [onPaymentSetup, taxId]);\n    return (\n        <>\n            <div className={classnames('wc-block-components-text-input', {\n                'is-active': isActive || taxId\n            })}>\n                <input\n                    type='text'\n                    id='wc-stripe-boleto-tax_id'\n                    onChange={e => setTaxId(e.target.value)}\n                    onFocus={() => setIsActive(true)}\n                    onBlur={() => setIsActive(false)}/>\n                <label htmlFor='wc-stripe-boleto-tax_id'>{__(' CPF / CNPJ', ' woo-stripe-payment')}</label>\n            </div>\n            {isTestMode() &&\n                <div className='wc-stripe-boleto__description'>\n                    <p>{__('Test mode values', 'woo-stripe-payment')}</p>\n                    <div>\n                        <label>CPF:</label>&nbsp;<span>000.000.000-00</span>\n                    </div>\n                    <div>\n                        <label>CNPJ:</label>&nbsp;<span>00.000.000/0000-00</span>\n                    </div>\n                </div>}\n            {!isTestMode() &&\n                <div className=\"wc-stripe-boleto__description\">\n                    <p>{__('Accepted formats', 'woo-stripe-payment')}</p>\n                    <div>\n                        <label>CPF:</label>&nbsp;\n                        <span>{__('XXX.XXX.XXX-XX or XXXXXXXXXXX', 'woo-stripe-payment')}</span>\n                    </div>\n                    <div>\n                        <label>CNPJ:</label>&nbsp;\n                        <span>{__('XX.XXX.XXX/XXXX-XX or XXXXXXXXXXXXXX', 'woo-stripe-payment')}</span>\n                    </div>\n                </div>}\n            <LocalPaymentIntentContent callback={callback} {...{...props, ...{eventRegistration}}}/>\n        </>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Boleto',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={BoletoPaymentMethodContainer}\n            getData={getData}\n            confirmationMethod={'confirmBoletoPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {canMakePayment, LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {EpsBankElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_eps_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'EPS',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            confirmationMethod={'confirmEpsPayment'}\n            component={EpsBankElement}\n            getData={getData}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {FpxBankElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_fpx_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'FPX',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmFpxPayment'}\n            component={FpxBankElement}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\n\nconst getData = getSettings('stripe_giropay_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Giropay',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            confirmationMethod={'confirmGiropayPayment'}\n            getData={getData}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\n\nconst getData = getSettings('stripe_grabpay_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'GrabPay',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmGrabPayPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","export * from './use-after-process-local-payment';\nexport * from './use-validate-checkout';\nexport * from './use-create-source';","import {useEffect, useRef} from '@wordpress/element';\nimport {useStripe} from \"@stripe/react-stripe-js\";\nimport {__} from '@wordpress/i18n';\nimport {ensureErrorResponse, StripeError} from \"../../util\";\n\nexport const useAfterProcessLocalPayment = (\n    {\n        getData,\n        billingAddress,\n        eventRegistration,\n        emitResponse,\n        activePaymentMethod,\n        confirmationMethod,\n        getPaymentMethodArgs = () => ({})\n    }\n) => {\n    const stripe = useStripe();\n    const {onCheckoutSuccess, onCheckoutFail} = eventRegistration;\n    const currentBillingAddress = useRef(billingAddress);\n    const currentPaymentMethodArgs = useRef(getPaymentMethodArgs);\n    useEffect(() => {\n        currentBillingAddress.current = billingAddress;\n    }, [billingAddress]);\n\n    useEffect(() => {\n        currentPaymentMethodArgs.current = getPaymentMethodArgs;\n    }, [getPaymentMethodArgs]);\n\n    useEffect(() => {\n        const unsubscribeAfterProcessingWithSuccess = onCheckoutSuccess(async ({redirectUrl}) => {\n            if (getData('name') === activePaymentMethod) {\n                try {\n                    let match = redirectUrl.match(/#response=(.+)/);\n                    if (match) {\n                        let {client_secret, return_url, billing_details, confirmation_args = {}, ...order} = JSON.parse(window.atob(decodeURIComponent(match[1])));\n                        let result = await stripe[confirmationMethod](client_secret, {\n                            payment_method: {\n                                billing_details,\n                                ...currentPaymentMethodArgs.current(currentBillingAddress.current)\n                            },\n                            return_url,\n                            ...confirmation_args\n                        });\n                        if (result.error) {\n                            throw new StripeError(result.error);\n                        }\n                        if (result.paymentIntent.status === 'requires_action') {\n                            if (activePaymentMethod === 'stripe_wechat') {\n                                return ensureErrorResponse(\n                                    emitResponse.responseTypes,\n                                    __('Payment has been cancelled.', 'woo-stripe-payment'),\n                                    {\n                                        messageContext: emitResponse.noticeContexts.PAYMENTS\n                                    }\n                                );\n                            }\n                            window.location = decodeURI(order.order_received_url);\n                        }\n                        window.location = decodeURI(order.order_received_url);\n                    }\n                } catch (e) {\n                    console.log(e);\n                    return ensureErrorResponse(\n                        emitResponse.responseTypes,\n                        e.error,\n                        {\n                            messageContext: emitResponse.noticeContexts.PAYMENTS\n                        }\n                    );\n                }\n            }\n        })\n        return () => unsubscribeAfterProcessingWithSuccess();\n    }, [\n        stripe,\n        onCheckoutSuccess,\n        onCheckoutFail,\n        activePaymentMethod\n    ]);\n}","import {useState, useEffect, useRef, useCallback} from '@wordpress/element';\nimport {\n    getDefaultSourceArgs,\n    ensureSuccessResponse,\n    ensureErrorResponse,\n    StripeError\n} from \"../../util\";\nimport {useStripe, useElements} from \"@stripe/react-stripe-js\";\nimport {__} from '@wordpress/i18n';\n\nexport const useCreateSource = (\n    {\n        getData,\n        billing,\n        shippingAddress,\n        onPaymentSetup,\n        emitResponse,\n        getSourceArgs = false,\n        element = false\n    }) => {\n    const [source, setSource] = useState(false);\n    const [isValid, setIsValid] = useState(false);\n    const currentValues = useRef({\n        billing,\n        shippingAddress,\n    });\n    const stripe = useStripe();\n    const elements = useElements();\n    useEffect(() => {\n        currentValues.current = {\n            billing,\n            shippingAddress\n        }\n    });\n\n    const getSourceArgsInternal = useCallback(() => {\n        const {billing} = currentValues.current;\n        const {cartTotal, currency, billingAddress} = billing;\n        let args = getDefaultSourceArgs({\n            type: getData('paymentType'),\n            amount: cartTotal.value,\n            billingAddress,\n            currency: currency.code,\n            returnUrl: getData('returnUrl')\n        });\n        if (getSourceArgs) {\n            args = getSourceArgs(args, {billingAddress});\n        }\n        return args;\n    }, []);\n\n    const getSuccessData = useCallback((sourceId) => {\n        return {\n            meta: {\n                paymentMethodData: {\n                    [`${getData('name')}_token_key`]: sourceId\n                }\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        const unsubscribe = onPaymentSetup(async () => {\n            if (source) {\n                return ensureSuccessResponse(emitResponse.responseTypes, getSuccessData(source.id));\n            }\n            // create the source\n            try {\n                let result;\n                if (element) {\n                    // validate the element\n                    if (!isValid) {\n                        throw __('Please enter your payment info before proceeding.', 'woo-stripe-payment');\n                    }\n                    result = await stripe.createSource(elements.getElement(element), getSourceArgsInternal());\n                } else {\n                    result = await stripe.createSource(getSourceArgsInternal());\n                }\n                if (result.error) {\n                    throw new StripeError(result.error);\n                }\n                setSource(result.source);\n                return ensureSuccessResponse(emitResponse.responseTypes, getSuccessData(result.source.id));\n            } catch (err) {\n                console.log(err);\n                return ensureErrorResponse(\n                    emitResponse.responseTypes,\n                    err.error || err,\n                    {\n                        messageContext: emitResponse.noticeContexts.PAYMENTS\n                    }\n                );\n            }\n        });\n        return () => unsubscribe();\n    }, [\n        source,\n        onPaymentSetup,\n        stripe,\n        element,\n        isValid,\n        setIsValid\n    ]);\n    return {setIsValid};\n}","import {useEffect, useRef, useState} from '@wordpress/element';\nimport {ensureErrorResponse} from \"../../util\";\nimport {__} from \"@wordpress/i18n\";\n\nexport const useValidateCheckout = (\n    {\n        subscriber,\n        emitResponse,\n        component = null,\n        shouldSavePayment = false,\n        paymentMethodName = '',\n        msg = __('Please enter your payment info before proceeding.', 'woo-stripe-payment')\n    }) => {\n    const [isValid, setIsValid] = useState(false);\n    const currentData = useRef({});\n\n    useEffect(() => {\n        currentData.current = {shouldSavePayment, paymentMethodName};\n    }, [shouldSavePayment, paymentMethodName]);\n\n    useEffect(() => {\n        const unsubscribe = subscriber(() => {\n            const {shouldSavePayment, paymentMethodName} = currentData.current;\n            if (component && !isValid) {\n                return ensureErrorResponse(emitResponse.responseTypes, msg, {messageContext: emitResponse.noticeContexts.PAYMENTS});\n            }\n            return {\n                type: emitResponse.responseTypes.SUCCESS,\n                meta: {\n                    paymentMethodData: {\n                        [`${paymentMethodName}_save_source_key`]: shouldSavePayment\n                    }\n                }\n            };\n        });\n        return () => unsubscribe();\n    }, [\n        subscriber,\n        isValid,\n        setIsValid,\n        component\n    ]);\n    return {isValid, setIsValid};\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {IdealBankElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_ideal_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Ideal',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmIdealPayment'}\n            component={IdealBankElement}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import './klarna';\nimport './ideal';\nimport './p24';\nimport './bancontact';\nimport './giropay';\nimport './eps';\nimport './multibanco';\nimport './sepa';\nimport './sofort';\nimport './wechat';\nimport './fpx';\nimport './becs';\nimport './grabpay';\nimport './alipay'\nimport './afterpay';\nimport './boleto';\nimport './oxxo';\nimport './affirm';\nimport './blik';\nimport './konbini';\nimport './paynow';\nimport './promptpay';","import {useState, useEffect} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, initStripe, isCartPage} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {OffsiteNotice, PaymentMethod, PaymentMethodLabel} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {PaymentMethodMessagingElement, Elements} from \"@stripe/react-stripe-js\";\nimport {registerPlugin} from '@wordpress/plugins';\nimport {ExperimentalOrderMeta, TotalsWrapper} from '@woocommerce/blocks-checkout';\n\nconst getData = getSettings('stripe_klarna_data');\n\nconst dispatchKlarnaChange = (options) => {\n    document.dispatchEvent(new CustomEvent('stripeKlarnaChange', {\n        detail: {options}\n    }));\n}\n\nconst KlarnaPaymentMethod = (props) => {\n    return (\n        <>\n            <LocalPaymentIntentContent {...props}/>\n            <OffsiteNotice paymentText={getData('title')} buttonText={getData('placeOrderButtonLabel')}/>\n        </>\n    )\n}\n\nconst KlarnaPaymentMethodLabel = ({title, paymentMethod, icons, components}) => {\n    const {PaymentMethodLabel: Label} = components;\n    const [options, setOptions] = useState({\n        amount: getData('cartTotals')?.value,\n        currency: getData('currency'),\n        paymentMethodTypes: ['klarna'],\n        ...getData('messageOptions')\n    });\n\n    useEffect(() => {\n        const updateOptions = (e) => {\n            setOptions(e.detail.options);\n        }\n        document.addEventListener('stripeKlarnaChange', updateOptions);\n\n        return () => document.removeEventListener('stripeKlarnaChange', updateOptions);\n    }, []);\n\n    if (!getData('paymentSections').includes('checkout')) {\n        return (\n            <PaymentMethodLabel\n                paymentMethod={paymentMethod}\n                title={title}\n                icons={icons}\n                components={components}/>\n        )\n    }\n\n    return (\n        <div className={'wc-stripe-label-container'}>\n            <Label text={title}/>\n            <div className={'wc-stripe-klarna-message-container'}>\n                <Elements stripe={initStripe} options={getData('elementOptions')}>\n                    <PaymentMethodMessagingElement options={options}/>\n                </Elements>\n            </div>\n        </div>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <KlarnaPaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Klarna',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData, ({settings, billingAddress, cartTotals}) => {\n            const {country} = billingAddress;\n            const {currency_code: currency} = cartTotals;\n            const requiredParams = settings('requiredParams');\n            const amount = parseInt(cartTotals.total_price);\n            const {currency_code} = cartTotals;\n\n            dispatchKlarnaChange({\n                amount: amount,\n                currency: currency_code,\n                countryCode: country\n            });\n\n            return [currency] in requiredParams && requiredParams[currency].includes(country);\n        }),\n        content: <PaymentMethod\n            content={KlarnaPaymentMethod}\n            getData={getData}\n            confirmationMethod={'confirmKlarnaPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n\nif (isCartPage() && getData('cartEnabled')) {\n    const KlarnaCartMessage = ({cart}) => {\n        const {cartTotals} = cart;\n        const options = {\n            amount: parseInt(cartTotals.total_price),\n            currency: cartTotals.currency_code,\n            paymentMethodTypes: ['klarna'],\n            ...getData('messageOptions')\n        };\n\n        if (options.currency?.length) {\n            return (\n                <TotalsWrapper>\n                    <div className={'wc-block-components-totals-item wc-stripe-cart-message-container stripe_klarna'}>\n                        <PaymentMethodMessagingElement options={options}/>\n                    </div>\n                </TotalsWrapper>\n            )\n        }\n        return null;\n    }\n    const render = () => {\n        const Component = (props) => (\n            <Elements stripe={initStripe} options={getData('elementOptions')}>\n                <KlarnaCartMessage {...props}/>\n            </Elements>\n        );\n\n        return (\n            <ExperimentalOrderMeta>\n                <Component/>\n            </ExperimentalOrderMeta>\n        )\n    }\n    registerPlugin('wc-stripe-blocks-klarna', {render, scope: 'woocommerce-checkout'});\n}","import {useEffect, useRef} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {ensureErrorResponse, getBillingDetailsFromAddress, getSettings, initStripe as loadStripe, isNextActionRequired, StripeError} from \"../util\";\nimport {PaymentMethod, PaymentMethodLabel} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {Elements, useStripe} from \"@stripe/react-stripe-js\";\nimport {sprintf, __} from '@wordpress/i18n';\n\nconst getData = getSettings('stripe_konbini_data');\n\nconst KonbiniPaymentMethod = (props) => {\n    return (\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\n            <PaymentMethodContent {...props}/>\n        </Elements>\n    )\n}\n\nconst PaymentMethodContent = (props) => {\n    const {eventRegistration, billing, activePaymentMethod} = props;\n    const {emitResponse} = props;\n    const {\n        onCheckoutSuccess\n    } = eventRegistration;\n\n    const usePhoneAsConfirmation = useRef(true);\n    const currentData = useRef({billing, activePaymentMethod});\n    const stripe = useStripe();\n\n    useEffect(() => {\n        currentData.current = {billing, activePaymentMethod};\n    }, [\n        billing,\n        activePaymentMethod\n    ]);\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutSuccess(async ({redirectUrl}) => {\n            if (activePaymentMethod === getData('name')) {\n                const {billingAddress} = currentData.current.billing;\n                const usePhone = usePhoneAsConfirmation.current;\n                try {\n                    const args = isNextActionRequired(redirectUrl);\n                    if (args) {\n                        let {client_secret, return_url, ...order} = args;\n                        let result = await stripe.confirmKonbiniPayment(client_secret, {\n                            payment_method: {\n                                billing_details: getBillingDetailsFromAddress(billingAddress),\n                            },\n                            payment_method_options: {\n                                konbini: {\n                                    confirmation_number: usePhone ? order.billing_phone : order.confirmation_number\n                                }\n                            },\n                            return_url\n                        });\n                        if (result.error) {\n                            throw new StripeError(result.error);\n                        }\n                        window.location = decodeURI(order.order_received_url);\n                    }\n                } catch (error) {\n                    if (error?.error?.code === 'payment_intent_konbini_rejected_confirmation_number') {\n                        usePhoneAsConfirmation.current = false;\n                    }\n                    return ensureErrorResponse(\n                        emitResponse.responseTypes,\n                        error,\n                        {\n                            messageContext: emitResponse.noticeContexts.PAYMENTS\n                        }\n                    );\n                }\n            }\n        });\n        return unsubscribe;\n    }, [\n        stripe,\n        activePaymentMethod,\n        onCheckoutSuccess\n    ]);\n\n    return <Instructions/>\n}\n\nconst Instructions = () => {\n    return (\n        <ol>\n            <li dangerouslySetInnerHTML={{__html: sprintf(__('Click %1$s and you will be presented with your Konbini payment code and confirmation number.', 'woo-stripe-payment'), '<b>' + getData('placeOrderButtonLabel') + '</b>')}}/>\n            <li>\n                {sprintf(__('Your order email will contain a link to your Konbini voucher which has your payment code and confirmation number.', 'woo-stripe-payment'))}\n            </li>\n            <li>\n                {sprintf(__('At the convenience store, provide the payment code and confirmation number to the payment machine or cashier.', 'woo-stripe-payment'))}\n            </li>\n            <li>\n                {sprintf(__('After the payment is complete, keep the receipt for your records.', 'woo-stripe-payment'))}\n            </li>\n        </ol>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Konbini',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={KonbiniPaymentMethod}\n            getData={getData}/>,\n        edit: <PaymentMethod content={KonbiniPaymentMethod} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {useCallback} from '@wordpress/element';\nimport {useElements, Elements} from \"@stripe/react-stripe-js\";\nimport {initStripe as loadStripe, cartContainsSubscription, cartContainsPreOrder} from '../util'\nimport {useAfterProcessLocalPayment, useValidateCheckout, useCreateSource} from \"./hooks\";\nimport {useProcessCheckoutError} from \"../hooks\";\n\n/**\n * Return true if the local payment method can be used.\n * @param settings\n * @returns {function({billingAddress: *, [p: string]: *}): *}\n */\nexport const canMakePayment = (settings, callback = false) => ({billingAddress, cartTotals, ...props}) => {\n    const {currency_code} = cartTotals;\n    const {country} = billingAddress;\n    const countries = settings('countries');\n    const type = settings('allowedCountries');\n    const supports = settings('features');\n    let canMakePayment = false;\n    if (settings('isAdmin')) {\n        canMakePayment = true;\n    } else {\n        // Check if there are any subscriptions or pre-orders in the cart.\n        if (cartContainsSubscription() && !supports.includes('subscriptions')) {\n            return false;\n        } else if (cartContainsPreOrder() && !supports.includes('pre-orders')) {\n            return false;\n        }\n        if (settings('currencies').includes(currency_code)) {\n            if (type === 'all_except') {\n                canMakePayment = !settings('exceptCountries').includes(country);\n            } else if (type === 'specific') {\n                canMakePayment = settings('specificCountries').includes(country);\n            } else {\n                canMakePayment = countries.length > 0 ? countries.includes(country) : true;\n            }\n        }\n        if (callback && canMakePayment) {\n            canMakePayment = callback({settings, billingAddress, cartTotals, ...props});\n        }\n    }\n    return canMakePayment;\n}\n\nexport const LocalPaymentIntentContent = ({getData, ...props}) => {\n    return (\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\n            <LocalPaymentIntentMethod {...{...props, getData}}/>\n        </Elements>\n    )\n}\n\nexport const LocalPaymentSourceContent = (props) => {\n    return (\n        <Elements stripe={loadStripe}>\n            <LocalPaymentSourceMethod {...props}/>\n        </Elements>\n    )\n}\n\nconst LocalPaymentSourceMethod = (\n    {\n        getData,\n        billing,\n        shippingData,\n        emitResponse,\n        eventRegistration,\n        getSourceArgs = false,\n        element = false\n    }) => {\n    const {shippingAddress} = shippingData;\n    const {onPaymentSetup, onCheckoutFail} = eventRegistration;\n    const onChange = (event) => {\n        setIsValid(event.complete);\n    }\n    const {setIsValid} = useCreateSource({\n        getData,\n        billing,\n        shippingAddress,\n        onPaymentSetup,\n        emitResponse,\n        getSourceArgs,\n        element\n    });\n\n    if (element) {\n        return (\n            <LocalPaymentElementContainer\n                name={getData('name')}\n                options={getData('paymentElementOptions')}\n                onChange={onChange}\n                element={element}/>\n        )\n    }\n    return null;\n}\n\nexport const LocalPaymentIntentMethod = (\n    {\n        getData,\n        billing,\n        emitResponse,\n        eventRegistration,\n        activePaymentMethod,\n        confirmationMethod = null,\n        component = null,\n        callback = null,\n        shouldSavePayment = false,\n        ...props\n    }) => {\n    const elements = useElements();\n    const {billingAddress} = billing;\n    const {onPaymentSetup, onCheckoutFail} = eventRegistration;\n    const getPaymentMethodArgs = useCallback((billingAddress) => {\n        if (component) {\n            return {\n                [getData('paymentType')]: elements.getElement(component)\n            }\n        } else if (callback) {\n            return callback(billingAddress);\n        }\n        return {};\n    }, [\n        elements,\n        callback\n    ]);\n    const {setIsValid} = useValidateCheckout({\n            subscriber: onPaymentSetup,\n            emitResponse,\n            component,\n            shouldSavePayment,\n            paymentMethodName: getData('name')\n        }\n    );\n\n    useAfterProcessLocalPayment({\n        getData,\n        billingAddress,\n        eventRegistration,\n        emitResponse,\n        activePaymentMethod,\n        confirmationMethod,\n        getPaymentMethodArgs\n    });\n    useProcessCheckoutError({\n        emitResponse,\n        subscriber: onCheckoutFail,\n        messageContext: emitResponse.noticeContexts.PAYMENTS\n    });\n    if (component) {\n        const onChange = (event) => setIsValid(!event.empty)\n        return (\n            <LocalPaymentElementContainer\n                name={getData('name')}\n                options={getData('paymentElementOptions')}\n                onChange={onChange}\n                element={component}\n                callback={callback}\n                billing={billing}\n                {...props}/>\n        )\n    }\n    return null;\n}\n\nconst LocalPaymentElementContainer = ({name, onChange, element, options, ...props}) => {\n    const Tag = element;\n    const displayName = Tag?.displayName || '';\n    return (\n        <div className={`wc-stripe-local-payment-container ${name} ${displayName}`}>\n            <Tag options={options} onChange={onChange} {...props}/>\n        </div>\n    )\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentSourceContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\n\nconst getData = getSettings('stripe_multibanco_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'MultiBanco',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod content={LocalPaymentSourceContent} getData={getData}/>,\n        edit: <PaymentMethod content={LocalPaymentSourceContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\n\nconst getData = getSettings('stripe_oxxo_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'OXXO',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmOxxoPayment'}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {P24BankElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_p24_data');\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'P24',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmP24Payment'}\n            component={P24BankElement}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n","import {useEffect, useRef} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {PaymentMethod, PaymentMethodLabel} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {ensureErrorResponse, getBillingDetailsFromAddress, getSettings, initStripe as loadStripe, isNextActionRequired, StripeError} from \"../util\";\nimport {Elements, useStripe} from \"@stripe/react-stripe-js\";\nimport {__, sprintf} from '@wordpress/i18n';\n\nconst getData = getSettings('stripe_paynow_data');\n\nconst PayNowPaymentMethod = (props) => {\n    return (\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\n            <PaymentMethodContent {...props}/>\n        </Elements>\n    )\n}\n\nconst PaymentMethodContent = (props) => {\n    const {eventRegistration, billing, activePaymentMethod} = props;\n    const {emitResponse} = props;\n    const {\n        onCheckoutSuccess\n    } = eventRegistration;\n\n    const currentData = useRef({billing, activePaymentMethod});\n    const stripe = useStripe();\n\n    useEffect(() => {\n        currentData.current = {billing, activePaymentMethod};\n    }, [\n        billing,\n        activePaymentMethod\n    ]);\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutSuccess(async ({redirectUrl}) => {\n            if (activePaymentMethod === getData('name')) {\n                const {billingAddress} = currentData.current.billing;\n                try {\n                    const args = isNextActionRequired(redirectUrl);\n                    if (args) {\n                        let {client_secret, return_url, ...order} = args;\n                        let result = await stripe.confirmPayNowPayment(client_secret, {\n                            payment_method: {\n                                billing_details: getBillingDetailsFromAddress(billingAddress),\n                            },\n                            return_url\n                        });\n                        if (result.error) {\n                            throw new StripeError(result.error);\n                        }\n                        if (result.paymentIntent.status === 'requires_action') {\n                            throw __('PayNow payment cancelled.', 'woo-stripe-payment');\n                        }\n                        if (result.paymentIntent.status === 'requires_payment_method') {\n                            throw __('PayNow payment expired. Please try again.', 'woo-stripe-payment');\n                        }\n                        window.location = decodeURI(order.order_received_url);\n                    }\n                } catch (error) {\n                    return ensureErrorResponse(\n                        emitResponse.responseTypes,\n                        error,\n                        {\n                            messageContext: emitResponse.noticeContexts.PAYMENTS\n                        }\n                    );\n                }\n            }\n        });\n        return unsubscribe;\n    }, [\n        stripe,\n        activePaymentMethod,\n        onCheckoutSuccess\n    ]);\n\n    return <Instructions/>\n}\n\nconst Instructions = () => {\n    return (\n        <ol>\n            <li dangerouslySetInnerHTML={{__html: sprintf(__('Click %1$s and you will be shown a QR code.', 'woo-stripe-payment'), '<b>' + getData('placeOrderButtonLabel') + '</b>')}}/>\n            <li>\n                {sprintf(__('Scan the QR code using an app from participating banks and participating non-bank financial institutions.', 'woo-stripe-payment'))}\n            </li>\n            <li>\n                {sprintf(__('The authentication process may take several moments. Once confirmed, you will be redirected to the order received page.', 'woo-stripe-payment'))}\n            </li>\n        </ol>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'PayNow',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={PayNowPaymentMethod}\n            getData={getData}/>,\n        edit: <PaymentMethod content={PayNowPaymentMethod} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {useEffect, useRef} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {PaymentMethod, PaymentMethodLabel} from \"../../components/checkout\";\nimport {canMakePayment} from \"./local-payment-method\";\nimport {ensureErrorResponse, getBillingDetailsFromAddress, getSettings, initStripe as loadStripe, isNextActionRequired, StripeError} from \"../util\";\nimport {Elements, useStripe} from \"@stripe/react-stripe-js\";\nimport {__, sprintf} from '@wordpress/i18n';\n\nconst getData = getSettings('stripe_promptpay_data');\n\nconst PromptPayPaymentMethod = (props) => {\n    return (\n        <Elements stripe={loadStripe} options={getData('elementOptions')}>\n            <PaymentMethodContent {...props}/>\n        </Elements>\n    )\n}\n\nconst PaymentMethodContent = (props) => {\n    const {eventRegistration, billing, activePaymentMethod} = props;\n    const {emitResponse} = props;\n    const {\n        onCheckoutSuccess\n    } = eventRegistration;\n\n    const currentData = useRef({billing, activePaymentMethod});\n    const stripe = useStripe();\n\n    useEffect(() => {\n        currentData.current = {billing, activePaymentMethod};\n    }, [\n        billing,\n        activePaymentMethod\n    ]);\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutSuccess(async ({redirectUrl}) => {\n            if (activePaymentMethod === getData('name')) {\n                const {billingAddress} = currentData.current.billing;\n                try {\n                    const args = isNextActionRequired(redirectUrl);\n                    if (args) {\n                        let {client_secret, return_url, ...order} = args;\n                        let result = await stripe.confirmPromptPayPayment(client_secret, {\n                            payment_method: {\n                                billing_details: getBillingDetailsFromAddress(billingAddress),\n                            },\n                            return_url\n                        });\n                        if (result.error) {\n                            throw new StripeError(result.error);\n                        }\n                        if (result.paymentIntent.status === 'requires_action') {\n                            throw __('PromptPay payment cancelled.', 'woo-stripe-payment');\n                        }\n                        if (result.paymentIntent.status === 'requires_payment_method') {\n                            throw {\n                                code: result.paymentIntent.last_payment_error.code\n                            };\n                        }\n                        window.location = decodeURI(order.order_received_url);\n                    }\n                } catch (error) {\n                    return ensureErrorResponse(\n                        emitResponse.responseTypes,\n                        error,\n                        {\n                            messageContext: emitResponse.noticeContexts.PAYMENTS\n                        }\n                    );\n                }\n            }\n        });\n        return unsubscribe;\n    }, [\n        stripe,\n        activePaymentMethod,\n        onCheckoutSuccess\n    ]);\n\n    return <Instructions/>\n}\n\nconst Instructions = () => {\n    return (\n        <ol>\n            <li dangerouslySetInnerHTML={{__html: sprintf(__('Click %1$s and you will be shown a QR code.', 'woo-stripe-payment'), '<b>' + getData('placeOrderButtonLabel') + '</b>')}}/>\n            <li>\n                {sprintf(__('Scan the QR code using a payment app that supports PromptPay.', 'woo-stripe-payment'))}\n            </li>\n            <li>\n                {sprintf(__('The authentication process may take several moments. Once confirmed, you will be redirected to the order received page.', 'woo-stripe-payment'))}\n            </li>\n        </ol>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'PromptPay',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={PromptPayPaymentMethod}\n            getData={getData}/>,\n        edit: <PaymentMethod content={PromptPayPaymentMethod} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, cartContainsPreOrder, cartContainsSubscription} from \"../util\";\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment, LocalPaymentIntentContent} from \"./local-payment-method\";\nimport {IbanElement} from \"@stripe/react-stripe-js\";\n\nconst getData = getSettings('stripe_sepa_data');\n\nconst LocalPaymentMethod = (PaymentMethod) => (props) => {\n    return (\n        <>\n            <PaymentMethod {...props}/>\n            <div className={'wc-stripe-blocks-mandate sepa-mandate'}\n                 dangerouslySetInnerHTML={{__html: props.getData('mandate')}}/>\n        </>\n    )\n}\n\nconst SepaPaymentMethod = LocalPaymentMethod(PaymentMethod);\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'SEPA',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <SepaPaymentMethod\n            content={LocalPaymentIntentContent}\n            getData={getData}\n            confirmationMethod={'confirmSepaDebitPayment'}\n            component={IbanElement}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: true,\n            showSaveOption: true,\n            features: getData('features')\n        }\n    })\n}","import {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings} from \"../util\";\nimport {canMakePayment, LocalPaymentIntentContent} from './local-payment-method';\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\n\nconst getData = getSettings('stripe_sofort_data');\n\nconst getConfirmationArgs = (billingAddress) => {\n    return {sofort: {country: billingAddress.country}};\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'Sofort',\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod\n            content={LocalPaymentIntentContent}\n            confirmationMethod={'confirmSofortPayment'}\n            getData={getData}\n            callback={getConfirmationArgs}/>,\n        edit: <PaymentMethod content={LocalPaymentIntentContent} getData={getData}/>,\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n","import {useEffect, useRef, useState, useCallback} from '@wordpress/element';\nimport {registerPaymentMethod} from '@woocommerce/blocks-registry';\nimport {\n    getSettings,\n    initStripe as loadStripe,\n    getDefaultSourceArgs,\n    isAddressValid,\n    StripeError,\n    isTestMode,\n    ensureSuccessResponse,\n    getErrorMessage,\n    storeInCache,\n    getFromCache,\n    deleteFromCache\n} from \"../util\";\nimport {PaymentMethodLabel, PaymentMethod} from \"../../components/checkout\";\nimport {canMakePayment, LocalPaymentIntentContent} from \"./local-payment-method\";\nimport {Elements} from \"@stripe/react-stripe-js\";\nimport {useValidateCheckout} from \"./hooks\";\nimport {__} from '@wordpress/i18n';\n//import QRCode from 'QRCode';\nimport {useStripe} from \"@stripe/react-stripe-js\";\nimport {useStripeError} from \"../hooks\";\n\nconst getData = getSettings('stripe_wechat_data');\n\nconst WeChatComponent = (props) => {\n    return (\n        <Elements stripe={loadStripe}>\n            <WeChatPaymentMethod {...props}/>\n        </Elements>\n    )\n}\n\nconst WeChatPaymentMethod = (props) => {\n\n    return (\n        <>\n            <LocalPaymentIntentContent{...props}/>\n            <WechatPayInstructions instructions={props.getData('instructions')}/>\n        </>\n    )\n}\n\nconst WechatPayInstructions = ({instructions}) => {\n    return (\n        <ol className={'wc-stripe-wechat-instructions'}>\n            {instructions.map(text => (\n                <li key={text}>{text}</li>\n            ))}\n        </ol>\n    )\n}\n\nif (getData()) {\n    registerPaymentMethod({\n        name: getData('name'),\n        label: <PaymentMethodLabel\n            title={getData('title')}\n            paymentMethod={getData('name')}\n            icons={getData('icon')}/>,\n        ariaLabel: 'WeChat',\n        canMakePayment: canMakePayment(getData),\n        content: <PaymentMethod content={WeChatComponent} getData={getData} confirmationMethod={'confirmWechatPayPayment'}/>,\n        edit: <PaymentMethod content={WeChatComponent} getData={getData}/>,\n        placeOrderButtonLabel: getData('placeOrderButtonLabel'),\n        supports: {\n            showSavedCards: false,\n            showSaveOption: false,\n            features: getData('features')\n        }\n    })\n}\n","import './style.scss';\n\nimport './payment-method';","import {useMemo, useEffect, useRef} from '@wordpress/element';\nimport {registerExpressPaymentMethod} from '@woocommerce/blocks-registry';\nimport {getSettings, initStripe as loadStripe, canMakePayment, isCartPage, isCheckoutPage} from \"../util\";\nimport {useBreakpointWidth, useExpressBreakpointWidth} from '../hooks';\nimport {Elements, PaymentRequestButtonElement, useStripe} from \"@stripe/react-stripe-js\";\nimport {\n    usePaymentRequest,\n    useProcessPaymentIntent,\n    useExportedValues,\n    useAfterProcessingPayment,\n    useStripeError\n} from '../hooks';\n\nconst getData = getSettings('stripe_payment_request_data');\n\nconst PaymentRequestContent = (props) => {\n    return (\n        <div className='wc-stripe-payment-request-container'>\n            <Elements stripe={loadStripe}>\n                <PaymentRequestButton {...props}/>\n            </Elements>\n        </div>\n    );\n}\n\nconst PaymentRequestButton = (\n    {\n        getData,\n        onClick,\n        onClose,\n        billing,\n        shippingData,\n        eventRegistration,\n        emitResponse,\n        onSubmit,\n        activePaymentMethod,\n        ...props\n    }) => {\n    const {onPaymentSetup} = eventRegistration;\n    const {noticeContexts} = emitResponse;\n    const stripe = useStripe();\n    const [error] = useStripeError();\n    const canPay = (result) => result != null && !result.applePay && result.googlePay;\n    const exportedValues = useExportedValues();\n    useExpressBreakpointWidth({payment_method: getData('name'), width: 375});\n    const {setPaymentMethod} = useProcessPaymentIntent({\n        getData,\n        billing,\n        shippingData,\n        onPaymentSetup,\n        emitResponse,\n        error,\n        onSubmit,\n        activePaymentMethod,\n        exportedValues\n    });\n    useAfterProcessingPayment({\n        getData,\n        eventRegistration,\n        emitResponse,\n        activePaymentMethod,\n        messageContext: noticeContexts.EXPRESS_PAYMENTS\n    });\n    const {paymentRequest} = usePaymentRequest({\n        getData,\n        onClose,\n        stripe,\n        billing,\n        shippingData,\n        eventRegistration,\n        setPaymentMethod,\n        exportedValues,\n        canPay\n    });\n\n    const options = useMemo(() => {\n        return {\n            paymentRequest,\n            style: {\n                paymentRequestButton: getData('paymentRequestButton')\n            }\n        }\n    }, [paymentRequest]);\n\n    if (paymentRequest) {\n        return (\n            <PaymentRequestButtonElement options={options} onClick={onClick}/>\n        )\n    }\n    return null;\n}\n\nconst PaymentRequestEdit = ({getData, ...props}) => {\n    const canvas = useRef();\n    useEffect(() => {\n        const scale = window.devicePixelRatio;\n        canvas.current.width = 20 * scale;\n        canvas.current.height = 20 * scale;\n        let ctx = canvas.current.getContext('2d');\n        ctx.scale(scale, scale);\n        ctx.beginPath();\n        ctx.arc(10, 10, 10, 0, 2 * Math.PI);\n        ctx.fillStyle = '#986fff';\n        ctx.fill();\n    });\n    return (\n        <div className='payment-request-block-editor'>\n            <div className={'icon-container'}>\n                <span>Buy now</span>\n                <canvas className='PaymentRequestButton-icon' ref={canvas}/>\n                <i className={'payment-request-arrow'}></i>\n            </div>\n        </div>\n    )\n}\nif ((isCartPage() && getData('cartCheckoutEnabled')) ||\n    (isCheckoutPage() && getData('expressCheckoutEnabled'))) {\n    registerExpressPaymentMethod({\n        name: getData('name'),\n        canMakePayment: ({cartTotals}) => {\n            const {currency_code: currency, total_price} = cartTotals;\n            return canMakePayment({\n                country: getData('countryCode'),\n                currency: currency.toLowerCase(),\n                total: {\n                    label: getData('totalLabel'),\n                    amount: parseInt(total_price)\n                }\n            }, (result) => result != null && !result.applePay && result.googlePay);\n        },\n        content: <PaymentRequestContent getData={getData}/>,\n        edit: <PaymentRequestEdit getData={getData}/>,\n        supports: {\n            showSavedCards: getData('showSavedCards'),\n            showSaveOption: getData('showSaveOption'),\n            features: getData('features')\n        }\n    });\n}","import {useEffect, useCallback} from '@wordpress/element';\nimport {handleCardAction} from '@paymentplugins/stripe/util';\nimport {useProcessCheckoutError} from './hooks';\n\nconst SavedCardComponent = (\n    {\n        eventRegistration,\n        emitResponse,\n        getData,\n        method = 'handleCardAction'\n    }) => {\n    const {onCheckoutSuccess, onCheckoutFail} = eventRegistration;\n    useProcessCheckoutError({\n        emitResponse,\n        subscriber: onCheckoutFail,\n        messageContext: emitResponse.noticeContexts.PAYMENTS\n    })\n    const handleSuccessResult = useCallback(async ({redirectUrl}) => {\n        return await handleCardAction({\n            redirectUrl,\n            getData,\n            emitResponse,\n            method\n        });\n    }, []);\n\n    useEffect(() => {\n        const unsubscribe = onCheckoutSuccess(handleSuccessResult);\n        return () => unsubscribe();\n    }, [onCheckoutSuccess, handleSuccessResult]);\n    return null;\n}\n\nexport default SavedCardComponent;\n","import {loadStripe} from '@stripe/stripe-js';\nimport {getSetting} from '@woocommerce/settings'\nimport apiFetch from \"@wordpress/api-fetch\";\nimport {getCurrency, formatPrice as wcFormatPrice} from '@woocommerce/price-format';\n\nconst {publishableKey, stripeParams} = getSetting('stripeGeneralData');\nconst messages = getSetting('stripeErrorMessages');\nconst countryLocale = getSetting('countryLocale', {});\n\nconst SHIPPING_OPTION_REGEX = /^([\\w]+)\\:(.+)$/;\n\nconst routes = getSetting('stripeGeneralData').routes;\n\nconst creditCardForms = {};\n\nconst localPaymentMethods = [];\n\nconst CACHE_PREFIX = 'stripe:';\n\nconst PAYMENT_REQUEST_ADDRESS_MAPPINGS = {\n    recipient: (address, name) => {\n        address.first_name = name.split(' ').slice(0, -1).join(' ');\n        address.last_name = name.split(' ').pop();\n        return address;\n    },\n    payerName: (address, name) => {\n        address.first_name = name.split(' ').slice(0, -1).join(' ');\n        address.last_name = name.split(' ').pop();\n        return address;\n    },\n    country: 'country',\n    addressLine: (address, value) => {\n        if (value[0]) {\n            address.address_1 = value[0];\n        }\n        if (value[1]) {\n            address.address_2 = value[1];\n        }\n        return address;\n    },\n    line1: 'address_1',\n    line2: 'address_2',\n    city: 'city',\n    region: 'state',\n    state: 'state',\n    postalCode: 'postcode',\n    postal_code: 'postcode',\n    payerEmail: 'email',\n    payerPhone: 'phone'\n}\n\nexport const initStripe = new Promise((resolve, reject) => {\n    loadStripe(publishableKey, stripeParams).then(stripe => {\n        resolve(stripe);\n    }).catch(err => {\n        resolve({error: err});\n    });\n});\n\nexport const registerCreditCardForm = ({id, ...props}) => {\n    creditCardForms[id] = props;\n}\n\nexport const getCreditCardForm = (id) => {\n    return creditCardForms.hasOwnProperty(id) ? creditCardForms[id] : {};\n}\n\nexport const getRoute = (route) => {\n    return routes?.[route] ? routes[route] : console.log(`${route} is not a valid route`);\n}\n\nexport const ensureSuccessResponse = (responseTypes, data = {}) => {\n    return {type: responseTypes.SUCCESS, ...data};\n}\n\n/**\n * Returns a formatted error object used by observers\n * @param responseTypes\n * @param error\n * @returns {{type: *, message: *}}\n */\nexport const ensureErrorResponse = (responseTypes, error, options = {}) => {\n    return {type: responseTypes.ERROR, message: getErrorMessage(error), ...options}\n};\n\n/**\n * Return a customized error message.\n * @param error\n */\nexport const getErrorMessage = (error) => {\n    if (typeof error == 'string') {\n        return error;\n    }\n    if (error?.code && messages?.[error.code]) {\n        return messages[error.code];\n    }\n    if (error?.statusCode) {\n        return messages?.[error.statusCode] ? messages[error.statusCode] : error.statusMessage;\n    }\n    return error.message;\n}\n\n/**\n * Return a Stripe formatted billing_details object from a WC address\n * @param billingAddress\n */\nexport const getBillingDetailsFromAddress = (billingAddress) => {\n    let billing_details = {\n        name: `${billingAddress.first_name} ${billingAddress.last_name}`,\n        address: {\n            city: billingAddress.city || null,\n            country: billingAddress.country || null,\n            line1: billingAddress.address_1 || null,\n            line2: billingAddress.address_2 || null,\n            postal_code: billingAddress.postcode || null,\n            state: billingAddress.state || null\n        }\n    }\n    if (billingAddress?.phone) {\n        billing_details.phone = billingAddress.phone;\n    }\n    if (billingAddress?.email) {\n        billing_details.email = billingAddress.email;\n    }\n    return billing_details;\n}\n\nexport const getSettings = (name) => (key) => {\n    if (key) {\n        return getSetting(name)[key];\n    }\n    return getSetting(name);\n}\n\nexport class StripeError extends Error {\n    constructor(error) {\n        super(error.message);\n        this.error = error;\n    }\n}\n\n/**\n * Returns true if the provided value is empty.\n * @param value\n * @returns {boolean}\n */\nexport const isEmpty = (value) => {\n    if (typeof value === 'string') {\n        return value.length == 0 || value == '';\n    }\n    if (Array.isArray(value)) {\n        return array.length == 0;\n    }\n    if (typeof value === 'object') {\n        return Object.keys(value).length == 0;\n    }\n    if (typeof value === 'undefined') {\n        return true;\n    }\n    return true;\n}\n\nexport const removeNumberPrecision = (value, unit) => {\n    return value / 10 ** unit;\n}\n\n/**\n *\n * @param address\n * @param country\n */\nexport const isAddressValid = (address, exclude = []) => {\n    const fields = getLocaleFields(address.country);\n    for (const [key, value] of Object.entries(address)) {\n        if (!exclude.includes(key) && fields?.[key] && fields[key].required) {\n            if (isEmpty(value)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nexport const getLocaleFields = (country) => {\n    let localeFields = {...countryLocale.default};\n    if (country && countryLocale?.[country]) {\n        localeFields = Object.entries(countryLocale[country]).reduce((locale, [key, value]) => {\n            locale[key] = {...locale[key], ...value}\n            return locale;\n        }, localeFields);\n        ['phone', 'shipping-phone', 'email'].forEach(key => {\n            let node = document.getElementById(key);\n            if (node) {\n                localeFields[key] = {required: node.required};\n            }\n        });\n    }\n    return localeFields;\n}\n\n/**\n * Return true if the field is required by the cart\n * @param field\n * @param country\n * @returns {boolean|*}\n */\nexport const isFieldRequired = (field, country = false) => {\n    if (['phone', 'shipping-phone', 'email'].indexOf(field) > -1) {\n        let node = document.getElementById(field);\n        if (node) {\n            return node.required;\n        }\n        return false;\n    } else {\n        const fields = getLocaleFields(country);\n        return [field] in fields && fields[field].required;\n    }\n}\n\nexport const getSelectedShippingOption = (id) => {\n    const result = id.match(SHIPPING_OPTION_REGEX);\n    if (result) {\n        const {1: packageIdx, 2: rate} = result;\n        return [rate, packageIdx];\n    }\n    return [];\n}\n\nexport const hasShippingRates = (shippingRates) => {\n    return shippingRates.map(rate => {\n        return rate.shipping_rates.length > 0;\n    }).filter(Boolean).length > 0;\n}\n\n/**\n * Return true if the customer is logged in.\n * @param customerId\n * @returns {boolean}\n */\nexport const isUserLoggedIn = (customerId) => {\n    return customerId > 0;\n}\n\nconst syncPaymentIntentWithOrder = async (order_id, client_secret) => {\n    try {\n        await apiFetch({\n            url: routes['sync/intent'],\n            method: 'POST',\n            data: {order_id, client_secret}\n        })\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nexport const handleCardAction = async (\n    {\n        redirectUrl,\n        emitResponse,\n        name,\n        method = 'handleCardAction',\n        savePaymentMethod = false,\n        data = {}\n    }) => {\n    try {\n        let match = redirectUrl.match(/#response=(.+)/)\n        if (match) {\n            let {type, client_secret, order_id, order_key} = JSON.parse(window.atob(decodeURIComponent(match[1])));\n            const stripe = await initStripe;\n            let result;\n            if (type === 'intent') {\n                result = await stripe[method](client_secret);\n            } else {\n                result = await stripe.confirmCardSetup(client_secret);\n            }\n            if (result.error) {\n                return ensureErrorResponse(\n                    emitResponse.responseTypes,\n                    result.error,\n                    {\n                        messageContext: emitResponse.noticeContexts.PAYMENTS\n                    }\n                );\n            }\n            // success so finish processing order then redirect to thank you page\n            data = {...data, order_id, order_key, [`${name}_save_source_key`]: savePaymentMethod};\n            let response = await apiFetch({\n                url: getRoute('process/payment'),\n                method: 'POST',\n                data\n            })\n            if (response.messages) {\n                return ensureErrorResponse(\n                    emitResponse.responseTypes,\n                    response.messages,\n                    {\n                        messageContext: emitResponse.noticeContexts.PAYMENTS\n                    }\n                );\n            }\n            return ensureSuccessResponse(emitResponse.responseTypes, {\n                redirectUrl: response.redirect\n            });\n        } else {\n            return ensureSuccessResponse(emitResponse.responseTypes);\n        }\n    } catch (err) {\n        console.log(err);\n        return ensureErrorResponse(\n            emitResponse.responseTypes,\n            err,\n            {\n                messageContext: emitResponse.noticeContexts.PAYMENTS\n            }\n        );\n    }\n}\n\n/**\n * Convert a payment wallet address to a WC cart address.\n * @param address_mappings\n * @returns {function(*, *=): {}}\n */\nexport const toCartAddress = (address_mappings = PAYMENT_REQUEST_ADDRESS_MAPPINGS) => (address, args = {}) => {\n    const cartAddress = {};\n    address = {...address, ...filterEmptyValues(args)};\n    for (let [key, cartKey] of Object.entries(address_mappings)) {\n        if (address?.[key]) {\n            if (typeof cartKey === 'function') {\n                cartKey(cartAddress, address[key]);\n            } else {\n                cartAddress[cartKey] = address[key];\n            }\n        }\n    }\n    return cartAddress;\n}\n\n/**\n * Given a WC formatted address, return only the intermediate address values\n * @param address\n * @param fields\n */\nexport const getIntermediateAddress = (address, fields = ['city', 'postcode', 'state', 'country']) => {\n    const intermediateAddress = {};\n    for (let key of fields) {\n        intermediateAddress[key] = address[key];\n    }\n    return intermediateAddress;\n}\n\n/**\n *\n * @param values\n * @returns {{}|{[p: string]: *}}\n */\nexport const filterEmptyValues = (values) => {\n    return Object.keys(values).filter(key => Boolean(values[key])).reduce((obj, key) => ({\n        ...obj,\n        [key]: values[key]\n    }), {});\n}\n\nexport const formatPrice = (price, currencyCode) => {\n    const {prefix, suffix, decimalSeparator, minorUnit, thousandSeparator} = getCurrency(currencyCode);\n    if (price == '' || price === undefined) {\n        return price;\n    }\n\n    price = typeof price === 'string' ? parseInt(price, 10) : price;\n    price = price / 10 ** minorUnit;\n    price = price.toString().replace('.', decimalSeparator);\n    let fractional = '';\n    const index = price.indexOf(decimalSeparator);\n    if (index < 0) {\n        if (minorUnit > 0) {\n            price += `${decimalSeparator}${new Array(minorUnit + 1).join('0')}`;\n        }\n    } else {\n        fractional = price.substr(index + 1);\n        if (fractional.length < minorUnit) {\n            price += new Array(minorUnit - fractional.length + 1).join('0');\n        }\n    }\n\n    // separate out price and decimals so thousands separator can be added.\n    const match = price.match(new RegExp(`(\\\\d+)\\\\${decimalSeparator}(\\\\d+)`));\n    if (match) {\n        ({1: price, 2: fractional} = match);\n    }\n    price = price.replace(new RegExp(`\\\\B(?=(\\\\d{3})+(?!\\\\d))`, 'g'), `${thousandSeparator}`);\n    price = fractional?.length > 0 ? price + decimalSeparator + fractional : price;\n    price = prefix + price + suffix;\n    return price;\n}\n\nexport const getShippingOptions = (shippingRates) => {\n    let options = [];\n    shippingRates.forEach((shippingPackage, idx) => {\n        // sort by selected rate\n        shippingPackage.shipping_rates.sort((rate) => {\n            return rate.selected ? -1 : 1;\n        });\n        let rates = shippingPackage.shipping_rates.map(rate => {\n            let txt = document.createElement('textarea');\n            txt.innerHTML = rate.name;\n            let price = formatPrice(rate.price, rate.currency_code);\n            return {\n                id: getShippingOptionId(idx, rate.rate_id),\n                label: txt.value,\n                //detail: `${price}`,\n                amount: parseInt(rate.price, 10)\n            }\n        });\n        options = [...options, ...rates];\n    });\n    return options;\n}\n\nexport const getShippingOptionId = (packageId, rateId) => `${packageId}:${rateId}`\n\nexport const getDisplayItems = (cartItems, {minorUnit}) => {\n    let items = [];\n    const keys = ['total_tax', 'total_shipping'];\n    cartItems.forEach(item => {\n        if (0 < item.value || (item.key && keys.includes(item.key))) {\n            items.push({\n                label: item.label,\n                pending: false,\n                amount: item.value\n            });\n        }\n    })\n    return items;\n}\n\nconst canPay = {};\n\nexport const canMakePayment = ({country, currency, total}, callback) => {\n    return new Promise((resolve, reject) => {\n        const key = [country, currency, total.amount].reduce((key, value) => `${key}-${value}`);\n        if (!currency) {\n            return resolve(false);\n        }\n        if (key in canPay) {\n            return resolve(canPay[key]);\n        }\n        return initStripe.then(stripe => {\n            if (stripe.error) {\n                return reject(stripe.error);\n            }\n            const request = stripe.paymentRequest({\n                country,\n                currency,\n                total\n            });\n            request.canMakePayment().then(result => {\n                canPay[key] = callback(result);\n                return resolve(canPay[key]);\n            });\n        }).catch(reject);\n    });\n};\n\nexport const registerLocalPaymentMethod = (paymentMethod) => {\n    localPaymentMethods.push(paymentMethod);\n}\n\nexport const getLocalPaymentMethods = () => localPaymentMethods;\n\nexport const cartContainsPreOrder = () => {\n    const data = getSetting('stripePaymentData');\n    return data && data.pre_order;\n}\n\nexport const cartContainsSubscription = () => {\n    const data = getSetting('stripePaymentData');\n    return data && data.subscription;\n}\n\nexport const getDefaultSourceArgs = ({type, amount, billingAddress, currency, returnUrl}) => {\n    return {\n        type,\n        amount,\n        currency,\n        owner: getBillingDetailsFromAddress(billingAddress),\n        redirect: {\n            return_url: returnUrl\n        }\n    }\n}\n\nexport const isTestMode = () => {\n    return getSetting('stripeGeneralData').mode === 'test';\n}\n\nconst getCacheKey = (key) => `${CACHE_PREFIX}${key}`;\n\nexport const storeInCache = (key, value) => {\n    const exp = Math.floor(new Date().getTime() / 1000) + (60 * 15);\n    if ('sessionStorage' in window) {\n        sessionStorage.setItem(getCacheKey(key), JSON.stringify({value, exp}));\n    }\n}\n\nexport const getFromCache = (key) => {\n    if ('sessionStorage' in window) {\n        try {\n            const item = JSON.parse(sessionStorage.getItem(getCacheKey(key)));\n            if (item) {\n                const {value, exp} = item;\n                if (Math.floor(new Date().getTime() / 1000) > exp) {\n                    deleteFromCache(getCacheKey(key));\n                } else {\n                    return value;\n                }\n            }\n        } catch (err) {\n        }\n    }\n    return null;\n}\n\nexport const deleteFromCache = (key) => {\n    if ('sessionStorage' in window) {\n        sessionStorage.removeItem(getCacheKey(key));\n    }\n}\n\nexport const versionCompare = (ver1, ver2, compare) => {\n    switch (compare) {\n        case '<':\n            return ver1 < ver2;\n        case '>':\n            return ver1 > ver2;\n        case '<=':\n            return ver1 <= ver2;\n        case '>=':\n            return ver1 >= ver2;\n        case '=':\n            return ver1 == ver2;\n    }\n    return false;\n}\n\nexport const isCartPage = () => getSetting('stripeGeneralData').page === 'cart';\n\nexport const isCheckoutPage = () => getSetting('stripeGeneralData').page === 'checkout';\n\nexport const isNextActionRequired = (url) => {\n    let match = url.match(/#response=(.+)/);\n    let args = null;\n    if (match) {\n        args = JSON.parse(window.atob(decodeURIComponent(match[1])));\n    }\n    return args;\n}\n\nexport const DEFAULT_SHIPPING_ADDRESS = {\n    'first_name': '',\n    'last_name': '',\n    'company': '',\n    'address_1': '',\n    'address_2': '',\n    'city': '',\n    'state': '',\n    'postcode': '',\n    'country': '',\n    'phone': '',\n}\n\nexport const DEFAULT_BILLING_ADDRESS = {\n    ...DEFAULT_SHIPPING_ADDRESS,\n    'email': ''\n}","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n"],"names":["module","exports","arr","len","length","i","arr2","Array","isArray","arrayLikeToArray","self","ReferenceError","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","fn","this","args","arguments","apply","err","undefined","instance","Constructor","TypeError","setPrototypeOf","isNativeReflectConstruct","_construct","Parent","Class","Reflect","construct","a","push","Function","bind","prototype","_defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","obj","_extends","assign","source","hasOwnProperty","call","_getPrototypeOf","o","getPrototypeOf","__proto__","subClass","superClass","create","constructor","__esModule","toString","indexOf","sham","Proxy","Date","e","iter","Symbol","iterator","from","_arr","_n","_d","_e","_s","_i","next","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","sourceKeys","keys","_typeof","assertThisInitialized","_setPrototypeOf","p","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","arrayWithoutHoles","iterableToArray","nonIterableSpread","minLen","n","slice","name","test","isNativeFunction","_wrapNativeSuper","_cache","Map","has","get","set","Wrapper","React","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread2","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_objectWithoutProperties","_objectWithoutPropertiesLoose","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_arrayLikeToArray","_unsupportedIterableToArray","_nonIterableRest","emptyFunction","emptyFunctionWithReset","resetWarningCache","propTypes","shim","propName","componentName","location","propFullName","secret","Error","getShim","isRequired","ReactPropTypes","array","bool","func","number","string","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","factoryWithThrowingShims","usePrevious","ref","useRef","useEffect","current","isUnknownObject","raw","PLAIN_OBJECT_STR","isEqual","left","right","leftArray","leftPlainObject","leftKeys","rightKeys","keySet","allKeys","l","r","every","extractAllowedOptionsUpdates","options","prevOptions","immutableKeys","reduce","newOptions","isUpdated","includes","console","warn","concat","INVALID_STRIPE_ERROR","validateStripe","maybeStripe","errorMsg","elements","createToken","createPaymentMethod","confirmCardPayment","parseStripeProp","isPromise","tag","stripePromise","result","stripe","registerWithStripeJs","_registerWrapper","registerAppInfo","version","url","_excluded","CustomCheckoutSdkContext","createContext","displayName","parseCustomCheckoutSdkContext","ctx","useCase","CustomCheckoutContext","CustomCheckoutProvider","_ref","rawStripeProp","children","parsed","useMemo","_React$useState2","useState","session","setSession","_React$useState4","customCheckoutSdk","setContext","safeSetContext","initCustomCheckoutCalledRef","isMounted","initCustomCheckout","on","prevStripe","_prevOptions$elements","_options$elementsOpti","clientSecret","previousAppearance","elementsOptions","appearance","currentAppearance","changeAppearance","customCheckoutContextValue","sessionState","createElement","Provider","useElementsOrCustomCheckoutSdkContextWithUseCase","useCaseString","customCheckoutSdkContext","useContext","elementsContext","ElementsContext","parseElementsContext","CartElementContext","Elements","cart","setCart","cartState","setCartState","_React$useState6","updates","update","useElementsContextWithUseCase","useCaseMessage","DUMMY_CART_ELEMENT_CONTEXT","useCartElementContextWithUseCase","isInCustomCheckout","parseCartElementContext","ElementsConsumer","_ref2","useAttachEvent","event","cb","cbDefined","cbRef","decoratedCb","off","createElementComponent","type","isServer","str","charAt","toUpperCase","Element","id","className","readyCallback","_ref$options","onBlur","onFocus","onReady","onChange","onEscape","onClick","onLoadError","onLoaderStart","onNetworksChange","onCheckout","onLineItemClick","onConfirm","onCancel","onShippingAddressChange","onShippingRateChange","setElement","elementRef","domNode","_useCartElementContex","useLayoutEffect","newElement","mount","destroy","__elementType","window","EmbeddedCheckoutContext","useEmbeddedCheckoutContext","EmbeddedCheckout","embeddedCheckout","unmount","AuBankAccountElement","CardElement","CardNumberElement","CardExpiryElement","CardCvcElement","FpxBankElement","IbanElement","IdealBankElement","P24BankElement","EpsBankElement","PaymentElement","ExpressCheckoutElement","PaymentRequestButtonElement","LinkAuthenticationElement","AddressElement","ShippingAddressElement","CartElement","PaymentMethodMessagingElement","AffirmMessageElement","AfterpayClearpayMessageElement","EmbeddedCheckoutProvider","embeddedCheckoutPromise","loadedStripe","setStripeAndInitEmbeddedCheckout","initEmbeddedCheckout","onComplete","useCartElement","useCartElementState","useCustomCheckout","useCustomCheckoutSdkContextWithUseCase","useElements","useStripe","factory","V3_URL","V3_URL_REGEX","EXISTING_SCRIPT_MESSAGE","stripePromise$1","params","document","Stripe","script","scripts","querySelectorAll","src","findScript","queryString","advancedFraudSignals","headOrBody","head","body","appendChild","injectScript","addEventListener","loadCalled","loadStripe","_len","_key","startTime","now","registerWrapper","initStripe","Installments","paymentMethodName","cardFormComplete","addPaymentMethodData","getPaymentMethod","installments","setInstallments","installment","setInstallment","loading","setLoading","paymentMethod","apiFetch","getRoute","method","data","payment_method_id","payment_method","catch","log","finally","__","Loader","InstallmentOptions","_stripe_installment_plan","isLoading","OPTIONS","disabled","map","dangerouslySetInnerHTML","__html","text","classnames","getSetting","paymentText","buttonText","assetsUrl","sprintf","title","icons","components","Label","PaymentMethodLabel","Icons","PaymentMethodIcons","align","getData","content","Content","desc","el","childNodes","classList","add","Description","RadioControlOption","checked","label","onCheckoutSuccess","emitResponse","billingAddress","currentData","unsubscribe","redirectUrl","isNextActionRequired","processPaymentIntent","processSetupIntent","useCallback","client_secret","order_id","order_key","collectBankAccountForPayment","payment_method_type","payment_method_data","billing_details","first_name","last_name","email","response","paymentIntent","status","confirmUsBankAccountPayment","stripe_ach_token_key","messages","ensureSuccessResponse","responseTypes","redirect","code","FAIL","message","messageContext","noticeContexts","PAYMENTS","retry","collectBankAccountForSetup","setupIntent","confirmUsBankAccountSetup","ensureErrorResponse","getSettings","ACHPaymentContent","eventRegistration","billing","onSubmit","shouldSavePayment","onPaymentSetup","onCheckoutFail","useProcessCheckoutError","subscriber","useProcessPayment","meta","paymentMethodData","Mandate","ACHComponent","registerPaymentMethod","ariaLabel","canMakePayment","cartTotals","currency_code","PaymentMethod","savedTokenComponent","edit","placeOrderButtonLabel","supports","showSavedCards","showSaveOption","features","ApplePayContent","ApplePayButton","onClose","shippingData","activePaymentMethod","useStripeError","exportedValues","useExportedValues","useExpressBreakpointWidth","width","setPaymentMethod","useProcessPaymentIntent","useAfterProcessingPayment","EXPRESS_PAYMENTS","paymentRequest","usePaymentRequest","canPay","applePay","handleClick","preventDefault","show","style","ApplePayEdit","isCartPage","isCheckoutPage","registerExpressPaymentMethod","currency","total_price","country","toLowerCase","total","amount","parseInt","Bootstrap","CardIcon","htmlFor","registerCreditCardForm","breakpoint","component","classes","focus","empty","invalid","eventChange","cardType","setCardType","elementOrder","container","setContainer","getCreditCardForm","CardForm","postalCodeEnabled","elementStatus","setElementOrder","useBreakpointWidth","getCardIconSrc","cloneElement","brand","complete","idx","nextElement","getElement","SimpleForm","card","cardOptions","postalCode","postcode","hidePostalCode","isFieldRequired","iconStyle","publishableKey","stripeParams","cloneDeep","betas","PaymentElementComponent","cartTotal","mode","paymentMethodCreation","formComplete","setFormComplete","installmentsActive","useDeferredPaymentIntent","elementOptions","defaultValues","billingDetails","fields","address","wallets","googlePay","CreditCardContent","setError","CreditCardElement","getPaymentMethodArgs","elType","useSetupIntent","removeSetupIntent","getCreatePaymentMethodArgs","Tag","CustomCardForm","StripeCardForm","state","hasError","errorInfo","setState","componentStack","Component","setErrorMessage","checkoutStatus","merchantInfo","merchantId","merchantName","buttonContainer","buttonType","buildPaymentRequest","usePaymentsClient","button","removeButton","append","parameters","allowedAuthMethods","allowedCardNetworks","assuranceDetailsRequired","apiVersion","apiVersionMinor","errorMessage","processingCountry","totalPriceLabel","shippingRates","emailRequired","isEmpty","allowedPaymentMethods","tokenizationSpecification","gateway","BASE_PAYMENT_METHOD","shippingAddressRequired","needsShipping","transactionInfo","getTransactionInfo","callbackIntents","BASE_PAYMENT_REQUEST","billingAddressRequired","billingAddressParameters","format","phoneNumberRequired","phone","shippingOptionRequired","shippingOptionParameters","getShippingOptionParameters","shippingOptions","environment","paymentsClient","setPaymentsClient","setButton","currentBilling","currentShipping","setAddressData","paymentData","shippingAddress","toCartAddress","phoneNumber","parentElement","firstChild","removeChild","loadPaymentData","JSON","parse","tokenizationData","token","getBillingDetailsFromAddress","StripeError","statusCode","getErrorMessage","createButton","querySelector","remove","paymentOptions","paymentDataCallbacks","onPaymentAuthorized","transactionState","onPaymentDataChanged","shipping","shippingOptionData","selectedRates","getSelectedShippingOption","shipping_method","page_id","paymentRequestUpdate","setSelectedRates","google","payments","api","PaymentsClient","isReadyToPayRequest","isReadyToPay","GooglePayContent","ValidationInputError","useErrorMessage","GooglePayEdit","long","cartTotalItems","countryCode","currencyCode","totalPriceStatus","totalPrice","removeNumberPrecision","minorUnit","displayItems","getDisplayItems","newTransactionInfo","newShippingOptionParameters","unit","items","item","price","getShippingOptions","defaultSelectedOptionId","option","shift","shippingPackage","shipping_rates","rate","selected","getShippingOptionId","rate_id","rates","txt","innerHTML","formatPrice","description","mapAddressToCartAddress","split","join","pop","address1","address2","locality","administrativeArea","unsubscribeAfterProcessingWithSuccess","handleCardAction","savePaymentMethod","innerWidth","windowWidth","setWindowWidth","getMaxWidth","maxWidth","getFromCache","setMaxWidth","storeInCache","clientWidth","handleResize","removeEventListener","getElementById","parentNode","getSuccessResponse","submit","onShippingRateSuccess","onShippingRateFail","onShippingRateSelectSuccess","handler","setHandler","onShippingChanged","paymentEvents","setPaymentEvent","addPaymentEvent","removePaymentEvent","isSelectingRate","shippingRatesLoading","success","hasShippingRates","unsubscribeShippingRateSuccess","unsubscribeShippingRateSelectSuccess","unsubscribeShippingRateFail","hasInvalidAddress","mapToCartAddress","setPaymentRequest","paymentRequestOptions","pending","requestPayerName","requestPayerEmail","requestPayerPhone","requestShipping","intermediateAddress","updateWith","newData","setShippingAddress","onShippingOptionChange","shippingOption","onPaymentMethodReceived","paymentResponse","payerName","payerEmail","payerPhone","processingResponse","paymentDetails","stripeErrorMessage","ERROR","paymentType","currentPaymentMethodArgs","paymentMethodId","DEFAULT_BILLING_ADDRESS","DEFAULT_SHIPPING_ADDRESS","unsubscribeProcessingPayment","confirmCardSetup","setSetupIntent","createSetupIntent","intent","cartContainsPreOrder","cartContainsSubscription","deleteFromCache","useSelect","select","CART_STORE_KEY","getCartData","totals","payment_method_types","LinkComponent","linkIcon","useLink","useLinkIcon","enabled","icon","display","contains","removeElement","iconEl","link","setLink","oldEmail","isProcessing","launchLink","useDispatch","PAYMENT_STORE_KEY","setActivePaymentMethod","__internalSetActivePaymentMethod","setPaymentMethodData","__internalSetPaymentMethodData","setExpressPaymentError","__internalSetExpressPaymentError","__internalSetExpressPaymentStarted","CHECKOUT_STORE_KEY","__internalSetBeforeProcessing","setBillingAddress","paymentStatus","isPaymentProcessing","linkAutofillModal","launch","recipient","stripe_cc_token_key","stripe_cc_save_source_key","registerCheckoutBlock","metadata","Block","isAvailable","billingCountry","requirements","accountCountry","AffirmPaymentMethodLabel","setOptions","updateOptions","detail","dispatchEvent","CustomEvent","LocalPaymentIntentContent","OffsiteNotice","confirmationMethod","AffirmCartMessage","TotalsWrapper","registerPlugin","render","ExperimentalOrderMeta","scope","available","requiredParams","requiredParamObj","countries","AfterpayPaymentMethodLabel","isCartEligible","AfterpayPaymentMethod","settings","currency_minor_unit","AfterpayCartMessage","BecsPaymentMethod","BLIKPaymentMethod","PaymentMethodContent","showTimer","setShowTimer","onCheckoutValidationBeforeProcessing","codes","setCodes","carry","return_url","order","confirmBlikPayment","blik","payment_method_options","last_payment_error","decodeURI","order_received_url","Instructions","onTimeout","InputCodes","keyCode","refs","setRef","onInput","onKeyDown","InputCode","maxLength","currentTarget","Timer","count","setCount","setInterval","clearInterval","taxId","setTaxId","isActive","setIsActive","callback","boleto","tax_id","wc_stripe_boleto_tax_id","isTestMode","currentBillingAddress","match","atob","decodeURIComponent","confirmation_args","getSourceArgs","setSource","isValid","setIsValid","currentValues","getSourceArgsInternal","getDefaultSourceArgs","returnUrl","getSuccessData","sourceId","createSource","msg","SUCCESS","KlarnaPaymentMethodLabel","paymentMethodTypes","KlarnaCartMessage","KonbiniPaymentMethod","usePhoneAsConfirmation","usePhone","confirmKonbiniPayment","konbini","confirmation_number","billing_phone","LocalPaymentIntentMethod","LocalPaymentSourceMethod","useCreateSource","LocalPaymentElementContainer","useValidateCheckout","useAfterProcessLocalPayment","LocalPaymentSourceContent","PayNowPaymentMethod","confirmPayNowPayment","PromptPayPaymentMethod","confirmPromptPayPayment","SepaPaymentMethod","sofort","WeChatComponent","WeChatPaymentMethod","WechatPayInstructions","instructions","PaymentRequestContent","PaymentRequestButton","paymentRequestButton","PaymentRequestEdit","canvas","scale","devicePixelRatio","height","getContext","beginPath","arc","Math","PI","fillStyle","fill","handleSuccessResult","countryLocale","SHIPPING_OPTION_REGEX","routes","creditCardForms","localPaymentMethods","PAYMENT_REQUEST_ADDRESS_MAPPINGS","addressLine","address_1","address_2","line1","line2","city","region","postal_code","route","statusMessage","exclude","getLocaleFields","entries","required","localeFields","default","locale","field","packageIdx","Boolean","customerId","address_mappings","cartAddress","filterEmptyValues","cartKey","values","getCurrency","prefix","suffix","decimalSeparator","thousandSeparator","fractional","index","replace","substr","RegExp","sort","packageId","rateId","cartItems","pre_order","subscription","owner","getCacheKey","exp","floor","getTime","sessionStorage","setItem","stringify","getItem","removeItem","ver1","ver2","compare","page","hasOwn","classNames","argType","inner"],"sourceRoot":""}