(()=>{(function(){(function(){var s=document.querySelectorAll("div.mc-gmap-markers");s.forEach(t=>{g(t)});var i=document.querySelectorAll("div.mc-gmap-location-list .mc-location-details");i.forEach(t=>{var n=t.querySelector(".sub-address"),e=t.querySelector(".adr .org"),a=t.getAttribute("id");n.style.display="none",n.setAttribute("id","control-"+a);var l=document.createElement("button");l.type="button",l.innerHTML=gmaps.toggle,l.className="toggle-locations",l.setAttribute("aria-controls","control-"+a),l.setAttribute("aria-expanded",!1),e.insertAdjacentElement("afterbegin",l)});var o=document.querySelectorAll("button.toggle-locations");o.forEach(t=>{t.addEventListener("click",function(){var n=t.getAttribute("aria-controls"),e=document.getElementById(n),a=e.style.display!="none";a?(e.style.display="none",this.setAttribute("aria-expanded",!1),this.querySelector(".dashicons").classList.remove("dashicons-arrow-down"),this.querySelector(".dashicons").classList.add("dashicons-arrow-right")):(e.style.display="block",this.setAttribute("aria-expanded",!0),this.querySelector(".dashicons").classList.add("dashicons-arrow-down"),this.querySelector(".dashicons").classList.remove("dashicons-arrow-right"))})})})();function g(s){let i=s.querySelectorAll(".marker"),o=i.length,t=s.getAttribute("data-maptype"),n={center:{lng:0,lat:0},mapTypeId:t},e=new google.maps.Map(s,n),a=new google.maps.LatLngBounds;if(i.forEach(l=>{d(l,e,a)}),o>25){let l=new google.maps.LatLng(a.getNorthEast().lat()-.01,a.getNorthEast().lng()-.01);a.extend(l)}return e}function d(s,i,o){let t=new google.maps.LatLng(s.getAttribute("data-lat"),s.getAttribute("data-lng")),n=null;if(s.getAttribute("data-lat")==""||s.getAttribute("data-lng")==""){let e=new google.maps.Geocoder;n=new u(e,s,i,o)}else{if(i.setCenter(t),n=new google.maps.Marker({position:t,map:i,clickable:!0,title:s.getAttribute("data-title")}),t=new google.maps.LatLng(n.position.lat(),n.position.lng()),o.extend(t),o.getNorthEast().equals(o.getSouthWest())){let a=new google.maps.LatLng(o.getNorthEast().lat()+.005,o.getNorthEast().lng()+.005);o.extend(a)}i.fitBounds(o);let e=s.innerHTML;if(e){let a=new google.maps.InfoWindow({content:e});google.maps.event.addListener(n,"click",function(){a.open(i,n)})}}}function u(s,i,o,t){let n=i.getAttribute("data-address"),e=null;e=s.geocode({address:n},function(a,l){if(l==="OK"){o.setCenter(a[0].geometry.location),e=new google.maps.Marker({map:o,position:a[0].geometry.location,clickable:!0,title:i.getAttribute("data-title")});let m=new google.maps.LatLng(e.position.lat(),e.position.lng());if(t.extend(m),t.getNorthEast().equals(t.getSouthWest())){let r=new google.maps.LatLng(t.getNorthEast().lat()+.005,t.getNorthEast().lng()+.005);t.extend(r)}o.fitBounds(t);let c=i.innerHTML;if(c){let r=new google.maps.InfoWindow({content:c});e.addListener("click",()=>{r.open({anchor:e,plot:o})})}}else console.log("Geocode was not successful for the following reason: "+l),console.log("Address used to Geocode: "+n)})}})();})();
