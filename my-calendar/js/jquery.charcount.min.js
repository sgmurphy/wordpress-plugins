(()=>{(function(e){e.fn.charCount=function(n){var s={allowed:140,warning:25,css:"counter",counterElement:"span",cssWarning:"warning",cssExceeded:"exceeded",counterText:""},n=e.extend(s,n);function l(t){var c=e(t).val().length,r=e(t).val().indexOf("#url#")>-1?18:0,u=e(t).val().indexOf("#longurl#")>-1?14:0;if(e("#title").length)var i=e(t).val().indexOf("#title#")>-1?e("#title").val().length-7:0;else var i=0;var o=e(t).val().indexOf("#blog#")>-1?e("#wp-admin-bar-site-name a").val().length-6:0,d=e("#wpt_image_yes:checked").length&&e("#remove-post-thumbnail").length?22:0,a=n.allowed-(c+r+u+i+o+d);a<=n.warning&&a>=0?e(t).next().addClass(n.cssWarning):e(t).next().removeClass(n.cssWarning),a<0?e(t).next().addClass(n.cssExceeded):e(t).next().removeClass(n.cssExceeded),e(t).next().html(n.counterText+a)}this.each(function(){e(this).after("<"+n.counterElement+' aria-live="polite" aria-atomic="true" class="'+n.css+'">'+n.counterText+"</"+n.counterElement+">"),l(this),e(this).on("keyup",function(t){setTimeout(l(this),200)}),e(this).on("change",function(t){setTimeout(l(this),200)})})}})(jQuery);})();
