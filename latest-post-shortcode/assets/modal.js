/** * Primary JS file for the Latest Post Shortcode plugin. * * Localized vars available as lpsGenVars (see the main PHP class where we enqueue the script). */(function ($){window.LPS_generator ={config:{},init:() =>{LPS_generator.initEvents();},initEvents:() =>{LPS_generator.menuTabNav();},openPopup:function (){lpsCurrentEditorId = '';if (typeof lpsCurrentEditor.id != 'undefined'){if (lpsCurrentEditor.id.indexOf('elementor')>= 0){/* Elementor editor support (it works differently). */lpsCurrentEditorId = lpsCurrentEditor.id;}}$('#lps_shortcode_popup_container_bg').show();$('#lps_shortcode_popup_container').show();LPS_generator.initShortcode(lpsCurrentEditor);},openBlockPopup:function (id,content){lpsCustomBlockId = id;lpsCurrentEditor = 'lps-block';lpsCurrentEditorType = 'block';lpsCurrentEditorId = '';$('#lps_shortcode_popup_container_bg').show();$('#lps_shortcode_popup_container').show();LPS_generator.initShortcode(content);},initShortcode:function (ed){var selected = '';var updateHtml = true;if (typeof ed === 'string' || ed instanceof String){selected = ed;updateHtml = false;$('#lps_preview_embed_shortcode').html(selected);}else{if (lpsCurrentEditorId != ''){selected = $('#' + lpsCurrentEditorId).val();}else{if (lpsCurrentEditorType === 'tinymce'){selected = ed.getContent();}else if (lpsCurrentEditorType === 'qtags'){try{selected = ed.getContent();}catch (e){if (e instanceof TypeError){selected = $('#content').val();}else{selected = '';}}}else if (lpsCurrentEditorType === 'block'){selected = lpsCustomBlockId.attributes.lpsContent;}else{selected = $('#content').val();}}}if (typeof selected == 'undefined'){selected = '';}var code = selected.match(/\[latest-selected-content\s(.*?)?\]/);if (null == code){code = '';}else{code = code[1];}var selPar = '#lps_shortcode_popup_container ';LPS_generator.resetShortcode(selPar);var c = code.replace('[latest-selected-content ','');c = c.replace(']','');var newTxt = c.match(/[\w-]+=\"[^\"]*\"/g);if (newTxt){for (var i = 0;i < newTxt.length;i++){var k = newTxt[i].split('=')[0];var v = newTxt[i].split('=')[1].replace('"','');v = v.replace('"','');v = v.replace(']','');switch (k){/* These are 1:1 prefix + id with attribute name. */case 'ver':case 'limit':case 'date_limit':case 'date_after':case 'date_before':case 'date_start':case 'date_start_type':case 'offset':case 'showpages':case 'total_text':case 'display':case 'titletag':case 'chrlimit':case 'more':case 'image':case 'image_placeholder':case 'fallback':case 'url':case 'linktext':case 'loadtext':case 'lightbox_size':case 'lightbox_attr':case 'lightbox_val':case 'css':case 'taxonomy':case 'term':case 'taxonomy2':case 'term2':case 'tag':case 'dtag':case 'dparent':case 'dauthor':case 'orderby':case 'orderby_meta':case 'output':case 'slidermode':case 'centermode':case 'centerpadd':case 'sliderauto':case 'sliderspeed':case 'slidersponsive':case 'respondto':case 'sliderwrap':case 'slideslides':case 'slidescroll':case 'sliderdots':case 'sliderinfinite':case 'slideoverlay':case 'slidegap':case 'sliderbreakpoint_tablet':case 'slideslides_tablet':case 'slidescroll_tablet':case 'sliderdots_tablet':case 'sliderinfinite_tablet':case 'sliderbreakpoint_mobile':case 'slideslides_mobile':case 'slidescroll_mobile':case 'sliderdots_mobile':case 'sliderinfinite_mobile':case 'sliderheight':case 'slidermaxheight':case 'slidercontrols':case 'sliderspeed':case 'slideratio':case 'default_height':case 'default_padding':case 'default_gap':case 'default_overlay_padding':case 'tablet_height':case 'tablet_padding':case 'tablet_gap':case 'tablet_overlay_padding':case 'mobile_height':case 'mobile_padding':case 'mobile_gap':case 'mobile_overlay_padding':case 'color_text':case 'color_title':case 'color_bg':case 'size_text':case 'size_title':case 'size_image':case 'image_opacity':case 'image_ratio':case 'card_ratio':case 'search':case 'archive':case 'site_id':$(selPar + '#lps_' + k).val(v);break;/* These are somehow different. */case 'perpage':$(selPar + '#lps_per_page').val(v);break;case 'pagespos':$(selPar + '#lps_showpages_pos').val(v);break;case 'type':$(selPar + '#lps_post_type').val(v);break;case 'elements':$(selPar + '#lps_elements').val(v);$(selPar + '#lps_elements_img_' + v).prop('checked',true);break;case 'id':$(selPar + '#lps_post_id').val(v);break;case 'parent':$(selPar + '#lps_parent_id').val(v);break;case 'author':$(selPar + '#lps_author_id').val(v);break;case 'excludeid':$(selPar + '#lps_excludepost_id').val(v);break;case 'excludeauthor':$(selPar + '#lps_excludeauthor_id').val(v);break;case 'exclude_tags':$(selPar + '#lps_exclude_tags').val(v);break;case 'exclude_categories':$(selPar + '#lps_exclude_categories').val(v);break;case 'show_extra':var p = v.split(',');for (jj = 0;jj <= p.length;jj++){if ('light_spinner' === p[jj] || 'dark_spinner' === p[jj]){$(selPar + '#lps_show_extra_spinner').val(p[jj]);}else if ( 'sticky' === p[jj] || 'nosticky' === p[jj] ){$(selPar + '#lps_show_extra_sticky').val(p[jj]);}else if (typeof $(selPar + '#lps_show_extra_' + p[jj]) != 'undefined'){$(selPar + '#lps_show_extra_' + p[jj]).prop('checked',true);}}if ($(selPar + '#lps_show_extra_scroller').prop('checked')){$(selPar + '#lps_display_show_extra_with_counter').show();if ($(selPar + '#lps_show_extra_with_counter').is(':checked')){$(selPar + '#lps_display_show_extra_reverse_counter').show();}}else{$(selPar + '#lps_display_show_extra_with_counter').hide();$(selPar + '#lps_display_show_extra_reverse_counter').hide();}break;case 'status':var p = v.split(',');for (jj = 0;jj <= p.length;jj++){if (typeof $(selPar + '#lps_status_' + p[jj]) != 'undefined'){$(selPar + '#lps_status_' + p[jj]).prop('checked',true);}}break;default:break;}if ($(selPar + '#lps_offset').val() != 0 || $(selPar + '#lps_per_page').val() != 0){$(selPar + '#lps_pagination_options').show();$(selPar + '#lps_use_pagination').val('yes');}else{$(selPar + '#lps_pagination_options').hide();}if ($(selPar + '#lps_output').val() == 'slider'){$(selPar + '#lps_display_slider').show();LPS_generator.selectTypeImg('slider');}else{$(selPar + '#lps_display_slider').hide();LPS_generator.selectTypeImg('');}}}LPS_generator.configureShortcode(updateHtml);},resetShortcode:function(selPar){$(selPar + 'input[type="text"]').val('');$(selPar + 'input[type="checkbox"]').prop('checked',false);$(selPar + 'input[type="radio"]').prop('checked',false);let sels = $(selPar + 'select[data-default]');if (sels){sels.each((k,item) =>{$(item).val($(item).data('default'));});}LPS_generator.configureShortcode(false);},configureShortcode:function (updateHtml){/* Define the main selector. */var selPar = '#lps_shortcode_popup_container ';var sc = '[latest-selected-content';/* Shortcode version. */var ver = $(selPar + '#lps_ver').val();if (ver != ''){sc += ' ver="' + parseInt(ver) + '"';}/* Shortcode output type. */var output = $(selPar + '#lps_output').val();if (output === 'slider'){sc += ' output="' + output + '"';}/* Posts limit. */var use_pags = $(selPar + '#lps_use_pagination').val();if (use_pags == '' || output == 'slider'){var limit = $(selPar + '#lps_limit').val();if (parseInt(limit)>0){sc = LPS_generator.append(sc,selPar,'#lps_limit','limit',true);}}/* Maybe compute pagination if the output is not a slider. */if (output != 'slider'){sc = LPS_generator.computePagination(selPar,sc);}/* Output as tiles. */if (output != 'slider'){var display = $(selPar + '#lps_display').val();if (display != ''){sc += ' display="' + display + '"';if (display.indexOf('title') < 0){$(selPar + '#lps_display_titletag').hide();}else{$(selPar + '#lps_display_titletag').show();sc = LPS_generator.append(sc,selPar,'#lps_titletag','titletag',true);}if (display.indexOf('content')>= 0){$(selPar + '#lps_display_raw').show();LPS_generator.elementEnable(selPar + '#lps_show_extra_raw');}else{LPS_generator.elementDisableUncheck(selPar + '#lps_show_extra_raw');$(selPar + '#lps_display_raw').hide();}if (display.indexOf('_custom_') === 0){$(selPar + '#lps_url_wrap').hide();$(selPar + '#custom_tile_description_wrap').show();$(selPar + '#tile_description_wrap').hide();$(selPar + '#lps_image_wrap').hide();$(selPar + '#lps_display_limit').hide();$(selPar + '#lps_display_date_diff').hide();$(selPar + 'label.without-link').hide();$(selPar + 'label.with-link').hide();$(selPar + 'label.custom-type').show();var template_id = $(selPar + '#lps_display option:selected').data('template-id');$(selPar + '#lps_elements').val(template_id);$(selPar + '#lps_elements_img_' + template_id).prop('checked',true);}else{$(selPar + '#lps_url_wrap').show();$(selPar + '#custom_tile_description_wrap').hide();$(selPar + '#tile_description_wrap').show();$(selPar + '#lps_image_wrap').show();$(selPar + 'label.custom-type').hide();if (display.indexOf('excerpt-small')>= 0 || display.indexOf('content-small')>= 0){$(selPar + '#lps_display_limit').show();sc = LPS_generator.append(sc,selPar,'#lps_chrlimit','chrlimit',true);sc = LPS_generator.append(sc,selPar,'#lps_more','more',true);}else{$(selPar + '#lps_display_limit').hide();}if (display.indexOf('date')>= 0){$(selPar + '#lps_display_date_diff').show();LPS_generator.elementEnable(selPar + '#lps_show_extra_date_diff');}else{LPS_generator.elementDisableUncheck(selPar + '#lps_show_extra_date_diff');$(selPar + '#lps_display_date_diff').hide();}}$(selPar + '#lps_color_title_field').val($(selPar + '#lps_color_title').val());$(selPar + '#lps_color_text_field').val($(selPar + '#lps_color_text').val());$(selPar + '#lps_color_bg_field').val($(selPar + '#lps_color_bg').val());}$(selPar + '#lps_lightbox_options').hide();var type = $(selPar + '#lps_post_type').val();var url = $(selPar + '#lps_url').val();$(selPar + '#lps_show_extra_caption_pos_wrap').removeClass('lps-update-blink').hide();$(selPar + '#lps-extra-show_mime').removeClass('lps-update-blink').hide();$(selPar + '#lps-extra-price').removeClass('lps-update-blink').hide();$(selPar + '#lps-extra-add_to_cart').removeClass('lps-update-blink').hide();$(selPar + '#lps-extra-price_add_to_cart').removeClass('lps-update-blink').hide();$(selPar + '#lps-extra-product_cat').removeClass('lps-update-blink').hide();$(selPar + '#lps-extra-product_tag').removeClass('lps-update-blink').hide();$(selPar + '#lps-extra-product_shipping_class').removeClass('lps-update-blink').hide();if (type === 'attachment'){$(selPar + '#lps_show_extra_caption_pos_wrap').addClass('lps-update-blink').show();$(selPar + '#lps-extra-show_mime').addClass('lps-update-blink').show();}else if (type === 'product' || type === 'product_variation'){$(selPar + '#lps-extra-price').addClass('lps-update-blink').show();$(selPar + '#lps-extra-add_to_cart').addClass('lps-update-blink').show();$(selPar + '#lps-extra-price_add_to_cart').addClass('lps-update-blink').show();$(selPar + '#lps-extra-product_cat').addClass('lps-update-blink').show();$(selPar + '#lps-extra-product_tag').addClass('lps-update-blink').show();$(selPar + '#lps-extra-product_shipping_class').addClass('lps-update-blink').show();}if ('attachment' != type){$(selPar + '#lps_url option[value="yes_media"]').attr('disabled',true);$(selPar + '#lps_url option[value="yes_media_blank"]').attr('disabled',true);$(selPar + '#lps_url option[value="yes_media_lightbox"]').attr('disabled',true);if (url == 'yes_media' || url == 'yes_media_blank' || url == 'yes_media_lightbox'){url = '';$(selPar + '#lps_url').val('');}}else{$(selPar + '#lps_url option[value="yes_media"]').attr('disabled',false);$(selPar + '#lps_url option[value="yes_media_blank"]').attr('disabled',false);$(selPar + '#lps_url option[value="yes_media_lightbox"]').attr('disabled',false);}if (display.indexOf('_custom_') !== 0){$(selPar + 'label.custom-type').hide();$(selPar + '#custom_tile_description_wrap').hide();$(selPar + '#tile_description_wrap').show();var url = $(selPar + '#lps_url').val();var type = $(selPar + '#lps_post_type').val();if (url != ''){sc += ' url="' + url + '"';if ('yes_media_lightbox' == url && 'attachment' == type){$(selPar + '#lps_lightbox_options').show();sc = LPS_generator.append(sc,selPar,'#lps_lightbox_size','lightbox_size',true);sc = LPS_generator.append(sc,selPar,'#lps_lightbox_attr','lightbox_attr',true);sc = LPS_generator.append(sc,selPar,'#lps_lightbox_val','lightbox_val',true);}else{$(selPar + '#lps_lightbox_options').hide();}$(selPar + '#lps_url_options').show();$(selPar + '#lps_url_options_read').show();if (ver == 2){$(selPar + 'label.without-link').hide();$(selPar + 'label.with-link').hide();$(selPar + 'label.with-link.ver2').show();}else{$(selPar + 'label.without-link').hide();$(selPar + 'label.with-link').show();}sc = LPS_generator.append(sc,selPar,'#lps_linktext','linktext',true);}else{$(selPar + '#lps_url_options').hide();$(selPar + '#lps_url_options_read').hide();if (ver == 2){$(selPar + 'label.with-link').hide();$(selPar + 'label.without-link').hide();$(selPar + 'label.without-link.ver2').show();}else{$(selPar + 'label.with-link').hide();$(selPar + 'label.without-link').show();}}/* Adjust checked template. */var sel_elems = $('#lps_shortcode_popup_container #lps_elements').val();var $viz_elems = $(selPar + 'input[name="lps_elements_img"]:visible');if (!$(selPar + '#lps_elements_img_' + sel_elems).is(':visible')){$(selPar + '#lps_elements_img_' + sel_elems).removeAttr('checked');sel_elems = $viz_elems.first().val();}$(selPar + '#lps_elements_img_' + sel_elems).attr('checked','checked');$('#lps_shortcode_popup_container #lps_elements').val(sel_elems);}else{$(selPar + 'label.custom-type').show();$(selPar + '#custom_tile_description_wrap').show();$(selPar + '#tile_description_wrap').hide();}if ($(selPar + '#lps_show_extra_scroller').prop('checked')){$(selPar + '#lps_display_show_extra_with_counter').show();if ($(selPar + '#lps_show_extra_with_counter').is(':checked')){$(selPar + '#lps_display_show_extra_reverse_counter').show();}else{$(selPar + '#lps_display_show_extra_reverse_counter').hide();}}else{$(selPar + '#lps_display_show_extra_with_counter').hide();$(selPar + '#lps_display_show_extra_reverse_counter').hide();}}if ($(selPar + '#lps_date_limit').val() == 1){$(selPar + '#lps_date_limit_options_0').hide();$(selPar + '#lps_date_limit_options_1').show();sc = LPS_generator.append(sc,selPar,'#lps_date_limit','date_limit',true);sc = LPS_generator.append(sc,selPar,'#lps_date_start','date_start',true);sc = LPS_generator.append(sc,selPar,'#lps_date_start_type','date_start_type',true);}else{$(selPar + '#lps_date_limit_options_0').show();$(selPar + '#lps_date_limit_options_1').hide();sc = LPS_generator.append(sc,selPar,'#lps_date_after','date_after',true);sc = LPS_generator.append(sc,selPar,'#lps_date_before','date_before',true);}var image = $(selPar + '#lps_image').val();$(selPar + '#lps_image_placeholder_wrap').hide();if (image != ''){sc = LPS_generator.append(sc,selPar,'#lps_image','image',true);sc = LPS_generator.append(sc,selPar,'#lps_image_placeholder','image_placeholder',true);$(selPar + '#lps_image_placeholder_wrap').show();}if (output != 'slider'){sc = LPS_generator.append(sc,selPar,'#lps_elements','elements',true);sc = LPS_generator.append(sc,selPar,'#lps_default_height','default_height',true);sc = LPS_generator.append(sc,selPar,'#lps_default_padding','default_padding',true);sc = LPS_generator.append(sc,selPar,'#lps_default_gap','default_gap',true);sc = LPS_generator.append(sc,selPar,'#lps_default_overlay_padding','default_overlay_padding',true);sc = LPS_generator.append(sc,selPar,'#lps_tablet_height','tablet_height',true);sc = LPS_generator.append(sc,selPar,'#lps_tablet_padding','tablet_padding',true);sc = LPS_generator.append(sc,selPar,'#lps_tablet_gap','tablet_gap',true);sc = LPS_generator.append(sc,selPar,'#lps_tablet_overlay_padding','tablet_overlay_padding',true);sc = LPS_generator.append(sc,selPar,'#lps_mobile_height','mobile_height',true);sc = LPS_generator.append(sc,selPar,'#lps_mobile_padding','mobile_padding',true);sc = LPS_generator.append(sc,selPar,'#lps_mobile_gap','mobile_gap',true);sc = LPS_generator.append(sc,selPar,'#lps_mobile_overlay_padding','mobile_overlay_padding',true);sc = LPS_generator.append(sc,selPar,'#lps_color_text','color_text',true);sc = LPS_generator.append(sc,selPar,'#lps_color_title','color_title',true);sc = LPS_generator.append(sc,selPar,'#lps_color_bg','color_bg',true);sc = LPS_generator.append(sc,selPar,'#lps_size_text','size_text',true);sc = LPS_generator.append(sc,selPar,'#lps_size_title','size_title',true);var helperOverlayVal = $(selPar + '#lps_style_helper_overlay').val();if (helperOverlayVal === 'as-overlay'){LPS_generator.overlayReleatedShow(selPar);$(selPar + '#lps_image_opacity_tr').show();if ($(selPar + '#lps_image_opacity').val() < 1){sc = LPS_generator.append(sc,selPar,'#lps_image_opacity','image_opacity',true);}$(selPar + '#lps_image_ratio').val('');$(selPar + '#lps_image_ratio_tr').hide();sc = LPS_generator.append(sc,selPar,'#lps_card_ratio','card_ratio',true);$(selPar + '#lps_card_ratio_tr').show();if ($(selPar + '#lps_card_ratio').val()){$(selPar + '#lps_style_has_tall').val('');$(selPar + '#lps_style_has_tall_tr').hide();$(selPar + '#lps_css').val(LPS_generator.removeString($(selPar + '#lps_css').val(),'tall'));}}else{LPS_generator.overlayReleatedHide(selPar);$(selPar + '#lps_image_opacity_tr').hide();$(selPar + '#lps_card_ratio_tr').hide();$(selPar + '#lps_image_ratio_tr').show();sc = LPS_generator.append(sc,selPar,'#lps_image_ratio','image_ratio',true);}if (helperOverlayVal === 'h-image-info' || helperOverlayVal === 'h-info-image'){$(selPar + '#lps_size_image_tr').show();if ($(selPar + '#lps_size_image').val() != ''){sc = LPS_generator.append(sc,selPar,'#lps_size_image','size_image',true);}}else if (helperOverlayVal === 'as-overlay'){$(selPar + '#lps_size_image_tr').hide();}}sc = LPS_generator.append(sc,selPar,'#lps_fallback','fallback',true);sc = LPS_generator.append(sc,selPar,'#lps_css','css',true);LPS_generator.computeStyleSelection(selPar);/* Compute the content filters. */sc = LPS_generator.computeFilters(selPar,sc);/* Maybe compute extra options. */sc = LPS_generator.computeExtra(selPar,sc);if (output == 'slider'){LPS_generator.toggleBlocks(selPar,'slider');$(selPar + '#lps_display_slider').show();$(selPar + '#lps_display_date_diff').hide();var sliderwrap = $(selPar + '#lps_sliderwrap').val();if ('div' != sliderwrap && '' != sliderwrap){sc += ' sliderwrap="' + sliderwrap + '"';}var slidermode = $(selPar + '#lps_slidermode').val();sc += ' slidermode="' + slidermode + '"';LPS_generator.sliderModeToggle(selPar,slidermode);var centermode = $(selPar + '#lps_centermode').val();if ('' != centermode){sc += ' centermode="' + centermode + '"';$(selPar + '#lps_centermode_options').show();sc = LPS_generator.append(sc,selPar,'#lps_centerpadd','centerpadd',false);LPS_generator.elementDisableVal(selPar + '#lps_slidescroll',1);LPS_generator.elementDisableVal(selPar + '#lps_slidescroll_tablet',1);LPS_generator.elementDisableVal(selPar + '#lps_slidescroll_mobile',1);}else{$(selPar + '#lps_centermode_options').hide();LPS_generator.elementEnable(selPar + '#lps_slidescroll');LPS_generator.elementEnable(selPar + '#lps_slidescroll_tablet');LPS_generator.elementEnable(selPar + '#lps_slidescroll_mobile');}sc = LPS_generator.append(sc,selPar,'#lps_slideslides','slideslides',false);sc = LPS_generator.append(sc,selPar,'#lps_slidescroll','slidescroll',false);sc = LPS_generator.append(sc,selPar,'#lps_sliderdots','sliderdots',true);sc = LPS_generator.append(sc,selPar,'#lps_sliderinfinite','sliderinfinite',true);sc = LPS_generator.append(sc,selPar,'#lps_slideratio','slideratio',true);var slidersponsive = $(selPar + '#lps_slidersponsive').val();if ('' != slidersponsive){sc += ' slidersponsive="' + slidersponsive + '"';$(selPar + '#lps_slidersponsive_options').show();sc = LPS_generator.append(sc,selPar,'#lps_respondto','respondto',true);sc = LPS_generator.append(sc,selPar,'#lps_sliderbreakpoint_tablet','sliderbreakpoint_tablet',false,);sc = LPS_generator.append(sc,selPar,'#lps_slideslides_tablet','slideslides_tablet',false);sc = LPS_generator.append(sc,selPar,'#lps_slidescroll_tablet','slidescroll_tablet',false);sc = LPS_generator.append(sc,selPar,'#lps_sliderdots_tablet','sliderdots_tablet',true);sc = LPS_generator.append(sc,selPar,'#lps_sliderinfinite_tablet','sliderinfinite_tablet',true);sc = LPS_generator.append(sc,selPar,'#lps_sliderbreakpoint_mobile','sliderbreakpoint_mobile',false,);sc = LPS_generator.append(sc,selPar,'#lps_slideslides_mobile','slideslides_mobile',false);sc = LPS_generator.append(sc,selPar,'#lps_slidescroll_mobile','slidescroll_mobile',false);sc = LPS_generator.append(sc,selPar,'#lps_sliderdots_mobile','sliderdots_mobile',true);sc = LPS_generator.append(sc,selPar,'#lps_sliderinfinite_mobile','sliderinfinite_mobile',true);}else{$(selPar + '#lps_slidersponsive_options').hide();}var slideoverlay = $(selPar + '#lps_slideoverlay').val();sc = LPS_generator.append(sc,selPar,'#lps_slideoverlay','slideoverlay',true);if (!slideoverlay || slideoverlay.indexOf('title')>= 0){$(selPar + '#lps_display_titletag').show();sc = LPS_generator.append(sc,selPar,'#lps_titletag','titletag',true);}else{$(selPar + '#lps_display_titletag').hide();}sc = LPS_generator.append(sc,selPar,'#lps_slidegap','slidegap',true);var sliderheight = $(selPar + '#lps_sliderheight').val();if ('fixed' == sliderheight){sc += ' sliderheight="' + sliderheight + '"';$(selPar + '#lps_sliderheight_options').show();sc = LPS_generator.append(sc,selPar,'#lps_slidermaxheight','slidermaxheight',true);}else{$(selPar + '#lps_sliderheight_options').hide();}sc = LPS_generator.append(sc,selPar,'#lps_slidercontrols','slidercontrols',true);var sliderauto = $(selPar + '#lps_sliderauto').val();if ('' != sliderauto){sc += ' sliderauto="' + sliderauto + '"';$(selPar + '#lps_sliderauto_options').show();sc = LPS_generator.append(sc,selPar,'#lps_sliderspeed','sliderspeed',true);}else{$(selPar + '#lps_sliderauto_options').hide();}$(selPar + '#lps_display_limit').show();sc = LPS_generator.append(sc,selPar,'#lps_chrlimit','chrlimit',true);sc = LPS_generator.append(sc,selPar,'#lps_more','more',true);sc = LPS_generator.append(sc,selPar,'#lps_url','url',true);}else{$(selPar + '#lps_display_slider').hide();LPS_generator.toggleBlocks(selPar,'tiles');}sc += ']';if (updateHtml){$('#lps_preview_embed_shortcode').html(sc);}},toggleBlocks:(selPar,type) =>{if (type === 'slider'){$(selPar + '.block-use.available-for-slider').show();$(selPar + '.block-use').not('.available-for-slider').hide();}else{$(selPar + '.block-use.available-for-tiles').show();$(selPar + '.block-use').not('.available-for-tiles').hide();}},updateElements:(v) =>{var $el = $('#lps_shortcode_popup_container #lps_elements');$el.val(v);LPS_generator.configureShortcode(true);},overlayReleatedShow:(selPar) =>{$(selPar + '.not-for-overlay').hide();$(selPar + '.for-overlay').show();},overlayReleatedHide:(selPar) =>{$(selPar + '.for-overlay').hide();$(selPar + '.not-for-overlay').show();},styleHelper:() =>{const initial = $('#lps_css').val();let keep = '';if (initial.includes('two-tags')){keep += ' two-tags';}if (initial.includes('three-tags')){keep += ' three-tags';}if (initial.includes('two-categories')){keep += ' two-categories';}if (initial.includes('three-categories')){keep += ' three-categories';}let output = $('#lps_style_helper_overlay').val();let val =$('#lps_style_helper_columns').val() +' ' +output +keep +' ' +$('#lps_style_has_shadow').val() +' ' +$('#lps_style_has_title_shadow').val() +' ' +$('#lps_style_has_title_nodecoration').val() +' ' +$('#lps_style_has_title_uppercase').val() +' ' +$('#lps_style_has_radius').val() +' ' +$('#lps_style_has_zoom').val() +' ' +$('#lps_style_has_highlight').val() +' ' +$('#lps_style_helper_align').val() +' ' +$('#lps_style_helper_valign').val() +' ' +$('#lps_style_helper_pags').val();/* Aspect:empty,dark,light,clear-image. Image spacing */if (output === 'as-overlay'){val += ' ' + $('#lps_style_has_aspect').val();if ($('#lps_style_has_img_spacing').val() !== 'has-img-spacing'){val += ' ' + $('#lps_style_has_img_spacing').val();}}else{if ($('#lps_style_has_aspect').val() !== 'clear-image'){val += ' ' + $('#lps_style_has_aspect').val();}val += ' ' + $('#lps_style_has_img_spacing').val();}/* Stacked on mobile from CSS */if (output === 'h-image-info' || output === 'h-info-image'){val += ' ' + $('#lps_style_has_stacked').val();}/* Overlay card is tall */if (output === 'as-overlay'){if ($('#lps_card_ratio').val() === ''){val += ' ' + $('#lps_style_has_tall').val();}}val = val.trim();val = val.replace(/null/gm,'');val = val.replace(/\s+\s+/gm,' ');$('#lps_css').val(val);$('#lps_css').trigger('change');},removeString:function(val,removal){val = val.replace(removal,'');val = val.trim();val = val.replace(/null/gm,'');val = val.replace(/\s+\s+/gm,' ');val = val.trim();return val;},computeStyleSelection:function (selPar){let v = $(selPar + '#lps_css').val();v = v.trim();v = v.replace(/null/gm,'');v = v.replace(/\s+\s+/gm,' ');let css = v.split(' ');/* Card output type from CSS */const outputString = lpsGenVars.outputTypes;const outputTypes = outputString.split(' ');const filteredArray = outputTypes.filter(value =>css.includes(value));const cardStyleHelper = filteredArray.join('');/* Columns from CSS */if (css.includes('one-column')){$(selPar + '#lps_style_helper_columns').val('one-column');}else if (css.includes('two-columns')){$(selPar + '#lps_style_helper_columns').val('two-columns');}else if (css.includes('three-columns')){$(selPar + '#lps_style_helper_columns').val('three-columns');}else if (css.includes('four-columns')){$(selPar + '#lps_style_helper_columns').val('four-columns');}else if (css.includes('five-columns')){$(selPar + '#lps_style_helper_columns').val('five-columns');}else if (css.includes('six-columns')){$(selPar + '#lps_style_helper_columns').val('six-columns');}/* Horizontal alignment from CSS */if (css.includes('align-center')){$(selPar + '#lps_style_helper_align').val('align-center');}else if (css.includes('align-right')){$(selPar + '#lps_style_helper_align').val('align-right');}else{$(selPar + '#lps_style_helper_align').val('');}/* Vertical alignment from CSS */if (css.includes('content-center')){$(selPar + '#lps_style_helper_valign').val('content-center');}else if (css.includes('content-start')){$(selPar + '#lps_style_helper_valign').val('content-start');}else if (css.includes('content-end')){$(selPar + '#lps_style_helper_valign').val('content-end');}else if (css.includes('content-space-between')){$(selPar + '#lps_style_helper_valign').val('content-space-between');}else if (css.includes('content-auto')){$(selPar + '#lps_style_helper_valign').val('content-auto');}else if (css.includes('content-first-top')){$(selPar + '#lps_style_helper_valign').val('content-first-top');}else if (css.includes('content-last-bottom')){$(selPar + '#lps_style_helper_valign').val('content-last-bottom');}else{$(selPar + '#lps_style_helper_valign').val('content-center');}/* Pagination horizontal alignment from CSS */if ($(selPar + '#lps_use_pagination').val() !== 'yes'){LPS_generator.elementDisableVal(selPar + '#lps_style_helper_pags','');$(selPar + '#lps_style_helper_pags_tr').removeClass('lps-update-blink').hide();}else{$(selPar + '#lps_style_helper_pags_tr').show().addClass('lps-update-blink');LPS_generator.elementEnable(selPar + '#lps_style_helper_pags');if (css.includes('pagination-center')){$(selPar + '#lps_style_helper_pags').val('pagination-center');}else if (css.includes('pagination-right')){$(selPar + '#lps_style_helper_pags').val('pagination-right');}else if (css.includes('pagination-space-between')){$(selPar + '#lps_style_helper_pags').val('pagination-space-between');}else{$(selPar + '#lps_style_helper_pags').val('');}}/* Card output type from CSS */$(selPar + '#lps_style_helper_overlay').val(cardStyleHelper);/* Card aspect from CSS */if (cardStyleHelper === 'as-overlay'){$(selPar + '#lps-option-clear-image').show();}else{if (css.includes('clear-image')){$(selPar + '#lps_style_has_aspect').val('');}$(selPar + '#lps-option-clear-image').hide();}if (css.includes('dark')){$(selPar + '#lps_style_has_aspect').val('dark');}else if (css.includes('light')){$(selPar + '#lps_style_has_aspect').val('light');}else if (css.includes('clear-image')){if (cardStyleHelper === 'as-overlay'){$(selPar + '#lps_style_has_aspect').val('clear-image');}else{$(selPar + '#lps_style_has_aspect').val('');}}else{$(selPar + '#lps_style_has_aspect').val('');}/* Card is tall from CSS */if (cardStyleHelper === 'as-overlay'){if($(selPar + '#lps_card_ratio').val() === ''){LPS_generator.elementEnable(selPar + '#lps_style_has_tall');$(selPar + '#lps_style_has_tall_tr').addClass('lps-update-blink').show();if (css.includes('tall')){$(selPar + '#lps_style_has_tall').val('tall');}else{$(selPar + '#lps_style_has_tall').val('');}}else{LPS_generator.elementDisableVal(selPar + '#lps_style_has_tall','');$(selPar + '#lps_style_has_tall_tr').removeClass('lps-update-blink').hide();$(selPar + '#lps_style_has_tall').val('');}}else{LPS_generator.elementDisableVal(selPar + '#lps_style_has_tall','');$(selPar + '#lps_style_has_tall_tr').removeClass('lps-update-blink').hide();$(selPar + '#lps_style_has_tall').val('');}/* Card drop shadow from CSS */if (css.includes('has-shadow')){$(selPar + '#lps_style_has_shadow').val('has-shadow');}/* Card title shadow,no decoration,uppercase from CSS */if (css.includes('has-title-shadow')){$(selPar + '#lps_style_has_title_shadow').val('has-title-shadow');}if (css.includes('has-title-nodecoration')){$(selPar + '#lps_style_has_title_nodecoration').val('has-title-nodecoration');}if (css.includes('has-title-uppercase')){$(selPar + '#lps_style_has_title_uppercase').val('has-title-uppercase');}/* Card border radius from CSS */if (css.includes('has-radius')){$(selPar + '#lps_style_has_radius').val('has-radius');}/* Image spacing from CSS */if (cardStyleHelper === 'as-overlay'){LPS_generator.elementDisableVal(selPar + '#lps_style_has_img_spacing','');$(selPar + '#lps_style_has_img_spacing_tr').removeClass('lps-update-blink').hide();$(selPar + '#lps_style_has_img_spacing').val('');}else{LPS_generator.elementEnable(selPar + '#lps_style_has_img_spacing');$(selPar + '#lps_style_has_img_spacing_tr').addClass('lps-update-blink').show();if (css.includes('has-img-spacing')){$(selPar + '#lps_style_has_img_spacing').val('has-img-spacing');}else{$(selPar + '#lps_style_has_img_spacing').val('');}}/* Image hover zoom from CSS */if (css.includes('hover-zoom')){$(selPar + '#lps_style_has_zoom').val('hover-zoom');}if (css.includes('hover-highlight')){$(selPar + '#lps_style_has_highlight').val('hover-highlight');}/* Stacked on mobile from CSS */if (cardStyleHelper === 'h-image-info' || cardStyleHelper === 'h-info-image'){LPS_generator.elementEnable(selPar + '#lps_style_has_stacked');$(selPar + '#lps_style_has_stacked_tr').addClass('lps-update-blink').show();if (css.includes('has-stacked')){$(selPar + '#lps_style_has_stacked').val('has-stacked');}else{$(selPar + '#lps_style_has_stacked').val('');}LPS_generator.elementEnable(selPar + '#lps_size_image_tr');$(selPar + '#lps_size_image_tr').addClass('lps-update-blink').show();}else{LPS_generator.elementDisableVal(selPar + '#lps_style_has_stacked','');$(selPar + '#lps_style_has_stacked_tr').removeClass('lps-update-blink').hide();$(selPar + '#lps_style_has_stacked').val('');$(selPar + '#lps_size_image_tr').removeClass('lps-update-blink').hide();}},computePagination:function (selPar,sc){var use_pagination = $(selPar + '#lps_use_pagination').val();var perpage = $(selPar + '#lps_per_page').val();var offset = $(selPar + '#lps_offset').val();var showpages = $(selPar + '#lps_showpages').val();var pagespos = $(selPar + '#lps_showpages_pos').val();var loadtext = $(selPar + '#lps_loadtext').val();var totalText = $(selPar + '#lps_total_text').val();var showTotal = $(selPar + '#lps_show_extra_show_total').is(':checked');$(selPar + '#lps_showpages_options').hide();$(selPar + '#lps_pagination_limit').hide();if (showTotal){$(selPar + '#lps_show_total_options').show();}else{$(selPar + '#lps_show_total_options').hide();}if (use_pagination != ''){$(selPar + '#lps_pagination_limit').show();var limit = $(selPar + '#lps_limit').val();LPS_generator.elementEnable(selPar + '#lps_limit');if (limit){sc = LPS_generator.append(sc,selPar,'#lps_limit','limit',true);}$(selPar + '#lps_pagination_options').show();if (perpage != 0){sc += ' perpage="' + perpage + '"';}if (offset != 0){sc += ' offset="' + offset + '"';}if (totalText != '' && showTotal){sc += ' total_text="' + totalText + '"';}if (showpages != ''){sc += ' showpages="' + showpages + '"';LPS_generator.elementEnable(selPar + '#lps_show_extra_ajax_pagination');LPS_generator.elementEnable(selPar + '#lps_show_extra_pagination_all');if (showpages == 'more' || showpages == 'scroll'){$(selPar + '#lps_showpages_options').show();pagespos = 1;sc += ' loadtext="' + loadtext + '"';LPS_generator.elementDisableVal(selPar + '#lps_showpages_pos',pagespos);LPS_generator.elementDisableCheck(selPar + '#lps_show_extra_ajax_pagination');LPS_generator.elementDisableUncheck(selPar + '#lps_show_extra_pagination_all');}else{LPS_generator.elementEnable(selPar + '#lps_showpages_pos');}if (pagespos != ''){sc += ' pagespos="' + pagespos + '"';}}else{LPS_generator.elementDisableVal(selPar + '#lps_showpages_pos','');LPS_generator.elementDisableUncheck(selPar + '#lps_show_extra_ajax_pagination');LPS_generator.elementDisableUncheck(selPar + '#lps_show_extra_pagination_all');}}else{$(selPar + '#lps_pagination_options').hide();}return sc;},computeExtra:function (selPar,sc){var excluded = [];var show_extra = $(selPar + '.lps_show_extra:checkbox,' + selPar + '.lps_show_extra:radio').map(function (){var extrael = $(this).hasClass('lps-is-taxonomy');var estraelsel = $(this).is(':checked');var att = $(this).attr('id');var one = att.replace('lps_show_extra_','lps_show_extra_oneterm_');var nol = att.replace('lps_show_extra_','lps_show_extra_nolabel_');if (estraelsel){$(selPar + '#' + att + '_pos_wrap').show();$(selPar + '#' + one).show();$(selPar + '#' + nol).show();}else{$(selPar + '#' + att + '_pos_wrap').hide();$(selPar + '#' + one).hide();$(selPar + '#' + nol).hide();excluded.push($(this).val());}if ($(this).is(':hidden')){excluded.push($(this).val());}return estraelsel ? $(this).val():'';}).get();var selects = $(selPar + 'select.lps_show_extra').map(function (){return $(this).val();}).get();if (selects){show_extra = [...show_extra,...selects];}if (show_extra != ''){show_extra = show_extra.filter(function (e){return e;});if ($.inArray('category',show_extra) < 0){excluded.push('hide_uncategorized_category');}var show_extra = show_extra.filter(x =>excluded.indexOf(x) === -1);show_extra = show_extra.toString();if (show_extra != ''){sc += ' show_extra="' + show_extra + '"';if (show_extra.indexOf('cache') < 0){$(selPar + '#lps_reset_cache').removeClass('lps-update-blink').hide();}else{$(selPar + '#lps_reset_cache').show();}}}return sc;},computeFilters:function (selPar,sc){sc = LPS_generator.append(sc,selPar,'#lps_post_type','type',true);sc = LPS_generator.append(sc,selPar,'#lps_site_id','site_id',true);var status = $(selPar + '.lps_status:checkbox').map(function (){return $(this).is(':checked') ? $(this).val():'';}).get();if (status != ''){status = status.filter(function (e){return e;});if (status != ''){sc += ' status="' + status + '"';}}var archive = $(selPar + '#lps_archive').val();if (archive != ''){$(selPar + '#lps_filter_tax_wrapper').removeClass('lps-update-blink').hide();$(selPar + '#lps_filter_tag_wrapper').removeClass('lps-update-blink').hide();$(selPar + '#lps_search_wrapper').removeClass('lps-update-blink').hide();$(selPar + '#lps_orderby option[value="relevance"]').show();sc = LPS_generator.append(sc,selPar,'#lps_archive','archive',true);}else{$(selPar + '#lps_filter_tax_wrapper').addClass('lps-update-blink').show();$(selPar + '#lps_filter_tag_wrapper').addClass('lps-update-blink').show();$(selPar + '#lps_search_wrapper').addClass('lps-update-blink').show();$(selPar + '#lps_orderby option[value="relevance"]').hide();if ($(selPar + '#lps_orderby').val() === 'relevance'){$(selPar + '#lps_orderby').val('dateD');}sc = LPS_generator.append(sc,selPar,'#lps_taxonomy','taxonomy',true);sc = LPS_generator.append(sc,selPar,'#lps_term','term',true);sc = LPS_generator.append(sc,selPar,'#lps_taxonomy2','taxonomy2',true);sc = LPS_generator.append(sc,selPar,'#lps_term2','term2',true);var dtag = $(selPar + '#lps_dtag').val();if (dtag != ''){sc += ' dtag="' + dtag + '"';}else{sc = LPS_generator.append(sc,selPar,'#lps_tag','tag',true);}var search = $(selPar + '#lps_search').val();if (search != ''){sc += ' search="' + search + '"';}}sc = LPS_generator.append(sc,selPar,'#lps_post_id','id',true);var dparent = $(selPar + '#lps_dparent').val();if (dparent){$(selPar + '#lps_parent_id').hide();sc = LPS_generator.append(sc,selPar,'#lps_dparent','dparent',true);}else{$(selPar + '#lps_parent_id').show();sc = LPS_generator.append(sc,selPar,'#lps_parent_id','parent',true);}var dauthor = $(selPar + '#lps_dauthor').val();if (dauthor){$(selPar + '#lps_author_id').hide();sc = LPS_generator.append(sc,selPar,'#lps_dauthor','dauthor',true);}else{$(selPar + '#lps_author_id').show();sc = LPS_generator.append(sc,selPar,'#lps_author_id','author',true);}sc = LPS_generator.append(sc,selPar,'#lps_excludepost_id','excludeid',true);sc = LPS_generator.append(sc,selPar,'#lps_excludeauthor_id','excludeauthor',true);sc = LPS_generator.append(sc,selPar,'#lps_exclude_tags','exclude_tags',true);sc = LPS_generator.append(sc,selPar,'#lps_exclude_categories','exclude_categories',true);var orderby = $(selPar + '#lps_orderby').val();$(selPar + '#lps_orderby_random_wrap').removeClass('lps-update-blink').hide();$(selPar + '#lps_orderby_meta_wrap').removeClass('lps-update-blink').hide();sc = LPS_generator.append(sc,selPar,'#lps_orderby','orderby',true);if (orderby === 'random'){$(selPar + '#lps_orderby_random_wrap').addClass('lps-update-blink').show();}else if (orderby.indexOf('metaValue')>= 0){$(selPar + '#lps_orderby_meta_wrap').addClass('lps-update-blink').show();sc = LPS_generator.append(sc,selPar,'#lps_orderby_meta','orderby_meta',true);}return sc;},elementDisableVal:function (id,val){$(id).val(val);$(id).attr('disabled','disabled');},elementDisableCheck:function (id){$(id).attr('disabled','disabled');$(id).attr('checked','checked');},elementDisableUncheck:function (id){$(id).attr('disabled','disabled');$(id).removeAttr('checked');},elementEnable:function (id){$(id).removeAttr('disabled');},elementEnableCheck:function (id){$(id).removeAttr('disabled');$(id).attr('checked','checked');},sliderModeToggle:function (selPar,slidermode){if ('fade' == slidermode){LPS_generator.elementDisableVal(selPar + '#lps_centermode','');LPS_generator.elementDisableVal(selPar + '#lps_slidersponsive','');LPS_generator.elementDisableVal(selPar + '#lps_slideslides',1);LPS_generator.elementDisableVal(selPar + '#lps_slideslides_tablet',1);LPS_generator.elementDisableVal(selPar + '#lps_slideslides_mobile',1);LPS_generator.elementDisableVal(selPar + '#lps_slidescroll',1);LPS_generator.elementDisableVal(selPar + '#lps_slidescroll_tablet',1);LPS_generator.elementDisableVal(selPar + '#lps_slidescroll_mobile',1);}else{LPS_generator.elementEnable(selPar + '#lps_centermode');LPS_generator.elementEnable(selPar + '#lps_slidersponsive');LPS_generator.elementEnable(selPar + '#lps_slideslides');LPS_generator.elementEnable(selPar + '#lps_slideslides_tablet');LPS_generator.elementEnable(selPar + '#lps_slideslides_mobile');LPS_generator.elementEnable(selPar + '#lps_slidescroll');LPS_generator.elementEnable(selPar + '#lps_slidescroll_tablet');LPS_generator.elementEnable(selPar + '#lps_slidescroll_mobile');}},append:function (sc,selPar,id,attr,ne){var val = $(selPar + id).val();if (ne === true){if (val != '' && val != 'undefined' && val){sc += ' ' + attr + '="' + val + '"';}}else{sc += ' ' + attr + '="' + val + '"';}return sc;},navToMenu:function (to){if ('top' == to){$('#lps_shortcode_popup_container').scrollTop(0);return;}var $container = $('#lps_shortcode_popup_container .shortcode-settings .inner');var $elemTo = $(to);$('.lps-ui-menu li').removeClass('selected');$container.scrollTop($elemTo.offset().top - $container.offset().top + $container.scrollTop());$('#menu-' + to.replace('#','')).addClass('selected');$('#lps_shortcode_popup_container_current_menu').val('#menu-' + to.replace('#',''));},embedShortcode:function (){var lps_val = $('#lps_preview_embed_shortcode').html();if (lpsCurrentEditorId != ''){lpsCurrentEditor.setContent(lps_val);}else{if (lpsCurrentEditorType === 'tinymce'){lpsCurrentEditor.insertContent(lps_val);}else if (lpsCurrentEditorType === 'qtags'){QTags.insertContent(lps_val);}else if (lpsCurrentEditorType === 'block'){$('.lps-block-settings-controls').html(lps_val);wp.data.dispatch('core/block-editor').updateBlockAttributes(lpsCustomBlockId.clientId,{lpsContent:lps_val});$('.lps-block-settings-controls').focus();}else{alert(lps_val);}}if ($('#elementor-panel-saver-button-publish').length){elementor.panel.currentView.getCurrentPageView().render();$('#elementor-panel-saver-button-publish').removeClass('elementor-disabled').addClass('elementor-button-success');}LPS_generator.closePopup();},resetCache:function (){$('#lps_reset_cache').removeClass('lps-update-blink');$.ajax({type:'GET',url:lpsGenVars.ajaxUrl + '?action=lps_reset_cache&no-cache=on',cache:false,}).done(function (response){if (response){$('#lps_reset_cache').addClass('lps-update-blink');}});},closePopup:function (){$('body').css({position:'relative'});$('#lps_shortcode_popup_container').hide();$('#lps_shortcode_popup_container_bg').hide();$('#lps_preview_embed_shortcode').html('');},selectTypeImg:function (val){const initialVal = $('#lps_output').val();if (initialVal !== val && 'slider' === val){if ($('#lps_slideratio').val() === ''){$('#lps_slideratio').val('4/5');$('#lps_image_placeholder').val('auto');$('#lps_slideslides').val(3);$('#lps_centermode').val('true');$('#lps_css').val('');}}$('#lps_output').val(val);LPS_generator.configureShortcode(true);},isScrolledIntoView:function (elem,maxh){var st = elem.offset().top;return 10 <= st && st <= maxh ? true:false;},menuTabNav:() =>{const items = document.querySelectorAll('#lps_shortcode_popup_container .lps-ui-menu a');if (items){items.forEach((item) =>{item.addEventListener('keydown',() =>{const event = new Event('click',{bubbles:true,cancelable:true,});item.dispatchEvent(event);});});}},scrollMenu:function (){var $menu = $('#lps_shortcode_popup_container .lps-ui-menu');var $elems = $('.settings-group');$elems.each(function (){var menuid = '#menu-' + $(this).attr('id');if (LPS_generator.isScrolledIntoView($(this),200)){$menu.find('li').removeClass('selected');$menu.find(menuid).addClass('selected');$('#lps_shortcode_popup_container_current_menu').val(menuid);}else{$menu.find(menuid).removeClass('selected');}});var cm = $('#lps_shortcode_popup_container_current_menu').val();$menu.find(cm).addClass('selected');},};/* Init and setup functions. */$(document).ready(function (){LPS_generator.init();$('#lps_shortcode_popup_container .shortcode-settings .inner').on('scroll',function (){setTimeout(function (){LPS_generator.scrollMenu();},500);});});if (lpsGenVars.allowIcon === 1 || lpsGenVars.allowIcon === '1'){/* Hookup the button with the tinymce. */$(document).on('tinymce-editor-setup',function (event,editor){editor.settings.toolbar1 += ',lpsbutton';editor.addButton('lpsbutton',{image:lpsGenVars.icon,title:lpsGenVars.title,onclick:function (){lpsCurrentEditor = editor;lpsCurrentEditorType = 'tinymce';lpsCurrentEditorId = '';LPS_generator.openPopup();},});});$(document).ready(function (){/* Hookup the button into the Quick Tags if possible. */if (typeof QTags !== 'undefined'){QTags.addButton('code_shortcode','LPS',lps_qtags_callback);function lps_qtags_callback(){lpsCurrentEditor = QTags;lpsCurrentEditorType = 'qtags';lpsCurrentEditorId = '';LPS_generator.openPopup();}}});}})(jQuery);function lpsRefresh(){LPS_generator.configureShortcode(true);}function lpsRefreshColor(el){const elt = document.getElementById(String(el.id).replace('_field',''));if (elt){elt.value = el.value;lpsRefresh();}}function lpsStyleHelper(){LPS_generator.styleHelper();}function selectTypeImg(val){LPS_generator.selectTypeImg(val);}function lpsMenu(to){LPS_generator.navToMenu(to);}function lpsEmbed(){LPS_generator.embedShortcode();}function lpsResetCache(){LPS_generator.resetCache();}function lpsClose(){LPS_generator.closePopup();}function lpsOpenConfigurator(){LPS_generator.openPopup();}