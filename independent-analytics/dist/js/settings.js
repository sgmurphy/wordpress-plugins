!function(e,t,r,n,o){var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof i[n]&&i[n],s=a.cache||{},l="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function c(t,r){if(!s[t]){if(!e[t]){var o="function"==typeof i[n]&&i[n];if(!r&&o)return o(t,!0);if(a)return a(t,!0);if(l&&"string"==typeof t)return l(t);var p=Error("Cannot find module '"+t+"'");throw p.code="MODULE_NOT_FOUND",p}u.resolve=function(r){var n=e[t][1][r];return null!=n?n:r},u.cache={};var d=s[t]=new c.Module(t);e[t][0].call(d.exports,u,d,d.exports,this)}return s[t].exports;function u(e){var t=u.resolve(e);return!1===t?{}:c(t)}}c.isParcelRequire=!0,c.Module=function(e){this.id=e,this.bundle=c,this.exports={}},c.modules=e,c.cache=s,c.parent=a,c.register=function(t,r){e[t]=[function(e,t){t.exports=r},{}]},Object.defineProperty(c,"root",{get:function(){return i[n]}}),i[n]=c;for(var p=0;p<t.length;p++)c(t[p]);if(r){var d=c(r);"object"==typeof exports&&"undefined"!=typeof module?module.exports=d:"function"==typeof define&&define.amd&&define(function(){return d})}}({"49s9y":[function(e,t,r){var n=e("@swc/helpers/_/_object_spread"),o=e("./modules/user-roles"),i=e("./modules/duplicate-field"),a=e("./modules/email-reports"),s=e("./download");jQuery(function(e){(0,o.UserRoles).setup(),(0,i.FieldDuplicator).setup(),(0,a.EmailReports).setup()}),document.addEventListener("DOMContentLoaded",function(){document.getElementById("iawp-export-views").addEventListener("click",function(e){var t=e.target;t.textContent=iawpText.exportingPages,t.setAttribute("disabled","disabled");var r=(0,n._)({},iawpActions.export_pages);jQuery.post(ajaxurl,r,function(e){(0,s.downloadCSV)("exported-pages.csv",e),t.textContent=iawpText.exportPages,t.removeAttribute("disabled")})}),document.getElementById("iawp-export-referrers").addEventListener("click",function(e){var t=e.target;t.textContent=iawpText.exportingReferrers,t.setAttribute("disabled","disabled");var r=(0,n._)({},iawpActions.export_referrers);jQuery.post(ajaxurl,r,function(e){(0,s.downloadCSV)("exported-referrers.csv",e),t.textContent=iawpText.exportReferrers,t.removeAttribute("disabled")})}),document.getElementById("iawp-export-geo").addEventListener("click",function(e){var t=e.target;t.textContent=iawpText.exportingGeolocations,t.setAttribute("disabled","disabled");var r=(0,n._)({},iawpActions.export_geo);jQuery.post(ajaxurl,r,function(e){(0,s.downloadCSV)("exported-geo.csv",e),t.textContent=iawpText.exportGeolocations,t.removeAttribute("disabled")})}),document.getElementById("iawp-export-devices").addEventListener("click",function(e){var t=e.target;t.textContent=iawpText.exportingDevices,t.setAttribute("disabled","disabled");var r=(0,n._)({},iawpActions.export_devices);jQuery.post(ajaxurl,r,function(e){(0,s.downloadCSV)("exported-devices.csv",e),t.textContent=iawpText.exportDevices,t.removeAttribute("disabled")})});var e=document.getElementById("iawp-export-campaigns");e&&e.addEventListener("click",function(e){var t=e.target;t.textContent=iawpText.exportingCampaigns,t.setAttribute("disabled","disabled");var r=(0,n._)({},iawpActions.export_campaigns);jQuery.post(ajaxurl,r,function(e){(0,s.downloadCSV)("exported-campaigns.csv",e),t.textContent=iawpText.exportCampaigns,t.removeAttribute("disabled")})})})},{"@swc/helpers/_/_object_spread":"kexvf","./modules/user-roles":"3ea67","./modules/duplicate-field":"98igo","./modules/email-reports":"3SB0r","./download":"ce5U5"}],kexvf:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"_object_spread",function(){return i}),n.export(r,"_",function(){return i});var o=e("./_define_property.js");function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){(0,o._define_property)(e,t,r[t])})}return e}},{"./_define_property.js":"27c3O","@parcel/transformer-js/src/esmodule-helpers.js":"kPSB8"}],"27c3O":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}n.defineInteropFlag(r),n.export(r,"_define_property",function(){return o}),n.export(r,"_",function(){return o})},{"@parcel/transformer-js/src/esmodule-helpers.js":"kPSB8"}],kPSB8:[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],"3ea67":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"UserRoles",function(){return s});var o=e("@swc/helpers/_/_object_spread"),i=e("@swc/helpers/_/_object_spread_props"),a=jQuery,s={setup:function(){var e=this;a("#capabilities-form").on("submit",function(t){t.preventDefault(),e.save()})},save:function(){a("#save-permissions").addClass("saving");var e={};a(".role").each(function(){var t=a(this).find("select").attr("name"),r=a(this).find("select").val();e[t]=r});var t=a("#iawp_white_label").prop("checked"),r=(0,i._)((0,o._)({},iawpActions.update_capabilities),{capabilities:e,white_label:t});jQuery.post(ajaxurl,r,function(e){a("#save-permissions").removeClass("saving")})}}},{"@swc/helpers/_/_object_spread":"kexvf","@swc/helpers/_/_object_spread_props":"c7x3p","@parcel/transformer-js/src/esmodule-helpers.js":"kPSB8"}],c7x3p:[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");function o(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):(function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r.push.apply(r,n)}return r})(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}n.defineInteropFlag(r),n.export(r,"_object_spread_props",function(){return o}),n.export(r,"_",function(){return o})},{"@parcel/transformer-js/src/esmodule-helpers.js":"kPSB8"}],"98igo":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"FieldDuplicator",function(){return i});var o=jQuery,i={setup:function(){var e=this;o(".duplicator").each(function(t,r){o(this).find(".duplicate-button").on("click",function(t){t.preventDefault(),e.createNewEntry(o(r))})}),o(".entry").each(function(){e.attachRemoveEvent(o(this))})},createNewEntry:function(e){var t=e.find(".new-field");if(!this.errorChecks(t)){var r=e.find(".blueprint .entry").clone();r.find("input").val(t.val()),e.next().append(r),t.hasClass("select")?t.find('option[value="'+t.val()+'"').remove():t.val(""),this.resetIndex(e.next(".saved")),this.attachRemoveEvent(r),e.parents("form").removeClass("empty exists"),this.hideNoneMessage(e)}},attachRemoveEvent:function(e){var t=this;e.find(".remove").on("click",function(r){r.preventDefault();var n=o(e).parent(".saved");o(this).parents("form").addClass("unsaved"),o(this).parent().remove(),t.resetIndex(n)})},resetIndex:function(e){var t=0;e.find("input").each(function(){o(this).attr("name",o(this).attr("data-option")+"["+t+"]"),o(this).attr("id",o(this).attr("data-option")+"["+t+"]"),t++}),e.parents("form").addClass("unsaved")},errorChecks:function(e){if(""==e.val())return e.parents("form").addClass("empty"),!0;var t=[];return e.parent().parent().next(".saved").find(".entry").each(function(){t.push(o(this).find("input").val())}),!!t.includes(e.val())&&(e.parents("form").addClass("exists"),!0)},hideNoneMessage:function(e){e.parent().find(".none").hide()}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"kPSB8"}],"3SB0r":[function(e,t,r){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(r),n.export(r,"EmailReports",function(){return s});var o=e("@swc/helpers/_/_object_spread"),i=e("@swc/helpers/_/_object_spread_props"),a=jQuery,s={setup:function(){var e=this;this.disableTestButtonIfEmpty(),a(".email-reports .new-address input").on("change",function(){a("#test-email").attr("disabled",!0)}),a(".email-reports .saved .remove").on("click",function(){e.disableTestButtonIfEmpty()}),a("#"+a("#iawp_email_report_interval").val()+"-interval-note").show(),a("#iawp_email_report_interval").on("change",function(){a(".interval-note").hide(),a("#"+a(this).val()+"-interval-note").show()});var t=a("#iawp_email_report_colors"),r=a(".iawp-color-picker"),n={change:function(e,n){var o=[];r.each(function(){o.push(a(this).iris("color"))}),t.val(o.join(","))}};r.each(function(){a(this).wpColorPicker(n)}),a("#test-email").on("click",function(t){t.preventDefault(),e.sendTestEmail()}),a("#preview-email").on("click",function(r){r.preventDefault(),e.previewEmail(t.val())}),a("#close-email-preview").on("click",function(e){e.preventDefault(),a("#email-preview-container").removeClass("visible"),a("#email-preview").html("")})},disableTestButtonIfEmpty:function(){0==a(".email-reports .saved input").length&&a("#test-email").attr("disabled",!0)},sendTestEmail:function(){var e=(0,o._)({},iawpActions.test_email);a("#test-email").addClass("sending"),jQuery.post(ajaxurl,e,function(e){a("#test-email").removeClass("sending"),e?a("#test-email").addClass("sent"):a("#test-email").addClass("failed"),setTimeout(function(){a("#test-email").removeClass("sent failed")},1e3)})},previewEmail:function(e){var t=(0,i._)((0,o._)({},iawpActions.preview_email),{colors:e});a("#preview-email").addClass("sending"),jQuery.post(ajaxurl,t,function(e){a("#preview-email").removeClass("sending"),e.success?(a("#preview-email").addClass("sent"),a("#email-preview").html(e.data.html),a("#email-preview-container").addClass("visible")):a("#preview-email").addClass("failed"),setTimeout(function(){a("#preview-email").removeClass("sent failed")},1e3)})}}},{"@swc/helpers/_/_object_spread":"kexvf","@swc/helpers/_/_object_spread_props":"c7x3p","@parcel/transformer-js/src/esmodule-helpers.js":"kPSB8"}],ce5U5:[function(e,t,r){t.exports={downloadCSV:function(e,t){var r=new Blob([t],{type:"text/csv"}),n=window.document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)},downloadJSON:function(e,t){var r=new Blob([t],{type:"application/json"}),n=window.document.createElement("a");n.href=window.URL.createObjectURL(r),n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}},{}]},["49s9y"],"49s9y","parcelRequirec571");