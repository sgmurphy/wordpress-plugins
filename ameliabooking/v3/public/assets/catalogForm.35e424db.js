var fa=Object.defineProperty;var Yt=Object.getOwnPropertySymbols;var va=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable;var Qt=(_,h,c)=>h in _?fa(_,h,{enumerable:!0,configurable:!0,writable:!0,value:c}):_[h]=c,tt=(_,h)=>{for(var c in h||(h={}))va.call(h,c)&&Qt(_,c,h[c]);if(Yt)for(var c of Yt(h))ga.call(h,c)&&Qt(_,c,h[c]);return _};import{A as ya,r as x,o as ha,a as ze,t as ba,c as k,E as ka,b as t,d as ge,w as R,e as i,f as l,g as at,u as e,i as ue,n as O,h as kt,j as it,k as a,l as pe,_ as Re,m as d,p as G,q as Ot,s as F,v as ae,F as Z,x as ye,y as re,z as Te,B as Xt,C as st,D as Ke,I as Ca,G as yt,H as se,J as ct,K as Ct,L as Ie,M as $a,N as Sa,P as wa,R as xa,O as Ia,Q as Pa,S as Da,T as Ea,U as La,V as Ta,W as Ba,X as Fa,Y as za,Z as Aa,$ as Ye,a0 as Ft,a1 as Ra,a2 as Pt,a3 as Mt,a4 as gt,a5 as Zt,a6 as Oa,a7 as Ma,a8 as ea,a9 as He,aa as Qe,ab as Va,ac as Na,ad as Ua,ae as Vt,af as Wa,ag as ta,ah as ja,ai as Ha,aj as aa,ak as qa,al as Ga,am as zt,an as $t,ao as At,ap as Nt,aq as ht,ar as St,as as Me,at as wt,au as xt,av as Ja,aw as Ya,ax as Qa,ay as Xa,az as Za,aA as Ka}from"./stepForm.50bf3069.js";const ei={key:0,class:"am-dialog__title"},ti={inheritAttrs:!1},dt=Object.assign(ti,{props:{modelValue:{type:[String,Array,Object,Number,Boolean]},modalClass:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number],default:"50%"},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"15vh"},modal:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},customClass:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},center:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},closeIcon:{type:[Object,Function],default:ya},customStyles:{type:Object},usedForShortcode:{type:Boolean,default:!1}},emits:["close","open","closed","opened","update:modelValue"],setup(_,{emit:h}){const c=_,g=x(null);ha(()=>{C()}),ze(()=>{c.usedForShortcode&&(g.value.rendered=!0),C()});function C(){c.customStyles&&Object.keys(c.customStyles).forEach(s=>{g.value.style[s]=c.customStyles[s]})}let{modelValue:L}=ba(c),m=k({get:()=>L.value,set:s=>{h("update:modelValue",s)}});return(s,p)=>{const b=ka;return t(),ge(b,{ref_key:"amDialogRef",ref:g,modelValue:e(m),"onUpdate:modelValue":p[0]||(p[0]=S=>ue(m)?m.value=S:m=S),"modal-class":`am-dialog-popup ${c.modalClass}`,title:c.title,width:c.width,fullscreen:c.fullscreen,top:c.top,modal:c.modal,"append-to-body":c.appendToBody,"lock-scroll":c.lockScroll,"custom-class":c.customClass,"open-delay":c.openDelay,"close-delay":c.closeDelay,"close-on-click-modal":c.closeOnClickModal,"close-on-press-escape":c.closeOnPressEscape,"show-close":c.showClose,"before-close":c.beforeClose,center:c.center,"destroy-on-close":c.destroyOnClose,"close-icon":c.closeIcon,onClose:p[1]||(p[1]=S=>h("close")),onOpen:p[2]||(p[2]=S=>h("open")),onClosed:p[3]||(p[3]=S=>h("closed")),onOpened:p[4]||(p[4]=S=>h("opened"))},{title:R(()=>[_.title?(t(),i("span",ei,l(_.title),1)):at(s.$slots,"title",{key:1})]),footer:R(()=>[at(s.$slots,"footer")]),default:R(()=>[at(s.$slots,"default")]),_:3},8,["modelValue","modal-class","title","width","fullscreen","top","modal","append-to-body","lock-scroll","custom-class","open-delay","close-delay","close-on-click-modal","close-on-press-escape","show-close","before-close","center","destroy-on-close","close-icon"])}}}),ai={name:"IconComponent"},It=Object.assign(ai,{props:{icon:{type:String,required:!0}},setup(_){return(h,c)=>(t(),i("span",{class:O(`am-icon-${_.icon}`)},null,2))}});const ii={class:"am-cat__header-inner"},si={class:"am-cat__back-btn"},li={key:0,class:"am-cat__cart-btn"},oi={class:"am-cat__cart-number"},ni={name:"MainHeader"},Ut=Object.assign(ni,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(_,{emit:h}){const c=_;let g=kt({components:{IconComponent:It},template:'<IconComponent icon="arrow-left"></IconComponent>'}),C=kt({components:{IconComponent:It},template:'<IconComponent icon="cart"/>'});function L(){h("goBack")}const m=it();function s(){Ot(m),h("goToCart")}return(p,b)=>(t(),i("div",ii,[a("div",si,[e(c).backBtnVisibility?(t(),ge(Re,{key:0,prefix:e(g),category:"secondary",type:_.btnType,size:_.btnSize,onClick:L},{default:R(()=>[pe(l(e(c).btnString),1)]),_:1},8,["prefix","type","size"])):d("",!0)]),e(c).cartBtnVisibility?(t(),i("div",li,[a("span",oi,l(e(c).cartItemsNumber),1),G(Re,{category:"secondary",type:_.btnType,size:_.btnSize,round:!0,"icon-only":!0,icon:e(C),onClick:s},null,8,["type","size","icon"])])):d("",!0)]))}});const ci={class:"am-cat__sidemenu-item__wrapper"},ri=["onClick"],ui={key:0,class:"am-cat__sidemenu-footer"},di={class:"am-cat__sidemenu-footer__text"},mi=["href"],pi={name:"SideMenu"},_i=Object.assign(pi,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(_,{emit:h}){const c=_;function g(m){h("click",m)}let C=F("amColors"),L=k(()=>({"--am-c-csm-text-op10":ae(C.value.colorSbText,.1),"--am-c-csm-primary-op10":ae(C.value.colorPrimary,.1),"--am-c-csm-text-op60":ae(C.value.colorSbText,.6),"--am-c-csm-text-op80":ae(C.value.colorSbText,.8)}));return(m,s)=>(t(),i("div",{class:"am-cat__sidemenu",style:re(e(L))},[a("div",ci,[(t(!0),i(Z,null,ye(_.menuItems,(p,b)=>(t(),i("div",{key:b,class:O(["am-cat__sidemenu-item",{"am-active":e(c).initSelection===p[e(c).identifier]}]),onClick:()=>g(p)},l(p[e(c).nameIdentifier]),11,ri))),128))]),e(c).companyEmail?(t(),i("div",ui,[a("span",di,l(e(c).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(c).companyEmail}`},l(e(c).companyEmail),9,mi)])):d("",!0)],4))}});const fi={name:"MainContent"},Wt=Object.assign(fi,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(_,{expose:h}){let c=x(null),g=x(0),C=x(null),L=x(0),m=x(null),s=x(0),p=x(null),b=x(null),S=x(0);window.addEventListener("resize",$);function $(){Te(()=>{c.value&&(g.value=c.value.offsetWidth),C.value&&(L.value=C.value.offsetWidth),m.value&&(s.value=m.value.offsetWidth)})}ze(()=>{Te(()=>{if(m.value&&p.value){let N=m.value.offsetHeight-p.value.offsetHeight-2;S.value=N<=656?656:N}$()})}),h({catHeaderWidth:g,catFormWidth:s,catContainerWidth:L});let I=F("amColors"),f=k(()=>({"--am-h-cat-content":`${S.value}px`,"--am-c-scroll-op30":ae(I.value.colorPrimary,.3),"--am-c-scroll-op10":ae(I.value.colorPrimary,.1)}));return(N,ie)=>(t(),i("div",{class:O(["am-cat__wrapper",_.wrapperClass])},[a("div",{ref_key:"catHeader",ref:c,class:"am-cat__header"},[at(N.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:C,class:"am-cat__main"},[at(N.$slots,"side"),a("div",{ref_key:"catForm",ref:m,class:O(["am-cat__form",_.formClass]),style:re(e(f))},[a("div",{ref_key:"catHeading",ref:p,class:O(["am-cat__heading",_.headingClass])},[at(N.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:b,class:O(["am-cat__content",_.contentClass])},[at(N.$slots,"content")],2)],6)],512)],2))}}),vi={name:"AmImagePlaceholder"},rt=Object.assign(vi,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(_){const h=_;function c(C){return C.pictureFullPath?{backgroundImage:`url(${C.pictureFullPath})`}:{backgroundColor:`${Xt.value[Math.floor(Math.random()*Xt.value.length)]}`}}function g(C){return C.pictureFullPath?"":("firstName"in C?`${C.firstName} ${C.lastName}`:C.name).split(" ").map(m=>m.charAt(0)).join("").toUpperCase().substring(0,h.trimString).replace(/[^\w\s]/g,"")}return(C,L)=>(t(),i("span",{class:O(e(h).itemClass),style:re(tt({},c(e(h).itemData)))},l(g(e(h).itemData)),7))}}),Rt=st(window.wpAmeliaSettings),Kt=st(window.wpAmeliaLabels);function bt(_,h,c,g=null,C=null){let L=[],m=_&&_.service?_.service.split(",").map(s=>parseInt(s)):null;return h&&h.serviceList.forEach(s=>{g?g in c.entitiesRelations&&s.id in c.entitiesRelations[g]&&(C?c.entitiesRelations[g][s.id].find(p=>p===C):!0)&&s.status==="visible"&&s.show&&!L.filter(p=>p===s.id).length&&(!m||m.includes(s.id))&&L.push(s.id):c.employees.forEach(p=>{p.id in c.entitiesRelations&&s.id in c.entitiesRelations[p.id]&&(C?c.entitiesRelations[p.id][s.id].find(b=>b===C):!0)&&s.status==="visible"&&s.show&&!L.filter(b=>b===s.id).length&&(!m||m.includes(s.id))&&L.push(s.id)})}),L}function ia(_,h){let c=[],g=[];_.employees.forEach(m=>{if(m.id in _.entitiesRelations&&h in _.entitiesRelations[m.id]){let s=m.serviceList.find(p=>p.id===h);c.push(s.maxCapacity),g.push(s.minCapacity)}});let C=g.reduce((m,s)=>s<m?s:m,g[0]),L=c.reduce((m,s)=>s>m?s:m,c[0]);return C!==L?`${C}/${L}`:C}function sa(_){let h=Math.floor(_/3600),c=_/60%60;return(h?h+Kt.h+" ":"")+" "+(c?c+Kt.min:"")}function ut(_,h){let c=[];_.employees.forEach(L=>{if(L.id in _.entitiesRelations&&h in _.entitiesRelations[L.id]){let m=L.serviceList.find(s=>s.id===h);c.push(m.price)}});let g=c.reduce((L,m)=>m<L?m:L,c[0]),C=c.reduce((L,m)=>m>L?m:L,c[0]);return g!==C?{price:`${Ke(g,!Rt.payments.hideCurrencySymbolFrontend)} - ${Ke(C,!Rt.payments.hideCurrencySymbolFrontend)}`,min:g,max:C}:{price:Ke(g,Rt.payments.hideCurrencySymbolFrontend),min:g,max:C}}function Ae(_,h){let c=[];return _.employees.forEach(g=>{g.id in _.entitiesRelations&&h in _.entitiesRelations[g.id]&&_.entitiesRelations[g.id][h].length&&_.locations.forEach(C=>{_.entitiesRelations[g.id][h].some(L=>L===C.id)&&!c.find(L=>L===C.id)&&c.push(C)})}),c}function jt(_,h){let c=[],g=Object.keys(_.entitiesRelations);return h.bookable.forEach(C=>{let L=[];g.forEach(m=>{_.entitiesRelations[m][C.service.id]&&!L.find(s=>s?s.id===parseInt(m):!0)&&L.push(_.employees.find(s=>s.id===parseInt(m)))}),L.length||c.push(!1)}),c.filter(C=>C===!1).length}function Ht(_,h,c){let g=[],C=Object.keys(_.entitiesRelations),L=c&&c.employee?c.employee.split(",").map(s=>parseInt(s)):null,m=x(L?_.unfilteredEmployees.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredEmployees);return h.bookable.forEach(s=>{let p=[];s.providers.length?s.providers.forEach(b=>{s.locations.length?s.locations.forEach(S=>{m.value.find($=>$.id===b.id)&&_.entitiesRelations[b.id][s.service.id]&&_.entitiesRelations[b.id][s.service.id].indexOf(S.id)!==-1&&!p.find($=>$.id===b.id)&&p.push(m.value.find($=>$.id===b.id))}):m.value.find(S=>S.id===b.id)&&!p.find(S=>S.id===b.id)&&p.push(m.value.find(S=>S.id===b.id))}):C.forEach(b=>{s.locations.length?s.locations.forEach(S=>{_.entitiesRelations[b][s.service.id]&&_.entitiesRelations[b][s.service.id].indexOf(S.id)!==-1&&m.value.find($=>$.id===parseInt(b))&&!p.find($=>$.id===parseInt(b))&&p.push(m.value.find($=>$.id===parseInt(b)))}):_.entitiesRelations[b][s.service.id]&&m.value.find(S=>S.id===parseInt(b))&&!p.find(S=>S.id===parseInt(b))&&p.push(m.value.find(S=>S.id===parseInt(b)))}),g.push(!!p.length)}),!g.filter(s=>s===!1).length}function la(_,h,c){let g=[],C=Object.keys(_.entitiesRelations),L=c&&c.employee?c.employee.split(",").map(s=>parseInt(s)):null,m=x(L?_.unfilteredEmployees.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredEmployees);return h.bookable.forEach(s=>{s.providers.length?s.providers.forEach(p=>{s.locations.length?s.locations.forEach(b=>{m.value.find(S=>S.id===p.id)&&_.entitiesRelations[p.id][s.service.id].indexOf(b.id)!==-1&&!g.find(S=>S.id===p.id)&&g.push(m.value.find(S=>S.id===p.id))}):m.value.find(b=>b.id===p.id)&&!g.find(b=>b.id===p.id)&&g.push(m.value.find(b=>b.id===p.id))}):C.forEach(p=>{s.locations.length?s.locations.forEach(b=>{_.entitiesRelations[p][s.service.id]&&_.entitiesRelations[p][s.service.id].indexOf(b.id)!==-1&&m.value.find(S=>S.id===parseInt(p))&&!g.find(S=>S.id===parseInt(p))&&g.push(m.value.find(S=>S.id===parseInt(p)))}):_.entitiesRelations[p][s.service.id]&&m.value.find(b=>b.id===parseInt(p))&&!g.find(b=>b.id===parseInt(p))&&g.push(m.value.find(b=>b.id===parseInt(p)))})}),g}function nt(_,h,c){let g=[],C=Object.keys(_.entitiesRelations),L=c&&c.location?c.location.split(",").map(s=>parseInt(s)):null,m=x(L?_.unfilteredLocations.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredLocations);return h.bookable.forEach(s=>{s.locations.length?s.locations.forEach(p=>{m.value.find(b=>b.id===p.id)&&!g.find(b=>b.id===p.id)&&g.push(m.value.find(b=>b.id===p.id))}):C.forEach(p=>{m.value.forEach(b=>{p in _.entitiesRelations&&s.service.id in _.entitiesRelations[p]&&_.entitiesRelations[p][s.service.id].indexOf(b.id)!==-1&&m.value.find(S=>S.id===b.id)&&!g.find(S=>S.id===parseInt(b.id))&&g.push(m.value.find(S=>S.id===b.id))})})}),g}function gi(_,h){let c=[];return _.categories.forEach(g=>{let C=bt(h,g,_);g.packageList=[],_.packages.forEach(L=>{C.forEach(m=>{L.bookable.filter(s=>s.service.id===m).length&&!g.packageList.filter(s=>s===L.id).length&&L.available&&L.status==="visible"&&!jt(_,L)&&Ht(_,L,h)&&g.packageList.push(L.id)})}),g.status==="visible"&&g.serviceList.length&&!!C.length&&(h.show==="packages"?!!g.packageList.length:!0)&&c.push(g)}),c}const yi={class:"am-fcl__item-inner"},hi={class:"am-fcl__item-name"},bi={class:"am-fcl__item-segments"},ki={key:0,class:"am-fcl__item-segments__item"},Ci=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),$i={class:"am-fcl__item-segments__item-count"},Si={key:1,class:"am-fcl__item-segments__item"},wi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),xi={class:"am-fcl__item-segments__item-count"},Ii={class:"am-fcl__item-footer"},Pi=["src"],Di={class:"am-empty__heading"},Ei={class:"am-empty__subheading"},Li={class:"am-empty__text"},Ti={key:0},Bi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Fi={key:1},zi={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Ai={name:"CategoriesList",key:"categoriesList"},Ri=Object.assign(Ai,{setup(_){const h=F("baseUrls");let c=x(null),g=x(0);window.addEventListener("resize",C);function C(){c.value&&(g.value=c.value.offsetWidth)}ze(()=>{c.value&&(g.value=c.value.offsetWidth)});let L=k(()=>g.value<=500?"am-w100":g.value<=600?"am-w50":g.value<=768?"am-w33":""),{nextPage:m}=F("changingPageFunctions",{nextPage:()=>{}});const s=F("settings");let p=it(),b=F("amEntities"),S=F("customizedDataForm"),$=k(()=>S.value.categoriesList.options);const I=F("shortcodeData"),f=k(()=>p.getters["entities/getPreselected"]);let N=F("availableCategories"),ie=k(()=>{let de=[];return b.value.categories.forEach(Y=>{let v=bt(I.value,Y,b.value);Y.packageList=[],b.value.packages.forEach(ce=>{v.forEach(Ce=>{ce.bookable.filter(le=>le.service.id===Ce).length&&!Y.packageList.filter(le=>le===ce.id).length&&ce.available&&ce.status==="visible"&&!jt(b.value,ce)&&Ht(b.value,ce,I.value)&&Y.packageList.push(ce.id)})}),Y.status==="visible"&&Y.serviceList.length&&!!v.length&&(f.value.show==="packages"?!!Y.packageList.length:!0)&&de.push(Y)}),Te(()=>{N.value=JSON.parse(JSON.stringify(de))}),de}),D=F("categorySelected");function B(de){D.value=de,p.commit("booking/setCategoryId",parseInt(de)),yt(p,{},"SelectCategory","appointment",null,null),m()}let n=k(()=>ie.value.length===0);const j=F("labels"),ne=F("localLanguage");let q=k(()=>s.general.usedLanguages.includes(ne.value)),ve=k(()=>{let de=st(tt({},j));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let Y=s.customizedData.cbf.categoriesList.translations;Object.keys(Y).forEach(v=>{Y[v][ne.value]&&q.value?de[v]=Y[v][ne.value]:Y[v].default&&(de[v]=Y[v].default)})}return de}),$e=F("amColors"),V=k(()=>({"--am-c-fcl-card-text-op80":ae($e.value.colorCardText,.8)}));return(de,Y)=>e(n)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:c,class:"am-empty"},[a("img",{src:e(h).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Pi),a("div",Di,l(e(ve).oops),1),a("div",Ei,l(e(f).show!=="packages"?e(ve).no_services_employees:e(ve).no_package_services),1),a("div",Li,[e(f).show!=="packages"?(t(),i("span",Ti,l(e(ve).add_services_employees)+"\xA0 ",1)):d("",!0),a("a",Bi,l(e(ve).add_services_url)+"\xA0 ",1),e(f).show!=="packages"?(t(),i("span",Fi,l(e(ve).and)+"\xA0 ",1)):d("",!0),e(f).show!=="packages"?(t(),i("a",zi,l(e(ve).add_employees_url),1)):d("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:c,class:"am-fcl",style:re(e(V))},[(t(!0),i(Z,null,ye(e(ie),v=>(t(),i("div",{key:v.id,class:O(["am-fcl__item",e(L)])},[a("div",yi,[a("div",{class:"am-fcl__item-content",style:re(e($).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:v.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e($).cardColor&&e($).cardColor.visibility?{backgroundColor:e(ae)(v.color,.1)}:{})},[v.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${v.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):d("",!0),a("div",hi,l(v.name),1),a("div",bi,[(!e(f).show||e(f).show==="services")&&e($).services.visibility?(t(),i("div",ki,[Ci,a("span",$i,l(e(bt)(e(I),v,e(b)).length),1)])):d("",!0),(!e(f).show||e(f).show==="packages")&&v.packageList.length&&e($).packages.visibility?(t(),i("div",Si,[wi,a("span",xi,l(v.packageList.length),1)])):d("",!0)])],4),a("div",Ii,[G(Re,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e($).cardButton.buttonType,suffix:e(Ca),onClick:ce=>B(v.id)},{default:R(()=>[pe(l(e(ve).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Oi=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Mi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Vi=["href"],Ni={class:"am-fs-sb__step-wrapper"},Ui={class:"am-fs-sb__step-inner"},Wi={class:"am-fs-sb__step-icon"},ji={key:0,class:"am-icon-check"},Hi={key:0},qi={key:1},Gi={key:1},Ji={key:0,class:"am-fs-sb__step"},Yi={class:"am-fs-sb__step-inner"},Qi={class:"am-fs-sb__step-icon"},Xi={key:0,class:"am-icon-check"},Zi={key:0,class:"am-fs-sb__support"},Ki=["href"],es={key:1,class:"am-icon-phone"},ts=["href"],as={key:1,class:"am-icon-email"},is={key:0,class:"am-fs-sb__menu-text"},ss={key:2,class:"am-no-services"},ls=["src"],os={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ns={style:{"font-size":"14px"}},cs={href:"https://wpamelia.com/employees/",rel:"nofollow"},rs={name:"CategoryBooking"},qt=Object.assign(rs,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(_,{emit:h}){const c=_;let g=x(null),C=x();se("containerWidth",C);let L=x(!1);window.addEventListener("resize",m);function m(){g.value&&(C.value=g.value.offsetWidth)}ze(()=>{Te(()=>{g.value&&(C.value=g.value.offsetWidth)}),yt(n,{containerWidth:C},"ContainerWidth","appointment",null,null)});const s=F("settings"),p=s.customizedData?s.customizedData.sbsNew:ct.sbsNew;p&&se("amCustomize",p);let b=k(()=>{let o={heading:!0,phone:!0,email:!0};return"supportHeading"in p.sidebar.options&&(o.heading=p.sidebar.options.supportHeading.visibility),"companyPhone"in p.sidebar.options&&(o.phone=p.sidebar.options.companyPhone.visibility),"companyEmail"in p.sidebar.options&&(o.email=p.sidebar.options.companyEmail.visibility),o});const S=x(s.customizedData?s.customizedData.fonts:ct.fonts);se("amFonts",S);let $=x(!1);se("sidebarCollapsed",$);let I=x(""),f=F("bookingDialogWidth");Ct($,o=>{o?setTimeout(()=>{I.value="am-collapsed",setTimeout(()=>{f.value="592px"},200)},1e3):(I.value="",f.value="760px")}),ze(()=>{p.sidebar.options.self.visibility||(f.value="520px")});let N=x(null),ie=x(0);ze(()=>{setTimeout(()=>{Te(()=>{N.value&&setTimeout(()=>{N.value&&(ie.value=N.value.offsetHeight)},200)})},800)});let D=x(p.sidebar?p.sidebar.options.self.visibility:!0);const B=F("baseUrls"),n=it();let j=k(()=>{let o=n.getters["entities/getOriginalPreselected"],y={category:n.state.booking.appointment.categoryId?[n.state.booking.appointment.categoryId]:[],counter:n.state.entities.preselected.counter,employee:n.state.booking.appointment.providerId?[n.state.booking.appointment.providerId]:[],hasApiCall:n.state.entities.preselected.hasApiCall,location:n.state.booking.appointment.locationId?[n.state.booking.appointment.locationId]:[],service:n.state.booking.appointment.serviceId?[n.state.booking.appointment.serviceId]:[],package:n.state.booking.packageId?[n.state.booking.packageId]:[],show:n.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(o).forEach(P=>{P in y||(y[P]=o[P])}),y});n.commit("entities/setPreselected",j.value);let ne=F("restoreFormData");const q=Ie($a),ve=Ie(Sa),$e=Ie(wa),V=Ie(xa),de=Ie(Ia),Y=Ie(Pa),v=Ie(Da),ce=Ie(Ea),Ce=Ie(La),le=Ie(Ta),Q=Ie(Ba),Pe=Ie(Fa),Fe=Ie(za),Oe=Ie(Aa),r=x(Ye(n)?[q,Y,le,Q,Ce]:[q,Y,Q,Ce]);se("stepsArray",r);const K=F("labels"),he=F("localLanguage");let H=k(()=>s.general.usedLanguages.includes(he.value)),De=Ft(n),oe=k(()=>{let o=st(tt({},K));return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(y=>{if(y!=="colors"&&s.customizedData.sbsNew[y].translations){let P=s.customizedData.sbsNew[y].translations;Object.keys(P).forEach(J=>{P[J][he.value]&&H.value?o[J]=P[J][he.value]:P[J].default&&(o[J]=P[J].default)})}}),o});se("amLabels",oe);let qe=k(()=>{let o={};if(s.customizedData){let y=s.customizedData.sbsNew[r.value[A.value].key]?s.customizedData.sbsNew[r.value[A.value].key].translations:null;s.customizedData&&y&&Object.keys(y).forEach(P=>{y[P][he.value]&&H.value?o[P]=y[P][he.value]:y[P].default&&(o[P]=y[P].default)})}return Object.keys(o).length?o:K}),Ee=k(()=>{let o="filled";return s.customizedData&&s.customizedData.sbsNew[r.value[A.value].key]&&(o=s.customizedData.sbsNew[r.value[A.value].key].options.primaryFooterButton.buttonType),o});se("primFooterBtnType",Ee),se("primDescBtnType",Ee);let X=k(()=>{let o="text";return s.customizedData&&s.customizedData.sbsNew[r.value[A.value].key]&&s.customizedData.sbsNew[r.value[A.value].key].options.secondaryFooterButton&&(o=s.customizedData.sbsNew[r.value[A.value].key].options.secondaryFooterButton.buttonType),o}),U=k(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),z=k(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function te(o,y){let P="";if(s.customizedData){let J=s.customizedData.sbsNew[y]?s.customizedData.sbsNew[y].translations:null;s.customizedData&&J&&J[o]&&(P===""&&J[o][he.value]&&H.value?P=J[o][he.value]:P===""&&J[o].default&&(P=J[o].default))}return P||K[o]}let Ve=k(()=>Ra(n.getters["entities/getEmployeeServices"](n.getters["booking/getSelection"])));function mt(){let o=n.getters["entities/getPreselected"];if(o.show==="packages")o.package.length>0&&(r.value.splice(0,1),ee.value.splice(0,1),lt()),We();else{me();let y=n.getters["entities/filteredEmployees"](n.getters["booking/getSelection"]).length<=1,P=!p.initStep.options.employee.visibility,J=n.getters["entities/filteredLocations"](n.getters["booking/getSelection"]).length<=1,Le=!p.initStep.options.location.visibility;o.service.length>0&&(o.employee.length>0||y||P)&&(o.location.length>0||J||Le)&&(Ve.value.availability?(r.value.splice(0,1,Oe),ee.value.splice(0,1)):(r.value.splice(0,1),ee.value.splice(0,1)),We())}}function Se(o,y,P,J){o.value.map((Ge,Ze)=>y.includes(Ge.name)?Ze:null).filter(Ge=>Ge!==null).reverse().forEach(Ge=>{o.value.splice(Ge,1)});let Je={value:J};P.forEach(Ge=>{o.value.indexOf(Ge)===-1&&(n.getters["entities/getPreselected"].show==="packages"&&n.getters["entities/getPreselected"].package.length>0?o.value.splice(Je.value,0,Ge):o.value.splice(Je.value+1,0,Ge))})}se("goToPackageStep",{goToPackageStep:Be});function Be(o){n.commit("booking/setPackageId",o.id),n.commit("booking/setBookableType","package"),n.commit("booking/setMultipleAppointments",Pt(0,o)),n.commit("booking/setMultipleAppointmentsIndex",0);let y=o.bookable.reduce((Le,Je)=>Le+Je.maximumScheduled,0),P=[],J=[];r.value[0]!==ve&&P.push("ExtrasStep"),r.value[0]!==Y&&P.push("DateTimeStep"),r.value[0]!==le&&P.push("CartStep"),y>0?J=J.concat([ce,v,$e]):J.push($e),Se(r,P,J,A.value),Se(ee,P,[],A.value),We(),ot()}function lt(){let y=n.state.entities.packages.find(Le=>Le.id===n.getters["booking/getPackageId"]).bookable.reduce((Le,Je)=>Le+Je.maximumScheduled,0),P=[],J=[];r.value.find(Le=>Le.name==="ExtrasStep")&&P.push("ExtrasStep"),r.value.find(Le=>Le.name==="DateTimeStep")&&P.push("DateTimeStep"),y>0?J=J.concat([ce,v,$e]):J.push($e),Se(r,P,J,A.value),Se(ee,P,[],A.value),We(),ot()}function pt(){n.commit("booking/setBookableType","appointment"),n.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),n.commit("booking/setPackageId",null),n.commit("booking/setMultipleAppointmentsIndex",0),gt(n);let o=[];r.value[0]!==Y&&(Ye(n)&&o.push(le),o.push(Y)),r.value[0]!==ve&&w.value&&w.value.length&&o.push(ve),Se(r,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],o,A.value-1),Se(ee,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],A.value),We()}se("goToRecurringStep",{goToRecurringStep:W}),se("removeRecurringStep",{removeRecurringStep:T});function W(){Ye(n)&&na();let o=0;for(let y=0;y<r.value.length;y++)if(r.value[y].name==="DateTimeStep"){o=y;break}r.value.splice(o+1,0,V),r.value.splice(o+2,0,de),We(),ot()}function T(){for(let o=r.value.length-1;o>=0;o--)(r.value[o].name==="RecurringStep"||r.value[o].name==="RecurringSummary")&&r.value.splice(o+1,1);Ye(n)&&oa(A.value),We()}let w=k(()=>{let o=n.getters["entities/getService"](n.getters["booking/getServiceId"]);return o?o.extras:[]});function me(){w.value.length&&!r.value.find(o=>o.name==="ExtrasStep")&&(r.value.splice(A.value+1,0,ve),We()),ee.value.find(o=>o.name==="ExtrasStep")&&!Object.keys(w.value).length&&(r.value.splice(1,1),ee.value.splice(1,1)),c.showCart||gt(n)}se("initDataChanges",{changeInitStepDataService:me});const A=x(0);se("stepIndex",A);let Ne=F("stepName",x(""));Ct(A,(o,y)=>{o<ee.value.length&&(ee.value[y].selected=!1,ee.value[o].selected=!0),o===ee.value.length&&(ee.value[y].selected=!1),Ne.value=r.value[o].name});let _t=x(!1);se("goBackToPackageBooking",_t);function Dt(){_e(!1),ke.value||(r.value[A.value].name===$e.name&&pt(),r.value[A.value].name===V.name&&(r.value.splice(A.value,2),ee.value.splice(A.value,2),Ye(n)&&(r.value.splice(A.value,0,le),Se(ee,[],[],A.value),We())),r.value[A.value].name===ce.name&&(_t.value=!0),A.value=A.value-1),et.value=!et.value}function ot(){ke.value||(ee.value[A.value].finished=!0,A.value=A.value+1)}let ft=k(()=>n.getters["entities/getReady"]),Et=k(()=>n.getters["booking/getLoading"]),Xe=k(()=>n.getters["booking/getBooked"]),Lt=k(()=>n.getters["booking/getPaymentGateway"]),vt=x(!1),we=x(!1),et=x(!1);function Tt(){vt.value=!0}function M(){vt.value=!1}function E(){et.value=!0}function u(){et.value=!1}function _e(o){we.value=o}function xe(){Xe.value&&(Xe.value.customerCabinetUrl?window.location.href=Xe.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:xe});let ke=x(!1);se("changingStepsFunctions",{nextStep:ot,previousStep:Dt,footerButtonClick:Tt,footerButtonReset:M,footerBtnDisabledUpdater:_e,headerButtonPreviousClick:E,headerButtonPreviousReset:u,footerBtnDisabled:we,footerButtonClicked:vt,headerButtonPreviousClicked:et,navigateInsideStep:ke});const ee=x([]);se("sidebarSteps",ee);function Ue(o){ee.value[A.value].stepSelectedData.filter(y=>y.reference===o.reference).length?ee.value[A.value].stepSelectedData.forEach((y,P,J)=>{y.reference===o.reference&&o.value&&o.value!==y.value&&(y.value=o.value),y.reference===o.reference&&!o.value&&J.splice(P,1)}):o.value&&ee.value[A.value].stepSelectedData.push(o),ee.value[A.value].stepSelectedData.sort((y,P)=>y.position-P.position)}function fe(){r.value.forEach((o,y)=>{if(o.name!=="CongratulationsStep"){let P=o.sidebarData.label,J={name:o.name,key:o.key,label:oe.value[P],labelKey:P,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===A.value};ee.value.splice(y,0,J)}})}Mt(()=>{fe(),mt()}),ze(()=>{switch(n.getters["booking/getBookableType"]){case"appointment":c.showCart||gt(n);break}if(c.showCart&&Zt(r,A),ne.value){r.value.splice(0,r.value.length),ee.value.splice(0,ee.value.length),A.value=0,ne.value.steps.forEach(y=>{switch(y){case"packageStep":r.value.push(Fe);break;case"bringingAnyone":r.value.push(Oe);break;case"initStep":r.value.push(q);break;case"packageInfoStep":r.value.push($e);break;case"packageAppointmentsStep":r.value.push(v);break;case"packageAppointmentsListStep":r.value.push(ce);break;case"extrasStep":r.value.push(ve);break;case"dateTimeStep":r.value.push(Y);break;case"recurringStep":r.value.push(V);break;case"recurringSummary":r.value.push(de);break;case"cartStep":r.value.push(le);break;case"infoStep":r.value.push(Q);break;case"paymentStep":r.value.push(Pe);break;case"congratulations":r.value.push(Ce);break}let P=ne.value.sidebar.find(J=>J.key===y);We(),typeof P!="undefined"&&P.data&&P.data.forEach(J=>{Ue({reference:J.reference,position:J.position,value:J.value})}),A.value++}),n.commit("booking/setLoading",!1);let o=-1;ne.value.result==="success"?o=r.value.length-1:(ne.value.result==="error"||ne.value.result==="canceled")&&(o=r.value.length-2);for(let y=0;y<=o;y++)r.value[y].finished=!0;for(let y=0;y<=o-1;y++)ee.value[y].finished=!0,ee.value[y].selected=!1;(ne.value.result==="error"||ne.value.result==="canceled")&&(ee.value[o].finished=!1,ee.value[o].selected=!0),A.value=o}});function We(){r.value.forEach((o,y)=>{if(o.name!=="CongratulationsStep"&&!ee.value.find(P=>P.labelKey===o.sidebarData.label)){let P=o.sidebarData.label,J={name:o.name,key:o.key,label:oe.value[P],labelKey:P,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===A.value};ee.value.splice(y,0,J)}})}se("sidebarStepsFunctions",{sidebarDataCollector:Ue}),se("addPaymentsStep",{addPaymentsStep:Gt}),se("removePaymentsStep",{removePaymentsStep:Jt});function Gt(){r.value.splice(r.value.length-1,0,Pe),We()}function Jt(){let o=["PaymentStep"];Se(r,o,[],A.value),Se(ee,o,[],A.value)}function oa(o){Se(r,[],[le],o),Se(ee,[],[],o)}function na(){Se(r,["CartStep"],[],A.value),Se(ee,["CartStep"],[],A.value)}function ca(){if(n.getters["entities/getPreselected"].show==="packages"){let y=n.getters["booking/getPackageId"]?[n.getters["entities/getPackage"](n.getters["booking/getPackageId"])]:n.getters["entities/getPackages"];return y.length>0&&y.filter(P=>P.price>0).length===y.length}if(!n.getters["booking/getPackageId"]){let y=n.getters["booking/getServiceId"]?[n.getters["entities/getService"](n.getters["booking/getServiceId"])]:n.getters["entities/getServices"],P=0;for(let J of y){let Le=n.getters["booking/getEmployeeId"]?n.getters["entities/getEmployee"](n.getters["booking/getEmployeeId"])?[n.getters["entities/getEmployee"](n.getters["booking/getEmployeeId"])]:[]:n.getters["entities/getEmployees"],Je=n.getters["booking/getBookingDuration"];if(Le.filter(Ze=>Ze.serviceList.find(je=>je.id===J.id&&(je.price>0||je.customPricing&&je.customPricing.enabled&&(Object.values(je.customPricing.durations).length===Object.values(je.customPricing.durations).filter(Bt=>Bt.price>0).length||Je&&je.customPricing.durations[Je].price>0)))).length===Le.filter(Ze=>Ze.serviceList.find(je=>je.id===J.id)).length)P++;else{let Ze=n.getters["booking/getSelectedExtras"].length?n.getters["booking/getSelectedExtras"]:[];Ze.length>0&&Ze.reduce((je,Bt)=>je+Bt.price,0)>0&&P++}}return y.length>0&&P===y.length}return n.getters["entities/getPackage"](n.getters["booking/getPackageId"]).price>0}let ra=k(()=>Ft(n).length?Oa(n)!==0:ca());Ma(()=>{let o=Ft(n);!o[0].serviceId&&Object.keys(o[0].services).length===0&&h("emptiedCart"),!ne.value&&!ra.value?Jt():ne.value||r.value.indexOf(Pe)===-1&&Gt()},{flush:"post"});function ua(){ee.value.forEach(o=>{o.finished=!1,o.selected=!1}),r.value.forEach(o=>{o.finished=!1,o.selected=!1}),A.value=0,aa(n,!0),qa(n),gt(n),h("addToCart")}function da(){let o=n.getters["booking/getCurrentCartItem"],y=n.getters["booking/getAllMultipleAppointments"];o?(n.commit("booking/setCartItem",o),n.commit("booking/setCartItemIndex",y.length-1),n.commit("booking/setCurrentCartItem",null)):(y.pop(),n.commit("booking/setCartItemIndex",y.length-1),n.commit("booking/setServiceId",y[y.length-1].serviceId),n.commit("booking/setEmployeeId",y[y.length-1].services[y[y.length-1].serviceId].providerId),n.commit("booking/setLocationId",y[y.length-1].services[y[y.length-1].serviceId].locationId)),Zt(r,A)}let be=k(()=>s.customizedData?s.customizedData.sbsNew.colors:ct.sbsNew.colors);se("amColors",be);let ma=k(()=>({"--am-c-primary":be.value.colorPrimary,"--am-c-success":be.value.colorSuccess,"--am-c-error":be.value.colorError,"--am-c-warning":be.value.colorWarning,"--am-c-main-bgr":be.value.colorMainBgr,"--am-c-main-heading-text":be.value.colorMainHeadingText,"--am-c-main-text":be.value.colorMainText,"--am-c-sb-bgr":be.value.colorSbBgr,"--am-c-sb-text":be.value.colorSbText,"--am-c-inp-bgr":be.value.colorInpBgr,"--am-c-inp-border":be.value.colorInpBorder,"--am-c-inp-text":be.value.colorInpText,"--am-c-inp-placeholder":be.value.colorInpPlaceHolder,"--am-c-drop-bgr":be.value.colorDropBgr,"--am-c-drop-text":be.value.colorDropText,"--am-c-btn-prim":be.value.colorBtnPrim,"--am-c-btn-prim-text":be.value.colorBtnPrimText,"--am-c-btn-sec":be.value.colorBtnSec,"--am-c-btn-sec-text":be.value.colorBtnSecText,"--am-c-skeleton-op20":ae(be.value.colorMainText,.2),"--am-c-skeleton-op60":ae(be.value.colorMainText,.6),"--am-font-family":S.value.fontFamily,"--am-mw-main":D.value?$.value?"592px":"760px":"520px","--am-brad-main":D.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function pa(){let o=document.head||document.getElementsByTagName("head")[0];o.querySelector("#amCustomFont")&&o.querySelector("#amCustomFont").remove();let y=`@font-face {font-family: '${S.value.fontFamily}'; src: url(${S.value.fontUrl});}`,P=document.createElement("style");o.appendChild(P),P.setAttribute("type","text/css"),P.setAttribute("id","amCustomFont"),P.appendChild(document.createTextNode(y))}S.value.customFontSelected&&pa();let _a=k(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",_a),ze(()=>{ea("renderForm",{ameliaContainer:g,containerWidth:C,empty:L,amCustomize:p,amFonts:S,sidebarCollapsed:$,sidebarCollapseItemsClass:I,sidebarFooterRef:N,sidebarFooterHeight:ie,sidebarVisibility:D})}),(o,y)=>(t(),i(Z,null,[S.value.customFontSelected?d("",!0):(t(),i(Z,{key:0},[Oi,Mi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(B).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Vi)],64)),e(L)?(t(),i("div",ss,[a("img",{src:e(B).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,ls),a("h1",null,l(e(oe).oops),1),a("h3",null,l(e(oe).no_services_employees),1),a("p",null,l(e(oe).add_services_employees),1),a("a",os,l(e(oe).add_services_url)+"\xA0 ",1),a("span",ns,l(e(oe).and)+"\xA0",1),a("a",cs,l(e(oe).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:g,class:O(["am-fs__wrapper",{"am-collapsed":e($)}]),style:re(e(ma))},[e(C)>560&&e(D)?(t(),ge(Ua,{key:0,class:O(["am-fs-sb",{"am-collapsed":e($)}]),style:re({width:e($)?"72px":"240px",paddingBottom:`${e(ie)+16}px`})},{"step-list":R(()=>[a("div",Ni,[r.value[A.value]!==e(Ce)||!e(s).general.addToCalendar||e(Xe)&&e(Xe).data.length===0?(t(!0),i(Z,{key:0},ye(ee.value,P=>(t(),i("div",{key:P.key,class:"am-fs-sb__step"},[a("div",Ui,[a("div",Wi,[a("span",{class:O(`am-icon-${P.icon}`)},null,2),P.key==="cartStep"&&e(He)(e(n))!==0?(t(),i("span",{key:0,class:O(["am-fs-sb__step-icon__number",e(I)])},l(e(He)(e(n))),3)):d("",!0)]),G(Qe,{name:"fade"},{default:R(()=>[e($)?d("",!0):(t(),i("p",{key:0,class:O(["am-fs-sb__step-heading",e(I)])},l(P.label),3))]),_:2},1024),a("div",{class:O(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":P.selected},e(I)]])},[G(Qe,{name:"fade"},{default:R(()=>[P.finished?(t(),i("span",ji)):d("",!0)]),_:2},1024)],2)]),G(Va,{tag:"span",name:"fade",appear:"",class:O(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":P.key===e(v).key&&P.stepSelectedData.length>3}])},{default:R(()=>[e($)?d("",!0):(t(!0),i(Z,{key:0},ye(P.stepSelectedData,(J,Le)=>(t(),i("p",{key:J.position,class:"am-fs-sb__step-selection"},[P.key!==e(v).key||Le<3?(t(),i("span",Hi,l(J.value),1)):(t(),i("span",qi,l(e(oe).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Gi,[G(Qe,{name:"fade"},{default:R(()=>[e($)?d("",!0):(t(),ge(Na,{key:0}))]),_:1}),e($)?(t(),i("div",Ji,[a("div",Yi,[a("div",Qi,[a("span",{class:O(`am-icon-${r.value[A.value].sidebarData.icon}`)},null,2)]),a("div",{class:O(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":r.value[A.value].sidebarData.selected},e(I)]])},[G(Qe,{name:"fade"},{default:R(()=>[r.value[A.value].sidebarData.finished?(t(),i("span",Xi)):d("",!0)]),_:1})],2)])])):d("",!0)]))])]),"support-info":R(()=>[a("div",{ref_key:"sidebarFooterRef",ref:N,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(b).heading||e(b).phone||e(b).email)?(t(),i("div",Zi,[G(Qe,{name:"fade"},{default:R(()=>[!e($)&&e(b).heading?(t(),i("div",{key:0,class:O(["am-fs-sb__support-heading",e(I)])},l(e(oe).get_in_touch),3)):d("",!0)]),_:1}),e(s).company.phone&&e(b).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e($)?(t(),i("span",es)):(t(),i(Z,{key:0},[pe(l(e(s).company.phone),1)],64))],8,Ki)):d("",!0),e(s).company.email&&e(b).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e($)?(t(),i("span",as)):(t(),i(Z,{key:0},[pe(l(e(s).company.email),1)],64))],8,ts)):d("",!0)])):d("",!0),a("div",{class:O(["am-fs-sb__menu",e(I)]),onClick:y[0]||(y[0]=P=>ue($)?$.value=!e($):$=!e($))},[G(Qe,{name:"fade"},{default:R(()=>[e($)?d("",!0):(t(),i("span",is,l(e(oe).collapse_menu),1))]),_:1}),a("span",{class:O(`am-icon-arrow-circle-${e($)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):d("",!0),G(Ha,null,Vt({step:R(()=>[(t(),ge(ta(r.value[A.value]),{"global-class":"am-fs__main-content"}))]),footer:R(()=>[G(e(ja),{"second-button-show":r.value[A.value]===e(Ce)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Ye)(e(n))&&r.value[A.value]===e(le),"back-to-cart-button-show":e(Ye)(e(n))&&e(De).length>1&&r.value[A.value]!==e(le)&&r.value[A.value]!==e(Q)&&r.value[A.value]!==e(Pe)&&r.value[A.value]!==e(Ce),booked:e(Xe),loading:e(Et),ready:e(ft),"payment-gateway":e(Lt),"customized-labels":e(qe),"primary-footer-button-type":e(Ee),"secondary-footer-button-type":e(X),"add-to-cart-button-type":e(U),"back-to-cart-button-type":e(z),"back-to-cart-label":te("cancel","cartStep"),onAddToCart:ua,onBackToCart:da},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[r.value[A.value]!==e(Ce)?{name:"header",fn:R(()=>[G(Wa,{"sidebar-visible":e(D),ready:e(ft)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const us={class:"am-fcil__filter-buttons"},ds={class:"am-fcil__filter"},ms={class:"am-fcil__filter-item__btn-wrapper"},ps={class:"am-fcil__heading"},_s={key:0,class:"am-fcil__item-badge__wrapper"},fs={class:"am-fcil__item-badge am-package"},vs=a("span",{class:"am-icon-shipment"},null,-1),gs={class:"am-fcil__item-heading"},ys={class:"am-fcil__item-name"},hs={key:0,class:"am-fcil__item-cost"},bs={key:0,class:"am-fcil__item-discount"},ks={class:"am-fcil__item-price"},Cs={key:1,class:"am-fcil__item-price"},$s={class:"am-fcil__item-info"},Ss={key:0,class:"am-fcil__item-info__inner"},ws=a("span",{class:"am-icon-folder"},null,-1),xs={key:1,class:"am-fcil__item-info__inner"},Is=a("span",{class:"am-icon-clock"},null,-1),Ps={key:0},Ds={key:1},Es={key:2},Ls={key:2,class:"am-fcil__item-info__inner"},Ts=a("span",{class:"am-icon-user"},null,-1),Bs=a("span",null,"1/1",-1),Fs=[Ts,Bs],zs={key:3,class:"am-fcil__item-info__inner"},As=a("span",{class:"am-icon-locations"},null,-1),Rs={key:2,class:"am-fcil__item-services"},Os={key:0,class:"am-fcil__item-badge__wrapper"},Ms={class:"am-fcil__item-badge am-service"},Vs=a("span",{class:"am-icon-service"},null,-1),Ns={class:"am-fcil__item-heading"},Us={class:"am-fcil__item-name"},Ws={key:0,class:"am-fcil__item-cost"},js={key:0,class:"am-fcil__item-price"},Hs={key:1,class:"am-fcil__item-price"},qs={class:"am-fcil__item-info"},Gs={key:0,class:"am-fcil__item-info__inner"},Js=a("span",{class:"am-icon-folder"},null,-1),Ys={key:1,class:"am-fcil__item-info__inner"},Qs=a("span",{class:"am-icon-clock"},null,-1),Xs={key:2,class:"am-fcil__item-info__inner"},Zs=a("span",{class:"am-icon-user"},null,-1),Ks={key:3,class:"am-fcil__item-info__inner"},el=a("span",{class:"am-icon-locations"},null,-1),tl={class:"am-fcil-employee__header"},al={class:"am-fcil-employee__heading"},il={class:"am-fcil-employee__heading-left"},sl={class:"am-fcil-employee__name"},ll={key:0,class:"am-fcil-employee__heading-right"},ol={class:"am-fcil-employee__price"},nl=["innerHTML"],cl={key:1,ref:"ameliaContainer",class:"am-empty"},rl=["src"],ul={class:"am-empty__heading"},dl={class:"am-empty__subheading"},ml={class:"am-empty__text"},pl={key:0},_l={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},fl={key:1},vl={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},gl={name:"CategoryItemsList",key:"categoryItemsList"},yl=Object.assign(gl,{setup(_){let h=F("licence"),{nextPage:c,previousPage:g}=F("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const C=F("baseUrls");let L=x(!1),m=x(!1),s=x("760px");se("bookingDialogWidth",s);function p(){s.value="760px"}let b=x(!1),S=x(),$=F("containerWidth"),I=F("customizedDataForm"),f=k(()=>I.value.categoryItemsList.options),N=k(()=>"pageScroll"in f.value?f.value.pageScroll.visibility:!0);const ie=F("settings");let D=it();const B=F("shortcodeData"),n=k(()=>D.getters["entities/getPreselected"]);let j=k(()=>{let M=Array.isArray(B.value.category)?B.value.category:B.value.category.split(",");return M=M.filter(E=>E),M.length}),ne=k(()=>{let M=S.value&&S.value.catContainerWidth?S.value.catContainerWidth>768:!0;return j.value!==1&&f.value.sidebar.visibility&&M}),q=F("amEntities"),ve=k(()=>Ye(D)&&He(D)>0),$e=k(()=>He(D));const V=F("labels"),de=F("localLanguage");let Y=k(()=>ie.general.usedLanguages.includes(de.value)),v=k(()=>{let M=st(tt({},V));if(ie.customizedData&&ie.customizedData.cbf&&ie.customizedData.cbf.categoryItemsList.translations){let E=ie.customizedData.cbf.categoryItemsList.translations;Object.keys(E).forEach(u=>{E[u][de.value]&&Y.value?M[u]=E[u][de.value]:E[u].default&&(M[u]=E[u].default)})}return M}),ce=x(""),Ce=kt({components:{IconComponent:It},template:'<IconComponent icon="search"/>'}),le=x(!0),Q=kt({components:{IconComponent:It},template:'<IconComponent icon="filter"/>'}),Pe=k(()=>S.value&&S.value.catHeaderWidth?S.value.catHeaderWidth:0);window.addEventListener("resize",Fe);function Fe(){Te(()=>{Pe.value>480&&(le.value=!0)})}ze(()=>{Fe()});function Oe(M){let E=[];return ce.value.toLowerCase().split(" ").forEach(u=>{E.push(M.toLowerCase().includes(u))}),E.filter(u=>u===!1).length<=0}let r=F("availableCategories"),K=F("categorySelected"),he=k(()=>bt(B.value,q.value.categories.find(M=>M.id===K.value),q.value,oe.value,qe.value)),H=k(()=>{let M=[];return q.value.packages.forEach(E=>{he.value.forEach(u=>{E.bookable.filter(_e=>_e.service.id===u).length&&!M.filter(_e=>_e.id===E.id).length&&E.available&&E.status==="visible"&&!jt(q.value,E)&&Ht(q.value,E,B.value)&&(ce.value?Oe(E.name):!0)&&M.push(E)})}),M}),De=k(()=>{let M=[];return q.value.services.forEach(E=>{he.value.forEach(u=>{E.id===u&&(ce.value?Oe(E.name):!0)&&M.push(E)})}),M}),oe=x(null),qe=x(null),Ee=x(!0),X=x(!0);function U(M){M==="all"&&(Ee.value=!0,X.value=!0),M==="packages"&&(Ee.value=!0,X.value=!1),M==="services"&&(Ee.value=!1,X.value=!0)}Mt(()=>{n.value.show&&U(n.value.show)});let z=k(()=>{let M=B.value.employee,E=q.value.employees.length,u=B.value.location,_e=q.value.locations.length,xe=f.value.searchInput.visibility,ke=f.value.filterEmployee.visibility&&M.length!==1&&E>1&&!h.isLite,ee=f.value.filterLocation.visibility&&u.length!==1&&_e>1&&!h.isLite&&!h.isStarter,Ue=f.value.filterButtons.visibility&&n.value.show!=="packages"&&n.value.show!=="services"&&H.value.length!==0&&De.value.length!==0&&!He(D),fe={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return Pe.value>992?!xe||!Ue?(fe.employee=!xe&&!Ue?"am-w50":"am-w35",fe.location=!xe&&!Ue?"am-w50":"am-w35",fe.search=!Ue&&!ee&&!ke?"am-w100":"am-w30",ke||(fe.location=!xe&&!Ue?"am-w100":"am-w70"),ee||(fe.employee=!xe&&!Ue?"am-w100":"am-w70")):(ke||(fe.location="am-w40"),ee||(fe.employee="am-w40"),!ke&&!ee&&(fe.search="am-w70")):Pe.value>768||Pe.value>480?(fe.search=Ue?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",fe.buttons=xe?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",fe.employee=ee?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",fe.location=ke?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",fe.category="am-w100 am-tablet am-order5"):(fe.employee="am-w100 am-mobile",fe.location="am-w100 am-mobile",fe.search="am-w100 am-mobile",fe.buttons="am-w100 am-mobile",fe.category="am-w100 am-mobile"),fe}),te=k(()=>S.value&&S.value.catContainerWidth?S.value.catContainerWidth:0),Ve=k(()=>{let M=H.value.length&&!He(D)?H.value.length:0,E=De.value.length>1?v.value.heading_services:v.value.heading_service,u=M?M>1?v.value.packages:v.value.package:"";if(!De.value.length&&!M)return v.value.no_search_data;if(X.value&&(!Ee.value||!M))return`${v.value.available} - ${De.value.length} ${E}`;if((!X.value||!De.value.length)&&Ee.value)return`${v.value.available} - ${M} ${u}`;let _e=M?"/":"";return`${v.value.available} - ${De.value.length} ${E} ${_e} ${M} ${u}`});ze(()=>{Te(()=>{L.value=H.value.length===0&&De.value.length===0})});function mt(M){K.value=M.id,D.commit("booking/setCategoryId",parseInt(M.id))}let Se=F("itemType");function Be(M){D.commit("booking/setServiceId",parseInt(M)),D.commit("booking/setBookableType","appointment"),Se.value="appointment",yt(D,{},"SelectService","appointment",null,null),Te(()=>{c()})}function lt(M){D.commit("booking/setServiceId",null),D.commit("booking/setPackageId",M.id),D.commit("booking/setBookableType","package"),D.commit("booking/setMultipleAppointments",Pt(0,M)),D.commit("booking/setCartItemIndex",0),Se.value="package",yt(D,{},"SelectPackage","package",null,null),Te(()=>{c()})}function pt(){K.value=null,D.commit("booking/setCategoryId",null),g()}function W(){Ot(D),b.value=!0,m.value=!0}let T=x(!1),w=x(""),me=x([]),A=x({}),Ne=x(null);function _t(){w.value="",me.value=[],A.value={},Ne.value=null}function Dt(M){me.value=la(q.value,M,B.value),A.value=M,T.value=!0}function ot(M){let E=[];Object.keys(q.value.entitiesRelations).forEach(_e=>{_e in q.value.entitiesRelations&&M in q.value.entitiesRelations[_e]&&q.value.employees.find(xe=>xe.id===parseInt(_e))&&E.push(q.value.employees.find(xe=>xe.id===parseInt(_e)))}),me.value=E,w.value="service",T.value=!0,Ne.value=M}function ft(M){let E=q.value.services.find(_e=>_e.id===Ne.value).price,u=M.serviceList.find(_e=>_e.id===Ne.value).price;return u!==E?`${u-E>0?E>0?"+":"":"-"} ${Ke(u-E)}`:0}function Et(){w.value==="service"?Be(Ne.value):lt(A.value),_t()}function Xe(M,E){let u="";return M>1?(E==="day"&&(u=v.value.expires_days),E==="week"&&(u=v.value.expires_weeks),E==="month"&&(u=v.value.expires_months)):(E==="day"&&(u=v.value.expires_day),E==="week"&&(u=v.value.expires_week),E==="month"&&(u=v.value.expires_month)),u}function Lt(M,E){return Ae(M,E).length===1?Ae(M,E)[0].address?Ae(M,E)[0].address:Ae(M,E)[0].name:v.value.multiple_locations}let vt=F("amFonts",x({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),we=F("amColors"),et=k(()=>({"--am-c-fcil-text-op-10":ae(we.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ae(we.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ae(we.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ae(we.value.colorCardText,.8),"--am-c-fcil-primary-op20":ae(we.value.colorPrimary,.2),"--am-c-fcil-success-op20":ae(we.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ae(we.value.colorInpText,.1),"--am-w-fcil-main":j.value!==1&&f.value.sidebar.visibility&&ne.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":S.value&&S.value.catFormWidth<580?"100%":"50%"})),Tt=k(()=>({"--am-f-fcil-employee-f":vt.value.fontFamily,"--am-c-fcil-employee-bgr":we.value.colorMainBgr,"--am-c-fcil-employee-heading":we.value.colorMainHeadingText,"--am-c-fcil-employee-text":we.value.colorMainText,"--am-c-fcil-employee-text-op80":ae(we.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ae(we.value.colorMainText,.15),"--am-c-fcil-employee-primary":we.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ae(we.value.colorPrimary,.1),"--am-c-inp-border":we.value.colorInpBorder,"--am-c-main-text":we.value.colorMainText}));return(M,E)=>e(L)?(t(),i("div",cl,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,rl),a("div",ul,l(e(v).oops),1),a("div",dl,l(e(n).show!=="packages"?e(v).no_services_employees:e(v).no_package_services),1),a("div",ml,[e(n).show!=="packages"?(t(),i("span",pl,l(e(v).add_services_employees)+"\xA0 ",1)):d("",!0),a("a",_l,l(e(v).add_services_url)+"\xA0 ",1),e(n).show!=="packages"?(t(),i("span",fl,l(e(v).and)+"\xA0 ",1)):d("",!0),e(n).show!=="packages"?(t(),i("a",vl,l(e(v).add_employees_url),1)):d("",!0)])],512)):(t(),ge(Wt,{key:0,ref_key:"contentRef",ref:S,"wrapper-class":`am-fcil ${e($)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e($)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e($)<481?"am-mobile":""} ${e(N)?"":"no-scroll"}`,style:re(e(et))},Vt({header:R(()=>[a("span",us,[e(j)!==1&&!e(B).categories_hidden?(t(),ge(Ut,{key:0,"btn-size":e(Pe)<481?"medium":"mini","btn-string":e(v).back_btn,"btn-type":e(f).backBtn.buttonType,"cart-btn-visibility":e(ve),"cart-items-number":e($e),onGoBack:pt,onGoToCart:W},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):d("",!0),e(Pe)<481?(t(),ge(Re,{key:1,size:"medium",category:"secondary",type:e(f).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(Q),onClick:E[0]||(E[0]=()=>ue(le)?le.value=!e(le):le=!e(le))},null,8,["type","icon"])):d("",!0)]),a("div",ds,[e(f).searchInput.visibility?(t(),i("div",{key:0,class:O(["am-fcil__filter-item",e(z).search])},[G(Ga,{modelValue:e(ce),"onUpdate:modelValue":E[1]||(E[1]=u=>ue(ce)?ce.value=u:ce=u),placeholder:e(v).filter_input,"icon-start":e(Ce)},null,8,["modelValue","placeholder","icon-start"])],2)):d("",!0),G(Qe,{name:"slide-fade"},{default:R(()=>[e(B).employee.length!==1&&e(q).employees.length>1&&e(f).filterEmployee.visibility&&e(le)&&!e(h).isLite?(t(),i("div",{key:0,class:O(["am-fcil__filter-item",e(z).employee])},[G(zt,{modelValue:e(oe),"onUpdate:modelValue":E[2]||(E[2]=u=>ue(oe)?oe.value=u:oe=u),clearable:"",filterable:"",placeholder:e(v).filter_employee,"fit-input-width":!0},{default:R(()=>[(t(!0),i(Z,null,ye(e(q).employees,u=>(t(),ge(At,{key:u.id,value:u.id,label:`${u.firstName} ${u.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):d("",!0)]),_:1}),G(Qe,{name:"slide-fade"},{default:R(()=>[e(B).location.length!==1&&e(q).locations.length>1&&e(f).filterLocation.visibility&&e(le)&&!e(h).isLite&&!e(h).isStarter?(t(),i("div",{key:0,class:O(["am-fcil__filter-item",e(z).location])},[G(zt,{modelValue:e(qe),"onUpdate:modelValue":E[3]||(E[3]=u=>ue(qe)?qe.value=u:qe=u),clearable:"",filterable:"",placeholder:e(v).filter_location,"fit-input-width":!0},{default:R(()=>[(t(!0),i(Z,null,ye(e(q).locations,u=>(t(),ge(At,{key:u.id,value:u.id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):d("",!0)]),_:1}),G(Qe,{name:"slide-fade"},{default:R(()=>[e(j)!==1&&e(f).sidebar.visibility&&!e(ne)&&e(le)?(t(),i("div",{key:0,class:O(["am-fcil__filter-item am-w100",e(z).category])},[G(zt,{modelValue:e(K),"onUpdate:modelValue":E[4]||(E[4]=u=>ue(K)?K.value=u:K=u),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:R(()=>[(t(!0),i(Z,null,ye(e(r),u=>(t(),ge(At,{key:u.id,value:u.id,label:u.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):d("",!0)]),_:1}),!e(n).show&&e(f).filterButtons.visibility&&e(H).length!==0&&e(De).length!==0&&!e(He)(e(D))?(t(),i("div",{key:1,class:O(["am-fcil__filter-item",e(z).buttons])},[a("div",ms,[a("div",{class:O(["am-fcil__filter-item__btn",{"am-active":e(Ee)&&e(X)}]),onClick:E[5]||(E[5]=u=>U("all"))},[a("span",null,l(e(v).filter_all),1)],2),a("div",{class:O(["am-fcil__filter-item__btn",{"am-active":e(Ee)&&!e(X)}]),onClick:E[6]||(E[6]=u=>U("packages"))},[a("span",null,l(e(v).filter_packages),1)],2),a("div",{class:O(["am-fcil__filter-item__btn",{"am-active":!e(Ee)&&e(X)}]),onClick:E[7]||(E[7]=u=>U("services"))},[a("span",null,l(e(v).filter_services),1)],2)])],2)):d("",!0)])]),heading:R(()=>[a("div",ps,l(e(Ve)),1)]),content:R(()=>[e(Ee)&&!e(He)(e(D))?(t(!0),i(Z,{key:0},ye(e(H),u=>{var _e,xe;return t(),i("div",{key:u.id,class:O(["am-fcil__item",{"am-mobile":e(te)<481}])},[a("div",{class:O(["am-fcil__item-inner",{"am-mobile":e(te)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(f).cardColor&&e(f).cardColor.visibility?{backgroundColor:e(ae)(u.color,.1)}:{})},[e(f).packageBadge.visibility?(t(),i("div",_s,[a("div",fs,[vs,a("span",null,l(e(v).package),1)])])):d("",!0),u.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${u.pictureFullPath})`})},null,4)):d("",!0),a("div",gs,[a("div",ys,l(u.name),1),e(f).packagePrice.visibility?(t(),i("div",hs,[u.discount?(t(),i("span",bs,l(`${e(v).save} ${u.discount}%`),1)):d("",!0),a("span",ks,l(u.price?e(Ke)(e(Nt)(u)):e(v).free),1),u.price&&((xe=(_e=e(f).tax)==null?void 0:_e.visibility)!=null?xe:!0)&&e(ht)(e(D),u.id,"package")?(t(),i("span",Cs,[e(ie).payments.taxes.excluded?(t(),i(Z,{key:0},[pe(l(`+${e(v).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[pe(l(e(v).incl_tax),1)],64))])):d("",!0)])):d("",!0)]),a("div",$s,[e(f).packageCategory.visibility?(t(),i("div",Ss,[ws,a("span",null,l(e(r).find(ke=>ke.id===e(K)).name),1)])):d("",!0),e(f).packageDuration.visibility?(t(),i("div",xs,[Is,u.endDate?(t(),i("span",Ps,l(`${e(v).expires_at} ${u.endDate.split(" ")[0]}`),1)):u.durationCount?(t(),i("span",Ds,l(`${e(v).expires_after} ${u.durationCount} ${Xe(u.durationCount,u.durationType)}`),1)):(t(),i("span",Es,l(e(v).without_expiration),1))])):d("",!0),e(f).packageCapacity.visibility?(t(),i("div",Ls,Fs)):d("",!0),e(nt)(e(q),u,e(B)).length&&e(f).packageLocation.visibility?(t(),i("div",zs,[As,a("span",null,l(e(nt)(e(q),u,e(B)).length===1?e(nt)(e(q),u,e(B))[0].address?e(nt)(e(q),u,e(B))[0].address:e(nt)(e(q),u,e(B))[0].name:e(v).multiple_locations),1)])):d("",!0)]),e(f).packageServices.visibility?(t(),i("div",Rs,[a("span",null,l(`${e(v).in_package}:`),1),(t(!0),i(Z,null,ye(u.bookable,ke=>(t(),i("span",{key:ke.id},l(ke.service.name),1))),128))])):d("",!0)],4),a("div",{class:O(["am-fcil__item-footer",[{"am-mobile":e(te)<481},{"am-micro":e(te)<320}]])},[e(f).cardEmployeeBtn.visibility?(t(),ge(Re,{key:0,class:O({"am-w100":e(te)<320}),size:"small",type:e(f).cardEmployeeBtn.buttonType,onClick:ke=>Dt(u)},{default:R(()=>[pe(l(e(v).view_employees),1)]),_:2},1032,["class","type","onClick"])):d("",!0),G(Re,{class:O([{"am-w100":!e(f).cardEmployeeBtn.visibility},{"am-micro am-w100":e(te)<320}]),size:"small",type:e(f).cardContinueBtn.buttonType,onClick:ke=>lt(u)},{default:R(()=>[pe(l(e(v).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):d("",!0),e(X)?(t(!0),i(Z,{key:1},ye(e(De),u=>{var _e,xe;return t(),i("div",{key:u.id,class:O(["am-fcil__item",{"am-mobile":e(te)<481}])},[a("div",{class:O(["am-fcil__item-inner",{"am-mobile":e(te)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(f).cardColor&&e(f).cardColor.visibility?{backgroundColor:e(ae)(u.color,.1)}:{})},[e(f).serviceBadge.visibility?(t(),i("div",Os,[a("div",Ms,[Vs,a("span",null,l(e(v).heading_service),1)])])):d("",!0),u.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${u.pictureFullPath})`})},null,4)):d("",!0),a("div",Ns,[a("div",Us,l(u.name),1),e(f).servicePrice.visibility?(t(),i("div",Ws,[e(ut)(e(q),u.id).min||e(ut)(e(q),u.id).max?(t(),i("span",js,l(e(ut)(e(q),u.id).price),1)):d("",!0),((xe=(_e=e(f).tax)==null?void 0:_e.visibility)!=null?xe:!0)&&e(ht)(e(D),u.id,"service")?(t(),i("span",Hs,[e(ie).payments.taxes.excluded?(t(),i(Z,{key:0},[pe(l(`+${e(v).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[pe(l(e(v).incl_tax),1)],64))])):d("",!0)])):d("",!0)]),a("div",qs,[e(f).serviceCategory.visibility?(t(),i("div",Gs,[Js,a("span",null,l(e(r).find(ke=>ke.id===e(K)).name),1)])):d("",!0),e(f).serviceDuration.visibility?(t(),i("div",Ys,[Qs,a("span",null,l(e(sa)(u.duration)),1)])):d("",!0),e(f).serviceCapacity.visibility&&!e(h).isLite?(t(),i("div",Xs,[Zs,a("span",null,l(e(ia)(e(q),u.id)),1)])):d("",!0),e(Ae)(e(q),u.id).length&&e(f).serviceLocation.visibility?(t(),i("div",Ks,[el,a("span",null,l(Lt(e(q),u.id)),1)])):d("",!0)])],4),a("div",{class:O(["am-fcil__item-footer",[{"am-mobile":e(te)<481},{"am-micro":e(te)<320}]])},[e(f).cardEmployeeBtn.visibility&&!e(h).isLite?(t(),ge(Re,{key:0,class:O({"am-w100":e(te)<320}),size:"small",type:e(f).cardEmployeeBtn.buttonType,onClick:ke=>ot(u.id)},{default:R(()=>[pe(l(e(v).view_employees),1)]),_:2},1032,["class","type","onClick"])):d("",!0),G(Re,{class:O([{"am-w100":!e(f).cardEmployeeBtn.visibility},{"am-micro am-w100":e(te)<320}]),size:"small",type:e(f).cardContinueBtn.buttonType,onClick:ke=>Be(u.id)},{default:R(()=>[pe(l(e(v).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):d("",!0),G(dt,{modelValue:e(T),"onUpdate:modelValue":E[9]||(E[9]=u=>ue(T)?T.value=u:T=u),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Tt),width:"648px",onClose:_t},{title:R(()=>[a("div",tl,l(e(v).employee_info),1)]),default:R(()=>[a("div",null,[G($t,null,{default:R(()=>[(t(!0),i(Z,null,ye(e(me),(u,_e)=>(t(),ge(St,{key:_e,side:""},{heading:R(()=>[a("div",al,[a("div",il,[G(rt,{"item-class":"am-fcil-employee__img","item-data":u,"trim-string":2},null,8,["item-data"]),a("div",sl,[pe(l(`${u.firstName} ${u.lastName}`)+" ",1),u.badge?(t(),i("span",{key:0,style:re({background:u.badge.color}),class:"am-fcil-employee__badge"},l(u.badge.content),5)):d("",!0)])]),e(w)==="service"&&ft(u)!==0?(t(),i("div",ll,[a("div",ol,l(ft(u)),1)])):d("",!0)])]),default:R(()=>[e(Me)(u.description)?(t(),i("div",{key:0,class:O(["am-fcil-employee__text",{"ql-description":u.description.includes("<!-- Content -->")}]),innerHTML:u.description},null,10,nl)):d("",!0)]),_:2},1024))),128))]),_:1})])]),footer:R(()=>[e(f).dialogEmployeeBtn.visibility?(t(),ge(Re,{key:0,type:e(f).dialogEmployeeBtn.buttonType,category:"primary",onClick:E[8]||(E[8]=u=>Et())},{default:R(()=>[pe(l(e(w)==="service"?e(v).book_service:e(v).book_package),1)]),_:1},8,["type"])):d("",!0)]),_:1},8,["modelValue","custom-styles"]),G(dt,{modelValue:e(m),"onUpdate:modelValue":E[10]||(E[10]=u=>ue(m)?m.value=u:m=u),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:p},{default:R(()=>[G(qt,{"show-cart":e(b)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(j)!==1&&e(f).sidebar.visibility&&e(ne)?{name:"side",fn:R(()=>[G(_i,{"menu-items":e(r),"init-selection":e(K),identifier:"id","name-identifier":"name","footer-string":e(v).get_in_touch,"company-email":e(ie).company.email,onClick:mt},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const hl={class:"am-fcis__header-text"},bl={class:"am-fcis__header-name"},kl={key:0,class:"am-fcis__badge am-service"},Cl=a("span",{class:"am-icon-service"},null,-1),$l={class:"am-fcis__header-action"},Sl={key:0,class:"am-fcis__header-price"},wl={key:1,class:"am-fcis__header-tax"},xl={class:"am-fcis__header-btn"},Il={key:0,class:"am-fcis__header-bottom"},Pl={class:"am-fcis__mini-info"},Dl={key:0,class:"am-fcis__mini-info__inner"},El=a("span",{class:"am-icon-folder"},null,-1),Ll={key:1,class:"am-fcis__mini-info__inner"},Tl=a("span",{class:"am-icon-clock"},null,-1),Bl={key:2,class:"am-fcis__mini-info__inner"},Fl=a("span",{class:"am-icon-user"},null,-1),zl={key:3,class:"am-fcis__mini-info__inner"},Al=a("span",{class:"am-icon-locations"},null,-1),Rl={key:0,class:"am-fcis__gallery"},Ol={key:0,class:"am-fcis__gallery-thumb__wrapper"},Ml={class:"am-gd__display-wrapper"},Vl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Nl=["src","alt"],Ul={class:"am-gd__selection"},Wl={class:"am-gd__thumb-wrapper"},jl=["onClick"],Hl={key:1,class:"am-fcis__info"},ql={class:"am-fcis__info-tab__wrapper"},Gl={class:"am-fcis__info-content__wrapper"},Jl={key:0,class:"am-fcis__info-content"},Yl=["innerHTML"],Ql={key:1,class:"am-fcis__info-content"},Xl={class:"am-fcis__info-employee__hero"},Zl={class:"am-fcis__info-employee__heading"},Kl={class:"am-fcis__info-employee__name"},eo={key:0,class:"am-fcis__info-employee__price"},to=["innerHTML"],ao={key:2,class:"am-fcis__include-wrapper"},io={class:"am-fcis__include-heading"},so={class:"am-fcis__include-heading__text"},lo=["onClick"],oo={class:"am-fcis__include-hero"},no={key:0,class:"am-fcis__include-cost"},co={key:0,class:"am-fcis__include-discount"},ro={class:"am-fcis__include-price"},uo={key:1,class:"am-fcis__include-price"},mo={class:"am-fcis__include-info"},po={key:0,class:"am-fcis__include-info__inner"},_o=a("span",{class:"am-icon-folder"},null,-1),fo={key:1,class:"am-fcis__include-info__inner"},vo=a("span",{class:"am-icon-clock"},null,-1),go={key:0},yo={key:1},ho={key:2},bo={key:2,class:"am-fcis__include-info__inner"},ko=a("span",{class:"am-icon-user"},null,-1),Co=a("span",null,"1/1",-1),$o=[ko,Co],So={key:3,class:"am-fcis__include-info__inner"},wo=a("span",{class:"am-icon-locations"},null,-1),xo={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},Io={key:1,ref:"ameliaContainer",class:"am-empty"},Po=["src"],Do={class:"am-empty__heading"},Eo={class:"am-empty__subheading"},Lo={class:"am-empty__text"},To={key:0},Bo={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Fo={key:1},zo={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Ao={name:"CategoryService"},Ro=Object.assign(Ao,{setup(_){let h=F("licence"),{previousPage:c}=F("changingPageFunctions",{previousPage:()=>{}}),g=k(()=>N.getters["entities/getReady"]);const C=F("baseUrls");let L=x(),m=F("containerWidth");const s=F("settings");let p=F("amFonts");const b=F("labels"),S=F("localLanguage");let $=k(()=>s.general.usedLanguages.includes(S.value)),I=k(()=>{let W=st(tt({},b));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let T=s.customizedData.cbf.categoryService.translations;Object.keys(T).forEach(w=>{T[w][S.value]&&$.value?W[w]=T[w][S.value]:T[w].default&&(W[w]=T[w].default)})}return W}),f=x(0),N=it(),ie=F("amEntities"),D=k(()=>Ye(N)&&He(N)>0),B=k(()=>He(N)),n=F("customizedDataForm"),j=k(()=>n.value.categoryService.options),ne=k(()=>"pageScroll"in j.value?j.value.pageScroll.visibility:!0),q=F("itemType"),ve=F("categorySelected"),$e=k(()=>ie.value.categories.find(W=>W.id===ve.value)),V=k(()=>{let W=ie.value.services.find(T=>T.id===N.getters["booking/getServiceId"]);return W||{}});function de(W,T){return Ae(W,T).length===1?Ae(W,T)[0].address?Ae(W,T)[0].address:Ae(W,T)[0].name:I.value.multiple_locations}let Y=x("description"),v=k(()=>{let W=[];return Object.keys(ie.value.entitiesRelations).forEach(w=>{ie.value.entitiesRelations[w][V.value.id]&&ie.value.employees.find(me=>me.id===parseInt(w))&&W.push(ie.value.employees.find(me=>me.id===parseInt(w)))}),W});function ce(W){let T=W.serviceList.find(w=>w.id===V.value.id).price;return T-V.value.price!==0?`${T-V.value.price>0?V.value.price>0?"+":"":"-"} ${Ke(T-V.value.price)}`:""}ze(()=>{j.value.serviceDescription.visibility||(Y.value="employees"),Me(V.value.description)||(Y.value="employees")});let Ce=k(()=>{let W=V.value.gallery.length?JSON.parse(JSON.stringify(V.value.gallery)):[];return V.value.gallery.length===1?[]:(W.shift(),W.length>2&&W.splice(2,W.length-2),W)}),le=k(()=>{let W=[];return ie.value.packages.forEach(T=>{T.bookable.filter(w=>w.service.id===V.value.id).length&&!W.filter(w=>w.id===T.id).length&&T.available&&T.status==="visible"&&W.push(T)}),W}),Q=x(!1),Pe=k(()=>{let W=[...le.value];return Q.value?W:W.slice(0,2)}),Fe=k(()=>N.getters["entities/filteredLocations"](N.getters["booking/getSelection"]));function Oe(){q.value="",Te(()=>{c()})}let r=x(!1);function K(){Ot(N),r.value=!0,H.value=!0}function he(){H.value=!1,N.getters["entities/getPreselected"].service.length>1&&Oe()}let H=x(!1),De=x("760px");se("bookingDialogWidth",De);function oe(){let W=N.getters["entities/getPreselected"];v.value.length===1&&(N.commit("booking/setEmployeeId",parseInt(v.value[0].id)),W.employee=[parseInt(v.value[0].id)],N.commit("entities/setPreselected",W)),r.value=!1,H.value=!1,Ja(N),aa(N,!1),gt(N);let T=Ae(ie.value,V.value.id);T.length===1&&(N.commit("booking/setLocationId",parseInt(T[0].id)),W.location=[parseInt(T[0].id)],N.commit("entities/setPreselected",W)),N.commit("booking/setBookableType","appointment"),H.value=!0}F("restoreFormData").value&&oe();function Ee(W){N.commit("booking/setPackageId",W.id),N.commit("booking/setBookableType","package"),N.commit("booking/setMultipleAppointments",Pt(0,W)),N.commit("booking/setMultipleAppointmentsIndex",0),v.value.length===1&&N.commit("booking/setEmployeeId",parseInt(v.value[0].id)),Ae(ie.value,V.value.id).length===1&&N.commit("booking/setLocationId",parseInt(Ae(ie.value,V.value.id)[0].id)),Te(()=>{H.value=!0})}const X=k(()=>N.getters["entities/getPreselected"]);let U=x("");se("stepName",U);function z(){let W=N.getters["entities/getBookableFromBookableEntities"](N.getters["booking/getSelection"]),T=W.settings?JSON.parse(W.settings):s;"general"in T&&"redirectUrlAfterAppointment"in T.general&&T.general.redirectUrlAfterAppointment?window.location.href=T.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function te(){if(U.value&&U.value==="CongratulationsStep")z();else{if(U.value&&U.value==="DateTimeStep"){let W=Ya(N);W&&console.log(W)}N.commit("booking/setEmployeeId",null),N.commit("booking/setLocationId",null),N.commit("entities/setPreselected",N.getters["entities/getOriginalPreselected"])}De.value="760px"}let Ve=x(!1);function mt(W,T){let w="";return W>1?(T==="day"&&(w=I.value.expires_days),T==="week"&&(w=I.value.expires_weeks),T==="month"&&(w=I.value.expires_months)):(T==="day"&&(w=I.value.expires_day),T==="week"&&(w=I.value.expires_week),T==="month"&&(w=I.value.expires_month)),w}let Se=k(()=>Object.keys(V.value).length===0||v.value.length===0),Be=F("amColors"),lt=k(()=>({"--am-c-fcis-success-op20":ae(Be.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ae(Be.value.colorPrimary,.2),"--am-c-fcis-text-op80":ae(Be.value.colorMainText,.8),"--am-c-fcis-text-op03":ae(Be.value.colorMainText,.03),"--am-c-fcis-btn-op50":ae(Be.value.colorBtnSec,.5)})),pt=k(()=>({"--am-c-fcis-bgr":Be.value.colorMainBgr,"--am-c-fcis-text":Be.value.colorMainText,"--am-c-fcis-success":Be.value.colorSuccess,"--am-c-fcis-primary":Be.value.colorPrimary,"--am-c-scroll-op30":ae(Be.value.colorPrimary,.3),"--am-c-scroll-op10":ae(Be.value.colorPrimary,.1),"--am-font-family":p.fontFamily}));return(W,T)=>e(g)?(t(),i(Z,{key:0},[e(Se)?d("",!0):(t(),ge(Wt,{key:0,ref_key:"contentRef",ref:L,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(ne)?"":"no-scroll"}`,style:re(e(lt))},{header:R(()=>[G(Ut,{"btn-string":e(I).back_btn,"btn-type":e(j).backBtn.buttonType,"back-btn-visibility":e(X).service.length!==1,"cart-btn-visibility":e(D),"cart-items-number":e(B),onGoBack:Oe,onGoToCart:K},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:R(()=>{var w,me;return[a("div",{class:O([[{"am-tablet":e(m)<=678},{"am-mobile":e(m)<450}],"am-fcis__header-top"])},[a("div",hl,[a("span",bl,l(e(V).name),1),e(j).serviceBadge.visibility?(t(),i("div",kl,[Cl,a("span",null,l(e(I).heading_service),1)])):d("",!0)]),a("div",$l,[e(j).servicePrice.visibility?(t(),i("span",Sl,l(e(ut)(e(ie),e(V).id).min||e(ut)(e(ie),e(V).id).max?e(ut)(e(ie),e(V).id).price:e(I).free),1)):d("",!0),((me=(w=e(j).tax)==null?void 0:w.visibility)!=null?me:!0)&&e(ht)(e(N),e(V).id,"service")?(t(),i("span",wl,[e(s).payments.taxes.excluded?(t(),i(Z,{key:0},[pe(l(`+${e(I).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[pe(l(e(I).incl_tax),1)],64))])):d("",!0),a("span",xl,[G(Re,{type:e(j).bookingBtn.buttonType,onClick:oe},{default:R(()=>[pe(l(e(I).book_now),1)]),_:1},8,["type"])])])],2),e(j).serviceCategory.visibility||e(j).serviceDuration.visibility||e(j).serviceCapacity.visibility||e(j).serviceLocation.visibility?(t(),i("div",Il,[a("div",Pl,[e(j).serviceCategory.visibility?(t(),i("div",Dl,[El,a("span",null,l(e($e).name),1)])):d("",!0),e(j).serviceDuration.visibility?(t(),i("div",Ll,[Tl,a("span",null,l(e(sa)(e(V).duration)),1)])):d("",!0),e(j).serviceCapacity.visibility&&!e(h).isLite?(t(),i("div",Bl,[Fl,a("span",null,l(e(ia)(e(ie),e(V).id)),1)])):d("",!0),e(Ae)(e(ie),e(V).id).length&&e(j).serviceLocation.visibility&&!e(h).isLite&&!e(h).isStarter?(t(),i("div",zl,[Al,a("span",null,l(de(e(ie),e(V).id)),1)])):d("",!0)])])):d("",!0)]}),content:R(()=>[e(V).gallery.length?(t(),i("div",Rl,[a("div",{class:O(["am-fcis__gallery-hero",[{w100:e(V).gallery.length===1},{"am-mobile w100":e(m)<678}]]),style:re({backgroundImage:`url(${e(V).gallery[0].pictureFullPath})`})},null,6),e(Ce).length&&e(m)>677?(t(),i("div",Ol,[(t(!0),i(Z,null,ye(e(Ce),(w,me)=>(t(),i("div",{key:me,class:O(["am-fcis__gallery-thumb",{"am-one-thumb":e(Ce).length===1}]),style:re({backgroundImage:`url(${w.pictureFullPath})`})},null,6))),128))])):d("",!0),G(Re,{"custom-class":`am-fcis__gallery-btn${e(m)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:T[0]||(T[0]=()=>ue(Ve)?Ve.value=!0:Ve=!0)},{default:R(()=>[pe(l(e(I).view_all_photos),1)]),_:1},8,["custom-class"])])):d("",!0),G(dt,{modelValue:e(Ve),"onUpdate:modelValue":T[4]||(T[4]=w=>ue(Ve)?Ve.value=w:Ve=w),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:R(()=>[a("div",{class:"am-gd",style:re(e(pt))},[a("div",Ml,[a("div",Vl,[a("span",{class:"am-icon-arrow-left",onClick:T[1]||(T[1]=()=>ue(f)?f.value=e(f)<=0?e(V).gallery.length-1:e(f)-1:f=e(f)<=0?e(V).gallery.length-1:e(f)-1)}),a("span",{class:"am-icon-arrow-right",onClick:T[2]||(T[2]=()=>ue(f)?f.value=e(V).gallery.length-1===e(f)?0:e(f)+1:f=e(V).gallery.length-1===e(f)?0:e(f)+1)})]),(t(!0),i(Z,null,ye(e(V).gallery,(w,me)=>(t(),i("div",{key:me,class:"am-gd__display",style:re({display:me===e(f)?"flex":"none"}),onClick:T[3]||(T[3]=()=>ue(f)?f.value=e(V).gallery.length-1===e(f)?0:e(f)+1:f=e(V).gallery.length-1===e(f)?0:e(f)+1)},[a("img",{src:w.pictureFullPath,alt:me},null,8,Nl)],4))),128))]),a("div",Ul,l(`${e(f)+1}/${e(V).gallery.length}`),1),a("div",Wl,[(t(!0),i(Z,null,ye(e(V).gallery,(w,me)=>(t(),i("div",{key:me,class:O(["am-gd__thumb",{"am-active":me===e(f)}]),style:re({backgroundImage:`url(${w.pictureFullPath})`}),onClick:()=>ue(f)?f.value=me:f=me},null,14,jl))),128))])],4)]),_:1},8,["modelValue"]),e(j).serviceDescription.visibility&&e(Me)(e(V).description)||e(j).serviceEmployees.visibility?(t(),i("div",Hl,[a("div",ql,[e(Me)(e(V).description)&&e(j).serviceDescription.visibility?(t(),i("div",{key:0,class:O(["am-fcis__info-tab",{"am-active":e(Y)==="description"}]),onClick:T[5]||(T[5]=()=>ue(Y)?Y.value="description":Y="description")},l(e(I).about_service),3)):d("",!0),e(j).serviceEmployees.visibility&&!e(h).isLite?(t(),i("div",{key:1,class:O([{"am-active":e(Y)==="employees"},"am-fcis__info-tab"]),onClick:T[6]||(T[6]=()=>ue(Y)?Y.value="employees":Y="employees")},l(e(I).tab_employees),3)):d("",!0)]),a("div",Gl,[e(Me)(e(V).description)&&e(j).serviceDescription.visibility?wt((t(),i("div",Jl,[a("div",{class:O(["am-fcis__info-service__desc",{"ql-description":e(V).description.includes("<!-- Content -->")}]),innerHTML:e(V).description},null,10,Yl)],512)),[[xt,e(Y)==="description"]]):d("",!0),e(j).serviceEmployees.visibility?wt((t(),i("div",Ql,[G($t,null,{default:R(()=>[(t(!0),i(Z,null,ye(e(v),w=>(t(),ge(St,{key:w.id,side:""},{heading:R(()=>[a("div",{class:O([{"am-mobile":e(m)<451},"am-fcis__info-employee"])},[a("div",Xl,[G(rt,{"item-class":"am-fcis__info-employee__img","item-data":w,"trim-string":3},null,8,["item-data"]),a("div",Zl,[a("div",Kl,[pe(l(w.firstName)+" "+l(w.lastName)+" ",1),w.badge?(t(),i("span",{key:0,style:re({background:w.badge.color}),class:"am-fcis__info-employee__badge"},l(w.badge.content),5)):d("",!0)]),ce(w)&&e(j).serviceEmployeePrice.visibility?(t(),i("div",eo,l(ce(w)),1)):d("",!0)])])],2)]),default:R(()=>[e(Me)(w.description)?(t(),i("div",{key:0,class:O(["am-fcis__info-employee__description",{"ql-description":w.description.includes("<!-- Content -->")}]),innerHTML:w.description},null,10,to)):d("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(Y)==="employees"]]):d("",!0)])])):d("",!0),e(le).length&&e(X).show!=="services"&&e(j).servicePackages.visibility&&!e(He)(e(N))?(t(),i("div",ao,[a("div",io,[a("span",so,l(e(I).service_available_in_package),1),e(le).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:T[7]||(T[7]=()=>ue(Q)?Q.value=!e(Q):Q=!e(Q))},[e(Q)?(t(),i(Z,{key:1},[pe(l(e(I).less_packages),1)],64)):(t(),i(Z,{key:0},[pe(l(e(I).more_packages),1)],64))])):d("",!0)]),(t(!0),i(Z,null,ye(e(Pe),w=>{var me,A;return t(),i("div",{key:w.id,class:"am-fcis__include",onClick:Ne=>Ee(w)},[a("div",oo,[e(m)>450?(t(),ge(rt,{key:0,"item-class":"am-fcis__include-img","item-data":w,"trim-string":3},null,8,["item-data"])):d("",!0),a("div",{class:O([{"am-mobile":e(m)<451},"am-fcis__include-text"])},[a("div",{class:O(["am-fcis__include-header",{"am-mobile":e(m)<600}])},[a("div",{class:O(["am-fcis__include-name",{"am-mobile":e(m)<600}])},l(w.name),3),e(j).packagePrice.visibility?(t(),i("div",no,[w.discount?(t(),i("span",co,l(`${e(I).save} ${w.discount}%`),1)):d("",!0),a("span",ro,l(w.price?e(Ke)(e(Nt)(w)):e(I).free),1),((A=(me=e(j).tax)==null?void 0:me.visibility)!=null?A:!0)&&e(ht)(e(N),w.id,"package")?(t(),i("span",uo,[e(s).payments.taxes.excluded?(t(),i(Z,{key:0},[pe(l(`+${e(I).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[pe(l(e(I).incl_tax),1)],64))])):d("",!0)])):d("",!0)],2),a("div",mo,[e(j).packageCategory.visibility?(t(),i("div",po,[_o,a("span",null,l(e($e).name),1)])):d("",!0),e(j).packageDuration.visibility?(t(),i("div",fo,[vo,w.endDate?(t(),i("span",go,l(`${e(I).expires_at} ${w.endDate.split(" ")[0]}`),1)):w.durationCount?(t(),i("span",yo,l(`${e(I).expires_after} ${w.durationCount} ${mt(w.durationCount,w.durationType)}`),1)):(t(),i("span",ho,l(e(I).without_expiration),1))])):d("",!0),e(j).packageCapacity.visibility?(t(),i("div",bo,$o)):d("",!0),e(j).packageLocation.visibility&&e(Fe).length?(t(),i("div",So,[wo,a("span",null,l(e(Fe).length===1?e(Fe)[0].address?e(Fe)[0].address:e(Fe)[0].name:e(I).multiple_locations),1)])):d("",!0),e(j).packageServices.visibility?(t(),i("div",xo,[a("span",null,l(`${e(I).in_package}:`),1),(t(!0),i(Z,null,ye(w.bookable,Ne=>(t(),i("span",{key:Ne.id},l(Ne.service.name),1))),128))])):d("",!0)])],2)])],8,lo)}),128))])):d("",!0),G(dt,{modelValue:e(H),"onUpdate:modelValue":T[9]||(T[9]=w=>ue(H)?H.value=w:H=w),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(De),onClosed:te},{default:R(()=>[G(qt,{"show-cart":e(r),onAddToCart:he,onEmptiedCart:T[8]||(T[8]=w=>ue(H)?H.value=!1:H=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Se)?(t(),i("div",Io,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Po),a("div",Do,l(e(I).oops),1),a("div",Eo,l(e(X).show!=="packages"?e(I).no_services_employees:e(I).no_package_services),1),a("div",Lo,[e(X).show!=="packages"?(t(),i("span",To,l(e(I).add_services_employees)+"\xA0 ",1)):d("",!0),a("a",Bo,l(e(I).add_services_url)+"\xA0 ",1),e(X).show!=="packages"?(t(),i("span",Fo,l(e(I).and)+"\xA0 ",1)):d("",!0),e(X).show!=="packages"?(t(),i("a",zo,l(e(I).add_employees_url),1)):d("",!0)])],512)):d("",!0)],64)):d("",!0)}});const Oo={class:"am-fcip__header-text"},Mo={class:"am-fcip__header-name"},Vo={key:0,class:"am-fcip__badge am-package"},No=a("span",{class:"am-icon-shipment"},null,-1),Uo={class:"am-fcip__header-action"},Wo={key:0,class:"am-fcip__header-discount"},jo={key:1,class:"am-fcip__header-price"},Ho={key:2,class:"am-fcip__header-tax"},qo={class:"am-fcip__header-btn"},Go={key:0,class:"am-fcip__header-bottom"},Jo={class:"am-fcip__mini-info"},Yo={key:0,class:"am-fcip__mini-info__inner"},Qo=a("span",{class:"am-icon-folder"},null,-1),Xo={key:1,class:"am-fcip__mini-info__inner"},Zo=a("span",{class:"am-icon-clock"},null,-1),Ko={key:0},en={key:1},tn={key:2},an={key:2,class:"am-fcip__mini-info__inner"},sn=a("span",{class:"am-icon-user"},null,-1),ln=a("span",null,"1/1",-1),on=[sn,ln],nn={key:3,class:"am-fcip__mini-info__inner"},cn=a("span",{class:"am-icon-locations"},null,-1),rn={key:0,class:"am-fcip__gallery"},un={key:0,class:"am-fcip__gallery-thumb__wrapper"},dn=a("span",{class:"am-icon-gallery"},null,-1),mn={class:"am-gd__display-wrapper"},pn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},_n=["src","alt"],fn={class:"am-gd__selection"},vn={class:"am-gd__thumb-wrapper"},gn=["onClick"],yn={key:1,class:"am-fcip__info"},hn={class:"am-fcip__info-tab__wrapper"},bn={class:"am-fcip__info-content__wrapper"},kn={key:0,class:"am-fcip__info-content"},Cn=["innerHTML"],$n={key:1,class:"am-fcip__info-content"},Sn={class:"am-fcip__info-employee"},wn={class:"am-fcip__info-employee__hero"},xn={class:"am-fcip__info-employee__name"},In=["innerHTML"],Pn={key:2,class:"am-fcip__include-wrapper"},Dn={class:"am-fcip__include-heading"},En={class:"am-fcip__include-heading__text"},Ln={class:"am-fcip__include-service"},Tn={class:"am-fcip__include-service__info"},Bn={key:0},Fn=["innerHTML"],zn={class:"am-fcip__include-footer"},An={class:"am-fcip__include-footer__text"},Rn={key:1,ref:"ameliaContainer",class:"am-empty"},On=["src"],Mn={class:"am-empty__heading"},Vn={class:"am-empty__subheading"},Nn={class:"am-empty__text"},Un={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Wn={name:"CategoryPackage"},jn=Object.assign(Wn,{setup(_){let{previousPage:h}=F("changingPageFunctions",{previousPage:()=>{}}),c=x(),g=F("containerWidth");const C=F("settings"),L=F("baseUrls");let m=it();const s=F("shortcodeData"),p=k(()=>m.getters["entities/getPreselected"]);let b=F("amEntities"),S=F("customizedDataForm"),$=k(()=>S.value.categoryPackage.options),I=k(()=>"pageScroll"in $.value?$.value.pageScroll.visibility:!0),f=F("itemType"),N=F("categorySelected"),ie=k(()=>b.value.categories.find(X=>X.id===N.value)),D=k(()=>b.value.packages.find(X=>X.id===m.getters["booking/getPackageId"])),B=x(0),n=x("description"),j=k(()=>la(b.value,D.value,s.value)),ne=k(()=>nt(b.value,D.value,s.value)),q=x(p.value.employee.length>0?b.value.unfilteredEmployees.filter(X=>p.value.employee.map(U=>parseInt(U)).includes(X.id)):b.value.unfilteredEmployees);function ve(X){let U=[];return X.providers.length?X.providers.forEach(z=>{q.value.find(te=>te.id===parseInt(z.id))&&U.push(q.value.find(te=>te.id===parseInt(z.id)))}):U=q.value.filter(z=>z.serviceList.find(te=>te.id===X.service.id)),U}ze(()=>{$.value.packageDescription.visibility||(n.value="employees"),Me(D.value.description)||(n.value="employees")});let $e=x(!1);Mt(()=>{$e.value=m.getters["entities/getEmployees"].length===0||j.value.length===0});let V=x(!1),de=k(()=>{let X=D.value.gallery.length?JSON.parse(JSON.stringify(D.value.gallery)):[];return D.value.gallery.length===1?[]:(X.shift(),X.length>2&&X.splice(2,X.length-2),X)});function Y(){f.value="",Te(()=>{h()})}let v=x(!1),ce=x("760px");se("bookingDialogWidth",ce);function Ce(){m.commit("booking/setPackageId",D.value.id),m.commit("booking/setMultipleAppointments",Pt(0,D.value)),m.commit("booking/setMultipleAppointmentsIndex",0),m.commit("booking/setBookableType","package"),Te(()=>{v.value=!0})}F("restoreFormData").value&&Ce();let Q=x("");se("stepName",Q);function Pe(){let X=m.getters["entities/getBookableFromBookableEntities"](m.getters["booking/getSelection"]),U=X.settings?JSON.parse(X.settings):C;"general"in U&&"redirectUrlAfterAppointment"in U.general&&U.general.redirectUrlAfterAppointment?window.location.href=U.general.redirectUrlAfterAppointment:C.general.redirectUrlAfterAppointment?window.location.href=C.general.redirectUrlAfterAppointment:window.location.reload()}function Fe(){Q.value&&Q.value==="CongratulationsStep"?Pe():m.commit("entities/setPreselected",m.getters["entities/getOriginalPreselected"]),ce.value="760px"}let Oe=F("amFonts");const r=F("labels"),K=F("localLanguage");let he=k(()=>C.general.usedLanguages.includes(K.value)),H=k(()=>{let X=st(tt({},r));if(C.customizedData&&C.customizedData.cbf&&C.customizedData.cbf.categoryPackage.translations){let U=C.customizedData.cbf.categoryPackage.translations;Object.keys(U).forEach(z=>{U[z][K.value]&&he.value?X[z]=U[z][K.value]:U[z].default&&(X[z]=U[z].default)})}return X});function De(X,U){let z="";return X>1?(U==="day"&&(z=H.value.expires_days),U==="week"&&(z=H.value.expires_weeks),U==="month"&&(z=H.value.expires_months)):(U==="day"&&(z=H.value.expires_day),U==="week"&&(z=H.value.expires_week),U==="month"&&(z=H.value.expires_month)),z}let oe=F("amColors"),qe=k(()=>({"--am-c-fcip-success-op20":ae(oe.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ae(oe.value.colorPrimary,.2),"--am-c-fcip-text-op80":ae(oe.value.colorMainText,.8),"--am-c-fcip-text-op60":ae(oe.value.colorMainText,.6),"--am-c-fcip-text-op03":ae(oe.value.colorMainText,.03),"--am-c-fcip-btn-op50":ae(oe.value.colorBtnSec,.5)})),Ee=k(()=>({"--am-c-fcip-bgr":oe.value.colorMainBgr,"--am-c-fcip-text":oe.value.colorMainText,"--am-c-fcip-success":oe.value.colorSuccess,"--am-c-fcip-primary":oe.value.colorPrimary,"--am-c-scroll-op30":ae(oe.value.colorPrimary,.3),"--am-c-scroll-op10":ae(oe.value.colorPrimary,.1),"--am-font-family":Oe.fontFamily}));return(X,U)=>(t(),i(Z,null,[e($e)?d("",!0):(t(),ge(Wt,{key:0,ref_key:"contentRef",ref:c,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(I)?"":"no-scroll"}`,style:re(e(qe))},Vt({heading:R(()=>{var z,te;return[a("div",{class:O([[{"am-tablet":e(g)<=678},{"am-mobile":e(g)<450}],"am-fcip__header-top"])},[a("div",Oo,[a("span",Mo,[a("span",null,l(e(D).name),1)]),e($).packageBadge.visibility?(t(),i("div",Vo,[No,a("span",null,l(e(H).package),1)])):d("",!0)]),a("div",Uo,[e(D).discount&&e($).packagePrice.visibility?(t(),i("span",Wo,l(`${e(H).save} ${e(D).discount}%`),1)):d("",!0),e($).packagePrice.visibility?(t(),i("span",jo,l(e(D).price?e(Ke)(e(Nt)(e(D))):e(H).free),1)):d("",!0),e(D).price&&((te=(z=e($).tax)==null?void 0:z.visibility)!=null?te:!0)&&e(ht)(e(m),e(D).id,"package")?(t(),i("span",Ho,[e(C).payments.taxes.excluded?(t(),i(Z,{key:0},[pe(l(`+${e(H).total_tax_colon}`),1)],64)):(t(),i(Z,{key:1},[pe(l(e(H).incl_tax),1)],64))])):d("",!0),a("span",qo,[G(Re,{type:e($).bookingBtn.buttonType,onClick:Ce},{default:R(()=>[pe(l(e(H).book_now),1)]),_:1},8,["type"])])])],2),e($).packageCategory.visibility&&e(p).package.length!==1||e($).packageDuration.visibility||e($).packageCapacity.visibility||e($).packageLocation.visibility&&e(ne).length?(t(),i("div",Go,[a("div",Jo,[e(p).package.length!==1&&e($).packageBadge.visibility?(t(),i("div",Yo,[Qo,a("span",null,l(e(ie).name),1)])):d("",!0),e($).packageDuration.visibility?(t(),i("div",Xo,[Zo,e(D).endDate?(t(),i("span",Ko,l(`${e(H).expires_at} ${e(D).endDate.split(" ")[0]}`),1)):e(D).durationCount?(t(),i("span",en,l(`${e(H).expires_after} ${e(D).durationCount} ${De(e(D).durationCount,e(D).durationType)}`),1)):(t(),i("span",tn,l(e(H).without_expiration),1))])):d("",!0),e($).packageCapacity.visibility?(t(),i("div",an,on)):d("",!0),e(ne).length&&e($).packageLocation.visibility?(t(),i("div",nn,[cn,a("span",null,l(e(ne).length===1?e(ne)[0].address?e(ne)[0].address:e(ne)[0].name:e(H).multiple_locations),1)])):d("",!0)])])):d("",!0)]}),content:R(()=>[e(D).gallery.length?(t(),i("div",rn,[a("div",{class:O(["am-fcip__gallery-hero",[{w100:e(D).gallery.length===1},{"am-mobile w100":e(g)<678}]]),style:re({backgroundImage:`url(${e(D).gallery[0].pictureFullPath})`})},null,6),e(de).length&&e(g)>677?(t(),i("div",un,[(t(!0),i(Z,null,ye(e(de),(z,te)=>(t(),i("div",{key:te,class:O(["am-fcip__gallery-thumb",{"am-one-thumb":e(de).length===1}]),style:re({backgroundImage:`url(${z.pictureFullPath})`})},null,6))),128))])):d("",!0),G(Re,{"custom-class":`am-fcip__gallery-btn${e(g)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:U[0]||(U[0]=()=>ue(V)?V.value=!0:V=!0)},{default:R(()=>[dn,a("span",null,l(e(H).view_all_photos),1)]),_:1},8,["custom-class"])])):d("",!0),G(dt,{modelValue:e(V),"onUpdate:modelValue":U[4]||(U[4]=z=>ue(V)?V.value=z:V=z),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:R(()=>[a("div",{class:"am-gd",style:re(e(Ee))},[a("div",mn,[a("div",pn,[a("span",{class:"am-icon-arrow-left",onClick:U[1]||(U[1]=()=>ue(B)?B.value=e(B)<=0?e(D).gallery.length-1:e(B)-1:B=e(B)<=0?e(D).gallery.length-1:e(B)-1)}),a("span",{class:"am-icon-arrow-right",onClick:U[2]||(U[2]=()=>ue(B)?B.value=e(D).gallery.length-1===e(B)?0:e(B)+1:B=e(D).gallery.length-1===e(B)?0:e(B)+1)})]),(t(!0),i(Z,null,ye(e(D).gallery,(z,te)=>(t(),i("div",{key:te,class:"am-gd__display",style:re({display:te===e(B)?"flex":"none"}),onClick:U[3]||(U[3]=()=>ue(B)?B.value=e(D).gallery.length-1===e(B)?0:e(B)+1:B=e(D).gallery.length-1===e(B)?0:e(B)+1)},[a("img",{src:z.pictureFullPath,alt:te},null,8,_n)],4))),128))]),a("div",fn,l(`${e(B)+1}/${e(D).gallery.length}`),1),a("div",vn,[(t(!0),i(Z,null,ye(e(D).gallery,(z,te)=>(t(),i("div",{key:te,class:O(["am-gd__thumb",{"am-active":te===e(B)}]),style:re({backgroundImage:`url(${z.pictureFullPath})`}),onClick:()=>ue(B)?B.value=te:B=te},null,14,gn))),128))])],4)]),_:1},8,["modelValue"]),e($).packageDescription.visibility&&e(Me)(e(D).description)||e($).packageEmployees.visibility?(t(),i("div",yn,[a("div",hn,[e(Me)(e(D).description)&&e($).packageDescription.visibility?(t(),i("div",{key:0,class:O(["am-fcip__info-tab",{"am-active":e(n)==="description"}]),onClick:U[5]||(U[5]=()=>ue(n)?n.value="description":n="description")},l(e(H).about_package),3)):d("",!0),e($).packageEmployees.visibility?(t(),i("div",{key:1,class:O([{"am-active":e(n)==="employees"},"am-fcip__info-tab"]),onClick:U[6]||(U[6]=()=>ue(n)?n.value="employees":n="employees")},l(e(H).tab_employees),3)):d("",!0)]),a("div",bn,[e(Me)(e(D).description)&&e($).packageDescription.visibility?wt((t(),i("div",kn,[a("div",{class:O(["am-fcip__info-service__desc",{"ql-description":e(D).description.includes("<!-- Content -->")}]),innerHTML:e(D).description},null,10,Cn)],512)),[[xt,e(n)==="description"]]):d("",!0),e($).packageEmployees.visibility?wt((t(),i("div",$n,[G($t,null,{default:R(()=>[(t(!0),i(Z,null,ye(e(j),z=>(t(),ge(St,{key:z.id,side:""},{heading:R(()=>[a("div",Sn,[a("div",wn,[G(rt,{"item-class":"am-fcip__info-employee__img","item-data":z,"trim-string":3},null,8,["item-data"]),a("div",xn,[pe(l(z.firstName)+" "+l(z.lastName)+" ",1),z.badge?(t(),i("span",{key:0,style:re({background:z.badge.color}),class:"am-fcip__info-employee__badge"},l(z.badge.content),5)):d("",!0)])])])]),default:R(()=>[e(Me)(z.description)?(t(),i("div",{key:0,class:O(["am-fcip__info-employee__description",{"ql-description":z.description.includes("<!-- Content -->")}]),innerHTML:z.description},null,10,In)):d("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(n)==="employees"]]):d("",!0)])])):d("",!0),e($).packageServices.visibility?(t(),i("div",Pn,[a("div",Dn,[a("span",En,l(`${e(H).package_includes}:`),1)]),G($t,null,{default:R(()=>[(t(!0),i(Z,null,ye(e(D).bookable,z=>(t(),ge(St,{key:z.id,side:!0},{heading:R(()=>[a("div",Ln,[G(rt,{"item-class":"am-fcip__include-service__img","item-data":z.service},null,8,["item-data"]),pe(" "+l(z.service.name+(e(D).sharedCapacity?"":" x"+z.quantity)),1)])]),default:R(()=>[a("div",Tn,[a("span",null,l(`${e(H).tab_employees}:`),1),(t(!0),i(Z,null,ye(ve(z).slice(0,6),te=>(t(),ge(rt,{key:te.id,"item-class":"am-fcip__include-service__info-name","item-data":te,"trim-string":3},null,8,["item-data"]))),128)),ve(z).length>6?(t(),i("span",Bn," + "+l(ve(z).length-6),1)):d("",!0),e(Me)(z.service.description)?(t(),i("div",{key:1,class:O(["am-fcip__include-service__info-description",{"ql-description":z.service.description.includes("<!-- Content -->")}]),innerHTML:z.service.description},null,10,Fn)):d("",!0)])]),_:2},1024))),128))]),_:1}),a("div",zn,[a("span",An,l(e(H).package_book_service),1)])])):d("",!0),G(dt,{modelValue:e(v),"onUpdate:modelValue":U[7]||(U[7]=z=>ue(v)?v.value=z:v=z),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(ce),onClosed:Fe},{default:R(()=>[G(qt)]),_:1},8,["modelValue","width"])]),_:2},[e(p).package.length!==1?{name:"header",fn:R(()=>[G(Ut,{"btn-string":e(H).back_btn,"btn-type":e($).backBtn.buttonType,onGoBack:Y},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e($e)?(t(),i("div",Rn,[a("img",{src:e(L).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,On),a("div",Mn,l(e(H).oops),1),a("div",Vn,l(e(H).no_package_services),1),a("div",Nn,[a("a",Un,l(e(H).add_services_url)+"\xA0 ",1)])],512)):d("",!0)],64))}});const Hn={name:"CatalogSkeleton"},qn=Object.assign(Hn,{setup(_){let h=x(null),c=x(0);window.addEventListener("resize",g);function g(){h.value&&(c.value=h.value.offsetWidth)}ze(()=>{h.value&&(c.value=h.value.offsetWidth)});let C=k(()=>c.value<=500?"am-w100":c.value<=600?"am-w50":c.value<=768?"am-w33":"");return(L,m)=>{const s=Xa,p=Qa;return t(),i("div",{ref_key:"amSkeletonContainer",ref:h,class:"am-skeleton-catalog__wrapper"},[G(p,{animated:"",class:"am-skeleton-catalog"},{template:R(()=>[(t(!0),i(Z,null,ye(new Array(8),b=>(t(),i("div",{key:b,class:O(["am-skeleton-catalog__item",e(C)])},[G(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Gn=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Jn=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Yn=["href"],Qn={name:"CatalogFormWrapper"},Xn=Object.assign(Qn,{emits:["isRestored"],setup(_,{emit:h}){let c=F("isMounted"),g=F("licence"),C=x(null),L=x(20);const m=F("baseUrls");let s=x(0);se("containerWidth",s),window.addEventListener("resize",p);function p(){C.value&&(s.value=C.value.offsetWidth)}ze(()=>{I.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+$.value.counter).classList.add("amelia-v2-booking-"+$.value.counter+"-loaded"),yt(I,{},"ViewContent","appointment",null,null),p(),c.value=!0,ea("scrollForm",{offsetFromTop:L})});let b=x(!1);const S=F("settings"),$=F("shortcodeData"),I=it();I.commit("entities/setPreselected",$.value),I.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:g,loadEntities:$.value.trigger||window.ameliaShortcodeData.filter(r=>!r.hasApiCall).length===window.ameliaShortcodeData.length?!0:$.value.hasApiCall,showHidden:!1});const f=Ie(Ri),N=Ie(yl),ie=Ie(Ro),D=Ie(jn);let B=x([f,N]),n=x(0),j=x(null);se("categorySelected",j);let ne=x([]);se("availableCategories",ne);let q=x("");se("itemType",q),Ct(q,()=>{q.value==="appointment"&&B.value.push(ie),q.value==="package"&&B.value.push(D),q.value===""&&B.value.forEach((r,K)=>{r.name==="CategoryService"&&ve(B.value,K),r.name==="CategoryPackage"&&ve(B.value,K)})});function ve(r,K){r.splice(K,1)}function $e(){n.value=n.value+1;let r=C.value.getBoundingClientRect().top+window.pageYOffset-L.value;window.scrollTo({top:r,behavior:"smooth"})}function V(){n.value=n.value-1}se("changingPageFunctions",{nextPage:$e,previousPage:V});let de=k(()=>I.getters["entities/getReady"]),Y=k(()=>I.state.entities);se("amEntities",Y);function v(){let r=I.getters["entities/getPreselected"];if($.value.categories_hidden&&r.category.length!==1&&(ne.value=JSON.parse(JSON.stringify(gi(Y.value,$.value))),j.value=parseInt(ne.value.length?ne.value[0].id:null),I.commit("booking/setCategoryId",parseInt(j.value)),Te(()=>{let K=B.value.findIndex(he=>he.name==="CategoriesList");B.value.splice(K,1)})),r.category.length===1&&(I.commit("booking/setCategoryId",parseInt(r.category)),j.value=parseInt(r.category[0]),ne.value=JSON.parse(JSON.stringify(Y.value.categories.filter(K=>K.id===parseInt(r.category[0])&&K.status==="visible"&&K.serviceList.length&&!!bt($,K,Y.value).length))),Te(()=>{let K=B.value.findIndex(he=>he.name==="CategoriesList");B.value.splice(K,1)})),r.service.length===1){I.commit("booking/setServiceId",parseInt(r.service[0]));let K=I.getters["entities/getService"](parseInt(r.service[0]));j.value=K?parseInt(K.categoryId):null,I.commit("booking/setCategoryId",K?parseInt(K.categoryId):null),Te(()=>{B.value=[],B.value.push(ie)})}r.employee.length===1&&I.commit("booking/setEmployeeId",parseInt(r.employee[0])),r.location.length===1&&I.commit("booking/setLocationId",parseInt(r.location[0])),r.package.length===1&&(I.commit("booking/setPackageId",parseInt(r.package[0])),B.value=[],B.value.push(D)),r.show==="packages"?I.commit("booking/setBookableType","package"):I.commit("booking/setBookableType","appointment")}let ce=k(()=>de.value?Ka(I,$.value):null);se("restoreFormData",ce),Ct(de,r=>{r&&(v(),b.value=I.getters["entities/getServices"].length===0||I.getters["entities/getEmployees"].length===0,ce.value&&(q.value=I.state.booking.appointment.type,Te(()=>{n.value=B.value.length-1,j.value=I.state.booking.appointment.categoryId,h("isRestored",ce.value)})))});let Ce=k(()=>S.customizedData&&"cbf"in S.customizedData?S.customizedData.cbf:ct.cbf);se("customizedDataForm",Ce);const le=x(S.customizedData?S.customizedData.fonts:ct.fonts);se("amFonts",le);let Q=k(()=>S.customizedData&&"cbf"in S.customizedData?S.customizedData.cbf.colors:ct.cbf.colors);se("amColors",Q);let Pe=k(()=>({"--am-c-primary":Q.value.colorPrimary,"--am-c-success":Q.value.colorSuccess,"--am-c-error":Q.value.colorError,"--am-c-warning":Q.value.colorWarning,"--am-c-main-bgr":Q.value.colorMainBgr,"--am-c-main-heading-text":Q.value.colorMainHeadingText,"--am-c-main-text":Q.value.colorMainText,"--am-c-sb-bgr":Q.value.colorSbBgr,"--am-c-sb-text":Q.value.colorSbText,"--am-c-inp-bgr":Q.value.colorInpBgr,"--am-c-inp-border":Q.value.colorInpBorder,"--am-c-inp-text":Q.value.colorInpText,"--am-c-inp-placeholder":Q.value.colorInpPlaceHolder,"--am-c-drop-bgr":Q.value.colorDropBgr,"--am-c-drop-text":Q.value.colorDropText,"--am-c-card-bgr":Q.value.colorCardBgr,"--am-c-card-text":Q.value.colorCardText,"--am-c-card-border":Q.value.colorCardBorder,"--am-c-btn-prim":Q.value.colorBtnPrim,"--am-c-btn-prim-text":Q.value.colorBtnPrimText,"--am-c-btn-sec":Q.value.colorBtnSec,"--am-c-btn-sec-text":Q.value.colorBtnSecText,"--am-c-skeleton-op20":ae(Q.value.colorMainText,.2),"--am-c-skeleton-op60":ae(Q.value.colorMainText,.6),"--am-font-family":le.value.fontFamily}));function Fe(){let r=document.head||document.getElementsByTagName("head")[0];r.querySelector("#amCustomFont")&&r.querySelector("#amCustomFont").remove();let K=`@font-face {font-family: '${le.value.fontFamily}'; src: url(${le.value.fontUrl});}`,he=document.createElement("style");r.appendChild(he),he.setAttribute("type","text/css"),he.setAttribute("id","amCustomFont"),he.appendChild(document.createTextNode(K))}le.value.customFontSelected&&Fe();let Oe=k(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",Oe),(r,K)=>(t(),i(Z,null,[le.value.customFontSelected?d("",!0):(t(),i(Z,{key:0},[Gn,Jn,a("link",{rel:"stylesheet",type:"text/css",href:`${e(m).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Yn)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:C,class:"am-fc__wrapper",style:re(e(Pe))},[e(de)&&e(B).length?(t(),ge(ta(e(B)[e(n)]),{key:0})):(t(),ge(qn,{key:1}))],4),G(e(Za))],64))}});var ec=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"}));export{ec as C,dt as _,It as a,_i as b,Ut as c,rt as d,Wt as e,Xn as f};
