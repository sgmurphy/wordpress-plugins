var pa=Object.defineProperty;var Gt=Object.getOwnPropertySymbols;var _a=Object.prototype.hasOwnProperty,fa=Object.prototype.propertyIsEnumerable;var Jt=(_,h,r)=>h in _?pa(_,h,{enumerable:!0,configurable:!0,writable:!0,value:r}):_[h]=r,tt=(_,h)=>{for(var r in h||(h={}))_a.call(h,r)&&Jt(_,r,h[r]);if(Gt)for(var r of Gt(h))fa.call(h,r)&&Jt(_,r,h[r]);return _};import{A as va,r as x,o as ga,a as Be,t as ya,c as k,E as ha,b as a,d as ve,w as A,e as i,f as o,g as at,u as e,i as de,n as O,h as bt,j as it,k as t,l as we,_ as Ae,m as d,p as G,q as Rt,s as F,v as ee,F as oe,x as ge,y as ue,z as Ee,B as Yt,C as st,D as Ze,I as ba,G as yt,H as te,J as ct,K as kt,L as Se,M as ka,N as Ca,P as $a,R as Sa,O as wa,Q as xa,S as Ia,T as Pa,U as Da,V as Ea,W as La,X as Ta,Y as Ba,Z as Fa,$ as Je,a0 as Bt,a1 as za,a2 as It,a3 as Ot,a4 as gt,a5 as Qt,a6 as Aa,a7 as Ra,a8 as Zt,a9 as We,aa as Ye,ab as Oa,ac as Ma,ad as Va,ae as Mt,af as Na,ag as Kt,ah as Ua,ai as Wa,aj as ea,ak as ja,al as Ha,am as Ft,an as Ct,ao as zt,ap as $t,aq as Oe,ar as St,as as wt,at as qa,au as Ga,av as Ja,aw as Ya,ax as Qa,ay as Xa}from"./stepForm.af3d6f68.js";const Za={key:0,class:"am-dialog__title"},Ka={inheritAttrs:!1},dt=Object.assign(Ka,{props:{modelValue:{type:[String,Array,Object,Number,Boolean]},modalClass:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number],default:"50%"},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"15vh"},modal:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},customClass:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},center:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},closeIcon:{type:[Object,Function],default:va},customStyles:{type:Object},usedForShortcode:{type:Boolean,default:!1}},emits:["close","open","closed","opened","update:modelValue"],setup(_,{emit:h}){const r=_,v=x(null);ga(()=>{C()}),Be(()=>{r.usedForShortcode&&(v.value.rendered=!0),C()});function C(){r.customStyles&&Object.keys(r.customStyles).forEach(s=>{v.value.style[s]=r.customStyles[s]})}let{modelValue:L}=ya(r),m=k({get:()=>L.value,set:s=>{h("update:modelValue",s)}});return(s,p)=>{const b=ha;return a(),ve(b,{ref_key:"amDialogRef",ref:v,modelValue:e(m),"onUpdate:modelValue":p[0]||(p[0]=S=>de(m)?m.value=S:m=S),"modal-class":`am-dialog-popup ${r.modalClass}`,title:r.title,width:r.width,fullscreen:r.fullscreen,top:r.top,modal:r.modal,"append-to-body":r.appendToBody,"lock-scroll":r.lockScroll,"custom-class":r.customClass,"open-delay":r.openDelay,"close-delay":r.closeDelay,"close-on-click-modal":r.closeOnClickModal,"close-on-press-escape":r.closeOnPressEscape,"show-close":r.showClose,"before-close":r.beforeClose,center:r.center,"destroy-on-close":r.destroyOnClose,"close-icon":r.closeIcon,onClose:p[1]||(p[1]=S=>h("close")),onOpen:p[2]||(p[2]=S=>h("open")),onClosed:p[3]||(p[3]=S=>h("closed")),onOpened:p[4]||(p[4]=S=>h("opened"))},{title:A(()=>[_.title?(a(),i("span",Za,o(_.title),1)):at(s.$slots,"title",{key:1})]),footer:A(()=>[at(s.$slots,"footer")]),default:A(()=>[at(s.$slots,"default")]),_:3},8,["modelValue","modal-class","title","width","fullscreen","top","modal","append-to-body","lock-scroll","custom-class","open-delay","close-delay","close-on-click-modal","close-on-press-escape","show-close","before-close","center","destroy-on-close","close-icon"])}}}),ei={name:"IconComponent"},xt=Object.assign(ei,{props:{icon:{type:String,required:!0}},setup(_){return(h,r)=>(a(),i("span",{class:O(`am-icon-${_.icon}`)},null,2))}});const ti={class:"am-cat__header-inner"},ai={class:"am-cat__back-btn"},ii={key:0,class:"am-cat__cart-btn"},si={class:"am-cat__cart-number"},li={name:"MainHeader"},Vt=Object.assign(li,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(_,{emit:h}){const r=_;let v=bt({components:{IconComponent:xt},template:'<IconComponent icon="arrow-left"></IconComponent>'}),C=bt({components:{IconComponent:xt},template:'<IconComponent icon="cart"/>'});function L(){h("goBack")}const m=it();function s(){Rt(m),h("goToCart")}return(p,b)=>(a(),i("div",ti,[t("div",ai,[e(r).backBtnVisibility?(a(),ve(Ae,{key:0,prefix:e(v),category:"secondary",type:_.btnType,size:_.btnSize,onClick:L},{default:A(()=>[we(o(e(r).btnString),1)]),_:1},8,["prefix","type","size"])):d("",!0)]),e(r).cartBtnVisibility?(a(),i("div",ii,[t("span",si,o(e(r).cartItemsNumber),1),G(Ae,{category:"secondary",type:_.btnType,size:_.btnSize,round:!0,"icon-only":!0,icon:e(C),onClick:s},null,8,["type","size","icon"])])):d("",!0)]))}});const oi={class:"am-cat__sidemenu-item__wrapper"},ni=["onClick"],ci={key:0,class:"am-cat__sidemenu-footer"},ri={class:"am-cat__sidemenu-footer__text"},ui=["href"],di={name:"SideMenu"},mi=Object.assign(di,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(_,{emit:h}){const r=_;function v(m){h("click",m)}let C=F("amColors"),L=k(()=>({"--am-c-csm-text-op10":ee(C.value.colorSbText,.1),"--am-c-csm-primary-op10":ee(C.value.colorPrimary,.1),"--am-c-csm-text-op60":ee(C.value.colorSbText,.6),"--am-c-csm-text-op80":ee(C.value.colorSbText,.8)}));return(m,s)=>(a(),i("div",{class:"am-cat__sidemenu",style:ue(e(L))},[t("div",oi,[(a(!0),i(oe,null,ge(_.menuItems,(p,b)=>(a(),i("div",{key:b,class:O(["am-cat__sidemenu-item",{"am-active":e(r).initSelection===p[e(r).identifier]}]),onClick:()=>v(p)},o(p[e(r).nameIdentifier]),11,ni))),128))]),e(r).companyEmail?(a(),i("div",ci,[t("span",ri,o(e(r).footerString),1),t("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(r).companyEmail}`},o(e(r).companyEmail),9,ui)])):d("",!0)],4))}});const pi={name:"MainContent"},Nt=Object.assign(pi,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(_,{expose:h}){let r=x(null),v=x(0),C=x(null),L=x(0),m=x(null),s=x(0),p=x(null),b=x(null),S=x(0);window.addEventListener("resize",$);function $(){Ee(()=>{r.value&&(v.value=r.value.offsetWidth),C.value&&(L.value=C.value.offsetWidth),m.value&&(s.value=m.value.offsetWidth)})}Be(()=>{Ee(()=>{if(m.value&&p.value){let N=m.value.offsetHeight-p.value.offsetHeight-2;S.value=N<=656?656:N}$()})}),h({catHeaderWidth:v,catFormWidth:s,catContainerWidth:L});let D=F("amColors"),f=k(()=>({"--am-h-cat-content":`${S.value}px`,"--am-c-scroll-op30":ee(D.value.colorPrimary,.3),"--am-c-scroll-op10":ee(D.value.colorPrimary,.1)}));return(N,ae)=>(a(),i("div",{class:O(["am-cat__wrapper",_.wrapperClass])},[t("div",{ref_key:"catHeader",ref:r,class:"am-cat__header"},[at(N.$slots,"header")],512),t("div",{ref_key:"catContainer",ref:C,class:"am-cat__main"},[at(N.$slots,"side"),t("div",{ref_key:"catForm",ref:m,class:O(["am-cat__form",_.formClass]),style:ue(e(f))},[t("div",{ref_key:"catHeading",ref:p,class:O(["am-cat__heading",_.headingClass])},[at(N.$slots,"heading")],2),t("div",{ref_key:"catContent",ref:b,class:O(["am-cat__content",_.contentClass])},[at(N.$slots,"content")],2)],6)],512)],2))}}),_i={name:"AmImagePlaceholder"},rt=Object.assign(_i,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(_){const h=_;function r(C){return C.pictureFullPath?{backgroundImage:`url(${C.pictureFullPath})`}:{backgroundColor:`${Yt.value[Math.floor(Math.random()*Yt.value.length)]}`}}function v(C){return C.pictureFullPath?"":("firstName"in C?`${C.firstName} ${C.lastName}`:C.name).split(" ").map(m=>m.charAt(0)).join("").toUpperCase().substring(0,h.trimString).replace(/[^\w\s]/g,"")}return(C,L)=>(a(),i("span",{class:O(e(h).itemClass),style:ue(tt({},r(e(h).itemData)))},o(v(e(h).itemData)),7))}}),At=st(window.wpAmeliaSettings),Xt=st(window.wpAmeliaLabels);function ht(_,h,r,v=null,C=null){let L=[],m=_&&_.service?_.service.split(",").map(s=>parseInt(s)):null;return h&&h.serviceList.forEach(s=>{v?v in r.entitiesRelations&&s.id in r.entitiesRelations[v]&&(C?r.entitiesRelations[v][s.id].find(p=>p===C):!0)&&s.status==="visible"&&s.show&&!L.filter(p=>p===s.id).length&&(!m||m.includes(s.id))&&L.push(s.id):r.employees.forEach(p=>{p.id in r.entitiesRelations&&s.id in r.entitiesRelations[p.id]&&(C?r.entitiesRelations[p.id][s.id].find(b=>b===C):!0)&&s.status==="visible"&&s.show&&!L.filter(b=>b===s.id).length&&(!m||m.includes(s.id))&&L.push(s.id)})}),L}function ta(_,h){let r=[],v=[];_.employees.forEach(m=>{if(m.id in _.entitiesRelations&&h in _.entitiesRelations[m.id]){let s=m.serviceList.find(p=>p.id===h);r.push(s.maxCapacity),v.push(s.minCapacity)}});let C=v.reduce((m,s)=>s<m?s:m,v[0]),L=r.reduce((m,s)=>s>m?s:m,r[0]);return C!==L?`${C}/${L}`:C}function aa(_){let h=Math.floor(_/3600),r=_/60%60;return(h?h+Xt.h+" ":"")+" "+(r?r+Xt.min:"")}function ut(_,h){let r=[];_.employees.forEach(L=>{if(L.id in _.entitiesRelations&&h in _.entitiesRelations[L.id]){let m=L.serviceList.find(s=>s.id===h);r.push(m.price)}});let v=r.reduce((L,m)=>m<L?m:L,r[0]),C=r.reduce((L,m)=>m>L?m:L,r[0]);return v!==C?{price:`${Ze(v,!At.payments.hideCurrencySymbolFrontend)} - ${Ze(C,!At.payments.hideCurrencySymbolFrontend)}`,min:v,max:C}:{price:Ze(v,At.payments.hideCurrencySymbolFrontend),min:v,max:C}}function ze(_,h){let r=[];return _.employees.forEach(v=>{v.id in _.entitiesRelations&&h in _.entitiesRelations[v.id]&&_.entitiesRelations[v.id][h].length&&_.locations.forEach(C=>{_.entitiesRelations[v.id][h].some(L=>L===C.id)&&!r.find(L=>L===C.id)&&r.push(C)})}),r}function Ut(_,h){let r=[],v=Object.keys(_.entitiesRelations);return h.bookable.forEach(C=>{let L=[];v.forEach(m=>{_.entitiesRelations[m][C.service.id]&&!L.find(s=>s?s.id===parseInt(m):!0)&&L.push(_.employees.find(s=>s.id===parseInt(m)))}),L.length||r.push(!1)}),r.filter(C=>C===!1).length}function Wt(_,h,r){let v=[],C=Object.keys(_.entitiesRelations),L=r&&r.employee?r.employee.split(",").map(s=>parseInt(s)):null,m=x(L?_.unfilteredEmployees.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredEmployees);return h.bookable.forEach(s=>{let p=[];s.providers.length?s.providers.forEach(b=>{s.locations.length?s.locations.forEach(S=>{m.value.find($=>$.id===b.id)&&_.entitiesRelations[b.id][s.service.id]&&_.entitiesRelations[b.id][s.service.id].indexOf(S.id)!==-1&&!p.find($=>$.id===b.id)&&p.push(m.value.find($=>$.id===b.id))}):m.value.find(S=>S.id===b.id)&&!p.find(S=>S.id===b.id)&&p.push(m.value.find(S=>S.id===b.id))}):C.forEach(b=>{s.locations.length?s.locations.forEach(S=>{_.entitiesRelations[b][s.service.id]&&_.entitiesRelations[b][s.service.id].indexOf(S.id)!==-1&&m.value.find($=>$.id===parseInt(b))&&!p.find($=>$.id===parseInt(b))&&p.push(m.value.find($=>$.id===parseInt(b)))}):_.entitiesRelations[b][s.service.id]&&m.value.find(S=>S.id===parseInt(b))&&!p.find(S=>S.id===parseInt(b))&&p.push(m.value.find(S=>S.id===parseInt(b)))}),v.push(!!p.length)}),!v.filter(s=>s===!1).length}function ia(_,h,r){let v=[],C=Object.keys(_.entitiesRelations),L=r&&r.employee?r.employee.split(",").map(s=>parseInt(s)):null,m=x(L?_.unfilteredEmployees.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredEmployees);return h.bookable.forEach(s=>{s.providers.length?s.providers.forEach(p=>{s.locations.length?s.locations.forEach(b=>{m.value.find(S=>S.id===p.id)&&_.entitiesRelations[p.id][s.service.id].indexOf(b.id)!==-1&&!v.find(S=>S.id===p.id)&&v.push(m.value.find(S=>S.id===p.id))}):m.value.find(b=>b.id===p.id)&&!v.find(b=>b.id===p.id)&&v.push(m.value.find(b=>b.id===p.id))}):C.forEach(p=>{s.locations.length?s.locations.forEach(b=>{_.entitiesRelations[p][s.service.id]&&_.entitiesRelations[p][s.service.id].indexOf(b.id)!==-1&&m.value.find(S=>S.id===parseInt(p))&&!v.find(S=>S.id===parseInt(p))&&v.push(m.value.find(S=>S.id===parseInt(p)))}):_.entitiesRelations[p][s.service.id]&&m.value.find(b=>b.id===parseInt(p))&&!v.find(b=>b.id===parseInt(p))&&v.push(m.value.find(b=>b.id===parseInt(p)))})}),v}function nt(_,h,r){let v=[],C=Object.keys(_.entitiesRelations),L=r&&r.location?r.location.split(",").map(s=>parseInt(s)):null,m=x(L?_.unfilteredLocations.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredLocations);return h.bookable.forEach(s=>{s.locations.length?s.locations.forEach(p=>{m.value.find(b=>b.id===p.id)&&!v.find(b=>b.id===p.id)&&v.push(m.value.find(b=>b.id===p.id))}):C.forEach(p=>{m.value.forEach(b=>{p in _.entitiesRelations&&s.service.id in _.entitiesRelations[p]&&_.entitiesRelations[p][s.service.id].indexOf(b.id)!==-1&&m.value.find(S=>S.id===b.id)&&!v.find(S=>S.id===parseInt(b.id))&&v.push(m.value.find(S=>S.id===b.id))})})}),v}function fi(_,h){let r=[];return _.categories.forEach(v=>{let C=ht(h,v,_);v.packageList=[],_.packages.forEach(L=>{C.forEach(m=>{L.bookable.filter(s=>s.service.id===m).length&&!v.packageList.filter(s=>s===L.id).length&&L.available&&L.status==="visible"&&!Ut(_,L)&&Wt(_,L,h)&&v.packageList.push(L.id)})}),v.status==="visible"&&v.serviceList.length&&!!C.length&&(h.show==="packages"?!!v.packageList.length:!0)&&r.push(v)}),r}const vi={class:"am-fcl__item-inner"},gi={class:"am-fcl__item-name"},yi={class:"am-fcl__item-segments"},hi={key:0,class:"am-fcl__item-segments__item"},bi=t("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),ki={class:"am-fcl__item-segments__item-count"},Ci={key:1,class:"am-fcl__item-segments__item"},$i=t("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),Si={class:"am-fcl__item-segments__item-count"},wi={class:"am-fcl__item-footer"},xi=["src"],Ii={class:"am-empty__heading"},Pi={class:"am-empty__subheading"},Di={class:"am-empty__text"},Ei={key:0},Li={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ti={key:1},Bi={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Fi={name:"CategoriesList",key:"categoriesList"},zi=Object.assign(Fi,{setup(_){const h=F("baseUrls");let r=x(null),v=x(0);window.addEventListener("resize",C);function C(){r.value&&(v.value=r.value.offsetWidth)}Be(()=>{r.value&&(v.value=r.value.offsetWidth)});let L=k(()=>v.value<=500?"am-w100":v.value<=600?"am-w50":v.value<=768?"am-w33":""),{nextPage:m}=F("changingPageFunctions",{nextPage:()=>{}});const s=F("settings");let p=it(),b=F("amEntities"),S=F("customizedDataForm"),$=k(()=>S.value.categoriesList.options);const D=F("shortcodeData"),f=k(()=>p.getters["entities/getPreselected"]);let N=F("availableCategories"),ae=k(()=>{let me=[];return b.value.categories.forEach(Y=>{let g=ht(D.value,Y,b.value);Y.packageList=[],b.value.packages.forEach(ce=>{g.forEach(be=>{ce.bookable.filter(se=>se.service.id===be).length&&!Y.packageList.filter(se=>se===ce.id).length&&ce.available&&ce.status==="visible"&&!Ut(b.value,ce)&&Wt(b.value,ce,D.value)&&Y.packageList.push(ce.id)})}),Y.status==="visible"&&Y.serviceList.length&&!!g.length&&(f.value.show==="packages"?!!Y.packageList.length:!0)&&me.push(Y)}),Ee(()=>{N.value=JSON.parse(JSON.stringify(me))}),me}),P=F("categorySelected");function B(me){P.value=me,p.commit("booking/setCategoryId",parseInt(me)),yt(p,{},"SelectCategory","appointment",null,null),m()}let n=k(()=>ae.value.length===0);const j=F("labels"),ne=F("localLanguage");let H=k(()=>s.general.usedLanguages.includes(ne.value)),fe=k(()=>{let me=st(tt({},j));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let Y=s.customizedData.cbf.categoriesList.translations;Object.keys(Y).forEach(g=>{Y[g][ne.value]&&H.value?me[g]=Y[g][ne.value]:Y[g].default&&(me[g]=Y[g].default)})}return me}),ke=F("amColors"),V=k(()=>({"--am-c-fcl-card-text-op80":ee(ke.value.colorCardText,.8)}));return(me,Y)=>e(n)?(a(),i("div",{key:1,ref_key:"ameliaContainer",ref:r,class:"am-empty"},[t("img",{src:e(h).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,xi),t("div",Ii,o(e(fe).oops),1),t("div",Pi,o(e(f).show!=="packages"?e(fe).no_services_employees:e(fe).no_package_services),1),t("div",Di,[e(f).show!=="packages"?(a(),i("span",Ei,o(e(fe).add_services_employees)+"\xA0 ",1)):d("",!0),t("a",Li,o(e(fe).add_services_url)+"\xA0 ",1),e(f).show!=="packages"?(a(),i("span",Ti,o(e(fe).and)+"\xA0 ",1)):d("",!0),e(f).show!=="packages"?(a(),i("a",Bi,o(e(fe).add_employees_url),1)):d("",!0)])],512)):(a(),i("div",{key:0,ref_key:"ameliaContainer",ref:r,class:"am-fcl",style:ue(e(V))},[(a(!0),i(oe,null,ge(e(ae),g=>(a(),i("div",{key:g.id,class:O(["am-fcl__item",e(L)])},[t("div",vi,[t("div",{class:"am-fcl__item-content",style:ue(e($).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:g.color}:{})},[t("div",{class:"am-fcl__item-heading",style:ue(e($).cardColor&&e($).cardColor.visibility?{backgroundColor:e(ee)(g.color,.1)}:{})},[g.pictureFullPath?(a(),i("div",{key:0,style:ue({backgroundImage:`url(${g.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):d("",!0),t("div",gi,o(g.name),1),t("div",yi,[(!e(f).show||e(f).show==="services")&&e($).services.visibility?(a(),i("div",hi,[bi,t("span",ki,o(e(ht)(e(D),g,e(b)).length),1)])):d("",!0),(!e(f).show||e(f).show==="packages")&&g.packageList.length&&e($).packages.visibility?(a(),i("div",Ci,[$i,t("span",Si,o(g.packageList.length),1)])):d("",!0)])],4),t("div",wi,[G(Ae,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e($).cardButton.buttonType,suffix:e(ba),onClick:ce=>B(g.id)},{default:A(()=>[we(o(e(fe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Ai=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Ri=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Oi=["href"],Mi={class:"am-fs-sb__step-wrapper"},Vi={class:"am-fs-sb__step-inner"},Ni={class:"am-fs-sb__step-icon"},Ui={key:0,class:"am-icon-check"},Wi={key:0},ji={key:1},Hi={key:1},qi={key:0,class:"am-fs-sb__step"},Gi={class:"am-fs-sb__step-inner"},Ji={class:"am-fs-sb__step-icon"},Yi={key:0,class:"am-icon-check"},Qi={key:0,class:"am-fs-sb__support"},Xi=["href"],Zi={key:1,class:"am-icon-phone"},Ki=["href"],es={key:1,class:"am-icon-email"},ts={key:0,class:"am-fs-sb__menu-text"},as={key:2,class:"am-no-services"},is=["src"],ss={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ls={style:{"font-size":"14px"}},os={href:"https://wpamelia.com/employees/",rel:"nofollow"},ns={name:"CategoryBooking"},jt=Object.assign(ns,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(_,{emit:h}){const r=_;let v=x(null),C=x();te("containerWidth",C);let L=x(!1);window.addEventListener("resize",m);function m(){v.value&&(C.value=v.value.offsetWidth)}Be(()=>{Ee(()=>{v.value&&(C.value=v.value.offsetWidth)}),yt(n,{containerWidth:C},"ContainerWidth","appointment",null,null)});const s=F("settings"),p=s.customizedData?s.customizedData.sbsNew:ct.sbsNew;p&&te("amCustomize",p);let b=k(()=>{let l={heading:!0,phone:!0,email:!0};return"supportHeading"in p.sidebar.options&&(l.heading=p.sidebar.options.supportHeading.visibility),"companyPhone"in p.sidebar.options&&(l.phone=p.sidebar.options.companyPhone.visibility),"companyEmail"in p.sidebar.options&&(l.email=p.sidebar.options.companyEmail.visibility),l});const S=x(s.customizedData?s.customizedData.fonts:ct.fonts);te("amFonts",S);let $=x(!1);te("sidebarCollapsed",$);let D=x(""),f=F("bookingDialogWidth");kt($,l=>{l?setTimeout(()=>{D.value="am-collapsed",setTimeout(()=>{f.value="592px"},200)},1e3):(D.value="",f.value="760px")}),Be(()=>{p.sidebar.options.self.visibility||(f.value="520px")});let N=x(null),ae=x(0);Be(()=>{setTimeout(()=>{Ee(()=>{N.value&&setTimeout(()=>{N.value&&(ae.value=N.value.offsetHeight)},200)})},800)});let P=x(p.sidebar?p.sidebar.options.self.visibility:!0);const B=F("baseUrls"),n=it();let j=k(()=>{let l=n.getters["entities/getOriginalPreselected"],y={category:n.state.booking.appointment.categoryId?[n.state.booking.appointment.categoryId]:[],counter:n.state.entities.preselected.counter,employee:n.state.booking.appointment.providerId?[n.state.booking.appointment.providerId]:[],hasApiCall:n.state.entities.preselected.hasApiCall,location:n.state.booking.appointment.locationId?[n.state.booking.appointment.locationId]:[],service:n.state.booking.appointment.serviceId?[n.state.booking.appointment.serviceId]:[],package:n.state.booking.packageId?[n.state.booking.packageId]:[],show:n.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(l).forEach(I=>{I in y||(y[I]=l[I])}),y});n.commit("entities/setPreselected",j.value);let ne=F("restoreFormData");const H=Se(ka),fe=Se(Ca),ke=Se($a),V=Se(Sa),me=Se(wa),Y=Se(xa),g=Se(Ia),ce=Se(Pa),be=Se(Da),se=Se(Ea),Q=Se(La),xe=Se(Ta),Te=Se(Ba),Re=Se(Fa),u=x(Je(n)?[H,Y,se,Q,be]:[H,Y,Q,be]);te("stepsArray",u);const Z=F("labels"),ye=F("localLanguage");let q=k(()=>s.general.usedLanguages.includes(ye.value)),Ie=Bt(n),le=k(()=>{let l=st(tt({},Z));return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(y=>{if(y!=="colors"&&s.customizedData.sbsNew[y].translations){let I=s.customizedData.sbsNew[y].translations;Object.keys(I).forEach(J=>{I[J][ye.value]&&q.value?l[J]=I[J][ye.value]:I[J].default&&(l[J]=I[J].default)})}}),l});te("amLabels",le);let je=k(()=>{let l={};if(s.customizedData){let y=s.customizedData.sbsNew[u.value[R.value].key]?s.customizedData.sbsNew[u.value[R.value].key].translations:null;s.customizedData&&y&&Object.keys(y).forEach(I=>{y[I][ye.value]&&q.value?l[I]=y[I][ye.value]:y[I].default&&(l[I]=y[I].default)})}return Object.keys(l).length?l:Z}),Pe=k(()=>{let l="filled";return s.customizedData&&s.customizedData.sbsNew[u.value[R.value].key]&&(l=s.customizedData.sbsNew[u.value[R.value].key].options.primaryFooterButton.buttonType),l});te("primFooterBtnType",Pe),te("primDescBtnType",Pe);let X=k(()=>{let l="text";return s.customizedData&&s.customizedData.sbsNew[u.value[R.value].key]&&s.customizedData.sbsNew[u.value[R.value].key].options.secondaryFooterButton&&(l=s.customizedData.sbsNew[u.value[R.value].key].options.secondaryFooterButton.buttonType),l}),U=k(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),z=k(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function ie(l,y){let I="";if(s.customizedData){let J=s.customizedData.sbsNew[y]?s.customizedData.sbsNew[y].translations:null;s.customizedData&&J&&J[l]&&(I===""&&J[l][ye.value]&&q.value?I=J[l][ye.value]:I===""&&J[l].default&&(I=J[l].default))}return I||Z[l]}let Me=k(()=>za(n.getters["entities/getEmployeeServices"](n.getters["booking/getSelection"])));function mt(){let l=n.getters["entities/getPreselected"];if(l.show==="packages")l.package.length>0&&(u.value.splice(0,1),K.value.splice(0,1),lt()),Ne();else{pe();let y=n.getters["entities/filteredEmployees"](n.getters["booking/getSelection"]).length<=1,I=!p.initStep.options.employee.visibility,J=n.getters["entities/filteredLocations"](n.getters["booking/getSelection"]).length<=1,De=!p.initStep.options.location.visibility;l.service.length>0&&(l.employee.length>0||y||I)&&(l.location.length>0||J||De)&&(Me.value.availability?(u.value.splice(0,1,Re),K.value.splice(0,1)):(u.value.splice(0,1),K.value.splice(0,1)),Ne())}}function Ce(l,y,I,J){l.value.map((qe,Xe)=>y.includes(qe.name)?Xe:null).filter(qe=>qe!==null).reverse().forEach(qe=>{l.value.splice(qe,1)});let Ge={value:J};I.forEach(qe=>{l.value.indexOf(qe)===-1&&(n.getters["entities/getPreselected"].show==="packages"&&n.getters["entities/getPreselected"].package.length>0?l.value.splice(Ge.value,0,qe):l.value.splice(Ge.value+1,0,qe))})}te("goToPackageStep",{goToPackageStep:Le});function Le(l){n.commit("booking/setPackageId",l.id),n.commit("booking/setBookableType","package"),n.commit("booking/setMultipleAppointments",It(0,l)),n.commit("booking/setMultipleAppointmentsIndex",0);let y=l.bookable.reduce((De,Ge)=>De+Ge.maximumScheduled,0),I=[],J=[];u.value[0]!==fe&&I.push("ExtrasStep"),u.value[0]!==Y&&I.push("DateTimeStep"),u.value[0]!==se&&I.push("CartStep"),y>0?J=J.concat([ce,g,ke]):J.push(ke),Ce(u,I,J,R.value),Ce(K,I,[],R.value),Ne(),ot()}function lt(){let y=n.state.entities.packages.find(De=>De.id===n.getters["booking/getPackageId"]).bookable.reduce((De,Ge)=>De+Ge.maximumScheduled,0),I=[],J=[];u.value.find(De=>De.name==="ExtrasStep")&&I.push("ExtrasStep"),u.value.find(De=>De.name==="DateTimeStep")&&I.push("DateTimeStep"),y>0?J=J.concat([ce,g,ke]):J.push(ke),Ce(u,I,J,R.value),Ce(K,I,[],R.value),Ne(),ot()}function pt(){n.commit("booking/setBookableType","appointment"),n.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),n.commit("booking/setPackageId",null),n.commit("booking/setMultipleAppointmentsIndex",0),gt(n);let l=[];u.value[0]!==Y&&(Je(n)&&l.push(se),l.push(Y)),u.value[0]!==fe&&w.value&&w.value.length&&l.push(fe),Ce(u,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],l,R.value-1),Ce(K,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],R.value),Ne()}te("goToRecurringStep",{goToRecurringStep:W}),te("removeRecurringStep",{removeRecurringStep:T});function W(){Je(n)&&la();let l=0;for(let y=0;y<u.value.length;y++)if(u.value[y].name==="DateTimeStep"){l=y;break}u.value.splice(l+1,0,V),u.value.splice(l+2,0,me),Ne(),ot()}function T(){for(let l=u.value.length-1;l>=0;l--)(u.value[l].name==="RecurringStep"||u.value[l].name==="RecurringSummary")&&u.value.splice(l+1,1);Je(n)&&sa(R.value),Ne()}let w=k(()=>{let l=n.getters["entities/getService"](n.getters["booking/getServiceId"]);return l?l.extras:[]});function pe(){w.value.length&&!u.value.find(l=>l.name==="ExtrasStep")&&(u.value.splice(R.value+1,0,fe),Ne()),K.value.find(l=>l.name==="ExtrasStep")&&!Object.keys(w.value).length&&(u.value.splice(1,1),K.value.splice(1,1)),r.showCart||gt(n)}te("initDataChanges",{changeInitStepDataService:pe});const R=x(0);te("stepIndex",R);let Ke=F("stepName",x(""));kt(R,(l,y)=>{l<K.value.length&&(K.value[y].selected=!1,K.value[l].selected=!0),l===K.value.length&&(K.value[y].selected=!1),Ke.value=u.value[l].name});let _t=x(!1);te("goBackToPackageBooking",_t);function Pt(){re(!1),He.value||(u.value[R.value].name===ke.name&&pt(),u.value[R.value].name===V.name&&(u.value.splice(R.value,2),K.value.splice(R.value,2),Je(n)&&(u.value.splice(R.value,0,se),Ce(K,[],[],R.value),Ne())),u.value[R.value].name===ce.name&&(_t.value=!0),R.value=R.value-1),et.value=!et.value}function ot(){He.value||(K.value[R.value].finished=!0,R.value=R.value+1)}let ft=k(()=>n.getters["entities/getReady"]),Dt=k(()=>n.getters["booking/getLoading"]),Qe=k(()=>n.getters["booking/getBooked"]),Et=k(()=>n.getters["booking/getPaymentGateway"]),vt=x(!1),$e=x(!1),et=x(!1);function Lt(){vt.value=!0}function M(){vt.value=!1}function E(){et.value=!0}function c(){et.value=!1}function re(l){$e.value=l}function Fe(){Qe.value&&(Qe.value.customerCabinetUrl?window.location.href=Qe.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}te("secondButton",{secondButtonClick:Fe});let He=x(!1);te("changingStepsFunctions",{nextStep:ot,previousStep:Pt,footerButtonClick:Lt,footerButtonReset:M,footerBtnDisabledUpdater:re,headerButtonPreviousClick:E,headerButtonPreviousReset:c,footerBtnDisabled:$e,footerButtonClicked:vt,headerButtonPreviousClicked:et,navigateInsideStep:He});const K=x([]);te("sidebarSteps",K);function Ve(l){K.value[R.value].stepSelectedData.filter(y=>y.reference===l.reference).length?K.value[R.value].stepSelectedData.forEach((y,I,J)=>{y.reference===l.reference&&l.value&&l.value!==y.value&&(y.value=l.value),y.reference===l.reference&&!l.value&&J.splice(I,1)}):l.value&&K.value[R.value].stepSelectedData.push(l),K.value[R.value].stepSelectedData.sort((y,I)=>y.position-I.position)}function _e(){u.value.forEach((l,y)=>{if(l.name!=="CongratulationsStep"){let I=l.sidebarData.label,J={name:l.name,key:l.key,label:le.value[I],labelKey:I,icon:l.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===R.value};K.value.splice(y,0,J)}})}Ot(()=>{_e(),mt()}),Be(()=>{switch(n.getters["booking/getBookableType"]){case"appointment":r.showCart||gt(n);break}if(r.showCart&&Qt(u,R),ne.value){u.value.splice(0,u.value.length),K.value.splice(0,K.value.length),R.value=0,ne.value.steps.forEach(y=>{switch(y){case"packageStep":u.value.push(Te);break;case"bringingAnyone":u.value.push(Re);break;case"initStep":u.value.push(H);break;case"packageInfoStep":u.value.push(ke);break;case"packageAppointmentsStep":u.value.push(g);break;case"packageAppointmentsListStep":u.value.push(ce);break;case"extrasStep":u.value.push(fe);break;case"dateTimeStep":u.value.push(Y);break;case"recurringStep":u.value.push(V);break;case"recurringSummary":u.value.push(me);break;case"cartStep":u.value.push(se);break;case"infoStep":u.value.push(Q);break;case"paymentStep":u.value.push(xe);break;case"congratulations":u.value.push(be);break}let I=ne.value.sidebar.find(J=>J.key===y);Ne(),typeof I!="undefined"&&I.data&&I.data.forEach(J=>{Ve({reference:J.reference,position:J.position,value:J.value})}),R.value++}),n.commit("booking/setLoading",!1);let l=-1;ne.value.result==="success"?l=u.value.length-1:(ne.value.result==="error"||ne.value.result==="canceled")&&(l=u.value.length-2);for(let y=0;y<=l;y++)u.value[y].finished=!0;for(let y=0;y<=l-1;y++)K.value[y].finished=!0,K.value[y].selected=!1;(ne.value.result==="error"||ne.value.result==="canceled")&&(K.value[l].finished=!1,K.value[l].selected=!0),R.value=l}});function Ne(){u.value.forEach((l,y)=>{if(l.name!=="CongratulationsStep"&&!K.value.find(I=>I.labelKey===l.sidebarData.label)){let I=l.sidebarData.label,J={name:l.name,key:l.key,label:le.value[I],labelKey:I,icon:l.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===R.value};K.value.splice(y,0,J)}})}te("sidebarStepsFunctions",{sidebarDataCollector:Ve}),te("addPaymentsStep",{addPaymentsStep:Ht}),te("removePaymentsStep",{removePaymentsStep:qt});function Ht(){u.value.splice(u.value.length-1,0,xe),Ne()}function qt(){let l=["PaymentStep"];Ce(u,l,[],R.value),Ce(K,l,[],R.value)}function sa(l){Ce(u,[],[se],l),Ce(K,[],[],l)}function la(){Ce(u,["CartStep"],[],R.value),Ce(K,["CartStep"],[],R.value)}function oa(){if(n.getters["entities/getPreselected"].show==="packages"){let y=n.getters["booking/getPackageId"]?[n.getters["entities/getPackage"](n.getters["booking/getPackageId"])]:n.getters["entities/getPackages"];return y.length>0&&y.filter(I=>I.price>0).length===y.length}if(!n.getters["booking/getPackageId"]){let y=n.getters["booking/getServiceId"]?[n.getters["entities/getService"](n.getters["booking/getServiceId"])]:n.getters["entities/getServices"],I=0;for(let J of y){let De=n.getters["booking/getEmployeeId"]?n.getters["entities/getEmployee"](n.getters["booking/getEmployeeId"])?[n.getters["entities/getEmployee"](n.getters["booking/getEmployeeId"])]:[]:n.getters["entities/getEmployees"],Ge=n.getters["booking/getBookingDuration"];if(De.filter(Xe=>Xe.serviceList.find(Ue=>Ue.id===J.id&&(Ue.price>0||Ue.customPricing&&Ue.customPricing.enabled&&(Object.values(Ue.customPricing.durations).length===Object.values(Ue.customPricing.durations).filter(Tt=>Tt.price>0).length||Ge&&Ue.customPricing.durations[Ge].price>0)))).length===De.filter(Xe=>Xe.serviceList.find(Ue=>Ue.id===J.id)).length)I++;else{let Xe=n.getters["booking/getSelectedExtras"].length?n.getters["booking/getSelectedExtras"]:[];Xe.length>0&&Xe.reduce((Ue,Tt)=>Ue+Tt.price,0)>0&&I++}}return y.length>0&&I===y.length}return n.getters["entities/getPackage"](n.getters["booking/getPackageId"]).price>0}let na=k(()=>Bt(n).length?Aa(n)!==0:oa());Ra(()=>{let l=Bt(n);!l[0].serviceId&&Object.keys(l[0].services).length===0&&h("emptiedCart"),!ne.value&&!na.value?qt():ne.value||u.value.indexOf(xe)===-1&&Ht()},{flush:"post"});function ca(){K.value.forEach(l=>{l.finished=!1,l.selected=!1}),u.value.forEach(l=>{l.finished=!1,l.selected=!1}),R.value=0,ea(n,!0),ja(n),gt(n),h("addToCart")}function ra(){let l=n.getters["booking/getCurrentCartItem"],y=n.getters["booking/getAllMultipleAppointments"];l?(n.commit("booking/setCartItem",l),n.commit("booking/setCartItemIndex",y.length-1),n.commit("booking/setCurrentCartItem",null)):(y.pop(),n.commit("booking/setCartItemIndex",y.length-1),n.commit("booking/setServiceId",y[y.length-1].serviceId),n.commit("booking/setEmployeeId",y[y.length-1].services[y[y.length-1].serviceId].providerId),n.commit("booking/setLocationId",y[y.length-1].services[y[y.length-1].serviceId].locationId)),Qt(u,R)}let he=k(()=>s.customizedData?s.customizedData.sbsNew.colors:ct.sbsNew.colors);te("amColors",he);let ua=k(()=>({"--am-c-primary":he.value.colorPrimary,"--am-c-success":he.value.colorSuccess,"--am-c-error":he.value.colorError,"--am-c-warning":he.value.colorWarning,"--am-c-main-bgr":he.value.colorMainBgr,"--am-c-main-heading-text":he.value.colorMainHeadingText,"--am-c-main-text":he.value.colorMainText,"--am-c-sb-bgr":he.value.colorSbBgr,"--am-c-sb-text":he.value.colorSbText,"--am-c-inp-bgr":he.value.colorInpBgr,"--am-c-inp-border":he.value.colorInpBorder,"--am-c-inp-text":he.value.colorInpText,"--am-c-inp-placeholder":he.value.colorInpPlaceHolder,"--am-c-drop-bgr":he.value.colorDropBgr,"--am-c-drop-text":he.value.colorDropText,"--am-c-btn-prim":he.value.colorBtnPrim,"--am-c-btn-prim-text":he.value.colorBtnPrimText,"--am-c-btn-sec":he.value.colorBtnSec,"--am-c-btn-sec-text":he.value.colorBtnSecText,"--am-c-skeleton-op20":ee(he.value.colorMainText,.2),"--am-c-skeleton-op60":ee(he.value.colorMainText,.6),"--am-font-family":S.value.fontFamily,"--am-mw-main":P.value?$.value?"592px":"760px":"520px","--am-brad-main":P.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function da(){let l=document.head||document.getElementsByTagName("head")[0];l.querySelector("#amCustomFont")&&l.querySelector("#amCustomFont").remove();let y=`@font-face {font-family: '${S.value.fontFamily}'; src: url(${S.value.fontUrl});}`,I=document.createElement("style");l.appendChild(I),I.setAttribute("type","text/css"),I.setAttribute("id","amCustomFont"),I.appendChild(document.createTextNode(y))}S.value.customFontSelected&&da();let ma=k(()=>({colorInputBorderRadius:"6px"}));return te("amDesignProperties",ma),Be(()=>{Zt("renderForm",{ameliaContainer:v,containerWidth:C,empty:L,amCustomize:p,amFonts:S,sidebarCollapsed:$,sidebarCollapseItemsClass:D,sidebarFooterRef:N,sidebarFooterHeight:ae,sidebarVisibility:P})}),(l,y)=>(a(),i(oe,null,[S.value.customFontSelected?d("",!0):(a(),i(oe,{key:0},[Ai,Ri,t("link",{rel:"stylesheet",type:"text/css",href:`${e(B).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Oi)],64)),e(L)?(a(),i("div",as,[t("img",{src:e(B).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,is),t("h1",null,o(e(le).oops),1),t("h3",null,o(e(le).no_services_employees),1),t("p",null,o(e(le).add_services_employees),1),t("a",ss,o(e(le).add_services_url)+"\xA0 ",1),t("span",ls,o(e(le).and)+"\xA0",1),t("a",os,o(e(le).add_employees_url),1)])):(a(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:v,class:O(["am-fs__wrapper",{"am-collapsed":e($)}]),style:ue(e(ua))},[e(C)>560&&e(P)?(a(),ve(Va,{key:0,class:O(["am-fs-sb",{"am-collapsed":e($)}]),style:ue({width:e($)?"72px":"240px",paddingBottom:`${e(ae)+16}px`})},{"step-list":A(()=>[t("div",Mi,[u.value[R.value]!==e(be)||!e(s).general.addToCalendar||e(Qe)&&e(Qe).data.length===0?(a(!0),i(oe,{key:0},ge(K.value,I=>(a(),i("div",{key:I.key,class:"am-fs-sb__step"},[t("div",Vi,[t("div",Ni,[t("span",{class:O(`am-icon-${I.icon}`)},null,2),I.key==="cartStep"&&e(We)(e(n))!==0?(a(),i("span",{key:0,class:O(["am-fs-sb__step-icon__number",e(D)])},o(e(We)(e(n))),3)):d("",!0)]),G(Ye,{name:"fade"},{default:A(()=>[e($)?d("",!0):(a(),i("p",{key:0,class:O(["am-fs-sb__step-heading",e(D)])},o(I.label),3))]),_:2},1024),t("div",{class:O(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":I.selected},e(D)]])},[G(Ye,{name:"fade"},{default:A(()=>[I.finished?(a(),i("span",Ui)):d("",!0)]),_:2},1024)],2)]),G(Oa,{tag:"span",name:"fade",appear:"",class:O(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":I.key===e(g).key&&I.stepSelectedData.length>3}])},{default:A(()=>[e($)?d("",!0):(a(!0),i(oe,{key:0},ge(I.stepSelectedData,(J,De)=>(a(),i("p",{key:J.position,class:"am-fs-sb__step-selection"},[I.key!==e(g).key||De<3?(a(),i("span",Wi,o(J.value),1)):(a(),i("span",ji,o(e(le).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(a(),i("div",Hi,[G(Ye,{name:"fade"},{default:A(()=>[e($)?d("",!0):(a(),ve(Ma,{key:0}))]),_:1}),e($)?(a(),i("div",qi,[t("div",Gi,[t("div",Ji,[t("span",{class:O(`am-icon-${u.value[R.value].sidebarData.icon}`)},null,2)]),t("div",{class:O(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":u.value[R.value].sidebarData.selected},e(D)]])},[G(Ye,{name:"fade"},{default:A(()=>[u.value[R.value].sidebarData.finished?(a(),i("span",Yi)):d("",!0)]),_:1})],2)])])):d("",!0)]))])]),"support-info":A(()=>[t("div",{ref_key:"sidebarFooterRef",ref:N,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(b).heading||e(b).phone||e(b).email)?(a(),i("div",Qi,[G(Ye,{name:"fade"},{default:A(()=>[!e($)&&e(b).heading?(a(),i("div",{key:0,class:O(["am-fs-sb__support-heading",e(D)])},o(e(le).get_in_touch),3)):d("",!0)]),_:1}),e(s).company.phone&&e(b).phone?(a(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e($)?(a(),i("span",Zi)):(a(),i(oe,{key:0},[we(o(e(s).company.phone),1)],64))],8,Xi)):d("",!0),e(s).company.email&&e(b).email?(a(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e($)?(a(),i("span",es)):(a(),i(oe,{key:0},[we(o(e(s).company.email),1)],64))],8,Ki)):d("",!0)])):d("",!0),t("div",{class:O(["am-fs-sb__menu",e(D)]),onClick:y[0]||(y[0]=I=>de($)?$.value=!e($):$=!e($))},[G(Ye,{name:"fade"},{default:A(()=>[e($)?d("",!0):(a(),i("span",ts,o(e(le).collapse_menu),1))]),_:1}),t("span",{class:O(`am-icon-arrow-circle-${e($)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):d("",!0),G(Wa,null,Mt({step:A(()=>[(a(),ve(Kt(u.value[R.value]),{"global-class":"am-fs__main-content"}))]),footer:A(()=>[G(e(Ua),{"second-button-show":u.value[R.value]===e(be)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Je)(e(n))&&u.value[R.value]===e(se),"back-to-cart-button-show":e(Je)(e(n))&&e(Ie).length>1&&u.value[R.value]!==e(se)&&u.value[R.value]!==e(Q)&&u.value[R.value]!==e(xe)&&u.value[R.value]!==e(be),booked:e(Qe),loading:e(Dt),ready:e(ft),"payment-gateway":e(Et),"customized-labels":e(je),"primary-footer-button-type":e(Pe),"secondary-footer-button-type":e(X),"add-to-cart-button-type":e(U),"back-to-cart-button-type":e(z),"back-to-cart-label":ie("cancel","cartStep"),onAddToCart:ca,onBackToCart:ra},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[u.value[R.value]!==e(be)?{name:"header",fn:A(()=>[G(Na,{"sidebar-visible":e(P),ready:e(ft)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const cs={class:"am-fcil__filter-buttons"},rs={class:"am-fcil__filter"},us={class:"am-fcil__filter-item__btn-wrapper"},ds={class:"am-fcil__heading"},ms={key:0,class:"am-fcil__item-badge__wrapper"},ps={class:"am-fcil__item-badge am-package"},_s=t("span",{class:"am-icon-shipment"},null,-1),fs={class:"am-fcil__item-heading"},vs={class:"am-fcil__item-name"},gs={key:0,class:"am-fcil__item-cost"},ys={key:0,class:"am-fcil__item-discount"},hs={class:"am-fcil__item-price"},bs={class:"am-fcil__item-info"},ks={key:0,class:"am-fcil__item-info__inner"},Cs=t("span",{class:"am-icon-folder"},null,-1),$s={key:1,class:"am-fcil__item-info__inner"},Ss=t("span",{class:"am-icon-clock"},null,-1),ws={key:0},xs={key:1},Is={key:2},Ps={key:2,class:"am-fcil__item-info__inner"},Ds=t("span",{class:"am-icon-user"},null,-1),Es=t("span",null,"1/1",-1),Ls=[Ds,Es],Ts={key:3,class:"am-fcil__item-info__inner"},Bs=t("span",{class:"am-icon-locations"},null,-1),Fs={key:2,class:"am-fcil__item-services"},zs={key:0,class:"am-fcil__item-badge__wrapper"},As={class:"am-fcil__item-badge am-service"},Rs=t("span",{class:"am-icon-service"},null,-1),Os={class:"am-fcil__item-heading"},Ms={class:"am-fcil__item-name"},Vs={key:0,class:"am-fcil__item-cost"},Ns={key:0,class:"am-fcil__item-price"},Us={class:"am-fcil__item-info"},Ws={key:0,class:"am-fcil__item-info__inner"},js=t("span",{class:"am-icon-folder"},null,-1),Hs={key:1,class:"am-fcil__item-info__inner"},qs=t("span",{class:"am-icon-clock"},null,-1),Gs={key:2,class:"am-fcil__item-info__inner"},Js=t("span",{class:"am-icon-user"},null,-1),Ys={key:3,class:"am-fcil__item-info__inner"},Qs=t("span",{class:"am-icon-locations"},null,-1),Xs={class:"am-fcil-employee__header"},Zs={class:"am-fcil-employee__heading"},Ks={class:"am-fcil-employee__heading-left"},el={class:"am-fcil-employee__name"},tl={key:0,class:"am-fcil-employee__heading-right"},al={class:"am-fcil-employee__price"},il=["innerHTML"],sl={key:1,ref:"ameliaContainer",class:"am-empty"},ll=["src"],ol={class:"am-empty__heading"},nl={class:"am-empty__subheading"},cl={class:"am-empty__text"},rl={key:0},ul={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},dl={key:1},ml={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},pl={name:"CategoryItemsList",key:"categoryItemsList"},_l=Object.assign(pl,{setup(_){let h=F("licence"),{nextPage:r,previousPage:v}=F("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const C=F("baseUrls");let L=x(!1),m=x(!1),s=x("760px");te("bookingDialogWidth",s);function p(){s.value="760px"}let b=x(!1),S=x(),$=F("containerWidth"),D=F("customizedDataForm"),f=k(()=>D.value.categoryItemsList.options),N=k(()=>"pageScroll"in f.value?f.value.pageScroll.visibility:!0);const ae=F("settings");let P=it();const B=F("shortcodeData"),n=k(()=>P.getters["entities/getPreselected"]);let j=k(()=>{let M=Array.isArray(B.value.category)?B.value.category:B.value.category.split(",");return M=M.filter(E=>E),M.length}),ne=k(()=>{let M=S.value&&S.value.catContainerWidth?S.value.catContainerWidth>768:!0;return j.value!==1&&f.value.sidebar.visibility&&M}),H=F("amEntities"),fe=k(()=>Je(P)&&We(P)>0),ke=k(()=>We(P));const V=F("labels"),me=F("localLanguage");let Y=k(()=>ae.general.usedLanguages.includes(me.value)),g=k(()=>{let M=st(tt({},V));if(ae.customizedData&&ae.customizedData.cbf&&ae.customizedData.cbf.categoryItemsList.translations){let E=ae.customizedData.cbf.categoryItemsList.translations;Object.keys(E).forEach(c=>{E[c][me.value]&&Y.value?M[c]=E[c][me.value]:E[c].default&&(M[c]=E[c].default)})}return M}),ce=x(""),be=bt({components:{IconComponent:xt},template:'<IconComponent icon="search"/>'}),se=x(!0),Q=bt({components:{IconComponent:xt},template:'<IconComponent icon="filter"/>'}),xe=k(()=>S.value&&S.value.catHeaderWidth?S.value.catHeaderWidth:0);window.addEventListener("resize",Te);function Te(){Ee(()=>{xe.value>480&&(se.value=!0)})}Be(()=>{Te()});function Re(M){let E=[];return ce.value.toLowerCase().split(" ").forEach(c=>{E.push(M.toLowerCase().includes(c))}),E.filter(c=>c===!1).length<=0}let u=F("availableCategories"),Z=F("categorySelected"),ye=k(()=>ht(B.value,H.value.categories.find(M=>M.id===Z.value),H.value,le.value,je.value)),q=k(()=>{let M=[];return H.value.packages.forEach(E=>{ye.value.forEach(c=>{E.bookable.filter(re=>re.service.id===c).length&&!M.filter(re=>re.id===E.id).length&&E.available&&E.status==="visible"&&!Ut(H.value,E)&&Wt(H.value,E,B.value)&&(ce.value?Re(E.name):!0)&&M.push(E)})}),M}),Ie=k(()=>{let M=[];return H.value.services.forEach(E=>{ye.value.forEach(c=>{E.id===c&&(ce.value?Re(E.name):!0)&&M.push(E)})}),M}),le=x(null),je=x(null),Pe=x(!0),X=x(!0);function U(M){M==="all"&&(Pe.value=!0,X.value=!0),M==="packages"&&(Pe.value=!0,X.value=!1),M==="services"&&(Pe.value=!1,X.value=!0)}Ot(()=>{n.value.show&&U(n.value.show)});let z=k(()=>{let M=B.value.employee,E=H.value.employees.length,c=B.value.location,re=H.value.locations.length,Fe=f.value.searchInput.visibility,He=f.value.filterEmployee.visibility&&M.length!==1&&E>1&&!h.isLite,K=f.value.filterLocation.visibility&&c.length!==1&&re>1&&!h.isLite&&!h.isStarter,Ve=f.value.filterButtons.visibility&&n.value.show!=="packages"&&n.value.show!=="services"&&q.value.length!==0&&Ie.value.length!==0&&!We(P),_e={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return xe.value>992?!Fe||!Ve?(_e.employee=!Fe&&!Ve?"am-w50":"am-w35",_e.location=!Fe&&!Ve?"am-w50":"am-w35",_e.search=!Ve&&!K&&!He?"am-w100":"am-w30",He||(_e.location=!Fe&&!Ve?"am-w100":"am-w70"),K||(_e.employee=!Fe&&!Ve?"am-w100":"am-w70")):(He||(_e.location="am-w40"),K||(_e.employee="am-w40"),!He&&!K&&(_e.search="am-w70")):xe.value>768||xe.value>480?(_e.search=Ve?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",_e.buttons=Fe?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",_e.employee=K?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",_e.location=He?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",_e.category="am-w100 am-tablet am-order5"):(_e.employee="am-w100 am-mobile",_e.location="am-w100 am-mobile",_e.search="am-w100 am-mobile",_e.buttons="am-w100 am-mobile",_e.category="am-w100 am-mobile"),_e}),ie=k(()=>S.value&&S.value.catContainerWidth?S.value.catContainerWidth:0),Me=k(()=>{let M=q.value.length&&!We(P)?q.value.length:0,E=Ie.value.length>1?g.value.heading_services:g.value.heading_service,c=M?M>1?g.value.packages:g.value.package:"";if(!Ie.value.length&&!M)return g.value.no_search_data;if(X.value&&(!Pe.value||!M))return`${g.value.available} - ${Ie.value.length} ${E}`;if((!X.value||!Ie.value.length)&&Pe.value)return`${g.value.available} - ${M} ${c}`;let re=M?"/":"";return`${g.value.available} - ${Ie.value.length} ${E} ${re} ${M} ${c}`});Be(()=>{Ee(()=>{L.value=q.value.length===0&&Ie.value.length===0})});function mt(M){Z.value=M.id,P.commit("booking/setCategoryId",parseInt(M.id))}let Ce=F("itemType");function Le(M){P.commit("booking/setServiceId",parseInt(M)),P.commit("booking/setBookableType","appointment"),Ce.value="appointment",yt(P,{},"SelectService","appointment",null,null),Ee(()=>{r()})}function lt(M){P.commit("booking/setServiceId",null),P.commit("booking/setPackageId",M.id),P.commit("booking/setBookableType","package"),P.commit("booking/setMultipleAppointments",It(0,M)),P.commit("booking/setCartItemIndex",0),Ce.value="package",yt(P,{},"SelectPackage","package",null,null),Ee(()=>{r()})}function pt(){Z.value=null,P.commit("booking/setCategoryId",null),v()}function W(){Rt(P),b.value=!0,m.value=!0}let T=x(!1),w=x(""),pe=x([]),R=x({}),Ke=x(null);function _t(){w.value="",pe.value=[],R.value={},Ke.value=null}function Pt(M){pe.value=ia(H.value,M,B.value),R.value=M,T.value=!0}function ot(M){let E=[];Object.keys(H.value.entitiesRelations).forEach(re=>{re in H.value.entitiesRelations&&M in H.value.entitiesRelations[re]&&H.value.employees.find(Fe=>Fe.id===parseInt(re))&&E.push(H.value.employees.find(Fe=>Fe.id===parseInt(re)))}),pe.value=E,w.value="service",T.value=!0,Ke.value=M}function ft(M){let E=H.value.services.find(re=>re.id===Ke.value).price,c=M.serviceList.find(re=>re.id===Ke.value).price;return c!==E?`${c-E>0?E>0?"+":"":"-"} ${Ze(c-E)}`:0}function Dt(){w.value==="service"?Le(Ke.value):lt(R.value),_t()}function Qe(M,E){let c="";return M>1?(E==="day"&&(c=g.value.expires_days),E==="week"&&(c=g.value.expires_weeks),E==="month"&&(c=g.value.expires_months)):(E==="day"&&(c=g.value.expires_day),E==="week"&&(c=g.value.expires_week),E==="month"&&(c=g.value.expires_month)),c}function Et(M,E){return ze(M,E).length===1?ze(M,E)[0].address?ze(M,E)[0].address:ze(M,E)[0].name:g.value.multiple_locations}let vt=F("amFonts",x({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),$e=F("amColors"),et=k(()=>({"--am-c-fcil-text-op-10":ee($e.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ee($e.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ee($e.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ee($e.value.colorCardText,.8),"--am-c-fcil-primary-op20":ee($e.value.colorPrimary,.2),"--am-c-fcil-success-op20":ee($e.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ee($e.value.colorInpText,.1),"--am-w-fcil-main":j.value!==1&&f.value.sidebar.visibility&&ne.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":S.value&&S.value.catFormWidth<580?"100%":"50%"})),Lt=k(()=>({"--am-f-fcil-employee-f":vt.value.fontFamily,"--am-c-fcil-employee-bgr":$e.value.colorMainBgr,"--am-c-fcil-employee-heading":$e.value.colorMainHeadingText,"--am-c-fcil-employee-text":$e.value.colorMainText,"--am-c-fcil-employee-text-op80":ee($e.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ee($e.value.colorMainText,.15),"--am-c-fcil-employee-primary":$e.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ee($e.value.colorPrimary,.1),"--am-c-inp-border":$e.value.colorInpBorder,"--am-c-main-text":$e.value.colorMainText}));return(M,E)=>e(L)?(a(),i("div",sl,[t("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,ll),t("div",ol,o(e(g).oops),1),t("div",nl,o(e(n).show!=="packages"?e(g).no_services_employees:e(g).no_package_services),1),t("div",cl,[e(n).show!=="packages"?(a(),i("span",rl,o(e(g).add_services_employees)+"\xA0 ",1)):d("",!0),t("a",ul,o(e(g).add_services_url)+"\xA0 ",1),e(n).show!=="packages"?(a(),i("span",dl,o(e(g).and)+"\xA0 ",1)):d("",!0),e(n).show!=="packages"?(a(),i("a",ml,o(e(g).add_employees_url),1)):d("",!0)])],512)):(a(),ve(Nt,{key:0,ref_key:"contentRef",ref:S,"wrapper-class":`am-fcil ${e($)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e($)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e($)<481?"am-mobile":""} ${e(N)?"":"no-scroll"}`,style:ue(e(et))},Mt({header:A(()=>[t("span",cs,[e(j)!==1&&!e(B).categories_hidden?(a(),ve(Vt,{key:0,"btn-size":e(xe)<481?"medium":"mini","btn-string":e(g).back_btn,"btn-type":e(f).backBtn.buttonType,"cart-btn-visibility":e(fe),"cart-items-number":e(ke),onGoBack:pt,onGoToCart:W},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):d("",!0),e(xe)<481?(a(),ve(Ae,{key:1,size:"medium",category:"secondary",type:e(f).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(Q),onClick:E[0]||(E[0]=()=>de(se)?se.value=!e(se):se=!e(se))},null,8,["type","icon"])):d("",!0)]),t("div",rs,[e(f).searchInput.visibility?(a(),i("div",{key:0,class:O(["am-fcil__filter-item",e(z).search])},[G(Ha,{modelValue:e(ce),"onUpdate:modelValue":E[1]||(E[1]=c=>de(ce)?ce.value=c:ce=c),placeholder:e(g).filter_input,"icon-start":e(be)},null,8,["modelValue","placeholder","icon-start"])],2)):d("",!0),G(Ye,{name:"slide-fade"},{default:A(()=>[e(B).employee.length!==1&&e(H).employees.length>1&&e(f).filterEmployee.visibility&&e(se)&&!e(h).isLite?(a(),i("div",{key:0,class:O(["am-fcil__filter-item",e(z).employee])},[G(Ft,{modelValue:e(le),"onUpdate:modelValue":E[2]||(E[2]=c=>de(le)?le.value=c:le=c),clearable:"",filterable:"",placeholder:e(g).filter_employee,"fit-input-width":!0},{default:A(()=>[(a(!0),i(oe,null,ge(e(H).employees,c=>(a(),ve(zt,{key:c.id,value:c.id,label:`${c.firstName} ${c.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):d("",!0)]),_:1}),G(Ye,{name:"slide-fade"},{default:A(()=>[e(B).location.length!==1&&e(H).locations.length>1&&e(f).filterLocation.visibility&&e(se)&&!e(h).isLite&&!e(h).isStarter?(a(),i("div",{key:0,class:O(["am-fcil__filter-item",e(z).location])},[G(Ft,{modelValue:e(je),"onUpdate:modelValue":E[3]||(E[3]=c=>de(je)?je.value=c:je=c),clearable:"",filterable:"",placeholder:e(g).filter_location,"fit-input-width":!0},{default:A(()=>[(a(!0),i(oe,null,ge(e(H).locations,c=>(a(),ve(zt,{key:c.id,value:c.id,label:c.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):d("",!0)]),_:1}),G(Ye,{name:"slide-fade"},{default:A(()=>[e(j)!==1&&e(f).sidebar.visibility&&!e(ne)&&e(se)?(a(),i("div",{key:0,class:O(["am-fcil__filter-item am-w100",e(z).category])},[G(Ft,{modelValue:e(Z),"onUpdate:modelValue":E[4]||(E[4]=c=>de(Z)?Z.value=c:Z=c),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:A(()=>[(a(!0),i(oe,null,ge(e(u),c=>(a(),ve(zt,{key:c.id,value:c.id,label:c.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):d("",!0)]),_:1}),!e(n).show&&e(f).filterButtons.visibility&&e(q).length!==0&&e(Ie).length!==0&&!e(We)(e(P))?(a(),i("div",{key:1,class:O(["am-fcil__filter-item",e(z).buttons])},[t("div",us,[t("div",{class:O(["am-fcil__filter-item__btn",{"am-active":e(Pe)&&e(X)}]),onClick:E[5]||(E[5]=c=>U("all"))},[t("span",null,o(e(g).filter_all),1)],2),t("div",{class:O(["am-fcil__filter-item__btn",{"am-active":e(Pe)&&!e(X)}]),onClick:E[6]||(E[6]=c=>U("packages"))},[t("span",null,o(e(g).filter_packages),1)],2),t("div",{class:O(["am-fcil__filter-item__btn",{"am-active":!e(Pe)&&e(X)}]),onClick:E[7]||(E[7]=c=>U("services"))},[t("span",null,o(e(g).filter_services),1)],2)])],2)):d("",!0)])]),heading:A(()=>[t("div",ds,o(e(Me)),1)]),content:A(()=>[e(Pe)&&!e(We)(e(P))?(a(!0),i(oe,{key:0},ge(e(q),c=>(a(),i("div",{key:c.id,class:O(["am-fcil__item",{"am-mobile":e(ie)<481}])},[t("div",{class:O(["am-fcil__item-inner",{"am-mobile":e(ie)<481}])},[t("div",{class:"am-fcil__item-content",style:ue(e(f).cardColor&&e(f).cardColor.visibility?{backgroundColor:e(ee)(c.color,.1)}:{})},[e(f).packageBadge.visibility?(a(),i("div",ms,[t("div",ps,[_s,t("span",null,o(e(g).package),1)])])):d("",!0),c.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ue({backgroundImage:`url(${c.pictureFullPath})`})},null,4)):d("",!0),t("div",fs,[t("div",vs,o(c.name),1),e(f).packagePrice.visibility?(a(),i("div",gs,[c.discount?(a(),i("span",ys,o(`${e(g).save} ${c.discount}%`),1)):d("",!0),t("span",hs,o(c.price?e(Ze)(c.calculatedPrice?c.price:c.price-c.price/100*c.discount):e(g).free),1)])):d("",!0)]),t("div",bs,[e(f).packageCategory.visibility?(a(),i("div",ks,[Cs,t("span",null,o(e(u).find(re=>re.id===e(Z)).name),1)])):d("",!0),e(f).packageDuration.visibility?(a(),i("div",$s,[Ss,c.endDate?(a(),i("span",ws,o(`${e(g).expires_at} ${c.endDate.split(" ")[0]}`),1)):c.durationCount?(a(),i("span",xs,o(`${e(g).expires_after} ${c.durationCount} ${Qe(c.durationCount,c.durationType)}`),1)):(a(),i("span",Is,o(e(g).without_expiration),1))])):d("",!0),e(f).packageCapacity.visibility?(a(),i("div",Ps,Ls)):d("",!0),e(nt)(e(H),c,e(B)).length&&e(f).packageLocation.visibility?(a(),i("div",Ts,[Bs,t("span",null,o(e(nt)(e(H),c,e(B)).length===1?e(nt)(e(H),c,e(B))[0].address?e(nt)(e(H),c,e(B))[0].address:e(nt)(e(H),c,e(B))[0].name:e(g).multiple_locations),1)])):d("",!0)]),e(f).packageServices.visibility?(a(),i("div",Fs,[t("span",null,o(`${e(g).in_package}:`),1),(a(!0),i(oe,null,ge(c.bookable,re=>(a(),i("span",{key:re.id},o(re.service.name),1))),128))])):d("",!0)],4),t("div",{class:O(["am-fcil__item-footer",[{"am-mobile":e(ie)<481},{"am-micro":e(ie)<320}]])},[e(f).cardEmployeeBtn.visibility?(a(),ve(Ae,{key:0,class:O({"am-w100":e(ie)<320}),size:"small",type:e(f).cardEmployeeBtn.buttonType,onClick:re=>Pt(c)},{default:A(()=>[we(o(e(g).view_employees),1)]),_:2},1032,["class","type","onClick"])):d("",!0),G(Ae,{class:O([{"am-w100":!e(f).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ie)<320}]),size:"small",type:e(f).cardContinueBtn.buttonType,onClick:re=>lt(c)},{default:A(()=>[we(o(e(g).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):d("",!0),e(X)?(a(!0),i(oe,{key:1},ge(e(Ie),c=>(a(),i("div",{key:c.id,class:O(["am-fcil__item",{"am-mobile":e(ie)<481}])},[t("div",{class:O(["am-fcil__item-inner",{"am-mobile":e(ie)<481}])},[t("div",{class:"am-fcil__item-content",style:ue(e(f).cardColor&&e(f).cardColor.visibility?{backgroundColor:e(ee)(c.color,.1)}:{})},[e(f).serviceBadge.visibility?(a(),i("div",zs,[t("div",As,[Rs,t("span",null,o(e(g).heading_service),1)])])):d("",!0),c.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ue({backgroundImage:`url(${c.pictureFullPath})`})},null,4)):d("",!0),t("div",Os,[t("div",Ms,o(c.name),1),e(f).servicePrice.visibility?(a(),i("div",Vs,[e(ut)(e(H),c.id).min||e(ut)(e(H),c.id).max?(a(),i("span",Ns,o(e(ut)(e(H),c.id).price),1)):d("",!0)])):d("",!0)]),t("div",Us,[e(f).serviceCategory.visibility?(a(),i("div",Ws,[js,t("span",null,o(e(u).find(re=>re.id===e(Z)).name),1)])):d("",!0),e(f).serviceDuration.visibility?(a(),i("div",Hs,[qs,t("span",null,o(e(aa)(c.duration)),1)])):d("",!0),e(f).serviceCapacity.visibility&&!e(h).isLite?(a(),i("div",Gs,[Js,t("span",null,o(e(ta)(e(H),c.id)),1)])):d("",!0),e(ze)(e(H),c.id).length&&e(f).serviceLocation.visibility?(a(),i("div",Ys,[Qs,t("span",null,o(Et(e(H),c.id)),1)])):d("",!0)])],4),t("div",{class:O(["am-fcil__item-footer",[{"am-mobile":e(ie)<481},{"am-micro":e(ie)<320}]])},[e(f).cardEmployeeBtn.visibility&&!e(h).isLite?(a(),ve(Ae,{key:0,class:O({"am-w100":e(ie)<320}),size:"small",type:e(f).cardEmployeeBtn.buttonType,onClick:re=>ot(c.id)},{default:A(()=>[we(o(e(g).view_employees),1)]),_:2},1032,["class","type","onClick"])):d("",!0),G(Ae,{class:O([{"am-w100":!e(f).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ie)<320}]),size:"small",type:e(f).cardContinueBtn.buttonType,onClick:re=>Le(c.id)},{default:A(()=>[we(o(e(g).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):d("",!0),G(dt,{modelValue:e(T),"onUpdate:modelValue":E[9]||(E[9]=c=>de(T)?T.value=c:T=c),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Lt),width:"648px",onClose:_t},{title:A(()=>[t("div",Xs,o(e(g).employee_info),1)]),default:A(()=>[t("div",null,[G(Ct,null,{default:A(()=>[(a(!0),i(oe,null,ge(e(pe),(c,re)=>(a(),ve($t,{key:re,side:""},{heading:A(()=>[t("div",Zs,[t("div",Ks,[G(rt,{"item-class":"am-fcil-employee__img","item-data":c,"trim-string":2},null,8,["item-data"]),t("div",el,[we(o(`${c.firstName} ${c.lastName}`)+" ",1),c.badge?(a(),i("span",{key:0,style:ue({background:c.badge.color}),class:"am-fcil-employee__badge"},o(c.badge.content),5)):d("",!0)])]),e(w)==="service"&&ft(c)!==0?(a(),i("div",tl,[t("div",al,o(ft(c)),1)])):d("",!0)])]),default:A(()=>[e(Oe)(c.description)?(a(),i("div",{key:0,class:O(["am-fcil-employee__text",{"ql-description":c.description.includes("<!-- Content -->")}]),innerHTML:c.description},null,10,il)):d("",!0)]),_:2},1024))),128))]),_:1})])]),footer:A(()=>[e(f).dialogEmployeeBtn.visibility?(a(),ve(Ae,{key:0,type:e(f).dialogEmployeeBtn.buttonType,category:"primary",onClick:E[8]||(E[8]=c=>Dt())},{default:A(()=>[we(o(e(w)==="service"?e(g).book_service:e(g).book_package),1)]),_:1},8,["type"])):d("",!0)]),_:1},8,["modelValue","custom-styles"]),G(dt,{modelValue:e(m),"onUpdate:modelValue":E[10]||(E[10]=c=>de(m)?m.value=c:m=c),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:p},{default:A(()=>[G(jt,{"show-cart":e(b)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(j)!==1&&e(f).sidebar.visibility&&e(ne)?{name:"side",fn:A(()=>[G(mi,{"menu-items":e(u),"init-selection":e(Z),identifier:"id","name-identifier":"name","footer-string":e(g).get_in_touch,"company-email":e(ae).company.email,onClick:mt},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const fl={class:"am-fcis__header-text"},vl={class:"am-fcis__header-name"},gl={key:0,class:"am-fcis__badge am-service"},yl=t("span",{class:"am-icon-service"},null,-1),hl={class:"am-fcis__header-action"},bl={key:0,class:"am-fcis__header-price"},kl={class:"am-fcis__header-btn"},Cl={key:0,class:"am-fcis__header-bottom"},$l={class:"am-fcis__mini-info"},Sl={key:0,class:"am-fcis__mini-info__inner"},wl=t("span",{class:"am-icon-folder"},null,-1),xl={key:1,class:"am-fcis__mini-info__inner"},Il=t("span",{class:"am-icon-clock"},null,-1),Pl={key:2,class:"am-fcis__mini-info__inner"},Dl=t("span",{class:"am-icon-user"},null,-1),El={key:3,class:"am-fcis__mini-info__inner"},Ll=t("span",{class:"am-icon-locations"},null,-1),Tl={key:0,class:"am-fcis__gallery"},Bl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Fl={class:"am-gd__display-wrapper"},zl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Al=["src","alt"],Rl={class:"am-gd__selection"},Ol={class:"am-gd__thumb-wrapper"},Ml=["onClick"],Vl={key:1,class:"am-fcis__info"},Nl={class:"am-fcis__info-tab__wrapper"},Ul={class:"am-fcis__info-content__wrapper"},Wl={key:0,class:"am-fcis__info-content"},jl=["innerHTML"],Hl={key:1,class:"am-fcis__info-content"},ql={class:"am-fcis__info-employee__hero"},Gl={class:"am-fcis__info-employee__heading"},Jl={class:"am-fcis__info-employee__name"},Yl={key:0,class:"am-fcis__info-employee__price"},Ql=["innerHTML"],Xl={key:2,class:"am-fcis__include-wrapper"},Zl={class:"am-fcis__include-heading"},Kl={class:"am-fcis__include-heading__text"},eo=["onClick"],to={class:"am-fcis__include-hero"},ao={key:0,class:"am-fcis__include-cost"},io={key:0,class:"am-fcis__include-discount"},so={class:"am-fcis__include-price"},lo={class:"am-fcis__include-info"},oo={key:0,class:"am-fcis__include-info__inner"},no=t("span",{class:"am-icon-folder"},null,-1),co={key:1,class:"am-fcis__include-info__inner"},ro=t("span",{class:"am-icon-clock"},null,-1),uo={key:0},mo={key:1},po={key:2},_o={key:2,class:"am-fcis__include-info__inner"},fo=t("span",{class:"am-icon-user"},null,-1),vo=t("span",null,"1/1",-1),go=[fo,vo],yo={key:3,class:"am-fcis__include-info__inner"},ho=t("span",{class:"am-icon-locations"},null,-1),bo={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},ko={key:1,ref:"ameliaContainer",class:"am-empty"},Co=["src"],$o={class:"am-empty__heading"},So={class:"am-empty__subheading"},wo={class:"am-empty__text"},xo={key:0},Io={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Po={key:1},Do={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Eo={name:"CategoryService"},Lo=Object.assign(Eo,{setup(_){let h=F("licence"),{previousPage:r}=F("changingPageFunctions",{previousPage:()=>{}}),v=k(()=>N.getters["entities/getReady"]);const C=F("baseUrls");let L=x(),m=F("containerWidth");const s=F("settings");let p=F("amFonts");const b=F("labels"),S=F("localLanguage");let $=k(()=>s.general.usedLanguages.includes(S.value)),D=k(()=>{let W=st(tt({},b));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let T=s.customizedData.cbf.categoryService.translations;Object.keys(T).forEach(w=>{T[w][S.value]&&$.value?W[w]=T[w][S.value]:T[w].default&&(W[w]=T[w].default)})}return W}),f=x(0),N=it(),ae=F("amEntities"),P=k(()=>Je(N)&&We(N)>0),B=k(()=>We(N)),n=F("customizedDataForm"),j=k(()=>n.value.categoryService.options),ne=k(()=>"pageScroll"in j.value?j.value.pageScroll.visibility:!0),H=F("itemType"),fe=F("categorySelected"),ke=k(()=>ae.value.categories.find(W=>W.id===fe.value)),V=k(()=>{let W=ae.value.services.find(T=>T.id===N.getters["booking/getServiceId"]);return W||{}});function me(W,T){return ze(W,T).length===1?ze(W,T)[0].address?ze(W,T)[0].address:ze(W,T)[0].name:D.value.multiple_locations}let Y=x("description"),g=k(()=>{let W=[];return Object.keys(ae.value.entitiesRelations).forEach(w=>{ae.value.entitiesRelations[w][V.value.id]&&ae.value.employees.find(pe=>pe.id===parseInt(w))&&W.push(ae.value.employees.find(pe=>pe.id===parseInt(w)))}),W});function ce(W){let T=W.serviceList.find(w=>w.id===V.value.id).price;return T-V.value.price!==0?`${T-V.value.price>0?V.value.price>0?"+":"":"-"} ${Ze(T-V.value.price)}`:""}Be(()=>{j.value.serviceDescription.visibility||(Y.value="employees"),Oe(V.value.description)||(Y.value="employees")});let be=k(()=>{let W=V.value.gallery.length?JSON.parse(JSON.stringify(V.value.gallery)):[];return V.value.gallery.length===1?[]:(W.shift(),W.length>2&&W.splice(2,W.length-2),W)}),se=k(()=>{let W=[];return ae.value.packages.forEach(T=>{T.bookable.filter(w=>w.service.id===V.value.id).length&&!W.filter(w=>w.id===T.id).length&&T.available&&T.status==="visible"&&W.push(T)}),W}),Q=x(!1),xe=k(()=>{let W=[...se.value];return Q.value?W:W.slice(0,2)}),Te=k(()=>N.getters["entities/filteredLocations"](N.getters["booking/getSelection"]));function Re(){H.value="",Ee(()=>{r()})}let u=x(!1);function Z(){Rt(N),u.value=!0,q.value=!0}function ye(){q.value=!1,N.getters["entities/getPreselected"].service.length>1&&Re()}let q=x(!1),Ie=x("760px");te("bookingDialogWidth",Ie);function le(){let W=N.getters["entities/getPreselected"];g.value.length===1&&(N.commit("booking/setEmployeeId",parseInt(g.value[0].id)),W.employee=[parseInt(g.value[0].id)],N.commit("entities/setPreselected",W)),u.value=!1,q.value=!1,qa(N),ea(N,!1),gt(N);let T=ze(ae.value,V.value.id);T.length===1&&(N.commit("booking/setLocationId",parseInt(T[0].id)),W.location=[parseInt(T[0].id)],N.commit("entities/setPreselected",W)),N.commit("booking/setBookableType","appointment"),q.value=!0}F("restoreFormData").value&&le();function Pe(W){N.commit("booking/setPackageId",W.id),N.commit("booking/setBookableType","package"),N.commit("booking/setMultipleAppointments",It(0,W)),N.commit("booking/setMultipleAppointmentsIndex",0),g.value.length===1&&N.commit("booking/setEmployeeId",parseInt(g.value[0].id)),ze(ae.value,V.value.id).length===1&&N.commit("booking/setLocationId",parseInt(ze(ae.value,V.value.id)[0].id)),Ee(()=>{q.value=!0})}const X=k(()=>N.getters["entities/getPreselected"]);let U=x("");te("stepName",U);function z(){let W=N.getters["entities/getBookableFromBookableEntities"](N.getters["booking/getSelection"]),T=W.settings?JSON.parse(W.settings):s;"general"in T&&"redirectUrlAfterAppointment"in T.general&&T.general.redirectUrlAfterAppointment?window.location.href=T.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function ie(){if(U.value&&U.value==="CongratulationsStep")z();else{if(U.value&&U.value==="DateTimeStep"){let W=Ga(N);W&&console.log(W)}N.commit("booking/setEmployeeId",null),N.commit("booking/setLocationId",null),N.commit("entities/setPreselected",N.getters["entities/getOriginalPreselected"])}Ie.value="760px"}let Me=x(!1);function mt(W,T){let w="";return W>1?(T==="day"&&(w=D.value.expires_days),T==="week"&&(w=D.value.expires_weeks),T==="month"&&(w=D.value.expires_months)):(T==="day"&&(w=D.value.expires_day),T==="week"&&(w=D.value.expires_week),T==="month"&&(w=D.value.expires_month)),w}let Ce=k(()=>Object.keys(V.value).length===0||g.value.length===0),Le=F("amColors"),lt=k(()=>({"--am-c-fcis-success-op20":ee(Le.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ee(Le.value.colorPrimary,.2),"--am-c-fcis-text-op80":ee(Le.value.colorMainText,.8),"--am-c-fcis-text-op03":ee(Le.value.colorMainText,.03),"--am-c-fcis-btn-op50":ee(Le.value.colorBtnSec,.5)})),pt=k(()=>({"--am-c-fcis-bgr":Le.value.colorMainBgr,"--am-c-fcis-text":Le.value.colorMainText,"--am-c-fcis-success":Le.value.colorSuccess,"--am-c-fcis-primary":Le.value.colorPrimary,"--am-c-scroll-op30":ee(Le.value.colorPrimary,.3),"--am-c-scroll-op10":ee(Le.value.colorPrimary,.1),"--am-font-family":p.fontFamily}));return(W,T)=>e(v)?(a(),i(oe,{key:0},[e(Ce)?d("",!0):(a(),ve(Nt,{key:0,ref_key:"contentRef",ref:L,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(ne)?"":"no-scroll"}`,style:ue(e(lt))},{header:A(()=>[G(Vt,{"btn-string":e(D).back_btn,"btn-type":e(j).backBtn.buttonType,"back-btn-visibility":e(X).service.length!==1,"cart-btn-visibility":e(P),"cart-items-number":e(B),onGoBack:Re,onGoToCart:Z},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:A(()=>[t("div",{class:O([[{"am-tablet":e(m)<=678},{"am-mobile":e(m)<450}],"am-fcis__header-top"])},[t("div",fl,[t("span",vl,o(e(V).name),1),e(j).serviceBadge.visibility?(a(),i("div",gl,[yl,t("span",null,o(e(D).heading_service),1)])):d("",!0)]),t("div",hl,[e(j).servicePrice.visibility?(a(),i("span",bl,o(e(ut)(e(ae),e(V).id).min||e(ut)(e(ae),e(V).id).max?e(ut)(e(ae),e(V).id).price:e(D).free),1)):d("",!0),t("span",kl,[G(Ae,{type:e(j).bookingBtn.buttonType,onClick:le},{default:A(()=>[we(o(e(D).book_now),1)]),_:1},8,["type"])])])],2),e(j).serviceCategory.visibility||e(j).serviceDuration.visibility||e(j).serviceCapacity.visibility||e(j).serviceLocation.visibility?(a(),i("div",Cl,[t("div",$l,[e(j).serviceCategory.visibility?(a(),i("div",Sl,[wl,t("span",null,o(e(ke).name),1)])):d("",!0),e(j).serviceDuration.visibility?(a(),i("div",xl,[Il,t("span",null,o(e(aa)(e(V).duration)),1)])):d("",!0),e(j).serviceCapacity.visibility&&!e(h).isLite?(a(),i("div",Pl,[Dl,t("span",null,o(e(ta)(e(ae),e(V).id)),1)])):d("",!0),e(ze)(e(ae),e(V).id).length&&e(j).serviceLocation.visibility&&!e(h).isLite&&!e(h).isStarter?(a(),i("div",El,[Ll,t("span",null,o(me(e(ae),e(V).id)),1)])):d("",!0)])])):d("",!0)]),content:A(()=>[e(V).gallery.length?(a(),i("div",Tl,[t("div",{class:O(["am-fcis__gallery-hero",[{w100:e(V).gallery.length===1},{"am-mobile w100":e(m)<678}]]),style:ue({backgroundImage:`url(${e(V).gallery[0].pictureFullPath})`})},null,6),e(be).length&&e(m)>677?(a(),i("div",Bl,[(a(!0),i(oe,null,ge(e(be),(w,pe)=>(a(),i("div",{key:pe,class:O(["am-fcis__gallery-thumb",{"am-one-thumb":e(be).length===1}]),style:ue({backgroundImage:`url(${w.pictureFullPath})`})},null,6))),128))])):d("",!0),G(Ae,{"custom-class":`am-fcis__gallery-btn${e(m)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:T[0]||(T[0]=()=>de(Me)?Me.value=!0:Me=!0)},{default:A(()=>[we(o(e(D).view_all_photos),1)]),_:1},8,["custom-class"])])):d("",!0),G(dt,{modelValue:e(Me),"onUpdate:modelValue":T[4]||(T[4]=w=>de(Me)?Me.value=w:Me=w),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ue(e(pt))},[t("div",Fl,[t("div",zl,[t("span",{class:"am-icon-arrow-left",onClick:T[1]||(T[1]=()=>de(f)?f.value=e(f)<=0?e(V).gallery.length-1:e(f)-1:f=e(f)<=0?e(V).gallery.length-1:e(f)-1)}),t("span",{class:"am-icon-arrow-right",onClick:T[2]||(T[2]=()=>de(f)?f.value=e(V).gallery.length-1===e(f)?0:e(f)+1:f=e(V).gallery.length-1===e(f)?0:e(f)+1)})]),(a(!0),i(oe,null,ge(e(V).gallery,(w,pe)=>(a(),i("div",{key:pe,class:"am-gd__display",style:ue({display:pe===e(f)?"flex":"none"}),onClick:T[3]||(T[3]=()=>de(f)?f.value=e(V).gallery.length-1===e(f)?0:e(f)+1:f=e(V).gallery.length-1===e(f)?0:e(f)+1)},[t("img",{src:w.pictureFullPath,alt:pe},null,8,Al)],4))),128))]),t("div",Rl,o(`${e(f)+1}/${e(V).gallery.length}`),1),t("div",Ol,[(a(!0),i(oe,null,ge(e(V).gallery,(w,pe)=>(a(),i("div",{key:pe,class:O(["am-gd__thumb",{"am-active":pe===e(f)}]),style:ue({backgroundImage:`url(${w.pictureFullPath})`}),onClick:()=>de(f)?f.value=pe:f=pe},null,14,Ml))),128))])],4)]),_:1},8,["modelValue"]),e(j).serviceDescription.visibility&&e(Oe)(e(V).description)||e(j).serviceEmployees.visibility?(a(),i("div",Vl,[t("div",Nl,[e(Oe)(e(V).description)&&e(j).serviceDescription.visibility?(a(),i("div",{key:0,class:O(["am-fcis__info-tab",{"am-active":e(Y)==="description"}]),onClick:T[5]||(T[5]=()=>de(Y)?Y.value="description":Y="description")},o(e(D).about_service),3)):d("",!0),e(j).serviceEmployees.visibility&&!e(h).isLite?(a(),i("div",{key:1,class:O([{"am-active":e(Y)==="employees"},"am-fcis__info-tab"]),onClick:T[6]||(T[6]=()=>de(Y)?Y.value="employees":Y="employees")},o(e(D).tab_employees),3)):d("",!0)]),t("div",Ul,[e(Oe)(e(V).description)&&e(j).serviceDescription.visibility?St((a(),i("div",Wl,[t("div",{class:O(["am-fcis__info-service__desc",{"ql-description":e(V).description.includes("<!-- Content -->")}]),innerHTML:e(V).description},null,10,jl)],512)),[[wt,e(Y)==="description"]]):d("",!0),e(j).serviceEmployees.visibility?St((a(),i("div",Hl,[G(Ct,null,{default:A(()=>[(a(!0),i(oe,null,ge(e(g),w=>(a(),ve($t,{key:w.id,side:""},{heading:A(()=>[t("div",{class:O([{"am-mobile":e(m)<451},"am-fcis__info-employee"])},[t("div",ql,[G(rt,{"item-class":"am-fcis__info-employee__img","item-data":w,"trim-string":3},null,8,["item-data"]),t("div",Gl,[t("div",Jl,[we(o(w.firstName)+" "+o(w.lastName)+" ",1),w.badge?(a(),i("span",{key:0,style:ue({background:w.badge.color}),class:"am-fcis__info-employee__badge"},o(w.badge.content),5)):d("",!0)]),ce(w)&&e(j).serviceEmployeePrice.visibility?(a(),i("div",Yl,o(ce(w)),1)):d("",!0)])])],2)]),default:A(()=>[e(Oe)(w.description)?(a(),i("div",{key:0,class:O(["am-fcis__info-employee__description",{"ql-description":w.description.includes("<!-- Content -->")}]),innerHTML:w.description},null,10,Ql)):d("",!0)]),_:2},1024))),128))]),_:1})],512)),[[wt,e(Y)==="employees"]]):d("",!0)])])):d("",!0),e(se).length&&e(X).show!=="services"&&e(j).servicePackages.visibility&&!e(We)(e(N))?(a(),i("div",Xl,[t("div",Zl,[t("span",Kl,o(e(D).service_available_in_package),1),e(se).length>2?(a(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:T[7]||(T[7]=()=>de(Q)?Q.value=!e(Q):Q=!e(Q))},[e(Q)?(a(),i(oe,{key:1},[we(o(e(D).less_packages),1)],64)):(a(),i(oe,{key:0},[we(o(e(D).more_packages),1)],64))])):d("",!0)]),(a(!0),i(oe,null,ge(e(xe),w=>(a(),i("div",{key:w.id,class:"am-fcis__include",onClick:pe=>Pe(w)},[t("div",to,[e(m)>450?(a(),ve(rt,{key:0,"item-class":"am-fcis__include-img","item-data":w,"trim-string":3},null,8,["item-data"])):d("",!0),t("div",{class:O([{"am-mobile":e(m)<451},"am-fcis__include-text"])},[t("div",{class:O(["am-fcis__include-header",{"am-mobile":e(m)<600}])},[t("div",{class:O(["am-fcis__include-name",{"am-mobile":e(m)<600}])},o(w.name),3),e(j).packagePrice.visibility?(a(),i("div",ao,[w.discount?(a(),i("span",io,o(`${e(D).save} ${w.discount}%`),1)):d("",!0),t("span",so,o(w.price?e(Ze)(w.calculatedPrice?w.price:w.price-w.price/100*w.discount):e(D).free),1)])):d("",!0)],2),t("div",lo,[e(j).packageCategory.visibility?(a(),i("div",oo,[no,t("span",null,o(e(ke).name),1)])):d("",!0),e(j).packageDuration.visibility?(a(),i("div",co,[ro,w.endDate?(a(),i("span",uo,o(`${e(D).expires_at} ${w.endDate.split(" ")[0]}`),1)):w.durationCount?(a(),i("span",mo,o(`${e(D).expires_after} ${w.durationCount} ${mt(w.durationCount,w.durationType)}`),1)):(a(),i("span",po,o(e(D).without_expiration),1))])):d("",!0),e(j).packageCapacity.visibility?(a(),i("div",_o,go)):d("",!0),e(j).packageLocation.visibility&&e(Te).length?(a(),i("div",yo,[ho,t("span",null,o(e(Te).length===1?e(Te)[0].address?e(Te)[0].address:e(Te)[0].name:e(D).multiple_locations),1)])):d("",!0),e(j).packageServices.visibility?(a(),i("div",bo,[t("span",null,o(`${e(D).in_package}:`),1),(a(!0),i(oe,null,ge(w.bookable,pe=>(a(),i("span",{key:pe.id},o(pe.service.name),1))),128))])):d("",!0)])],2)])],8,eo))),128))])):d("",!0),G(dt,{modelValue:e(q),"onUpdate:modelValue":T[9]||(T[9]=w=>de(q)?q.value=w:q=w),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Ie),onClosed:ie},{default:A(()=>[G(jt,{"show-cart":e(u),onAddToCart:ye,onEmptiedCart:T[8]||(T[8]=w=>de(q)?q.value=!1:q=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(Ce)?(a(),i("div",ko,[t("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Co),t("div",$o,o(e(D).oops),1),t("div",So,o(e(X).show!=="packages"?e(D).no_services_employees:e(D).no_package_services),1),t("div",wo,[e(X).show!=="packages"?(a(),i("span",xo,o(e(D).add_services_employees)+"\xA0 ",1)):d("",!0),t("a",Io,o(e(D).add_services_url)+"\xA0 ",1),e(X).show!=="packages"?(a(),i("span",Po,o(e(D).and)+"\xA0 ",1)):d("",!0),e(X).show!=="packages"?(a(),i("a",Do,o(e(D).add_employees_url),1)):d("",!0)])],512)):d("",!0)],64)):d("",!0)}});const To={class:"am-fcip__header-text"},Bo={class:"am-fcip__header-name"},Fo={key:0,class:"am-fcip__badge am-package"},zo=t("span",{class:"am-icon-shipment"},null,-1),Ao={class:"am-fcip__header-action"},Ro={key:0,class:"am-fcip__header-discount"},Oo={key:1,class:"am-fcip__header-price"},Mo={class:"am-fcip__header-btn"},Vo={key:0,class:"am-fcip__header-bottom"},No={class:"am-fcip__mini-info"},Uo={key:0,class:"am-fcip__mini-info__inner"},Wo=t("span",{class:"am-icon-folder"},null,-1),jo={key:1,class:"am-fcip__mini-info__inner"},Ho=t("span",{class:"am-icon-clock"},null,-1),qo={key:0},Go={key:1},Jo={key:2},Yo={key:2,class:"am-fcip__mini-info__inner"},Qo=t("span",{class:"am-icon-user"},null,-1),Xo=t("span",null,"1/1",-1),Zo=[Qo,Xo],Ko={key:3,class:"am-fcip__mini-info__inner"},en=t("span",{class:"am-icon-locations"},null,-1),tn={key:0,class:"am-fcip__gallery"},an={key:0,class:"am-fcip__gallery-thumb__wrapper"},sn=t("span",{class:"am-icon-gallery"},null,-1),ln={class:"am-gd__display-wrapper"},on={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},nn=["src","alt"],cn={class:"am-gd__selection"},rn={class:"am-gd__thumb-wrapper"},un=["onClick"],dn={key:1,class:"am-fcip__info"},mn={class:"am-fcip__info-tab__wrapper"},pn={class:"am-fcip__info-content__wrapper"},_n={key:0,class:"am-fcip__info-content"},fn=["innerHTML"],vn={key:1,class:"am-fcip__info-content"},gn={class:"am-fcip__info-employee"},yn={class:"am-fcip__info-employee__hero"},hn={class:"am-fcip__info-employee__name"},bn=["innerHTML"],kn={key:2,class:"am-fcip__include-wrapper"},Cn={class:"am-fcip__include-heading"},$n={class:"am-fcip__include-heading__text"},Sn={class:"am-fcip__include-service"},wn={class:"am-fcip__include-service__info"},xn={key:0},In=["innerHTML"],Pn={class:"am-fcip__include-footer"},Dn={class:"am-fcip__include-footer__text"},En={key:1,ref:"ameliaContainer",class:"am-empty"},Ln=["src"],Tn={class:"am-empty__heading"},Bn={class:"am-empty__subheading"},Fn={class:"am-empty__text"},zn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},An={name:"CategoryPackage"},Rn=Object.assign(An,{setup(_){let{previousPage:h}=F("changingPageFunctions",{previousPage:()=>{}}),r=x(),v=F("containerWidth");const C=F("settings"),L=F("baseUrls");let m=it();const s=F("shortcodeData"),p=k(()=>m.getters["entities/getPreselected"]);let b=F("amEntities"),S=F("customizedDataForm"),$=k(()=>S.value.categoryPackage.options),D=k(()=>"pageScroll"in $.value?$.value.pageScroll.visibility:!0),f=F("itemType"),N=F("categorySelected"),ae=k(()=>b.value.categories.find(X=>X.id===N.value)),P=k(()=>b.value.packages.find(X=>X.id===m.getters["booking/getPackageId"])),B=x(0),n=x("description"),j=k(()=>ia(b.value,P.value,s.value)),ne=k(()=>nt(b.value,P.value,s.value)),H=x(p.value.employee.length>0?b.value.unfilteredEmployees.filter(X=>p.value.employee.map(U=>parseInt(U)).includes(X.id)):b.value.unfilteredEmployees);function fe(X){let U=[];return X.providers.length?X.providers.forEach(z=>{H.value.find(ie=>ie.id===parseInt(z.id))&&U.push(H.value.find(ie=>ie.id===parseInt(z.id)))}):U=H.value.filter(z=>z.serviceList.find(ie=>ie.id===X.service.id)),U}Be(()=>{$.value.packageDescription.visibility||(n.value="employees"),Oe(P.value.description)||(n.value="employees")});let ke=x(!1);Ot(()=>{ke.value=m.getters["entities/getEmployees"].length===0||j.value.length===0});let V=x(!1),me=k(()=>{let X=P.value.gallery.length?JSON.parse(JSON.stringify(P.value.gallery)):[];return P.value.gallery.length===1?[]:(X.shift(),X.length>2&&X.splice(2,X.length-2),X)});function Y(){f.value="",Ee(()=>{h()})}let g=x(!1),ce=x("760px");te("bookingDialogWidth",ce);function be(){m.commit("booking/setPackageId",P.value.id),m.commit("booking/setMultipleAppointments",It(0,P.value)),m.commit("booking/setMultipleAppointmentsIndex",0),m.commit("booking/setBookableType","package"),Ee(()=>{g.value=!0})}F("restoreFormData").value&&be();let Q=x("");te("stepName",Q);function xe(){let X=m.getters["entities/getBookableFromBookableEntities"](m.getters["booking/getSelection"]),U=X.settings?JSON.parse(X.settings):C;"general"in U&&"redirectUrlAfterAppointment"in U.general&&U.general.redirectUrlAfterAppointment?window.location.href=U.general.redirectUrlAfterAppointment:C.general.redirectUrlAfterAppointment?window.location.href=C.general.redirectUrlAfterAppointment:window.location.reload()}function Te(){Q.value&&Q.value==="CongratulationsStep"?xe():m.commit("entities/setPreselected",m.getters["entities/getOriginalPreselected"]),ce.value="760px"}let Re=F("amFonts");const u=F("labels"),Z=F("localLanguage");let ye=k(()=>C.general.usedLanguages.includes(Z.value)),q=k(()=>{let X=st(tt({},u));if(C.customizedData&&C.customizedData.cbf&&C.customizedData.cbf.categoryPackage.translations){let U=C.customizedData.cbf.categoryPackage.translations;Object.keys(U).forEach(z=>{U[z][Z.value]&&ye.value?X[z]=U[z][Z.value]:U[z].default&&(X[z]=U[z].default)})}return X});function Ie(X,U){let z="";return X>1?(U==="day"&&(z=q.value.expires_days),U==="week"&&(z=q.value.expires_weeks),U==="month"&&(z=q.value.expires_months)):(U==="day"&&(z=q.value.expires_day),U==="week"&&(z=q.value.expires_week),U==="month"&&(z=q.value.expires_month)),z}let le=F("amColors"),je=k(()=>({"--am-c-fcip-success-op20":ee(le.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ee(le.value.colorPrimary,.2),"--am-c-fcip-text-op80":ee(le.value.colorMainText,.8),"--am-c-fcip-text-op60":ee(le.value.colorMainText,.6),"--am-c-fcip-text-op03":ee(le.value.colorMainText,.03),"--am-c-fcip-btn-op50":ee(le.value.colorBtnSec,.5)})),Pe=k(()=>({"--am-c-fcip-bgr":le.value.colorMainBgr,"--am-c-fcip-text":le.value.colorMainText,"--am-c-fcip-success":le.value.colorSuccess,"--am-c-fcip-primary":le.value.colorPrimary,"--am-c-scroll-op30":ee(le.value.colorPrimary,.3),"--am-c-scroll-op10":ee(le.value.colorPrimary,.1),"--am-font-family":Re.fontFamily}));return(X,U)=>(a(),i(oe,null,[e(ke)?d("",!0):(a(),ve(Nt,{key:0,ref_key:"contentRef",ref:r,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(D)?"":"no-scroll"}`,style:ue(e(je))},Mt({heading:A(()=>[t("div",{class:O([[{"am-tablet":e(v)<=678},{"am-mobile":e(v)<450}],"am-fcip__header-top"])},[t("div",To,[t("span",Bo,[t("span",null,o(e(P).name),1)]),e($).packageBadge.visibility?(a(),i("div",Fo,[zo,t("span",null,o(e(q).package),1)])):d("",!0)]),t("div",Ao,[e(P).discount&&e($).packagePrice.visibility?(a(),i("span",Ro,o(`${e(q).save} ${e(P).discount}%`),1)):d("",!0),e($).packagePrice.visibility?(a(),i("span",Oo,o(e(P).price?e(Ze)(e(P).calculatedPrice?e(P).price:e(P).price-e(P).price/100*e(P).discount):e(q).free),1)):d("",!0),t("span",Mo,[G(Ae,{type:e($).bookingBtn.buttonType,onClick:be},{default:A(()=>[we(o(e(q).book_now),1)]),_:1},8,["type"])])])],2),e($).packageCategory.visibility&&e(p).package.length!==1||e($).packageDuration.visibility||e($).packageCapacity.visibility||e($).packageLocation.visibility&&e(ne).length?(a(),i("div",Vo,[t("div",No,[e(p).package.length!==1&&e($).packageBadge.visibility?(a(),i("div",Uo,[Wo,t("span",null,o(e(ae).name),1)])):d("",!0),e($).packageDuration.visibility?(a(),i("div",jo,[Ho,e(P).endDate?(a(),i("span",qo,o(`${e(q).expires_at} ${e(P).endDate.split(" ")[0]}`),1)):e(P).durationCount?(a(),i("span",Go,o(`${e(q).expires_after} ${e(P).durationCount} ${Ie(e(P).durationCount,e(P).durationType)}`),1)):(a(),i("span",Jo,o(e(q).without_expiration),1))])):d("",!0),e($).packageCapacity.visibility?(a(),i("div",Yo,Zo)):d("",!0),e(ne).length&&e($).packageLocation.visibility?(a(),i("div",Ko,[en,t("span",null,o(e(ne).length===1?e(ne)[0].address?e(ne)[0].address:e(ne)[0].name:e(q).multiple_locations),1)])):d("",!0)])])):d("",!0)]),content:A(()=>[e(P).gallery.length?(a(),i("div",tn,[t("div",{class:O(["am-fcip__gallery-hero",[{w100:e(P).gallery.length===1},{"am-mobile w100":e(v)<678}]]),style:ue({backgroundImage:`url(${e(P).gallery[0].pictureFullPath})`})},null,6),e(me).length&&e(v)>677?(a(),i("div",an,[(a(!0),i(oe,null,ge(e(me),(z,ie)=>(a(),i("div",{key:ie,class:O(["am-fcip__gallery-thumb",{"am-one-thumb":e(me).length===1}]),style:ue({backgroundImage:`url(${z.pictureFullPath})`})},null,6))),128))])):d("",!0),G(Ae,{"custom-class":`am-fcip__gallery-btn${e(v)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:U[0]||(U[0]=()=>de(V)?V.value=!0:V=!0)},{default:A(()=>[sn,t("span",null,o(e(q).view_all_photos),1)]),_:1},8,["custom-class"])])):d("",!0),G(dt,{modelValue:e(V),"onUpdate:modelValue":U[4]||(U[4]=z=>de(V)?V.value=z:V=z),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ue(e(Pe))},[t("div",ln,[t("div",on,[t("span",{class:"am-icon-arrow-left",onClick:U[1]||(U[1]=()=>de(B)?B.value=e(B)<=0?e(P).gallery.length-1:e(B)-1:B=e(B)<=0?e(P).gallery.length-1:e(B)-1)}),t("span",{class:"am-icon-arrow-right",onClick:U[2]||(U[2]=()=>de(B)?B.value=e(P).gallery.length-1===e(B)?0:e(B)+1:B=e(P).gallery.length-1===e(B)?0:e(B)+1)})]),(a(!0),i(oe,null,ge(e(P).gallery,(z,ie)=>(a(),i("div",{key:ie,class:"am-gd__display",style:ue({display:ie===e(B)?"flex":"none"}),onClick:U[3]||(U[3]=()=>de(B)?B.value=e(P).gallery.length-1===e(B)?0:e(B)+1:B=e(P).gallery.length-1===e(B)?0:e(B)+1)},[t("img",{src:z.pictureFullPath,alt:ie},null,8,nn)],4))),128))]),t("div",cn,o(`${e(B)+1}/${e(P).gallery.length}`),1),t("div",rn,[(a(!0),i(oe,null,ge(e(P).gallery,(z,ie)=>(a(),i("div",{key:ie,class:O(["am-gd__thumb",{"am-active":ie===e(B)}]),style:ue({backgroundImage:`url(${z.pictureFullPath})`}),onClick:()=>de(B)?B.value=ie:B=ie},null,14,un))),128))])],4)]),_:1},8,["modelValue"]),e($).packageDescription.visibility&&e(Oe)(e(P).description)||e($).packageEmployees.visibility?(a(),i("div",dn,[t("div",mn,[e(Oe)(e(P).description)&&e($).packageDescription.visibility?(a(),i("div",{key:0,class:O(["am-fcip__info-tab",{"am-active":e(n)==="description"}]),onClick:U[5]||(U[5]=()=>de(n)?n.value="description":n="description")},o(e(q).about_package),3)):d("",!0),e($).packageEmployees.visibility?(a(),i("div",{key:1,class:O([{"am-active":e(n)==="employees"},"am-fcip__info-tab"]),onClick:U[6]||(U[6]=()=>de(n)?n.value="employees":n="employees")},o(e(q).tab_employees),3)):d("",!0)]),t("div",pn,[e(Oe)(e(P).description)&&e($).packageDescription.visibility?St((a(),i("div",_n,[t("div",{class:O(["am-fcip__info-service__desc",{"ql-description":e(P).description.includes("<!-- Content -->")}]),innerHTML:e(P).description},null,10,fn)],512)),[[wt,e(n)==="description"]]):d("",!0),e($).packageEmployees.visibility?St((a(),i("div",vn,[G(Ct,null,{default:A(()=>[(a(!0),i(oe,null,ge(e(j),z=>(a(),ve($t,{key:z.id,side:""},{heading:A(()=>[t("div",gn,[t("div",yn,[G(rt,{"item-class":"am-fcip__info-employee__img","item-data":z,"trim-string":3},null,8,["item-data"]),t("div",hn,[we(o(z.firstName)+" "+o(z.lastName)+" ",1),z.badge?(a(),i("span",{key:0,style:ue({background:z.badge.color}),class:"am-fcip__info-employee__badge"},o(z.badge.content),5)):d("",!0)])])])]),default:A(()=>[e(Oe)(z.description)?(a(),i("div",{key:0,class:O(["am-fcip__info-employee__description",{"ql-description":z.description.includes("<!-- Content -->")}]),innerHTML:z.description},null,10,bn)):d("",!0)]),_:2},1024))),128))]),_:1})],512)),[[wt,e(n)==="employees"]]):d("",!0)])])):d("",!0),e($).packageServices.visibility?(a(),i("div",kn,[t("div",Cn,[t("span",$n,o(`${e(q).package_includes}:`),1)]),G(Ct,null,{default:A(()=>[(a(!0),i(oe,null,ge(e(P).bookable,z=>(a(),ve($t,{key:z.id,side:!0},{heading:A(()=>[t("div",Sn,[G(rt,{"item-class":"am-fcip__include-service__img","item-data":z.service},null,8,["item-data"]),we(" "+o(z.service.name+(e(P).sharedCapacity?"":" x"+z.quantity)),1)])]),default:A(()=>[t("div",wn,[t("span",null,o(`${e(q).tab_employees}:`),1),(a(!0),i(oe,null,ge(fe(z).slice(0,6),ie=>(a(),ve(rt,{key:ie.id,"item-class":"am-fcip__include-service__info-name","item-data":ie,"trim-string":3},null,8,["item-data"]))),128)),fe(z).length>6?(a(),i("span",xn," + "+o(fe(z).length-6),1)):d("",!0),e(Oe)(z.service.description)?(a(),i("div",{key:1,class:O(["am-fcip__include-service__info-description",{"ql-description":z.service.description.includes("<!-- Content -->")}]),innerHTML:z.service.description},null,10,In)):d("",!0)])]),_:2},1024))),128))]),_:1}),t("div",Pn,[t("span",Dn,o(e(q).package_book_service),1)])])):d("",!0),G(dt,{modelValue:e(g),"onUpdate:modelValue":U[7]||(U[7]=z=>de(g)?g.value=z:g=z),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(ce),onClosed:Te},{default:A(()=>[G(jt)]),_:1},8,["modelValue","width"])]),_:2},[e(p).package.length!==1?{name:"header",fn:A(()=>[G(Vt,{"btn-string":e(q).back_btn,"btn-type":e($).backBtn.buttonType,onGoBack:Y},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e(ke)?(a(),i("div",En,[t("img",{src:e(L).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ln),t("div",Tn,o(e(q).oops),1),t("div",Bn,o(e(q).no_package_services),1),t("div",Fn,[t("a",zn,o(e(q).add_services_url)+"\xA0 ",1)])],512)):d("",!0)],64))}});const On={name:"CatalogSkeleton"},Mn=Object.assign(On,{setup(_){let h=x(null),r=x(0);window.addEventListener("resize",v);function v(){h.value&&(r.value=h.value.offsetWidth)}Be(()=>{h.value&&(r.value=h.value.offsetWidth)});let C=k(()=>r.value<=500?"am-w100":r.value<=600?"am-w50":r.value<=768?"am-w33":"");return(L,m)=>{const s=Ya,p=Ja;return a(),i("div",{ref_key:"amSkeletonContainer",ref:h,class:"am-skeleton-catalog__wrapper"},[G(p,{animated:"",class:"am-skeleton-catalog"},{template:A(()=>[(a(!0),i(oe,null,ge(new Array(8),b=>(a(),i("div",{key:b,class:O(["am-skeleton-catalog__item",e(C)])},[G(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Vn=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Nn=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Un=["href"],Wn={name:"CatalogFormWrapper"},jn=Object.assign(Wn,{emits:["isRestored"],setup(_,{emit:h}){let r=F("isMounted"),v=F("licence"),C=x(null),L=x(20);const m=F("baseUrls");let s=x(0);te("containerWidth",s),window.addEventListener("resize",p);function p(){C.value&&(s.value=C.value.offsetWidth)}Be(()=>{D.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+$.value.counter).classList.add("amelia-v2-booking-"+$.value.counter+"-loaded"),yt(D,{},"ViewContent","appointment",null,null),p(),r.value=!0,Zt("scrollForm",{offsetFromTop:L})});let b=x(!1);const S=F("settings"),$=F("shortcodeData"),D=it();D.commit("entities/setPreselected",$.value),D.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields"],licence:v,loadEntities:$.value.trigger||window.ameliaShortcodeData.filter(u=>!u.hasApiCall).length===window.ameliaShortcodeData.length?!0:$.value.hasApiCall,showHidden:!1});const f=Se(zi),N=Se(_l),ae=Se(Lo),P=Se(Rn);let B=x([f,N]),n=x(0),j=x(null);te("categorySelected",j);let ne=x([]);te("availableCategories",ne);let H=x("");te("itemType",H),kt(H,()=>{H.value==="appointment"&&B.value.push(ae),H.value==="package"&&B.value.push(P),H.value===""&&B.value.forEach((u,Z)=>{u.name==="CategoryService"&&fe(B.value,Z),u.name==="CategoryPackage"&&fe(B.value,Z)})});function fe(u,Z){u.splice(Z,1)}function ke(){n.value=n.value+1;let u=C.value.getBoundingClientRect().top+window.pageYOffset-L.value;window.scrollTo({top:u,behavior:"smooth"})}function V(){n.value=n.value-1}te("changingPageFunctions",{nextPage:ke,previousPage:V});let me=k(()=>D.getters["entities/getReady"]),Y=k(()=>D.state.entities);te("amEntities",Y);function g(){let u=D.getters["entities/getPreselected"];if($.value.categories_hidden&&u.category.length!==1&&(ne.value=JSON.parse(JSON.stringify(fi(Y.value,$.value))),j.value=parseInt(ne.value.length?ne.value[0].id:null),D.commit("booking/setCategoryId",parseInt(j.value)),Ee(()=>{let Z=B.value.findIndex(ye=>ye.name==="CategoriesList");B.value.splice(Z,1)})),u.category.length===1&&(D.commit("booking/setCategoryId",parseInt(u.category)),j.value=parseInt(u.category[0]),ne.value=JSON.parse(JSON.stringify(Y.value.categories.filter(Z=>Z.id===parseInt(u.category[0])&&Z.status==="visible"&&Z.serviceList.length&&!!ht($,Z,Y.value).length))),Ee(()=>{let Z=B.value.findIndex(ye=>ye.name==="CategoriesList");B.value.splice(Z,1)})),u.service.length===1){D.commit("booking/setServiceId",parseInt(u.service[0]));let Z=D.getters["entities/getService"](parseInt(u.service[0]));j.value=Z?parseInt(Z.categoryId):null,D.commit("booking/setCategoryId",Z?parseInt(Z.categoryId):null),Ee(()=>{B.value=[],B.value.push(ae)})}u.employee.length===1&&D.commit("booking/setEmployeeId",parseInt(u.employee[0])),u.location.length===1&&D.commit("booking/setLocationId",parseInt(u.location[0])),u.package.length===1&&(D.commit("booking/setPackageId",parseInt(u.package[0])),B.value=[],B.value.push(P)),u.show==="packages"?D.commit("booking/setBookableType","package"):D.commit("booking/setBookableType","appointment")}let ce=k(()=>me.value?Xa(D,$.value):null);te("restoreFormData",ce),kt(me,u=>{u&&(g(),b.value=D.getters["entities/getServices"].length===0||D.getters["entities/getEmployees"].length===0,ce.value&&(H.value=D.state.booking.appointment.type,Ee(()=>{n.value=B.value.length-1,j.value=D.state.booking.appointment.categoryId,h("isRestored",ce.value)})))});let be=k(()=>S.customizedData&&"cbf"in S.customizedData?S.customizedData.cbf:ct.cbf);te("customizedDataForm",be);const se=x(S.customizedData?S.customizedData.fonts:ct.fonts);te("amFonts",se);let Q=k(()=>S.customizedData&&"cbf"in S.customizedData?S.customizedData.cbf.colors:ct.cbf.colors);te("amColors",Q);let xe=k(()=>({"--am-c-primary":Q.value.colorPrimary,"--am-c-success":Q.value.colorSuccess,"--am-c-error":Q.value.colorError,"--am-c-warning":Q.value.colorWarning,"--am-c-main-bgr":Q.value.colorMainBgr,"--am-c-main-heading-text":Q.value.colorMainHeadingText,"--am-c-main-text":Q.value.colorMainText,"--am-c-sb-bgr":Q.value.colorSbBgr,"--am-c-sb-text":Q.value.colorSbText,"--am-c-inp-bgr":Q.value.colorInpBgr,"--am-c-inp-border":Q.value.colorInpBorder,"--am-c-inp-text":Q.value.colorInpText,"--am-c-inp-placeholder":Q.value.colorInpPlaceHolder,"--am-c-drop-bgr":Q.value.colorDropBgr,"--am-c-drop-text":Q.value.colorDropText,"--am-c-card-bgr":Q.value.colorCardBgr,"--am-c-card-text":Q.value.colorCardText,"--am-c-card-border":Q.value.colorCardBorder,"--am-c-btn-prim":Q.value.colorBtnPrim,"--am-c-btn-prim-text":Q.value.colorBtnPrimText,"--am-c-btn-sec":Q.value.colorBtnSec,"--am-c-btn-sec-text":Q.value.colorBtnSecText,"--am-c-skeleton-op20":ee(Q.value.colorMainText,.2),"--am-c-skeleton-op60":ee(Q.value.colorMainText,.6),"--am-font-family":se.value.fontFamily}));function Te(){let u=document.head||document.getElementsByTagName("head")[0];u.querySelector("#amCustomFont")&&u.querySelector("#amCustomFont").remove();let Z=`@font-face {font-family: '${se.value.fontFamily}'; src: url(${se.value.fontUrl});}`,ye=document.createElement("style");u.appendChild(ye),ye.setAttribute("type","text/css"),ye.setAttribute("id","amCustomFont"),ye.appendChild(document.createTextNode(Z))}se.value.customFontSelected&&Te();let Re=k(()=>({colorInputBorderRadius:"6px"}));return te("amDesignProperties",Re),(u,Z)=>(a(),i(oe,null,[se.value.customFontSelected?d("",!0):(a(),i(oe,{key:0},[Vn,Nn,t("link",{rel:"stylesheet",type:"text/css",href:`${e(m).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Un)],64)),t("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:C,class:"am-fc__wrapper",style:ue(e(xe))},[e(me)&&e(B).length?(a(),ve(Kt(e(B)[e(n)]),{key:0})):(a(),ve(Mn,{key:1}))],4),G(e(Qa))],64))}});var Gn=Object.freeze(Object.defineProperty({__proto__:null,default:jn},Symbol.toStringTag,{value:"Module"}));export{Gn as C,dt as _,xt as a,mi as b,Vt as c,rt as d,Nt as e,jn as f};
