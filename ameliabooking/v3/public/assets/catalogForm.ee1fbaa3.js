var pa=Object.defineProperty;var qt=Object.getOwnPropertySymbols;var _a=Object.prototype.hasOwnProperty,fa=Object.prototype.propertyIsEnumerable;var Gt=(_,b,r)=>b in _?pa(_,b,{enumerable:!0,configurable:!0,writable:!0,value:r}):_[b]=r,et=(_,b)=>{for(var r in b||(b={}))_a.call(b,r)&&Gt(_,r,b[r]);if(qt)for(var r of qt(b))fa.call(b,r)&&Gt(_,r,b[r]);return _};import{A as va,r as x,o as ga,a as Be,t as ya,c as $,E as ha,b as a,d as ve,w as A,e as i,f as n,g as tt,u as e,i as re,n as M,h as bt,j as at,k as t,l as Se,_ as ze,m as u,p as G,q as At,s as B,v as ee,F as se,x as ge,y as ce,z as De,B as Jt,C as it,D as Qe,I as ba,G as _t,H as te,J as nt,K as kt,L as we,M as ka,N as Ca,P as $a,R as wa,O as Sa,Q as xa,S as Ia,T as Pa,U as Da,V as Ea,W as La,X as Ta,Y as Ba,Z as Fa,$ as He,a0 as Tt,a1 as za,a2 as It,a3 as Rt,a4 as pt,a5 as Yt,a6 as Aa,a7 as Ra,a8 as Xt,a9 as Ve,aa as qe,ab as Oa,ac as Ma,ad as Na,ae as Ot,af as Va,ag as Zt,ah as Ua,ai as Wa,aj as Kt,ak as ja,al as Ha,am as Bt,an as Ct,ao as Ft,ap as $t,aq as Ae,ar as wt,as as St,at as qa,au as Ga,av as Ja,aw as Ya,ax as Qa,ay as Xa}from"./stepForm.9d79433b.js";const Za={key:0,class:"am-dialog__title"},Ka={inheritAttrs:!1},ut=Object.assign(Ka,{props:{modelValue:{type:[String,Array,Object,Number,Boolean]},modalClass:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number],default:"50%"},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"15vh"},modal:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},customClass:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},center:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},closeIcon:{type:[Object,Function],default:va},customStyles:{type:Object},usedForShortcode:{type:Boolean,default:!1}},emits:["close","open","closed","opened","update:modelValue"],setup(_,{emit:b}){const r=_,v=x(null);ga(()=>{C()}),Be(()=>{r.usedForShortcode&&(v.value.rendered=!0),C()});function C(){r.customStyles&&Object.keys(r.customStyles).forEach(s=>{v.value.style[s]=r.customStyles[s]})}let{modelValue:L}=ya(r),m=$({get:()=>L.value,set:s=>{b("update:modelValue",s)}});return(s,p)=>{const k=ha;return a(),ve(k,{ref_key:"amDialogRef",ref:v,modelValue:e(m),"onUpdate:modelValue":p[0]||(p[0]=w=>re(m)?m.value=w:m=w),"modal-class":`am-dialog-popup ${r.modalClass}`,title:r.title,width:r.width,fullscreen:r.fullscreen,top:r.top,modal:r.modal,"append-to-body":r.appendToBody,"lock-scroll":r.lockScroll,"custom-class":r.customClass,"open-delay":r.openDelay,"close-delay":r.closeDelay,"close-on-click-modal":r.closeOnClickModal,"close-on-press-escape":r.closeOnPressEscape,"show-close":r.showClose,"before-close":r.beforeClose,center:r.center,"destroy-on-close":r.destroyOnClose,"close-icon":r.closeIcon,onClose:p[1]||(p[1]=w=>b("close")),onOpen:p[2]||(p[2]=w=>b("open")),onClosed:p[3]||(p[3]=w=>b("closed")),onOpened:p[4]||(p[4]=w=>b("opened"))},{title:A(()=>[_.title?(a(),i("span",Za,n(_.title),1)):tt(s.$slots,"title",{key:1})]),footer:A(()=>[tt(s.$slots,"footer")]),default:A(()=>[tt(s.$slots,"default")]),_:3},8,["modelValue","modal-class","title","width","fullscreen","top","modal","append-to-body","lock-scroll","custom-class","open-delay","close-delay","close-on-click-modal","close-on-press-escape","show-close","before-close","center","destroy-on-close","close-icon"])}}}),ei={name:"IconComponent"},xt=Object.assign(ei,{props:{icon:{type:String,required:!0}},setup(_){return(b,r)=>(a(),i("span",{class:M(`am-icon-${_.icon}`)},null,2))}});const ti={class:"am-cat__header-inner"},ai={class:"am-cat__back-btn"},ii={key:0,class:"am-cat__cart-btn"},si={class:"am-cat__cart-number"},li={name:"MainHeader"},Mt=Object.assign(li,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(_,{emit:b}){const r=_;let v=bt({components:{IconComponent:xt},template:'<IconComponent icon="arrow-left"></IconComponent>'}),C=bt({components:{IconComponent:xt},template:'<IconComponent icon="cart"/>'});function L(){b("goBack")}const m=at();function s(){At(m),b("goToCart")}return(p,k)=>(a(),i("div",ti,[t("div",ai,[e(r).backBtnVisibility?(a(),ve(ze,{key:0,prefix:e(v),category:"secondary",type:_.btnType,size:_.btnSize,onClick:L},{default:A(()=>[Se(n(e(r).btnString),1)]),_:1},8,["prefix","type","size"])):u("",!0)]),e(r).cartBtnVisibility?(a(),i("div",ii,[t("span",si,n(e(r).cartItemsNumber),1),G(ze,{category:"secondary",type:_.btnType,size:_.btnSize,round:!0,"icon-only":!0,icon:e(C),onClick:s},null,8,["type","size","icon"])])):u("",!0)]))}});const oi={class:"am-cat__sidemenu-item__wrapper"},ni=["onClick"],ci={key:0,class:"am-cat__sidemenu-footer"},ri={class:"am-cat__sidemenu-footer__text"},ui=["href"],di={name:"SideMenu"},mi=Object.assign(di,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(_,{emit:b}){const r=_;function v(m){b("click",m)}let C=B("amColors"),L=$(()=>({"--am-c-csm-text-op10":ee(C.value.colorSbText,.1),"--am-c-csm-primary-op10":ee(C.value.colorPrimary,.1),"--am-c-csm-text-op60":ee(C.value.colorSbText,.6),"--am-c-csm-text-op80":ee(C.value.colorSbText,.8)}));return(m,s)=>(a(),i("div",{class:"am-cat__sidemenu",style:ce(e(L))},[t("div",oi,[(a(!0),i(se,null,ge(_.menuItems,(p,k)=>(a(),i("div",{key:k,class:M(["am-cat__sidemenu-item",{"am-active":e(r).initSelection===p[e(r).identifier]}]),onClick:()=>v(p)},n(p[e(r).nameIdentifier]),11,ni))),128))]),e(r).companyEmail?(a(),i("div",ci,[t("span",ri,n(e(r).footerString),1),t("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(r).companyEmail}`},n(e(r).companyEmail),9,ui)])):u("",!0)],4))}});const pi={name:"MainContent"},Nt=Object.assign(pi,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(_,{expose:b}){let r=x(null),v=x(0),C=x(null),L=x(0),m=x(null),s=x(0),p=x(null),k=x(null),w=x(0);window.addEventListener("resize",S);function S(){De(()=>{r.value&&(v.value=r.value.offsetWidth),C.value&&(L.value=C.value.offsetWidth),m.value&&(s.value=m.value.offsetWidth)})}Be(()=>{De(()=>{if(m.value&&p.value){let N=m.value.offsetHeight-p.value.offsetHeight-2;w.value=N<=656?656:N}S()})}),b({catHeaderWidth:v,catFormWidth:s,catContainerWidth:L});let D=B("amColors"),g=$(()=>({"--am-h-cat-content":`${w.value}px`,"--am-c-scroll-op30":ee(D.value.colorPrimary,.3),"--am-c-scroll-op10":ee(D.value.colorPrimary,.1)}));return(N,f)=>(a(),i("div",{class:M(["am-cat__wrapper",_.wrapperClass])},[t("div",{ref_key:"catHeader",ref:r,class:"am-cat__header"},[tt(N.$slots,"header")],512),t("div",{ref_key:"catContainer",ref:C,class:"am-cat__main"},[tt(N.$slots,"side"),t("div",{ref_key:"catForm",ref:m,class:M(["am-cat__form",_.formClass]),style:ce(e(g))},[t("div",{ref_key:"catHeading",ref:p,class:M(["am-cat__heading",_.headingClass])},[tt(N.$slots,"heading")],2),t("div",{ref_key:"catContent",ref:k,class:M(["am-cat__content",_.contentClass])},[tt(N.$slots,"content")],2)],6)],512)],2))}}),_i={name:"AmImagePlaceholder"},ct=Object.assign(_i,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(_){const b=_;function r(C){return C.pictureFullPath?{backgroundImage:`url(${C.pictureFullPath})`}:{backgroundColor:`${Jt.value[Math.floor(Math.random()*Jt.value.length)]}`}}function v(C){return C.pictureFullPath?"":("firstName"in C?`${C.firstName} ${C.lastName}`:C.name).split(" ").map(m=>m.charAt(0)).join("").toUpperCase().substring(0,b.trimString).replace(/[^\w\s]/g,"")}return(C,L)=>(a(),i("span",{class:M(e(b).itemClass),style:ce(et({},r(e(b).itemData)))},n(v(e(b).itemData)),7))}}),zt=it(window.wpAmeliaSettings),Qt=it(window.wpAmeliaLabels);function ft(_,b,r,v=null,C=null){let L=[],m=_&&_.service?_.service.split(",").map(s=>parseInt(s)):null;return b&&b.serviceList.forEach(s=>{v?v in r.entitiesRelations&&s.id in r.entitiesRelations[v]&&(C?r.entitiesRelations[v][s.id].find(p=>p===C):!0)&&s.status==="visible"&&s.show&&!L.filter(p=>p===s.id).length&&(!m||m.includes(s.id))&&L.push(s.id):r.employees.forEach(p=>{p.id in r.entitiesRelations&&s.id in r.entitiesRelations[p.id]&&(C?r.entitiesRelations[p.id][s.id].find(k=>k===C):!0)&&s.status==="visible"&&s.show&&!L.filter(k=>k===s.id).length&&(!m||m.includes(s.id))&&L.push(s.id)})}),L}function ea(_,b){let r=[],v=[];_.employees.forEach(m=>{if(m.id in _.entitiesRelations&&b in _.entitiesRelations[m.id]){let s=m.serviceList.find(p=>p.id===b);r.push(s.maxCapacity),v.push(s.minCapacity)}});let C=v.reduce((m,s)=>s<m?s:m,v[0]),L=r.reduce((m,s)=>s>m?s:m,r[0]);return C!==L?`${C}/${L}`:C}function ta(_){let b=Math.floor(_/3600),r=_/60%60;return(b?b+Qt.h+" ":"")+" "+(r?r+Qt.min:"")}function rt(_,b){let r=[];_.employees.forEach(L=>{if(L.id in _.entitiesRelations&&b in _.entitiesRelations[L.id]){let m=L.serviceList.find(s=>s.id===b);r.push(m.price)}});let v=r.reduce((L,m)=>m<L?m:L,r[0]),C=r.reduce((L,m)=>m>L?m:L,r[0]);return v!==C?{price:`${Qe(v,!zt.payments.hideCurrencySymbolFrontend)} - ${Qe(C,!zt.payments.hideCurrencySymbolFrontend)}`,min:v,max:C}:{price:Qe(v,zt.payments.hideCurrencySymbolFrontend),min:v,max:C}}function Fe(_,b){let r=[];return _.employees.forEach(v=>{v.id in _.entitiesRelations&&b in _.entitiesRelations[v.id]&&_.entitiesRelations[v.id][b].length&&_.locations.forEach(C=>{_.entitiesRelations[v.id][b].some(L=>L===C.id)&&!r.find(L=>L===C.id)&&r.push(C)})}),r}function Vt(_,b){let r=[],v=Object.keys(_.entitiesRelations);return b.bookable.forEach(C=>{let L=[];v.forEach(m=>{_.entitiesRelations[m][C.service.id]&&!L.find(s=>s?s.id===parseInt(m):!0)&&L.push(_.employees.find(s=>s.id===parseInt(m)))}),L.length||r.push(!1)}),r.filter(C=>C===!1).length}function Ut(_,b,r){let v=[],C=Object.keys(_.entitiesRelations),L=r&&r.employee?r.employee.split(",").map(s=>parseInt(s)):null,m=x(L?_.unfilteredEmployees.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredEmployees);return b.bookable.forEach(s=>{let p=[];s.providers.length?s.providers.forEach(k=>{s.locations.length?s.locations.forEach(w=>{m.value.find(S=>S.id===k.id)&&_.entitiesRelations[k.id][s.service.id]&&_.entitiesRelations[k.id][s.service.id].indexOf(w.id)!==-1&&!p.find(S=>S.id===k.id)&&p.push(m.value.find(S=>S.id===k.id))}):m.value.find(w=>w.id===k.id)&&!p.find(w=>w.id===k.id)&&p.push(m.value.find(w=>w.id===k.id))}):C.forEach(k=>{s.locations.length?s.locations.forEach(w=>{_.entitiesRelations[k][s.service.id]&&_.entitiesRelations[k][s.service.id].indexOf(w.id)!==-1&&m.value.find(S=>S.id===parseInt(k))&&!p.find(S=>S.id===parseInt(k))&&p.push(m.value.find(S=>S.id===parseInt(k)))}):_.entitiesRelations[k][s.service.id]&&m.value.find(w=>w.id===parseInt(k))&&!p.find(w=>w.id===parseInt(k))&&p.push(m.value.find(w=>w.id===parseInt(k)))}),v.push(!!p.length)}),!v.filter(s=>s===!1).length}function aa(_,b,r){let v=[],C=Object.keys(_.entitiesRelations),L=r&&r.employee?r.employee.split(",").map(s=>parseInt(s)):null,m=x(L?_.unfilteredEmployees.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredEmployees);return b.bookable.forEach(s=>{s.providers.length?s.providers.forEach(p=>{s.locations.length?s.locations.forEach(k=>{m.value.find(w=>w.id===p.id)&&_.entitiesRelations[p.id][s.service.id].indexOf(k.id)!==-1&&!v.find(w=>w.id===p.id)&&v.push(m.value.find(w=>w.id===p.id))}):m.value.find(k=>k.id===p.id)&&!v.find(k=>k.id===p.id)&&v.push(m.value.find(k=>k.id===p.id))}):C.forEach(p=>{s.locations.length?s.locations.forEach(k=>{_.entitiesRelations[p][s.service.id]&&_.entitiesRelations[p][s.service.id].indexOf(k.id)!==-1&&m.value.find(w=>w.id===parseInt(p))&&!v.find(w=>w.id===parseInt(p))&&v.push(m.value.find(w=>w.id===parseInt(p)))}):_.entitiesRelations[p][s.service.id]&&m.value.find(k=>k.id===parseInt(p))&&!v.find(k=>k.id===parseInt(p))&&v.push(m.value.find(k=>k.id===parseInt(p)))})}),v}function ot(_,b,r){let v=[],C=Object.keys(_.entitiesRelations),L=r&&r.location?r.location.split(",").map(s=>parseInt(s)):null,m=x(L?_.unfilteredLocations.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredLocations);return b.bookable.forEach(s=>{s.locations.length?s.locations.forEach(p=>{m.value.find(k=>k.id===p.id)&&!v.find(k=>k.id===p.id)&&v.push(m.value.find(k=>k.id===p.id))}):C.forEach(p=>{m.value.forEach(k=>{p in _.entitiesRelations&&s.service.id in _.entitiesRelations[p]&&_.entitiesRelations[p][s.service.id].indexOf(k.id)!==-1&&m.value.find(w=>w.id===k.id)&&!v.find(w=>w.id===parseInt(k.id))&&v.push(m.value.find(w=>w.id===k.id))})})}),v}function fi(_,b){let r=[];return _.categories.forEach(v=>{let C=ft(b,v,_);v.packageList=[],_.packages.forEach(L=>{C.forEach(m=>{L.bookable.filter(s=>s.service.id===m).length&&!v.packageList.filter(s=>s===L.id).length&&L.available&&L.status==="visible"&&!Vt(_,L)&&Ut(_,L,b)&&v.packageList.push(L.id)})}),v.status==="visible"&&v.serviceList.length&&!!C.length&&(b.show==="packages"?!!v.packageList.length:!0)&&r.push(v)}),r}const vi={class:"am-fcl__item-inner"},gi={class:"am-fcl__item-name"},yi={class:"am-fcl__item-segments"},hi={key:0,class:"am-fcl__item-segments__item"},bi=t("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),ki={class:"am-fcl__item-segments__item-count"},Ci={key:1,class:"am-fcl__item-segments__item"},$i=t("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),wi={class:"am-fcl__item-segments__item-count"},Si={class:"am-fcl__item-footer"},xi=["src"],Ii={class:"am-empty__heading"},Pi={class:"am-empty__subheading"},Di={class:"am-empty__text"},Ei={key:0},Li={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ti={key:1},Bi={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Fi={name:"CategoriesList",key:"categoriesList"},zi=Object.assign(Fi,{setup(_){const b=B("baseUrls");let r=x(null),v=x(0);window.addEventListener("resize",C);function C(){r.value&&(v.value=r.value.offsetWidth)}Be(()=>{r.value&&(v.value=r.value.offsetWidth)});let L=$(()=>v.value<=500?"am-w100":v.value<=600?"am-w50":v.value<=768?"am-w33":""),{nextPage:m}=B("changingPageFunctions",{nextPage:()=>{}});const s=B("settings");let p=at(),k=B("amEntities"),w=B("customizedDataForm"),S=$(()=>w.value.categoriesList.options);const D=B("shortcodeData"),g=$(()=>p.getters["entities/getPreselected"]);let N=B("availableCategories"),f=$(()=>{let ie=[];return k.value.categories.forEach(y=>{let Z=ft(D.value,y,k.value);y.packageList=[],k.value.packages.forEach(_e=>{Z.forEach(fe=>{_e.bookable.filter(le=>le.service.id===fe).length&&!y.packageList.filter(le=>le===_e.id).length&&_e.available&&_e.status==="visible"&&!Vt(k.value,_e)&&Ut(k.value,_e,D.value)&&y.packageList.push(_e.id)})}),y.status==="visible"&&y.serviceList.length&&!!Z.length&&(g.value.show==="packages"?!!y.packageList.length:!0)&&ie.push(y)}),De(()=>{N.value=JSON.parse(JSON.stringify(ie))}),ie}),U=B("categorySelected");function J(ie){U.value=ie,p.commit("booking/setCategoryId",parseInt(ie)),_t(p,{},"SelectCategory","appointment",null,null),m()}let d=$(()=>f.value.length===0);const q=B("labels"),W=B("localLanguage");let ke=$(()=>s.general.usedLanguages.includes(W.value)),pe=$(()=>{let ie=it(et({},q));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let y=s.customizedData.cbf.categoriesList.translations;Object.keys(y).forEach(Z=>{y[Z][W.value]&&ke.value?ie[Z]=y[Z][W.value]:y[Z].default&&(ie[Z]=y[Z].default)})}return ie}),R=B("amColors"),xe=$(()=>({"--am-c-fcl-card-text-op80":ee(R.value.colorCardText,.8)}));return(ie,y)=>e(d)?(a(),i("div",{key:1,ref_key:"ameliaContainer",ref:r,class:"am-empty"},[t("img",{src:e(b).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,xi),t("div",Ii,n(e(pe).oops),1),t("div",Pi,n(e(g).show!=="packages"?e(pe).no_services_employees:e(pe).no_package_services),1),t("div",Di,[e(g).show!=="packages"?(a(),i("span",Ei,n(e(pe).add_services_employees)+"\xA0 ",1)):u("",!0),t("a",Li,n(e(pe).add_services_url)+"\xA0 ",1),e(g).show!=="packages"?(a(),i("span",Ti,n(e(pe).and)+"\xA0 ",1)):u("",!0),e(g).show!=="packages"?(a(),i("a",Bi,n(e(pe).add_employees_url),1)):u("",!0)])],512)):(a(),i("div",{key:0,ref_key:"ameliaContainer",ref:r,class:"am-fcl",style:ce(e(xe))},[(a(!0),i(se,null,ge(e(f),Z=>(a(),i("div",{key:Z.id,class:M(["am-fcl__item",e(L)])},[t("div",vi,[t("div",{class:"am-fcl__item-content",style:ce(e(S).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:Z.color}:{})},[t("div",{class:"am-fcl__item-heading",style:ce(e(S).cardColor&&e(S).cardColor.visibility?{backgroundColor:e(ee)(Z.color,.1)}:{})},[Z.pictureFullPath?(a(),i("div",{key:0,style:ce({backgroundImage:`url(${Z.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):u("",!0),t("div",gi,n(Z.name),1),t("div",yi,[(!e(g).show||e(g).show==="services")&&e(S).services.visibility?(a(),i("div",hi,[bi,t("span",ki,n(e(ft)(e(D),Z,e(k)).length),1)])):u("",!0),(!e(g).show||e(g).show==="packages")&&Z.packageList.length&&e(S).packages.visibility?(a(),i("div",Ci,[$i,t("span",wi,n(Z.packageList.length),1)])):u("",!0)])],4),t("div",Si,[G(ze,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(S).cardButton.buttonType,suffix:e(ba),onClick:_e=>J(Z.id)},{default:A(()=>[Se(n(e(pe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Ai=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Ri=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Oi=["href"],Mi={class:"am-fs-sb__step-wrapper"},Ni={class:"am-fs-sb__step-inner"},Vi={class:"am-fs-sb__step-icon"},Ui={key:0,class:"am-icon-check"},Wi={key:0},ji={key:1},Hi={key:1},qi={key:0,class:"am-fs-sb__step"},Gi={class:"am-fs-sb__step-inner"},Ji={class:"am-fs-sb__step-icon"},Yi={key:0,class:"am-icon-check"},Qi={key:0,class:"am-fs-sb__support"},Xi=["href"],Zi={key:1,class:"am-icon-phone"},Ki=["href"],es={key:1,class:"am-icon-email"},ts={key:0,class:"am-fs-sb__menu-text"},as={key:2,class:"am-no-services"},is=["src"],ss={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ls={style:{"font-size":"14px"}},os={href:"https://wpamelia.com/employees/",rel:"nofollow"},ns={name:"CategoryBooking"},Wt=Object.assign(ns,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(_,{emit:b}){const r=_;let v=x(null),C=x();te("containerWidth",C);let L=x(!1);window.addEventListener("resize",m);function m(){v.value&&(C.value=v.value.offsetWidth)}Be(()=>{De(()=>{v.value&&(C.value=v.value.offsetWidth)}),_t(d,{containerWidth:C},"ContainerWidth","appointment",null,null)});const s=B("settings"),p=s.customizedData?s.customizedData.sbsNew:nt.sbsNew;p&&te("amCustomize",p);let k=$(()=>{let l={heading:!0,phone:!0,email:!0};return"supportHeading"in p.sidebar.options&&(l.heading=p.sidebar.options.supportHeading.visibility),"companyPhone"in p.sidebar.options&&(l.phone=p.sidebar.options.companyPhone.visibility),"companyEmail"in p.sidebar.options&&(l.email=p.sidebar.options.companyEmail.visibility),l});const w=x(s.customizedData?s.customizedData.fonts:nt.fonts);te("amFonts",w);let S=x(!1);te("sidebarCollapsed",S);let D=x(""),g=B("bookingDialogWidth");kt(S,l=>{l?setTimeout(()=>{D.value="am-collapsed",setTimeout(()=>{g.value="592px"},200)},1e3):(D.value="",g.value="760px")}),Be(()=>{p.sidebar.options.self.visibility||(g.value="520px")});let N=x(null),f=x(0);Be(()=>{setTimeout(()=>{De(()=>{N.value&&setTimeout(()=>{N.value&&(f.value=N.value.offsetHeight)},200)})},800)});let U=x(p.sidebar?p.sidebar.options.self.visibility:!0);const J=B("baseUrls"),d=at();let q=$(()=>{let l=d.getters["entities/getOriginalPreselected"],h={category:d.state.booking.appointment.categoryId?[d.state.booking.appointment.categoryId]:[],counter:d.state.entities.preselected.counter,employee:d.state.booking.appointment.providerId?[d.state.booking.appointment.providerId]:[],hasApiCall:d.state.entities.preselected.hasApiCall,location:d.state.booking.appointment.locationId?[d.state.booking.appointment.locationId]:[],service:d.state.booking.appointment.serviceId?[d.state.booking.appointment.serviceId]:[],package:d.state.booking.packageId?[d.state.booking.packageId]:[],show:d.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(l).forEach(P=>{P in h||(h[P]=l[P])}),h});d.commit("entities/setPreselected",q.value);let W=B("restoreFormData");const ke=we(ka),pe=we(Ca),R=we($a),xe=we(wa),ie=we(Sa),y=we(xa),Z=we(Ia),_e=we(Pa),fe=we(Da),le=we(Ea),K=we(La),Ie=we(Ta),Re=we(Ba),Ee=we(Fa),o=x(He(d)?[ke,y,le,K,fe]:[ke,y,K,fe]);te("stepsArray",o);const oe=B("labels"),O=B("localLanguage");let $e=$(()=>s.general.usedLanguages.includes(O.value)),ye=Tt(d),be=$(()=>{let l=it(et({},oe));return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(h=>{if(h!=="colors"&&s.customizedData.sbsNew[h].translations){let P=s.customizedData.sbsNew[h].translations;Object.keys(P).forEach(Q=>{P[Q][O.value]&&$e.value?l[Q]=P[Q][O.value]:P[Q].default&&(l[Q]=P[Q].default)})}}),l});te("amLabels",be);let Le=$(()=>{let l={};if(s.customizedData){let h=s.customizedData.sbsNew[o.value[z.value].key]?s.customizedData.sbsNew[o.value[z.value].key].translations:null;s.customizedData&&h&&Object.keys(h).forEach(P=>{h[P][O.value]&&$e.value?l[P]=h[P][O.value]:h[P].default&&(l[P]=h[P].default)})}return Object.keys(l).length?l:oe}),Y=$(()=>{let l="filled";return s.customizedData&&s.customizedData.sbsNew[o.value[z.value].key]&&(l=s.customizedData.sbsNew[o.value[z.value].key].options.primaryFooterButton.buttonType),l});te("primFooterBtnType",Y),te("primDescBtnType",Y);let j=$(()=>{let l="text";return s.customizedData&&s.customizedData.sbsNew[o.value[z.value].key]&&s.customizedData.sbsNew[o.value[z.value].key].options.secondaryFooterButton&&(l=s.customizedData.sbsNew[o.value[z.value].key].options.secondaryFooterButton.buttonType),l}),F=$(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),ae=$(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function Oe(l,h){let P="";if(s.customizedData){let Q=s.customizedData.sbsNew[h]?s.customizedData.sbsNew[h].translations:null;s.customizedData&&Q&&Q[l]&&(P===""&&Q[l][O.value]&&$e.value?P=Q[l][O.value]:P===""&&Q[l].default&&(P=Q[l].default))}return P||oe[l]}let dt=$(()=>za(d.getters["entities/getEmployeeServices"](d.getters["booking/getSelection"])));function Xe(){let l=d.getters["entities/getPreselected"];if(l.show==="packages")l.package.length>0&&(o.value.splice(0,1),X.value.splice(0,1),mt()),Me();else{lt();let h=d.getters["entities/filteredEmployees"](d.getters["booking/getSelection"]).length<=1,P=!p.initStep.options.employee.visibility,Q=d.getters["entities/filteredLocations"](d.getters["booking/getSelection"]).length<=1,Pe=!p.initStep.options.location.visibility;l.service.length>0&&(l.employee.length>0||h||P)&&(l.location.length>0||Q||Pe)&&(dt.value.availability?(o.value.splice(0,1,Ee),X.value.splice(0,1)):(o.value.splice(0,1),X.value.splice(0,1)),Me())}}function ue(l,h,P,Q){l.value.map((We,Ye)=>h.includes(We.name)?Ye:null).filter(We=>We!==null).reverse().forEach(We=>{l.value.splice(We,1)});let je={value:Q};P.forEach(We=>{l.value.indexOf(We)===-1&&(d.getters["entities/getPreselected"].show==="packages"&&d.getters["entities/getPreselected"].package.length>0?l.value.splice(je.value,0,We):l.value.splice(je.value+1,0,We))})}te("goToPackageStep",{goToPackageStep:st});function st(l){d.commit("booking/setPackageId",l.id),d.commit("booking/setBookableType","package"),d.commit("booking/setMultipleAppointments",It(0,l)),d.commit("booking/setMultipleAppointmentsIndex",0);let h=l.bookable.reduce((Pe,je)=>Pe+je.maximumScheduled,0),P=[],Q=[];o.value[0]!==pe&&P.push("ExtrasStep"),o.value[0]!==y&&P.push("DateTimeStep"),o.value[0]!==le&&P.push("CartStep"),h>0?Q=Q.concat([_e,Z,R]):Q.push(R),ue(o,P,Q,z.value),ue(X,P,[],z.value),Me(),Ze()}function mt(){let h=d.state.entities.packages.find(Pe=>Pe.id===d.getters["booking/getPackageId"]).bookable.reduce((Pe,je)=>Pe+je.maximumScheduled,0),P=[],Q=[];o.value.find(Pe=>Pe.name==="ExtrasStep")&&P.push("ExtrasStep"),o.value.find(Pe=>Pe.name==="DateTimeStep")&&P.push("DateTimeStep"),h>0?Q=Q.concat([_e,Z,R]):Q.push(R),ue(o,P,Q,z.value),ue(X,P,[],z.value),Me(),Ze()}function H(){d.commit("booking/setBookableType","appointment"),d.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),d.commit("booking/setPackageId",null),d.commit("booking/setMultipleAppointmentsIndex",0),pt(d);let l=[];o.value[0]!==y&&(He(d)&&l.push(le),l.push(y)),o.value[0]!==pe&&de.value&&de.value.length&&l.push(pe),ue(o,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],l,z.value-1),ue(X,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],z.value),Me()}te("goToRecurringStep",{goToRecurringStep:T}),te("removeRecurringStep",{removeRecurringStep:I});function T(){He(d)&&la();let l=0;for(let h=0;h<o.value.length;h++)if(o.value[h].name==="DateTimeStep"){l=h;break}o.value.splice(l+1,0,xe),o.value.splice(l+2,0,ie),Me(),Ze()}function I(){for(let l=o.value.length-1;l>=0;l--)(o.value[l].name==="RecurringStep"||o.value[l].name==="RecurringSummary")&&o.value.splice(l+1,1);He(d)&&sa(z.value),Me()}let de=$(()=>{let l=d.getters["entities/getService"](d.getters["booking/getServiceId"]);return l?l.extras:[]});function lt(){de.value.length&&!o.value.find(l=>l.name==="ExtrasStep")&&(o.value.splice(z.value+1,0,pe),Me()),X.value.find(l=>l.name==="ExtrasStep")&&!Object.keys(de.value).length&&(o.value.splice(1,1),X.value.splice(1,1)),r.showCart||pt(d)}te("initDataChanges",{changeInitStepDataService:lt});const z=x(0);te("stepIndex",z);let vt=B("stepName",x(""));kt(z,(l,h)=>{l<X.value.length&&(X.value[h].selected=!1,X.value[l].selected=!0),l===X.value.length&&(X.value[h].selected=!1),vt.value=o.value[l].name});let gt=x(!1);te("goBackToPackageBooking",gt);function Pt(){Te(!1),Ue.value||(o.value[z.value].name===R.name&&H(),o.value[z.value].name===xe.name&&(o.value.splice(z.value,2),X.value.splice(z.value,2),He(d)&&(o.value.splice(z.value,0,le),ue(X,[],[],z.value),Me())),o.value[z.value].name===_e.name&&(gt.value=!0),z.value=z.value-1),Ke.value=!Ke.value}function Ze(){Ue.value||(X.value[z.value].finished=!0,z.value=z.value+1)}let yt=$(()=>d.getters["entities/getReady"]),Dt=$(()=>d.getters["booking/getLoading"]),Ge=$(()=>d.getters["booking/getBooked"]),Et=$(()=>d.getters["booking/getPaymentGateway"]),Ce=x(!1),ht=x(!1),Ke=x(!1);function V(){Ce.value=!0}function E(){Ce.value=!1}function c(){Ke.value=!0}function ne(){Ke.value=!1}function Te(l){ht.value=l}function Je(){Ge.value&&(Ge.value.customerCabinetUrl?window.location.href=Ge.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}te("secondButton",{secondButtonClick:Je});let Ue=x(!1);te("changingStepsFunctions",{nextStep:Ze,previousStep:Pt,footerButtonClick:V,footerButtonReset:E,footerBtnDisabledUpdater:Te,headerButtonPreviousClick:c,headerButtonPreviousReset:ne,footerBtnDisabled:ht,footerButtonClicked:Ce,headerButtonPreviousClicked:Ke,navigateInsideStep:Ue});const X=x([]);te("sidebarSteps",X);function me(l){X.value[z.value].stepSelectedData.filter(h=>h.reference===l.reference).length?X.value[z.value].stepSelectedData.forEach((h,P,Q)=>{h.reference===l.reference&&l.value&&l.value!==h.value&&(h.value=l.value),h.reference===l.reference&&!l.value&&Q.splice(P,1)}):l.value&&X.value[z.value].stepSelectedData.push(l),X.value[z.value].stepSelectedData.sort((h,P)=>h.position-P.position)}function ia(){o.value.forEach((l,h)=>{if(l.name!=="CongratulationsStep"){let P=l.sidebarData.label,Q={name:l.name,key:l.key,label:be.value[P],labelKey:P,icon:l.sidebarData.icon,stepSelectedData:[],finished:!1,selected:h===z.value};X.value.splice(h,0,Q)}})}Rt(()=>{ia(),Xe()}),Be(()=>{switch(d.getters["booking/getBookableType"]){case"appointment":r.showCart||pt(d);break}if(r.showCart&&Yt(o,z),W.value){o.value.splice(0,o.value.length),X.value.splice(0,X.value.length),z.value=0,W.value.steps.forEach(h=>{switch(h){case"packageStep":o.value.push(Re);break;case"bringingAnyone":o.value.push(Ee);break;case"initStep":o.value.push(ke);break;case"packageInfoStep":o.value.push(R);break;case"packageAppointmentsStep":o.value.push(Z);break;case"packageAppointmentsListStep":o.value.push(_e);break;case"extrasStep":o.value.push(pe);break;case"dateTimeStep":o.value.push(y);break;case"recurringStep":o.value.push(xe);break;case"recurringSummary":o.value.push(ie);break;case"cartStep":o.value.push(le);break;case"infoStep":o.value.push(K);break;case"paymentStep":o.value.push(Ie);break;case"congratulations":o.value.push(fe);break}let P=W.value.sidebar.find(Q=>Q.key===h);Me(),typeof P!="undefined"&&P.data&&P.data.forEach(Q=>{me({reference:Q.reference,position:Q.position,value:Q.value})}),z.value++}),d.commit("booking/setLoading",!1);let l=-1;W.value.result==="success"?l=o.value.length-1:(W.value.result==="error"||W.value.result==="canceled")&&(l=o.value.length-2);for(let h=0;h<=l;h++)o.value[h].finished=!0;for(let h=0;h<=l-1;h++)X.value[h].finished=!0,X.value[h].selected=!1;(W.value.result==="error"||W.value.result==="canceled")&&(X.value[l].finished=!1,X.value[l].selected=!0),z.value=l}});function Me(){o.value.forEach((l,h)=>{if(l.name!=="CongratulationsStep"&&!X.value.find(P=>P.labelKey===l.sidebarData.label)){let P=l.sidebarData.label,Q={name:l.name,key:l.key,label:be.value[P],labelKey:P,icon:l.sidebarData.icon,stepSelectedData:[],finished:!1,selected:h===z.value};X.value.splice(h,0,Q)}})}te("sidebarStepsFunctions",{sidebarDataCollector:me}),te("addPaymentsStep",{addPaymentsStep:jt}),te("removePaymentsStep",{removePaymentsStep:Ht});function jt(){o.value.splice(o.value.length-1,0,Ie),Me()}function Ht(){let l=["PaymentStep"];ue(o,l,[],z.value),ue(X,l,[],z.value)}function sa(l){ue(o,[],[le],l),ue(X,[],[],l)}function la(){ue(o,["CartStep"],[],z.value),ue(X,["CartStep"],[],z.value)}function oa(){if(d.getters["entities/getPreselected"].show==="packages"){let h=d.getters["booking/getPackageId"]?[d.getters["entities/getPackage"](d.getters["booking/getPackageId"])]:d.getters["entities/getPackages"];return h.length>0&&h.filter(P=>P.price>0).length===h.length}if(!d.getters["booking/getPackageId"]){let h=d.getters["booking/getServiceId"]?[d.getters["entities/getService"](d.getters["booking/getServiceId"])]:d.getters["entities/getServices"],P=0;for(let Q of h){let Pe=d.getters["booking/getEmployeeId"]?d.getters["entities/getEmployee"](d.getters["booking/getEmployeeId"])?[d.getters["entities/getEmployee"](d.getters["booking/getEmployeeId"])]:[]:d.getters["entities/getEmployees"],je=d.getters["booking/getBookingDuration"];if(Pe.filter(Ye=>Ye.serviceList.find(Ne=>Ne.id===Q.id&&(Ne.price>0||Ne.customPricing&&Ne.customPricing.enabled&&(Object.values(Ne.customPricing.durations).length===Object.values(Ne.customPricing.durations).filter(Lt=>Lt.price>0).length||je&&Ne.customPricing.durations[je].price>0)))).length===Pe.filter(Ye=>Ye.serviceList.find(Ne=>Ne.id===Q.id)).length)P++;else{let Ye=d.getters["booking/getSelectedExtras"].length?d.getters["booking/getSelectedExtras"]:[];Ye.length>0&&Ye.reduce((Ne,Lt)=>Ne+Lt.price,0)>0&&P++}}return h.length>0&&P===h.length}return d.getters["entities/getPackage"](d.getters["booking/getPackageId"]).price>0}let na=$(()=>Tt(d).length?Aa(d)!==0:oa());Ra(()=>{let l=Tt(d);!l[0].serviceId&&Object.keys(l[0].services).length===0&&b("emptiedCart"),!W.value&&!na.value?Ht():W.value||o.value.indexOf(Ie)===-1&&jt()},{flush:"post"});function ca(){X.value.forEach(l=>{l.finished=!1,l.selected=!1}),o.value.forEach(l=>{l.finished=!1,l.selected=!1}),z.value=0,Kt(d,!0),ja(d),pt(d),b("addToCart")}function ra(){let l=d.getters["booking/getCurrentCartItem"],h=d.getters["booking/getAllMultipleAppointments"];l?(d.commit("booking/setCartItem",l),d.commit("booking/setCartItemIndex",h.length-1),d.commit("booking/setCurrentCartItem",null)):(h.pop(),d.commit("booking/setCartItemIndex",h.length-1),d.commit("booking/setServiceId",h[h.length-1].serviceId),d.commit("booking/setEmployeeId",h[h.length-1].services[h[h.length-1].serviceId].providerId),d.commit("booking/setLocationId",h[h.length-1].services[h[h.length-1].serviceId].locationId)),Yt(o,z)}let he=$(()=>s.customizedData?s.customizedData.sbsNew.colors:nt.sbsNew.colors);te("amColors",he);let ua=$(()=>({"--am-c-primary":he.value.colorPrimary,"--am-c-success":he.value.colorSuccess,"--am-c-error":he.value.colorError,"--am-c-warning":he.value.colorWarning,"--am-c-main-bgr":he.value.colorMainBgr,"--am-c-main-heading-text":he.value.colorMainHeadingText,"--am-c-main-text":he.value.colorMainText,"--am-c-sb-bgr":he.value.colorSbBgr,"--am-c-sb-text":he.value.colorSbText,"--am-c-inp-bgr":he.value.colorInpBgr,"--am-c-inp-border":he.value.colorInpBorder,"--am-c-inp-text":he.value.colorInpText,"--am-c-inp-placeholder":he.value.colorInpPlaceHolder,"--am-c-drop-bgr":he.value.colorDropBgr,"--am-c-drop-text":he.value.colorDropText,"--am-c-btn-prim":he.value.colorBtnPrim,"--am-c-btn-prim-text":he.value.colorBtnPrimText,"--am-c-btn-sec":he.value.colorBtnSec,"--am-c-btn-sec-text":he.value.colorBtnSecText,"--am-c-skeleton-op20":ee(he.value.colorMainText,.2),"--am-c-skeleton-op60":ee(he.value.colorMainText,.6),"--am-font-family":w.value.fontFamily,"--am-mw-main":U.value?S.value?"592px":"760px":"520px","--am-brad-main":U.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function da(){let l=document.head||document.getElementsByTagName("head")[0];l.querySelector("#amCustomFont")&&l.querySelector("#amCustomFont").remove();let h=`@font-face {font-family: '${w.value.fontFamily}'; src: url(${w.value.fontUrl});}`,P=document.createElement("style");l.appendChild(P),P.setAttribute("type","text/css"),P.setAttribute("id","amCustomFont"),P.appendChild(document.createTextNode(h))}w.value.customFontSelected&&da();let ma=$(()=>({colorInputBorderRadius:"6px"}));return te("amDesignProperties",ma),Be(()=>{Xt("renderForm",{ameliaContainer:v,containerWidth:C,empty:L,amCustomize:p,amFonts:w,sidebarCollapsed:S,sidebarCollapseItemsClass:D,sidebarFooterRef:N,sidebarFooterHeight:f,sidebarVisibility:U})}),(l,h)=>(a(),i(se,null,[w.value.customFontSelected?u("",!0):(a(),i(se,{key:0},[Ai,Ri,t("link",{rel:"stylesheet",type:"text/css",href:`${e(J).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Oi)],64)),e(L)?(a(),i("div",as,[t("img",{src:e(J).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,is),t("h1",null,n(e(be).oops),1),t("h3",null,n(e(be).no_services_employees),1),t("p",null,n(e(be).add_services_employees),1),t("a",ss,n(e(be).add_services_url)+"\xA0 ",1),t("span",ls,n(e(be).and)+"\xA0",1),t("a",os,n(e(be).add_employees_url),1)])):(a(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:v,class:M(["am-fs__wrapper",{"am-collapsed":e(S)}]),style:ce(e(ua))},[e(C)>560&&e(U)?(a(),ve(Na,{key:0,class:M(["am-fs-sb",{"am-collapsed":e(S)}]),style:ce({width:e(S)?"72px":"240px",paddingBottom:`${e(f)+16}px`})},{"step-list":A(()=>[t("div",Mi,[o.value[z.value]!==e(fe)||!e(s).general.addToCalendar||e(Ge)&&e(Ge).data.length===0?(a(!0),i(se,{key:0},ge(X.value,P=>(a(),i("div",{key:P.key,class:"am-fs-sb__step"},[t("div",Ni,[t("div",Vi,[t("span",{class:M(`am-icon-${P.icon}`)},null,2),P.key==="cartStep"&&e(Ve)(e(d))!==0?(a(),i("span",{key:0,class:M(["am-fs-sb__step-icon__number",e(D)])},n(e(Ve)(e(d))),3)):u("",!0)]),G(qe,{name:"fade"},{default:A(()=>[e(S)?u("",!0):(a(),i("p",{key:0,class:M(["am-fs-sb__step-heading",e(D)])},n(P.label),3))]),_:2},1024),t("div",{class:M(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":P.selected},e(D)]])},[G(qe,{name:"fade"},{default:A(()=>[P.finished?(a(),i("span",Ui)):u("",!0)]),_:2},1024)],2)]),G(Oa,{tag:"span",name:"fade",appear:"",class:M(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":P.key===e(Z).key&&P.stepSelectedData.length>3}])},{default:A(()=>[e(S)?u("",!0):(a(!0),i(se,{key:0},ge(P.stepSelectedData,(Q,Pe)=>(a(),i("p",{key:Q.position,class:"am-fs-sb__step-selection"},[P.key!==e(Z).key||Pe<3?(a(),i("span",Wi,n(Q.value),1)):(a(),i("span",ji,n(e(be).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(a(),i("div",Hi,[G(qe,{name:"fade"},{default:A(()=>[e(S)?u("",!0):(a(),ve(Ma,{key:0}))]),_:1}),e(S)?(a(),i("div",qi,[t("div",Gi,[t("div",Ji,[t("span",{class:M(`am-icon-${o.value[z.value].sidebarData.icon}`)},null,2)]),t("div",{class:M(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":o.value[z.value].sidebarData.selected},e(D)]])},[G(qe,{name:"fade"},{default:A(()=>[o.value[z.value].sidebarData.finished?(a(),i("span",Yi)):u("",!0)]),_:1})],2)])])):u("",!0)]))])]),"support-info":A(()=>[t("div",{ref_key:"sidebarFooterRef",ref:N,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(k).heading||e(k).phone||e(k).email)?(a(),i("div",Qi,[G(qe,{name:"fade"},{default:A(()=>[!e(S)&&e(k).heading?(a(),i("div",{key:0,class:M(["am-fs-sb__support-heading",e(D)])},n(e(be).get_in_touch),3)):u("",!0)]),_:1}),e(s).company.phone&&e(k).phone?(a(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e(S)?(a(),i("span",Zi)):(a(),i(se,{key:0},[Se(n(e(s).company.phone),1)],64))],8,Xi)):u("",!0),e(s).company.email&&e(k).email?(a(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(S)?(a(),i("span",es)):(a(),i(se,{key:0},[Se(n(e(s).company.email),1)],64))],8,Ki)):u("",!0)])):u("",!0),t("div",{class:M(["am-fs-sb__menu",e(D)]),onClick:h[0]||(h[0]=P=>re(S)?S.value=!e(S):S=!e(S))},[G(qe,{name:"fade"},{default:A(()=>[e(S)?u("",!0):(a(),i("span",ts,n(e(be).collapse_menu),1))]),_:1}),t("span",{class:M(`am-icon-arrow-circle-${e(S)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):u("",!0),G(Wa,null,Ot({step:A(()=>[(a(),ve(Zt(o.value[z.value]),{"global-class":"am-fs__main-content"}))]),footer:A(()=>[G(e(Ua),{"second-button-show":o.value[z.value]===e(fe)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(He)(e(d))&&o.value[z.value]===e(le),"back-to-cart-button-show":e(He)(e(d))&&e(ye).length>1&&o.value[z.value]!==e(le)&&o.value[z.value]!==e(K)&&o.value[z.value]!==e(Ie)&&o.value[z.value]!==e(fe),booked:e(Ge),loading:e(Dt),ready:e(yt),"payment-gateway":e(Et),"customized-labels":e(Le),"primary-footer-button-type":e(Y),"secondary-footer-button-type":e(j),"add-to-cart-button-type":e(F),"back-to-cart-button-type":e(ae),"back-to-cart-label":Oe("cancel","cartStep"),onAddToCart:ca,onBackToCart:ra},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[o.value[z.value]!==e(fe)?{name:"header",fn:A(()=>[G(Va,{"sidebar-visible":e(U),ready:e(yt)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const cs={class:"am-fcil__filter-buttons"},rs={class:"am-fcil__filter"},us={class:"am-fcil__filter-item__btn-wrapper"},ds={class:"am-fcil__heading"},ms={key:0,class:"am-fcil__item-badge__wrapper"},ps={class:"am-fcil__item-badge am-package"},_s=t("span",{class:"am-icon-shipment"},null,-1),fs={class:"am-fcil__item-heading"},vs={class:"am-fcil__item-name"},gs={key:0,class:"am-fcil__item-cost"},ys={key:0,class:"am-fcil__item-discount"},hs={class:"am-fcil__item-price"},bs={class:"am-fcil__item-info"},ks={key:0,class:"am-fcil__item-info__inner"},Cs=t("span",{class:"am-icon-folder"},null,-1),$s={key:1,class:"am-fcil__item-info__inner"},ws=t("span",{class:"am-icon-clock"},null,-1),Ss={key:0},xs={key:1},Is={key:2},Ps={key:2,class:"am-fcil__item-info__inner"},Ds=t("span",{class:"am-icon-user"},null,-1),Es=t("span",null,"1/1",-1),Ls=[Ds,Es],Ts={key:3,class:"am-fcil__item-info__inner"},Bs=t("span",{class:"am-icon-locations"},null,-1),Fs={key:2,class:"am-fcil__item-services"},zs={key:0,class:"am-fcil__item-badge__wrapper"},As={class:"am-fcil__item-badge am-service"},Rs=t("span",{class:"am-icon-service"},null,-1),Os={class:"am-fcil__item-heading"},Ms={class:"am-fcil__item-name"},Ns={key:0,class:"am-fcil__item-cost"},Vs={key:0,class:"am-fcil__item-price"},Us={class:"am-fcil__item-info"},Ws={key:0,class:"am-fcil__item-info__inner"},js=t("span",{class:"am-icon-folder"},null,-1),Hs={key:1,class:"am-fcil__item-info__inner"},qs=t("span",{class:"am-icon-clock"},null,-1),Gs={key:2,class:"am-fcil__item-info__inner"},Js=t("span",{class:"am-icon-user"},null,-1),Ys={key:3,class:"am-fcil__item-info__inner"},Qs=t("span",{class:"am-icon-locations"},null,-1),Xs={class:"am-fcil-employee__header"},Zs={class:"am-fcil-employee__heading"},Ks={class:"am-fcil-employee__heading-left"},el={class:"am-fcil-employee__name"},tl={key:0,class:"am-fcil-employee__heading-right"},al={class:"am-fcil-employee__price"},il=["innerHTML"],sl={key:1,ref:"ameliaContainer",class:"am-empty"},ll=["src"],ol={class:"am-empty__heading"},nl={class:"am-empty__subheading"},cl={class:"am-empty__text"},rl={key:0},ul={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},dl={key:1},ml={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},pl={name:"CategoryItemsList",key:"categoryItemsList"},_l=Object.assign(pl,{setup(_){let b=B("licence"),{nextPage:r,previousPage:v}=B("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const C=B("baseUrls");let L=x(!1),m=x(!1),s=x("760px");te("bookingDialogWidth",s);function p(){s.value="760px"}let k=x(!1),w=x(),S=B("containerWidth"),D=B("customizedDataForm"),g=$(()=>D.value.categoryItemsList.options);const N=B("settings");let f=at();const U=B("shortcodeData"),J=$(()=>f.getters["entities/getPreselected"]);let d=$(()=>{let V=Array.isArray(U.value.category)?U.value.category:U.value.category.split(",");return V=V.filter(E=>E),V.length}),q=$(()=>{let V=w.value&&w.value.catContainerWidth?w.value.catContainerWidth>768:!0;return d.value!==1&&g.value.sidebar.visibility&&V}),W=B("amEntities"),ke=$(()=>He(f)&&Ve(f)>0),pe=$(()=>Ve(f));const R=B("labels"),xe=B("localLanguage");let ie=$(()=>N.general.usedLanguages.includes(xe.value)),y=$(()=>{let V=it(et({},R));if(N.customizedData&&N.customizedData.cbf&&N.customizedData.cbf.categoryItemsList.translations){let E=N.customizedData.cbf.categoryItemsList.translations;Object.keys(E).forEach(c=>{E[c][xe.value]&&ie.value?V[c]=E[c][xe.value]:E[c].default&&(V[c]=E[c].default)})}return V}),Z=x(""),_e=bt({components:{IconComponent:xt},template:'<IconComponent icon="search"/>'}),fe=x(!0),le=bt({components:{IconComponent:xt},template:'<IconComponent icon="filter"/>'}),K=$(()=>w.value&&w.value.catHeaderWidth?w.value.catHeaderWidth:0);window.addEventListener("resize",Ie);function Ie(){De(()=>{K.value>480&&(fe.value=!0)})}Be(()=>{Ie()});function Re(V){let E=[];return Z.value.toLowerCase().split(" ").forEach(c=>{E.push(V.toLowerCase().includes(c))}),E.filter(c=>c===!1).length<=0}let Ee=B("availableCategories"),o=B("categorySelected"),oe=$(()=>ft(U.value,W.value.categories.find(V=>V.id===o.value),W.value,ye.value,be.value)),O=$(()=>{let V=[];return W.value.packages.forEach(E=>{oe.value.forEach(c=>{E.bookable.filter(ne=>ne.service.id===c).length&&!V.filter(ne=>ne.id===E.id).length&&E.available&&E.status==="visible"&&!Vt(W.value,E)&&Ut(W.value,E,U.value)&&(Z.value?Re(E.name):!0)&&V.push(E)})}),V}),$e=$(()=>{let V=[];return W.value.services.forEach(E=>{oe.value.forEach(c=>{E.id===c&&(Z.value?Re(E.name):!0)&&V.push(E)})}),V}),ye=x(null),be=x(null),Le=x(!0),Y=x(!0);function j(V){V==="all"&&(Le.value=!0,Y.value=!0),V==="packages"&&(Le.value=!0,Y.value=!1),V==="services"&&(Le.value=!1,Y.value=!0)}Rt(()=>{J.value.show&&j(J.value.show)});let F=$(()=>{let V=U.value.employee,E=W.value.employees.length,c=U.value.location,ne=W.value.locations.length,Te=g.value.searchInput.visibility,Je=g.value.filterEmployee.visibility&&V.length!==1&&E>1&&!b.isLite,Ue=g.value.filterLocation.visibility&&c.length!==1&&ne>1&&!b.isLite&&!b.isStarter,X=g.value.filterButtons.visibility&&J.value.show!=="packages"&&J.value.show!=="services"&&O.value.length!==0&&$e.value.length!==0&&!Ve(f),me={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return K.value>992?!Te||!X?(me.employee=!Te&&!X?"am-w50":"am-w35",me.location=!Te&&!X?"am-w50":"am-w35",me.search=!X&&!Ue&&!Je?"am-w100":"am-w30",Je||(me.location=!Te&&!X?"am-w100":"am-w70"),Ue||(me.employee=!Te&&!X?"am-w100":"am-w70")):(Je||(me.location="am-w40"),Ue||(me.employee="am-w40"),!Je&&!Ue&&(me.search="am-w70")):K.value>768||K.value>480?(me.search=X?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",me.buttons=Te?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",me.employee=Ue?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",me.location=Je?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",me.category="am-w100 am-tablet am-order5"):(me.employee="am-w100 am-mobile",me.location="am-w100 am-mobile",me.search="am-w100 am-mobile",me.buttons="am-w100 am-mobile",me.category="am-w100 am-mobile"),me}),ae=$(()=>w.value&&w.value.catContainerWidth?w.value.catContainerWidth:0),Oe=$(()=>{let V=O.value.length&&!Ve(f)?O.value.length:0,E=$e.value.length>1?y.value.heading_services:y.value.heading_service,c=V?V>1?y.value.packages:y.value.package:"";if(!$e.value.length&&!V)return y.value.no_search_data;if(Y.value&&(!Le.value||!V))return`${y.value.available} - ${$e.value.length} ${E}`;if((!Y.value||!$e.value.length)&&Le.value)return`${y.value.available} - ${V} ${c}`;let ne=V?"/":"";return`${y.value.available} - ${$e.value.length} ${E} ${ne} ${V} ${c}`});Be(()=>{De(()=>{L.value=O.value.length===0&&$e.value.length===0})});function dt(V){o.value=V.id,f.commit("booking/setCategoryId",parseInt(V.id))}let Xe=B("itemType");function ue(V){f.commit("booking/setServiceId",parseInt(V)),f.commit("booking/setBookableType","appointment"),Xe.value="appointment",_t(f,{},"SelectService","appointment",null,null),De(()=>{r()})}function st(V){f.commit("booking/setServiceId",null),f.commit("booking/setPackageId",V.id),f.commit("booking/setBookableType","package"),f.commit("booking/setMultipleAppointments",It(0,V)),f.commit("booking/setCartItemIndex",0),Xe.value="package",_t(f,{},"SelectPackage","package",null,null),De(()=>{r()})}function mt(){o.value=null,f.commit("booking/setCategoryId",null),v()}function H(){At(f),k.value=!0,m.value=!0}let T=x(!1),I=x(""),de=x([]),lt=x({}),z=x(null);function vt(){I.value="",de.value=[],lt.value={},z.value=null}function gt(V){de.value=aa(W.value,V,U.value),lt.value=V,T.value=!0}function Pt(V){let E=[];Object.keys(W.value.entitiesRelations).forEach(ne=>{ne in W.value.entitiesRelations&&V in W.value.entitiesRelations[ne]&&W.value.employees.find(Te=>Te.id===parseInt(ne))&&E.push(W.value.employees.find(Te=>Te.id===parseInt(ne)))}),de.value=E,I.value="service",T.value=!0,z.value=V}function Ze(V){let E=W.value.services.find(ne=>ne.id===z.value).price,c=V.serviceList.find(ne=>ne.id===z.value).price;return c!==E?`${c-E>0?E>0?"+":"":"-"} ${Qe(c-E)}`:0}function yt(){I.value==="service"?ue(z.value):st(lt.value),vt()}function Dt(V,E){let c="";return V>1?(E==="day"&&(c=y.value.expires_days),E==="week"&&(c=y.value.expires_weeks),E==="month"&&(c=y.value.expires_months)):(E==="day"&&(c=y.value.expires_day),E==="week"&&(c=y.value.expires_week),E==="month"&&(c=y.value.expires_month)),c}function Ge(V,E){return Fe(V,E).length===1?Fe(V,E)[0].address?Fe(V,E)[0].address:Fe(V,E)[0].name:y.value.multiple_locations}let Et=B("amFonts",x({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),Ce=B("amColors"),ht=$(()=>({"--am-c-fcil-text-op-10":ee(Ce.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ee(Ce.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ee(Ce.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ee(Ce.value.colorCardText,.8),"--am-c-fcil-primary-op20":ee(Ce.value.colorPrimary,.2),"--am-c-fcil-success-op20":ee(Ce.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ee(Ce.value.colorInpText,.1),"--am-w-fcil-main":d.value!==1&&g.value.sidebar.visibility&&q.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":w.value&&w.value.catFormWidth<580?"100%":"50%"})),Ke=$(()=>({"--am-f-fcil-employee-f":Et.value.fontFamily,"--am-c-fcil-employee-bgr":Ce.value.colorMainBgr,"--am-c-fcil-employee-heading":Ce.value.colorMainHeadingText,"--am-c-fcil-employee-text":Ce.value.colorMainText,"--am-c-fcil-employee-text-op80":ee(Ce.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ee(Ce.value.colorMainText,.15),"--am-c-fcil-employee-primary":Ce.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ee(Ce.value.colorPrimary,.1),"--am-c-inp-border":Ce.value.colorInpBorder,"--am-c-main-text":Ce.value.colorMainText}));return(V,E)=>e(L)?(a(),i("div",sl,[t("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,ll),t("div",ol,n(e(y).oops),1),t("div",nl,n(e(J).show!=="packages"?e(y).no_services_employees:e(y).no_package_services),1),t("div",cl,[e(J).show!=="packages"?(a(),i("span",rl,n(e(y).add_services_employees)+"\xA0 ",1)):u("",!0),t("a",ul,n(e(y).add_services_url)+"\xA0 ",1),e(J).show!=="packages"?(a(),i("span",dl,n(e(y).and)+"\xA0 ",1)):u("",!0),e(J).show!=="packages"?(a(),i("a",ml,n(e(y).add_employees_url),1)):u("",!0)])],512)):(a(),ve(Nt,{key:0,ref_key:"contentRef",ref:w,"wrapper-class":`am-fcil ${e(S)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(S)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(S)<481?"am-mobile":""}`,style:ce(e(ht))},Ot({header:A(()=>[t("span",cs,[e(d)!==1&&!e(U).categories_hidden?(a(),ve(Mt,{key:0,"btn-size":e(K)<481?"medium":"mini","btn-string":e(y).back_btn,"btn-type":e(g).backBtn.buttonType,"cart-btn-visibility":e(ke),"cart-items-number":e(pe),onGoBack:mt,onGoToCart:H},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):u("",!0),e(K)<481?(a(),ve(ze,{key:1,size:"medium",category:"secondary",type:e(g).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(le),onClick:E[0]||(E[0]=()=>re(fe)?fe.value=!e(fe):fe=!e(fe))},null,8,["type","icon"])):u("",!0)]),t("div",rs,[e(g).searchInput.visibility?(a(),i("div",{key:0,class:M(["am-fcil__filter-item",e(F).search])},[G(Ha,{modelValue:e(Z),"onUpdate:modelValue":E[1]||(E[1]=c=>re(Z)?Z.value=c:Z=c),placeholder:e(y).filter_input,"icon-start":e(_e)},null,8,["modelValue","placeholder","icon-start"])],2)):u("",!0),G(qe,{name:"slide-fade"},{default:A(()=>[e(U).employee.length!==1&&e(W).employees.length>1&&e(g).filterEmployee.visibility&&e(fe)&&!e(b).isLite?(a(),i("div",{key:0,class:M(["am-fcil__filter-item",e(F).employee])},[G(Bt,{modelValue:e(ye),"onUpdate:modelValue":E[2]||(E[2]=c=>re(ye)?ye.value=c:ye=c),clearable:"",filterable:"",placeholder:e(y).filter_employee,"fit-input-width":!0},{default:A(()=>[(a(!0),i(se,null,ge(e(W).employees,c=>(a(),ve(Ft,{key:c.id,value:c.id,label:`${c.firstName} ${c.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):u("",!0)]),_:1}),G(qe,{name:"slide-fade"},{default:A(()=>[e(U).location.length!==1&&e(W).locations.length>1&&e(g).filterLocation.visibility&&e(fe)&&!e(b).isLite&&!e(b).isStarter?(a(),i("div",{key:0,class:M(["am-fcil__filter-item",e(F).location])},[G(Bt,{modelValue:e(be),"onUpdate:modelValue":E[3]||(E[3]=c=>re(be)?be.value=c:be=c),clearable:"",filterable:"",placeholder:e(y).filter_location,"fit-input-width":!0},{default:A(()=>[(a(!0),i(se,null,ge(e(W).locations,c=>(a(),ve(Ft,{key:c.id,value:c.id,label:c.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):u("",!0)]),_:1}),G(qe,{name:"slide-fade"},{default:A(()=>[e(d)!==1&&e(g).sidebar.visibility&&!e(q)&&e(fe)?(a(),i("div",{key:0,class:M(["am-fcil__filter-item am-w100",e(F).category])},[G(Bt,{modelValue:e(o),"onUpdate:modelValue":E[4]||(E[4]=c=>re(o)?o.value=c:o=c),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:A(()=>[(a(!0),i(se,null,ge(e(Ee),c=>(a(),ve(Ft,{key:c.id,value:c.id,label:c.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):u("",!0)]),_:1}),!e(J).show&&e(g).filterButtons.visibility&&e(O).length!==0&&e($e).length!==0&&!e(Ve)(e(f))?(a(),i("div",{key:1,class:M(["am-fcil__filter-item",e(F).buttons])},[t("div",us,[t("div",{class:M(["am-fcil__filter-item__btn",{"am-active":e(Le)&&e(Y)}]),onClick:E[5]||(E[5]=c=>j("all"))},[t("span",null,n(e(y).filter_all),1)],2),t("div",{class:M(["am-fcil__filter-item__btn",{"am-active":e(Le)&&!e(Y)}]),onClick:E[6]||(E[6]=c=>j("packages"))},[t("span",null,n(e(y).filter_packages),1)],2),t("div",{class:M(["am-fcil__filter-item__btn",{"am-active":!e(Le)&&e(Y)}]),onClick:E[7]||(E[7]=c=>j("services"))},[t("span",null,n(e(y).filter_services),1)],2)])],2)):u("",!0)])]),heading:A(()=>[t("div",ds,n(e(Oe)),1)]),content:A(()=>[e(Le)&&!e(Ve)(e(f))?(a(!0),i(se,{key:0},ge(e(O),c=>(a(),i("div",{key:c.id,class:M(["am-fcil__item",{"am-mobile":e(ae)<481}])},[t("div",{class:M(["am-fcil__item-inner",{"am-mobile":e(ae)<481}])},[t("div",{class:"am-fcil__item-content",style:ce(e(g).cardColor&&e(g).cardColor.visibility?{backgroundColor:e(ee)(c.color,.1)}:{})},[e(g).packageBadge.visibility?(a(),i("div",ms,[t("div",ps,[_s,t("span",null,n(e(y).package),1)])])):u("",!0),c.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ce({backgroundImage:`url(${c.pictureFullPath})`})},null,4)):u("",!0),t("div",fs,[t("div",vs,n(c.name),1),e(g).packagePrice.visibility?(a(),i("div",gs,[c.discount?(a(),i("span",ys,n(`${e(y).save} ${c.discount}%`),1)):u("",!0),t("span",hs,n(c.price?e(Qe)(c.calculatedPrice?c.price:c.price-c.price/100*c.discount):e(y).free),1)])):u("",!0)]),t("div",bs,[e(g).packageCategory.visibility?(a(),i("div",ks,[Cs,t("span",null,n(e(Ee).find(ne=>ne.id===e(o)).name),1)])):u("",!0),e(g).packageDuration.visibility?(a(),i("div",$s,[ws,c.endDate?(a(),i("span",Ss,n(`${e(y).expires_at} ${c.endDate.split(" ")[0]}`),1)):c.durationCount?(a(),i("span",xs,n(`${e(y).expires_after} ${c.durationCount} ${Dt(c.durationCount,c.durationType)}`),1)):(a(),i("span",Is,n(e(y).without_expiration),1))])):u("",!0),e(g).packageCapacity.visibility?(a(),i("div",Ps,Ls)):u("",!0),e(ot)(e(W),c,e(U)).length&&e(g).packageLocation.visibility?(a(),i("div",Ts,[Bs,t("span",null,n(e(ot)(e(W),c,e(U)).length===1?e(ot)(e(W),c,e(U))[0].address?e(ot)(e(W),c,e(U))[0].address:e(ot)(e(W),c,e(U))[0].name:e(y).multiple_locations),1)])):u("",!0)]),e(g).packageServices.visibility?(a(),i("div",Fs,[t("span",null,n(`${e(y).in_package}:`),1),(a(!0),i(se,null,ge(c.bookable,ne=>(a(),i("span",{key:ne.id},n(ne.service.name),1))),128))])):u("",!0)],4),t("div",{class:M(["am-fcil__item-footer",[{"am-mobile":e(ae)<481},{"am-micro":e(ae)<320}]])},[e(g).cardEmployeeBtn.visibility?(a(),ve(ze,{key:0,class:M({"am-w100":e(ae)<320}),size:"small",type:e(g).cardEmployeeBtn.buttonType,onClick:ne=>gt(c)},{default:A(()=>[Se(n(e(y).view_employees),1)]),_:2},1032,["class","type","onClick"])):u("",!0),G(ze,{class:M([{"am-w100":!e(g).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ae)<320}]),size:"small",type:e(g).cardContinueBtn.buttonType,onClick:ne=>st(c)},{default:A(()=>[Se(n(e(y).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):u("",!0),e(Y)?(a(!0),i(se,{key:1},ge(e($e),c=>(a(),i("div",{key:c.id,class:M(["am-fcil__item",{"am-mobile":e(ae)<481}])},[t("div",{class:M(["am-fcil__item-inner",{"am-mobile":e(ae)<481}])},[t("div",{class:"am-fcil__item-content",style:ce(e(g).cardColor&&e(g).cardColor.visibility?{backgroundColor:e(ee)(c.color,.1)}:{})},[e(g).serviceBadge.visibility?(a(),i("div",zs,[t("div",As,[Rs,t("span",null,n(e(y).heading_service),1)])])):u("",!0),c.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ce({backgroundImage:`url(${c.pictureFullPath})`})},null,4)):u("",!0),t("div",Os,[t("div",Ms,n(c.name),1),e(g).servicePrice.visibility?(a(),i("div",Ns,[e(rt)(e(W),c.id).min||e(rt)(e(W),c.id).max?(a(),i("span",Vs,n(e(rt)(e(W),c.id).price),1)):u("",!0)])):u("",!0)]),t("div",Us,[e(g).serviceCategory.visibility?(a(),i("div",Ws,[js,t("span",null,n(e(Ee).find(ne=>ne.id===e(o)).name),1)])):u("",!0),e(g).serviceDuration.visibility?(a(),i("div",Hs,[qs,t("span",null,n(e(ta)(c.duration)),1)])):u("",!0),e(g).serviceCapacity.visibility&&!e(b).isLite?(a(),i("div",Gs,[Js,t("span",null,n(e(ea)(e(W),c.id)),1)])):u("",!0),e(Fe)(e(W),c.id).length&&e(g).serviceLocation.visibility?(a(),i("div",Ys,[Qs,t("span",null,n(Ge(e(W),c.id)),1)])):u("",!0)])],4),t("div",{class:M(["am-fcil__item-footer",[{"am-mobile":e(ae)<481},{"am-micro":e(ae)<320}]])},[e(g).cardEmployeeBtn.visibility&&!e(b).isLite?(a(),ve(ze,{key:0,class:M({"am-w100":e(ae)<320}),size:"small",type:e(g).cardEmployeeBtn.buttonType,onClick:ne=>Pt(c.id)},{default:A(()=>[Se(n(e(y).view_employees),1)]),_:2},1032,["class","type","onClick"])):u("",!0),G(ze,{class:M([{"am-w100":!e(g).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ae)<320}]),size:"small",type:e(g).cardContinueBtn.buttonType,onClick:ne=>ue(c.id)},{default:A(()=>[Se(n(e(y).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):u("",!0),G(ut,{modelValue:e(T),"onUpdate:modelValue":E[9]||(E[9]=c=>re(T)?T.value=c:T=c),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Ke),width:"648px",onClose:vt},{title:A(()=>[t("div",Xs,n(e(y).employee_info),1)]),default:A(()=>[t("div",null,[G(Ct,null,{default:A(()=>[(a(!0),i(se,null,ge(e(de),(c,ne)=>(a(),ve($t,{key:ne,side:""},{heading:A(()=>[t("div",Zs,[t("div",Ks,[G(ct,{"item-class":"am-fcil-employee__img","item-data":c,"trim-string":2},null,8,["item-data"]),t("div",el,[Se(n(`${c.firstName} ${c.lastName}`)+" ",1),c.badge?(a(),i("span",{key:0,style:ce({background:c.badge.color}),class:"am-fcil-employee__badge"},n(c.badge.content),5)):u("",!0)])]),e(I)==="service"&&Ze(c)!==0?(a(),i("div",tl,[t("div",al,n(Ze(c)),1)])):u("",!0)])]),default:A(()=>[e(Ae)(c.description)?(a(),i("div",{key:0,class:M(["am-fcil-employee__text",{"ql-description":c.description.includes("<!-- Content -->")}]),innerHTML:c.description},null,10,il)):u("",!0)]),_:2},1024))),128))]),_:1})])]),footer:A(()=>[e(g).dialogEmployeeBtn.visibility?(a(),ve(ze,{key:0,type:e(g).dialogEmployeeBtn.buttonType,category:"primary",onClick:E[8]||(E[8]=c=>yt())},{default:A(()=>[Se(n(e(I)==="service"?e(y).book_service:e(y).book_package),1)]),_:1},8,["type"])):u("",!0)]),_:1},8,["modelValue","custom-styles"]),G(ut,{modelValue:e(m),"onUpdate:modelValue":E[10]||(E[10]=c=>re(m)?m.value=c:m=c),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:p},{default:A(()=>[G(Wt,{"show-cart":e(k)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(d)!==1&&e(g).sidebar.visibility&&e(q)?{name:"side",fn:A(()=>[G(mi,{"menu-items":e(Ee),"init-selection":e(o),identifier:"id","name-identifier":"name","footer-string":e(y).get_in_touch,"company-email":e(N).company.email,onClick:dt},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const fl={class:"am-fcis__header-text"},vl={class:"am-fcis__header-name"},gl={key:0,class:"am-fcis__badge am-service"},yl=t("span",{class:"am-icon-service"},null,-1),hl={class:"am-fcis__header-action"},bl={key:0,class:"am-fcis__header-price"},kl={class:"am-fcis__header-btn"},Cl={key:0,class:"am-fcis__header-bottom"},$l={class:"am-fcis__mini-info"},wl={key:0,class:"am-fcis__mini-info__inner"},Sl=t("span",{class:"am-icon-folder"},null,-1),xl={key:1,class:"am-fcis__mini-info__inner"},Il=t("span",{class:"am-icon-clock"},null,-1),Pl={key:2,class:"am-fcis__mini-info__inner"},Dl=t("span",{class:"am-icon-user"},null,-1),El={key:3,class:"am-fcis__mini-info__inner"},Ll=t("span",{class:"am-icon-locations"},null,-1),Tl={key:0,class:"am-fcis__gallery"},Bl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Fl={class:"am-gd__display-wrapper"},zl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Al=["src","alt"],Rl={class:"am-gd__selection"},Ol={class:"am-gd__thumb-wrapper"},Ml=["onClick"],Nl={key:1,class:"am-fcis__info"},Vl={class:"am-fcis__info-tab__wrapper"},Ul={class:"am-fcis__info-content__wrapper"},Wl={key:0,class:"am-fcis__info-content"},jl=["innerHTML"],Hl={key:1,class:"am-fcis__info-content"},ql={class:"am-fcis__info-employee__hero"},Gl={class:"am-fcis__info-employee__heading"},Jl={class:"am-fcis__info-employee__name"},Yl={key:0,class:"am-fcis__info-employee__price"},Ql=["innerHTML"],Xl={key:2,class:"am-fcis__include-wrapper"},Zl={class:"am-fcis__include-heading"},Kl={class:"am-fcis__include-heading__text"},eo=["onClick"],to={class:"am-fcis__include-hero"},ao={key:0,class:"am-fcis__include-cost"},io={key:0,class:"am-fcis__include-discount"},so={class:"am-fcis__include-price"},lo={class:"am-fcis__include-info"},oo={key:0,class:"am-fcis__include-info__inner"},no=t("span",{class:"am-icon-folder"},null,-1),co={key:1,class:"am-fcis__include-info__inner"},ro=t("span",{class:"am-icon-clock"},null,-1),uo={key:0},mo={key:1},po={key:2},_o={key:2,class:"am-fcis__include-info__inner"},fo=t("span",{class:"am-icon-user"},null,-1),vo=t("span",null,"1/1",-1),go=[fo,vo],yo={key:3,class:"am-fcis__include-info__inner"},ho=t("span",{class:"am-icon-locations"},null,-1),bo={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},ko={key:1,ref:"ameliaContainer",class:"am-empty"},Co=["src"],$o={class:"am-empty__heading"},wo={class:"am-empty__subheading"},So={class:"am-empty__text"},xo={key:0},Io={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Po={key:1},Do={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Eo={name:"CategoryService"},Lo=Object.assign(Eo,{setup(_){let b=B("licence"),{previousPage:r}=B("changingPageFunctions",{previousPage:()=>{}}),v=$(()=>N.getters["entities/getReady"]);const C=B("baseUrls");let L=x(),m=B("containerWidth");const s=B("settings");let p=B("amFonts");const k=B("labels"),w=B("localLanguage");let S=$(()=>s.general.usedLanguages.includes(w.value)),D=$(()=>{let H=it(et({},k));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let T=s.customizedData.cbf.categoryService.translations;Object.keys(T).forEach(I=>{T[I][w.value]&&S.value?H[I]=T[I][w.value]:T[I].default&&(H[I]=T[I].default)})}return H}),g=x(0),N=at(),f=B("amEntities"),U=$(()=>He(N)&&Ve(N)>0),J=$(()=>Ve(N)),d=B("customizedDataForm"),q=$(()=>d.value.categoryService.options),W=B("itemType"),ke=B("categorySelected"),pe=$(()=>f.value.categories.find(H=>H.id===ke.value)),R=$(()=>{let H=f.value.services.find(T=>T.id===N.getters["booking/getServiceId"]);return H||{}});function xe(H,T){return Fe(H,T).length===1?Fe(H,T)[0].address?Fe(H,T)[0].address:Fe(H,T)[0].name:D.value.multiple_locations}let ie=x("description"),y=$(()=>{let H=[];return Object.keys(f.value.entitiesRelations).forEach(I=>{f.value.entitiesRelations[I][R.value.id]&&f.value.employees.find(de=>de.id===parseInt(I))&&H.push(f.value.employees.find(de=>de.id===parseInt(I)))}),H});function Z(H){let T=H.serviceList.find(I=>I.id===R.value.id).price;return T-R.value.price!==0?`${T-R.value.price>0?R.value.price>0?"+":"":"-"} ${Qe(T-R.value.price)}`:""}Be(()=>{q.value.serviceDescription.visibility||(ie.value="employees"),Ae(R.value.description)||(ie.value="employees")});let _e=$(()=>{let H=R.value.gallery.length?JSON.parse(JSON.stringify(R.value.gallery)):[];return R.value.gallery.length===1?[]:(H.shift(),H.length>2&&H.splice(2,H.length-2),H)}),fe=$(()=>{let H=[];return f.value.packages.forEach(T=>{T.bookable.filter(I=>I.service.id===R.value.id).length&&!H.filter(I=>I.id===T.id).length&&T.available&&T.status==="visible"&&H.push(T)}),H}),le=x(!1),K=$(()=>{let H=[...fe.value];return le.value?H:H.slice(0,2)}),Ie=$(()=>N.getters["entities/filteredLocations"](N.getters["booking/getSelection"]));function Re(){W.value="",De(()=>{r()})}let Ee=x(!1);function o(){At(N),Ee.value=!0,O.value=!0}function oe(){O.value=!1,N.getters["entities/getPreselected"].service.length>1&&Re()}let O=x(!1),$e=x("760px");te("bookingDialogWidth",$e);function ye(){let H=N.getters["entities/getPreselected"];y.value.length===1&&(N.commit("booking/setEmployeeId",parseInt(y.value[0].id)),H.employee=[parseInt(y.value[0].id)],N.commit("entities/setPreselected",H)),Ee.value=!1,O.value=!1,qa(N),Kt(N,!1),pt(N);let T=Fe(f.value,R.value.id);T.length===1&&(N.commit("booking/setLocationId",parseInt(T[0].id)),H.location=[parseInt(T[0].id)],N.commit("entities/setPreselected",H)),N.commit("booking/setBookableType","appointment"),O.value=!0}B("restoreFormData").value&&ye();function Le(H){N.commit("booking/setPackageId",H.id),N.commit("booking/setBookableType","package"),N.commit("booking/setMultipleAppointments",It(0,H)),N.commit("booking/setMultipleAppointmentsIndex",0),y.value.length===1&&N.commit("booking/setEmployeeId",parseInt(y.value[0].id)),Fe(f.value,R.value.id).length===1&&N.commit("booking/setLocationId",parseInt(Fe(f.value,R.value.id)[0].id)),De(()=>{O.value=!0})}B("shortcodeData");const Y=$(()=>N.getters["entities/getPreselected"]);let j=x("");te("stepName",j);function F(){let H=N.getters["entities/getBookableFromBookableEntities"](N.getters["booking/getSelection"]),T=H.settings?JSON.parse(H.settings):s;"general"in T&&"redirectUrlAfterAppointment"in T.general&&T.general.redirectUrlAfterAppointment?window.location.href=T.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function ae(){if(j.value&&j.value==="CongratulationsStep")F();else{if(j.value&&j.value==="DateTimeStep"){let H=Ga(N);H&&console.log(H)}N.commit("booking/setEmployeeId",null),N.commit("booking/setLocationId",null),N.commit("entities/setPreselected",N.getters["entities/getOriginalPreselected"])}$e.value="760px"}let Oe=x(!1);function dt(H,T){let I="";return H>1?(T==="day"&&(I=D.value.expires_days),T==="week"&&(I=D.value.expires_weeks),T==="month"&&(I=D.value.expires_months)):(T==="day"&&(I=D.value.expires_day),T==="week"&&(I=D.value.expires_week),T==="month"&&(I=D.value.expires_month)),I}let Xe=$(()=>Object.keys(R.value).length===0||y.value.length===0),ue=B("amColors"),st=$(()=>({"--am-c-fcis-success-op20":ee(ue.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ee(ue.value.colorPrimary,.2),"--am-c-fcis-text-op80":ee(ue.value.colorMainText,.8),"--am-c-fcis-text-op03":ee(ue.value.colorMainText,.03),"--am-c-fcis-btn-op50":ee(ue.value.colorBtnSec,.5)})),mt=$(()=>({"--am-c-fcis-bgr":ue.value.colorMainBgr,"--am-c-fcis-text":ue.value.colorMainText,"--am-c-fcis-success":ue.value.colorSuccess,"--am-c-fcis-primary":ue.value.colorPrimary,"--am-c-scroll-op30":ee(ue.value.colorPrimary,.3),"--am-c-scroll-op10":ee(ue.value.colorPrimary,.1),"--am-font-family":p.fontFamily}));return(H,T)=>e(v)?(a(),i(se,{key:0},[e(Xe)?u("",!0):(a(),ve(Nt,{key:0,ref_key:"contentRef",ref:L,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":"am-fcis__content",style:ce(e(st))},{header:A(()=>[G(Mt,{"btn-string":e(D).back_btn,"btn-type":e(q).backBtn.buttonType,"back-btn-visibility":e(Y).service.length!==1,"cart-btn-visibility":e(U),"cart-items-number":e(J),onGoBack:Re,onGoToCart:o},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:A(()=>[t("div",{class:M([[{"am-tablet":e(m)<=678},{"am-mobile":e(m)<450}],"am-fcis__header-top"])},[t("div",fl,[t("span",vl,n(e(R).name),1),e(q).serviceBadge.visibility?(a(),i("div",gl,[yl,t("span",null,n(e(D).heading_service),1)])):u("",!0)]),t("div",hl,[e(q).servicePrice.visibility?(a(),i("span",bl,n(e(rt)(e(f),e(R).id).min||e(rt)(e(f),e(R).id).max?e(rt)(e(f),e(R).id).price:e(D).free),1)):u("",!0),t("span",kl,[G(ze,{type:e(q).bookingBtn.buttonType,onClick:ye},{default:A(()=>[Se(n(e(D).book_now),1)]),_:1},8,["type"])])])],2),e(q).serviceCategory.visibility||e(q).serviceDuration.visibility||e(q).serviceCapacity.visibility||e(q).serviceLocation.visibility?(a(),i("div",Cl,[t("div",$l,[e(q).serviceCategory.visibility?(a(),i("div",wl,[Sl,t("span",null,n(e(pe).name),1)])):u("",!0),e(q).serviceDuration.visibility?(a(),i("div",xl,[Il,t("span",null,n(e(ta)(e(R).duration)),1)])):u("",!0),e(q).serviceCapacity.visibility&&!e(b).isLite?(a(),i("div",Pl,[Dl,t("span",null,n(e(ea)(e(f),e(R).id)),1)])):u("",!0),e(Fe)(e(f),e(R).id).length&&e(q).serviceLocation.visibility&&!e(b).isLite&&!e(b).isStarter?(a(),i("div",El,[Ll,t("span",null,n(xe(e(f),e(R).id)),1)])):u("",!0)])])):u("",!0)]),content:A(()=>[e(R).gallery.length?(a(),i("div",Tl,[t("div",{class:M(["am-fcis__gallery-hero",[{w100:e(R).gallery.length===1},{"am-mobile w100":e(m)<678}]]),style:ce({backgroundImage:`url(${e(R).gallery[0].pictureFullPath})`})},null,6),e(_e).length&&e(m)>677?(a(),i("div",Bl,[(a(!0),i(se,null,ge(e(_e),(I,de)=>(a(),i("div",{key:de,class:M(["am-fcis__gallery-thumb",{"am-one-thumb":e(_e).length===1}]),style:ce({backgroundImage:`url(${I.pictureFullPath})`})},null,6))),128))])):u("",!0),G(ze,{"custom-class":`am-fcis__gallery-btn${e(m)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:T[0]||(T[0]=()=>re(Oe)?Oe.value=!0:Oe=!0)},{default:A(()=>[Se(n(e(D).view_all_photos),1)]),_:1},8,["custom-class"])])):u("",!0),G(ut,{modelValue:e(Oe),"onUpdate:modelValue":T[4]||(T[4]=I=>re(Oe)?Oe.value=I:Oe=I),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ce(e(mt))},[t("div",Fl,[t("div",zl,[t("span",{class:"am-icon-arrow-left",onClick:T[1]||(T[1]=()=>re(g)?g.value=e(g)<=0?e(R).gallery.length-1:e(g)-1:g=e(g)<=0?e(R).gallery.length-1:e(g)-1)}),t("span",{class:"am-icon-arrow-right",onClick:T[2]||(T[2]=()=>re(g)?g.value=e(R).gallery.length-1===e(g)?0:e(g)+1:g=e(R).gallery.length-1===e(g)?0:e(g)+1)})]),(a(!0),i(se,null,ge(e(R).gallery,(I,de)=>(a(),i("div",{key:de,class:"am-gd__display",style:ce({display:de===e(g)?"flex":"none"}),onClick:T[3]||(T[3]=()=>re(g)?g.value=e(R).gallery.length-1===e(g)?0:e(g)+1:g=e(R).gallery.length-1===e(g)?0:e(g)+1)},[t("img",{src:I.pictureFullPath,alt:de},null,8,Al)],4))),128))]),t("div",Rl,n(`${e(g)+1}/${e(R).gallery.length}`),1),t("div",Ol,[(a(!0),i(se,null,ge(e(R).gallery,(I,de)=>(a(),i("div",{key:de,class:M(["am-gd__thumb",{"am-active":de===e(g)}]),style:ce({backgroundImage:`url(${I.pictureFullPath})`}),onClick:()=>re(g)?g.value=de:g=de},null,14,Ml))),128))])],4)]),_:1},8,["modelValue"]),e(q).serviceDescription.visibility&&e(Ae)(e(R).description)||e(q).serviceEmployees.visibility?(a(),i("div",Nl,[t("div",Vl,[e(Ae)(e(R).description)&&e(q).serviceDescription.visibility?(a(),i("div",{key:0,class:M(["am-fcis__info-tab",{"am-active":e(ie)==="description"}]),onClick:T[5]||(T[5]=()=>re(ie)?ie.value="description":ie="description")},n(e(D).about_service),3)):u("",!0),e(q).serviceEmployees.visibility&&!e(b).isLite?(a(),i("div",{key:1,class:M([{"am-active":e(ie)==="employees"},"am-fcis__info-tab"]),onClick:T[6]||(T[6]=()=>re(ie)?ie.value="employees":ie="employees")},n(e(D).tab_employees),3)):u("",!0)]),t("div",Ul,[e(Ae)(e(R).description)&&e(q).serviceDescription.visibility?wt((a(),i("div",Wl,[t("div",{class:M(["am-fcis__info-service__desc",{"ql-description":e(R).description.includes("<!-- Content -->")}]),innerHTML:e(R).description},null,10,jl)],512)),[[St,e(ie)==="description"]]):u("",!0),e(q).serviceEmployees.visibility?wt((a(),i("div",Hl,[G(Ct,null,{default:A(()=>[(a(!0),i(se,null,ge(e(y),I=>(a(),ve($t,{key:I.id,side:""},{heading:A(()=>[t("div",{class:M([{"am-mobile":e(m)<451},"am-fcis__info-employee"])},[t("div",ql,[G(ct,{"item-class":"am-fcis__info-employee__img","item-data":I,"trim-string":3},null,8,["item-data"]),t("div",Gl,[t("div",Jl,[Se(n(I.firstName)+" "+n(I.lastName)+" ",1),I.badge?(a(),i("span",{key:0,style:ce({background:I.badge.color}),class:"am-fcis__info-employee__badge"},n(I.badge.content),5)):u("",!0)]),Z(I)&&e(q).serviceEmployeePrice.visibility?(a(),i("div",Yl,n(Z(I)),1)):u("",!0)])])],2)]),default:A(()=>[e(Ae)(I.description)?(a(),i("div",{key:0,class:M(["am-fcis__info-employee__description",{"ql-description":I.description.includes("<!-- Content -->")}]),innerHTML:I.description},null,10,Ql)):u("",!0)]),_:2},1024))),128))]),_:1})],512)),[[St,e(ie)==="employees"]]):u("",!0)])])):u("",!0),e(fe).length&&e(Y).show!=="services"&&e(q).servicePackages.visibility&&!e(Ve)(e(N))?(a(),i("div",Xl,[t("div",Zl,[t("span",Kl,n(e(D).service_available_in_package),1),e(fe).length>2?(a(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:T[7]||(T[7]=()=>re(le)?le.value=!e(le):le=!e(le))},[e(le)?(a(),i(se,{key:1},[Se(n(e(D).less_packages),1)],64)):(a(),i(se,{key:0},[Se(n(e(D).more_packages),1)],64))])):u("",!0)]),(a(!0),i(se,null,ge(e(K),I=>(a(),i("div",{key:I.id,class:"am-fcis__include",onClick:de=>Le(I)},[t("div",to,[e(m)>450?(a(),ve(ct,{key:0,"item-class":"am-fcis__include-img","item-data":I,"trim-string":3},null,8,["item-data"])):u("",!0),t("div",{class:M([{"am-mobile":e(m)<451},"am-fcis__include-text"])},[t("div",{class:M(["am-fcis__include-header",{"am-mobile":e(m)<600}])},[t("div",{class:M(["am-fcis__include-name",{"am-mobile":e(m)<600}])},n(I.name),3),e(q).packagePrice.visibility?(a(),i("div",ao,[I.discount?(a(),i("span",io,n(`${e(D).save} ${I.discount}%`),1)):u("",!0),t("span",so,n(I.price?e(Qe)(I.calculatedPrice?I.price:I.price-I.price/100*I.discount):e(D).free),1)])):u("",!0)],2),t("div",lo,[e(q).packageCategory.visibility?(a(),i("div",oo,[no,t("span",null,n(e(pe).name),1)])):u("",!0),e(q).packageDuration.visibility?(a(),i("div",co,[ro,I.endDate?(a(),i("span",uo,n(`${e(D).expires_at} ${I.endDate.split(" ")[0]}`),1)):I.durationCount?(a(),i("span",mo,n(`${e(D).expires_after} ${I.durationCount} ${dt(I.durationCount,I.durationType)}`),1)):(a(),i("span",po,n(e(D).without_expiration),1))])):u("",!0),e(q).packageCapacity.visibility?(a(),i("div",_o,go)):u("",!0),e(q).packageLocation.visibility&&e(Ie).length?(a(),i("div",yo,[ho,t("span",null,n(e(Ie).length===1?e(Ie)[0].address?e(Ie)[0].address:e(Ie)[0].name:e(D).multiple_locations),1)])):u("",!0),e(q).packageServices.visibility?(a(),i("div",bo,[t("span",null,n(`${e(D).in_package}:`),1),(a(!0),i(se,null,ge(I.bookable,de=>(a(),i("span",{key:de.id},n(de.service.name),1))),128))])):u("",!0)])],2)])],8,eo))),128))])):u("",!0),G(ut,{modelValue:e(O),"onUpdate:modelValue":T[9]||(T[9]=I=>re(O)?O.value=I:O=I),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e($e),onClosed:ae},{default:A(()=>[G(Wt,{"show-cart":e(Ee),onAddToCart:oe,onEmptiedCart:T[8]||(T[8]=I=>re(O)?O.value=!1:O=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["style"])),e(Xe)?(a(),i("div",ko,[t("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Co),t("div",$o,n(e(D).oops),1),t("div",wo,n(e(Y).show!=="packages"?e(D).no_services_employees:e(D).no_package_services),1),t("div",So,[e(Y).show!=="packages"?(a(),i("span",xo,n(e(D).add_services_employees)+"\xA0 ",1)):u("",!0),t("a",Io,n(e(D).add_services_url)+"\xA0 ",1),e(Y).show!=="packages"?(a(),i("span",Po,n(e(D).and)+"\xA0 ",1)):u("",!0),e(Y).show!=="packages"?(a(),i("a",Do,n(e(D).add_employees_url),1)):u("",!0)])],512)):u("",!0)],64)):u("",!0)}});const To={class:"am-fcip__header-text"},Bo={class:"am-fcip__header-name"},Fo={key:0,class:"am-fcip__badge am-package"},zo=t("span",{class:"am-icon-shipment"},null,-1),Ao={class:"am-fcip__header-action"},Ro={key:0,class:"am-fcip__header-discount"},Oo={key:1,class:"am-fcip__header-price"},Mo={class:"am-fcip__header-btn"},No={key:0,class:"am-fcip__header-bottom"},Vo={class:"am-fcip__mini-info"},Uo={key:0,class:"am-fcip__mini-info__inner"},Wo=t("span",{class:"am-icon-folder"},null,-1),jo={key:1,class:"am-fcip__mini-info__inner"},Ho=t("span",{class:"am-icon-clock"},null,-1),qo={key:0},Go={key:1},Jo={key:2},Yo={key:2,class:"am-fcip__mini-info__inner"},Qo=t("span",{class:"am-icon-user"},null,-1),Xo=t("span",null,"1/1",-1),Zo=[Qo,Xo],Ko={key:3,class:"am-fcip__mini-info__inner"},en=t("span",{class:"am-icon-locations"},null,-1),tn={key:0,class:"am-fcip__gallery"},an={key:0,class:"am-fcip__gallery-thumb__wrapper"},sn=t("span",{class:"am-icon-gallery"},null,-1),ln={class:"am-gd__display-wrapper"},on={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},nn=["src","alt"],cn={class:"am-gd__selection"},rn={class:"am-gd__thumb-wrapper"},un=["onClick"],dn={key:1,class:"am-fcip__info"},mn={class:"am-fcip__info-tab__wrapper"},pn={class:"am-fcip__info-content__wrapper"},_n={key:0,class:"am-fcip__info-content"},fn=["innerHTML"],vn={key:1,class:"am-fcip__info-content"},gn={class:"am-fcip__info-employee"},yn={class:"am-fcip__info-employee__hero"},hn={class:"am-fcip__info-employee__name"},bn=["innerHTML"],kn={key:2,class:"am-fcip__include-wrapper"},Cn={class:"am-fcip__include-heading"},$n={class:"am-fcip__include-heading__text"},wn={class:"am-fcip__include-service"},Sn={class:"am-fcip__include-service__info"},xn={key:0},In=["innerHTML"],Pn={class:"am-fcip__include-footer"},Dn={class:"am-fcip__include-footer__text"},En={key:1,ref:"ameliaContainer",class:"am-empty"},Ln=["src"],Tn={class:"am-empty__heading"},Bn={class:"am-empty__subheading"},Fn={class:"am-empty__text"},zn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},An={name:"CategoryPackage"},Rn=Object.assign(An,{setup(_){let{previousPage:b}=B("changingPageFunctions",{previousPage:()=>{}}),r=x(),v=B("containerWidth");const C=B("settings"),L=B("baseUrls");let m=at();const s=B("shortcodeData"),p=$(()=>m.getters["entities/getPreselected"]);let k=B("amEntities"),w=B("customizedDataForm"),S=$(()=>w.value.categoryPackage.options),D=B("itemType"),g=B("categorySelected"),N=$(()=>k.value.categories.find(Y=>Y.id===g.value)),f=$(()=>k.value.packages.find(Y=>Y.id===m.getters["booking/getPackageId"])),U=x(0),J=x("description"),d=$(()=>aa(k.value,f.value,s.value)),q=$(()=>ot(k.value,f.value,s.value)),W=x(p.value.employee.length>0?k.value.unfilteredEmployees.filter(Y=>p.value.employee.map(j=>parseInt(j)).includes(Y.id)):k.value.unfilteredEmployees);function ke(Y){let j=[];return Y.providers.length?Y.providers.forEach(F=>{W.value.find(ae=>ae.id===parseInt(F.id))&&j.push(W.value.find(ae=>ae.id===parseInt(F.id)))}):j=W.value.filter(F=>F.serviceList.find(ae=>ae.id===Y.service.id)),j}Be(()=>{S.value.packageDescription.visibility||(J.value="employees"),Ae(f.value.description)||(J.value="employees")});let pe=x(!1);Rt(()=>{pe.value=m.getters["entities/getEmployees"].length===0||d.value.length===0});let R=x(!1),xe=$(()=>{let Y=f.value.gallery.length?JSON.parse(JSON.stringify(f.value.gallery)):[];return f.value.gallery.length===1?[]:(Y.shift(),Y.length>2&&Y.splice(2,Y.length-2),Y)});function ie(){D.value="",De(()=>{b()})}let y=x(!1),Z=x("760px");te("bookingDialogWidth",Z);function _e(){m.commit("booking/setPackageId",f.value.id),m.commit("booking/setMultipleAppointments",It(0,f.value)),m.commit("booking/setMultipleAppointmentsIndex",0),m.commit("booking/setBookableType","package"),De(()=>{y.value=!0})}B("restoreFormData").value&&_e();let le=x("");te("stepName",le);function K(){let Y=m.getters["entities/getBookableFromBookableEntities"](m.getters["booking/getSelection"]),j=Y.settings?JSON.parse(Y.settings):C;"general"in j&&"redirectUrlAfterAppointment"in j.general&&j.general.redirectUrlAfterAppointment?window.location.href=j.general.redirectUrlAfterAppointment:C.general.redirectUrlAfterAppointment?window.location.href=C.general.redirectUrlAfterAppointment:window.location.reload()}function Ie(){le.value&&le.value==="CongratulationsStep"?K():m.commit("entities/setPreselected",m.getters["entities/getOriginalPreselected"]),Z.value="760px"}let Re=B("amFonts");const Ee=B("labels"),o=B("localLanguage");let oe=$(()=>C.general.usedLanguages.includes(o.value)),O=$(()=>{let Y=it(et({},Ee));if(C.customizedData&&C.customizedData.cbf&&C.customizedData.cbf.categoryPackage.translations){let j=C.customizedData.cbf.categoryPackage.translations;Object.keys(j).forEach(F=>{j[F][o.value]&&oe.value?Y[F]=j[F][o.value]:j[F].default&&(Y[F]=j[F].default)})}return Y});function $e(Y,j){let F="";return Y>1?(j==="day"&&(F=O.value.expires_days),j==="week"&&(F=O.value.expires_weeks),j==="month"&&(F=O.value.expires_months)):(j==="day"&&(F=O.value.expires_day),j==="week"&&(F=O.value.expires_week),j==="month"&&(F=O.value.expires_month)),F}let ye=B("amColors"),be=$(()=>({"--am-c-fcip-success-op20":ee(ye.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ee(ye.value.colorPrimary,.2),"--am-c-fcip-text-op80":ee(ye.value.colorMainText,.8),"--am-c-fcip-text-op60":ee(ye.value.colorMainText,.6),"--am-c-fcip-text-op03":ee(ye.value.colorMainText,.03),"--am-c-fcip-btn-op50":ee(ye.value.colorBtnSec,.5)})),Le=$(()=>({"--am-c-fcip-bgr":ye.value.colorMainBgr,"--am-c-fcip-text":ye.value.colorMainText,"--am-c-fcip-success":ye.value.colorSuccess,"--am-c-fcip-primary":ye.value.colorPrimary,"--am-c-scroll-op30":ee(ye.value.colorPrimary,.3),"--am-c-scroll-op10":ee(ye.value.colorPrimary,.1),"--am-font-family":Re.fontFamily}));return(Y,j)=>(a(),i(se,null,[e(pe)?u("",!0):(a(),ve(Nt,{key:0,ref_key:"contentRef",ref:r,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":"am-fcip__content",style:ce(e(be))},Ot({heading:A(()=>[t("div",{class:M([[{"am-tablet":e(v)<=678},{"am-mobile":e(v)<450}],"am-fcip__header-top"])},[t("div",To,[t("span",Bo,[t("span",null,n(e(f).name),1)]),e(S).packageBadge.visibility?(a(),i("div",Fo,[zo,t("span",null,n(e(O).package),1)])):u("",!0)]),t("div",Ao,[e(f).discount&&e(S).packagePrice.visibility?(a(),i("span",Ro,n(`${e(O).save} ${e(f).discount}%`),1)):u("",!0),e(S).packagePrice.visibility?(a(),i("span",Oo,n(e(f).price?e(Qe)(e(f).calculatedPrice?e(f).price:e(f).price-e(f).price/100*e(f).discount):e(O).free),1)):u("",!0),t("span",Mo,[G(ze,{type:e(S).bookingBtn.buttonType,onClick:_e},{default:A(()=>[Se(n(e(O).book_now),1)]),_:1},8,["type"])])])],2),e(S).packageCategory.visibility&&e(p).package.length!==1||e(S).packageDuration.visibility||e(S).packageCapacity.visibility||e(S).packageLocation.visibility&&e(q).length?(a(),i("div",No,[t("div",Vo,[e(p).package.length!==1&&e(S).packageBadge.visibility?(a(),i("div",Uo,[Wo,t("span",null,n(e(N).name),1)])):u("",!0),e(S).packageDuration.visibility?(a(),i("div",jo,[Ho,e(f).endDate?(a(),i("span",qo,n(`${e(O).expires_at} ${e(f).endDate.split(" ")[0]}`),1)):e(f).durationCount?(a(),i("span",Go,n(`${e(O).expires_after} ${e(f).durationCount} ${$e(e(f).durationCount,e(f).durationType)}`),1)):(a(),i("span",Jo,n(e(O).without_expiration),1))])):u("",!0),e(S).packageCapacity.visibility?(a(),i("div",Yo,Zo)):u("",!0),e(q).length&&e(S).packageLocation.visibility?(a(),i("div",Ko,[en,t("span",null,n(e(q).length===1?e(q)[0].address?e(q)[0].address:e(q)[0].name:e(O).multiple_locations),1)])):u("",!0)])])):u("",!0)]),content:A(()=>[e(f).gallery.length?(a(),i("div",tn,[t("div",{class:M(["am-fcip__gallery-hero",[{w100:e(f).gallery.length===1},{"am-mobile w100":e(v)<678}]]),style:ce({backgroundImage:`url(${e(f).gallery[0].pictureFullPath})`})},null,6),e(xe).length&&e(v)>677?(a(),i("div",an,[(a(!0),i(se,null,ge(e(xe),(F,ae)=>(a(),i("div",{key:ae,class:M(["am-fcip__gallery-thumb",{"am-one-thumb":e(xe).length===1}]),style:ce({backgroundImage:`url(${F.pictureFullPath})`})},null,6))),128))])):u("",!0),G(ze,{"custom-class":`am-fcip__gallery-btn${e(v)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:j[0]||(j[0]=()=>re(R)?R.value=!0:R=!0)},{default:A(()=>[sn,t("span",null,n(e(O).view_all_photos),1)]),_:1},8,["custom-class"])])):u("",!0),G(ut,{modelValue:e(R),"onUpdate:modelValue":j[4]||(j[4]=F=>re(R)?R.value=F:R=F),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ce(e(Le))},[t("div",ln,[t("div",on,[t("span",{class:"am-icon-arrow-left",onClick:j[1]||(j[1]=()=>re(U)?U.value=e(U)<=0?e(f).gallery.length-1:e(U)-1:U=e(U)<=0?e(f).gallery.length-1:e(U)-1)}),t("span",{class:"am-icon-arrow-right",onClick:j[2]||(j[2]=()=>re(U)?U.value=e(f).gallery.length-1===e(U)?0:e(U)+1:U=e(f).gallery.length-1===e(U)?0:e(U)+1)})]),(a(!0),i(se,null,ge(e(f).gallery,(F,ae)=>(a(),i("div",{key:ae,class:"am-gd__display",style:ce({display:ae===e(U)?"flex":"none"}),onClick:j[3]||(j[3]=()=>re(U)?U.value=e(f).gallery.length-1===e(U)?0:e(U)+1:U=e(f).gallery.length-1===e(U)?0:e(U)+1)},[t("img",{src:F.pictureFullPath,alt:ae},null,8,nn)],4))),128))]),t("div",cn,n(`${e(U)+1}/${e(f).gallery.length}`),1),t("div",rn,[(a(!0),i(se,null,ge(e(f).gallery,(F,ae)=>(a(),i("div",{key:ae,class:M(["am-gd__thumb",{"am-active":ae===e(U)}]),style:ce({backgroundImage:`url(${F.pictureFullPath})`}),onClick:()=>re(U)?U.value=ae:U=ae},null,14,un))),128))])],4)]),_:1},8,["modelValue"]),e(S).packageDescription.visibility&&e(Ae)(e(f).description)||e(S).packageEmployees.visibility?(a(),i("div",dn,[t("div",mn,[e(Ae)(e(f).description)&&e(S).packageDescription.visibility?(a(),i("div",{key:0,class:M(["am-fcip__info-tab",{"am-active":e(J)==="description"}]),onClick:j[5]||(j[5]=()=>re(J)?J.value="description":J="description")},n(e(O).about_package),3)):u("",!0),e(S).packageEmployees.visibility?(a(),i("div",{key:1,class:M([{"am-active":e(J)==="employees"},"am-fcip__info-tab"]),onClick:j[6]||(j[6]=()=>re(J)?J.value="employees":J="employees")},n(e(O).tab_employees),3)):u("",!0)]),t("div",pn,[e(Ae)(e(f).description)&&e(S).packageDescription.visibility?wt((a(),i("div",_n,[t("div",{class:M(["am-fcip__info-service__desc",{"ql-description":e(f).description.includes("<!-- Content -->")}]),innerHTML:e(f).description},null,10,fn)],512)),[[St,e(J)==="description"]]):u("",!0),e(S).packageEmployees.visibility?wt((a(),i("div",vn,[G(Ct,null,{default:A(()=>[(a(!0),i(se,null,ge(e(d),F=>(a(),ve($t,{key:F.id,side:""},{heading:A(()=>[t("div",gn,[t("div",yn,[G(ct,{"item-class":"am-fcip__info-employee__img","item-data":F,"trim-string":3},null,8,["item-data"]),t("div",hn,[Se(n(F.firstName)+" "+n(F.lastName)+" ",1),F.badge?(a(),i("span",{key:0,style:ce({background:F.badge.color}),class:"am-fcip__info-employee__badge"},n(F.badge.content),5)):u("",!0)])])])]),default:A(()=>[e(Ae)(F.description)?(a(),i("div",{key:0,class:M(["am-fcip__info-employee__description",{"ql-description":F.description.includes("<!-- Content -->")}]),innerHTML:F.description},null,10,bn)):u("",!0)]),_:2},1024))),128))]),_:1})],512)),[[St,e(J)==="employees"]]):u("",!0)])])):u("",!0),e(S).packageServices.visibility?(a(),i("div",kn,[t("div",Cn,[t("span",$n,n(`${e(O).package_includes}:`),1)]),G(Ct,null,{default:A(()=>[(a(!0),i(se,null,ge(e(f).bookable,F=>(a(),ve($t,{key:F.id,side:!0},{heading:A(()=>[t("div",wn,[G(ct,{"item-class":"am-fcip__include-service__img","item-data":F.service},null,8,["item-data"]),Se(" "+n(F.service.name+(e(f).sharedCapacity?"":" x"+F.quantity)),1)])]),default:A(()=>[t("div",Sn,[t("span",null,n(`${e(O).tab_employees}:`),1),(a(!0),i(se,null,ge(ke(F).slice(0,6),ae=>(a(),ve(ct,{key:ae.id,"item-class":"am-fcip__include-service__info-name","item-data":ae,"trim-string":3},null,8,["item-data"]))),128)),ke(F).length>6?(a(),i("span",xn," + "+n(ke(F).length-6),1)):u("",!0),e(Ae)(F.service.description)?(a(),i("div",{key:1,class:M(["am-fcip__include-service__info-description",{"ql-description":F.service.description.includes("<!-- Content -->")}]),innerHTML:F.service.description},null,10,In)):u("",!0)])]),_:2},1024))),128))]),_:1}),t("div",Pn,[t("span",Dn,n(e(O).package_book_service),1)])])):u("",!0),G(ut,{modelValue:e(y),"onUpdate:modelValue":j[7]||(j[7]=F=>re(y)?y.value=F:y=F),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Z),onClosed:Ie},{default:A(()=>[G(Wt)]),_:1},8,["modelValue","width"])]),_:2},[e(p).package.length!==1?{name:"header",fn:A(()=>[G(Mt,{"btn-string":e(O).back_btn,"btn-type":e(S).backBtn.buttonType,onGoBack:ie},null,8,["btn-string","btn-type"])])}:void 0]),1032,["style"])),e(pe)?(a(),i("div",En,[t("img",{src:e(L).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ln),t("div",Tn,n(e(O).oops),1),t("div",Bn,n(e(O).no_package_services),1),t("div",Fn,[t("a",zn,n(e(O).add_services_url)+"\xA0 ",1)])],512)):u("",!0)],64))}});const On={name:"CatalogSkeleton"},Mn=Object.assign(On,{setup(_){let b=x(null),r=x(0);window.addEventListener("resize",v);function v(){b.value&&(r.value=b.value.offsetWidth)}Be(()=>{b.value&&(r.value=b.value.offsetWidth)});let C=$(()=>r.value<=500?"am-w100":r.value<=600?"am-w50":r.value<=768?"am-w33":"");return(L,m)=>{const s=Ya,p=Ja;return a(),i("div",{ref_key:"amSkeletonContainer",ref:b,class:"am-skeleton-catalog__wrapper"},[G(p,{animated:"",class:"am-skeleton-catalog"},{template:A(()=>[(a(!0),i(se,null,ge(new Array(8),k=>(a(),i("div",{key:k,class:M(["am-skeleton-catalog__item",e(C)])},[G(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Nn=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Vn=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Un=["href"],Wn={name:"CatalogFormWrapper"},jn=Object.assign(Wn,{emits:["isRestored"],setup(_,{emit:b}){let r=B("isMounted"),v=B("licence"),C=x(null),L=x(20);const m=B("baseUrls");let s=x(0);te("containerWidth",s),window.addEventListener("resize",p);function p(){C.value&&(s.value=C.value.offsetWidth)}Be(()=>{D.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+S.value.counter).classList.add("amelia-v2-booking-"+S.value.counter+"-loaded"),_t(D,{},"ViewContent","appointment",null,null),p(),r.value=!0,Xt("scrollForm",{offsetFromTop:L})});let k=x(!1);const w=B("settings"),S=B("shortcodeData"),D=at();D.commit("entities/setPreselected",S.value),D.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields"],licence:v,loadEntities:S.value.trigger||window.ameliaShortcodeData.filter(o=>!o.hasApiCall).length===window.ameliaShortcodeData.length?!0:S.value.hasApiCall,showHidden:!1});const g=we(zi),N=we(_l),f=we(Lo),U=we(Rn);let J=x([g,N]),d=x(0),q=x(null);te("categorySelected",q);let W=x([]);te("availableCategories",W);let ke=x("");te("itemType",ke),kt(ke,()=>{ke.value==="appointment"&&J.value.push(f),ke.value==="package"&&J.value.push(U),ke.value===""&&J.value.forEach((o,oe)=>{o.name==="CategoryService"&&pe(J.value,oe),o.name==="CategoryPackage"&&pe(J.value,oe)})});function pe(o,oe){o.splice(oe,1)}function R(){d.value=d.value+1;let o=C.value.getBoundingClientRect().top+window.pageYOffset-L.value;window.scrollTo({top:o,behavior:"smooth"})}function xe(){d.value=d.value-1}te("changingPageFunctions",{nextPage:R,previousPage:xe});let ie=$(()=>D.getters["entities/getReady"]),y=$(()=>D.state.entities);te("amEntities",y);function Z(){let o=D.getters["entities/getPreselected"];if(S.value.categories_hidden&&o.category.length!==1&&(W.value=JSON.parse(JSON.stringify(fi(y.value,S.value))),q.value=parseInt(W.value.length?W.value[0].id:null),D.commit("booking/setCategoryId",parseInt(q.value)),De(()=>{let oe=J.value.findIndex(O=>O.name==="CategoriesList");J.value.splice(oe,1)})),o.category.length===1&&(D.commit("booking/setCategoryId",parseInt(o.category)),q.value=parseInt(o.category[0]),W.value=JSON.parse(JSON.stringify(y.value.categories.filter(oe=>oe.id===parseInt(o.category[0])&&oe.status==="visible"&&oe.serviceList.length&&!!ft(S,oe,y.value).length))),De(()=>{let oe=J.value.findIndex(O=>O.name==="CategoriesList");J.value.splice(oe,1)})),o.service.length===1){D.commit("booking/setServiceId",parseInt(o.service[0]));let oe=D.getters["entities/getService"](parseInt(o.service[0]));q.value=oe?parseInt(oe.categoryId):null,D.commit("booking/setCategoryId",oe?parseInt(oe.categoryId):null),De(()=>{J.value=[],J.value.push(f)})}o.employee.length===1&&D.commit("booking/setEmployeeId",parseInt(o.employee[0])),o.location.length===1&&D.commit("booking/setLocationId",parseInt(o.location[0])),o.package.length===1&&(D.commit("booking/setPackageId",parseInt(o.package[0])),J.value=[],J.value.push(U)),o.show==="packages"?D.commit("booking/setBookableType","package"):D.commit("booking/setBookableType","appointment")}let _e=$(()=>ie.value?Xa(D,S.value):null);te("restoreFormData",_e),kt(ie,o=>{o&&(Z(),k.value=D.getters["entities/getServices"].length===0||D.getters["entities/getEmployees"].length===0,_e.value&&(ke.value=D.state.booking.appointment.type,De(()=>{d.value=J.value.length-1,q.value=D.state.booking.appointment.categoryId,b("isRestored",_e.value)})))});let fe=$(()=>w.customizedData&&"cbf"in w.customizedData?w.customizedData.cbf:nt.cbf);te("customizedDataForm",fe);const le=x(w.customizedData?w.customizedData.fonts:nt.fonts);te("amFonts",le);let K=$(()=>w.customizedData&&"cbf"in w.customizedData?w.customizedData.cbf.colors:nt.cbf.colors);te("amColors",K);let Ie=$(()=>({"--am-c-primary":K.value.colorPrimary,"--am-c-success":K.value.colorSuccess,"--am-c-error":K.value.colorError,"--am-c-warning":K.value.colorWarning,"--am-c-main-bgr":K.value.colorMainBgr,"--am-c-main-heading-text":K.value.colorMainHeadingText,"--am-c-main-text":K.value.colorMainText,"--am-c-sb-bgr":K.value.colorSbBgr,"--am-c-sb-text":K.value.colorSbText,"--am-c-inp-bgr":K.value.colorInpBgr,"--am-c-inp-border":K.value.colorInpBorder,"--am-c-inp-text":K.value.colorInpText,"--am-c-inp-placeholder":K.value.colorInpPlaceHolder,"--am-c-drop-bgr":K.value.colorDropBgr,"--am-c-drop-text":K.value.colorDropText,"--am-c-card-bgr":K.value.colorCardBgr,"--am-c-card-text":K.value.colorCardText,"--am-c-card-border":K.value.colorCardBorder,"--am-c-btn-prim":K.value.colorBtnPrim,"--am-c-btn-prim-text":K.value.colorBtnPrimText,"--am-c-btn-sec":K.value.colorBtnSec,"--am-c-btn-sec-text":K.value.colorBtnSecText,"--am-c-skeleton-op20":ee(K.value.colorMainText,.2),"--am-c-skeleton-op60":ee(K.value.colorMainText,.6),"--am-font-family":le.value.fontFamily}));function Re(){let o=document.head||document.getElementsByTagName("head")[0];o.querySelector("#amCustomFont")&&o.querySelector("#amCustomFont").remove();let oe=`@font-face {font-family: '${le.value.fontFamily}'; src: url(${le.value.fontUrl});}`,O=document.createElement("style");o.appendChild(O),O.setAttribute("type","text/css"),O.setAttribute("id","amCustomFont"),O.appendChild(document.createTextNode(oe))}le.value.customFontSelected&&Re();let Ee=$(()=>({colorInputBorderRadius:"6px"}));return te("amDesignProperties",Ee),(o,oe)=>(a(),i(se,null,[le.value.customFontSelected?u("",!0):(a(),i(se,{key:0},[Nn,Vn,t("link",{rel:"stylesheet",type:"text/css",href:`${e(m).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Un)],64)),t("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:C,class:"am-fc__wrapper",style:ce(e(Ie))},[e(ie)&&e(J).length?(a(),ve(Zt(e(J)[e(d)]),{key:0})):(a(),ve(Mn,{key:1}))],4),G(e(Qa))],64))}});var Gn=Object.freeze(Object.defineProperty({__proto__:null,default:jn},Symbol.toStringTag,{value:"Module"}));export{Gn as C,ut as _,xt as a,mi as b,Mt as c,ct as d,Nt as e,jn as f};
