var fa=Object.defineProperty;var Yt=Object.getOwnPropertySymbols;var va=Object.prototype.hasOwnProperty,ga=Object.prototype.propertyIsEnumerable;var Qt=(_,b,c)=>b in _?fa(_,b,{enumerable:!0,configurable:!0,writable:!0,value:c}):_[b]=c,at=(_,b)=>{for(var c in b||(b={}))va.call(b,c)&&Qt(_,c,b[c]);if(Yt)for(var c of Yt(b))ga.call(b,c)&&Qt(_,c,b[c]);return _};import{A as ya,r as x,o as ha,a as Fe,t as ba,c as h,E as ka,b as t,d as ye,w as O,e as i,f as l,g as it,u as e,i as de,n as R,h as kt,j as st,k as a,l as me,_ as Ae,m as u,p as J,q as Rt,s as A,v as ie,F as X,x as he,y as re,z as Le,B as Xt,C as lt,D as Ke,I as Ca,G as yt,H as se,J as ct,K as Ct,L as Pe,M as $a,N as Sa,P as wa,R as xa,O as Pa,Q as Ia,S as Da,T as Ea,U as La,V as Ta,W as Ba,X as Fa,Y as za,Z as Aa,$ as Ye,a0 as Ft,a1 as Oa,a2 as It,a3 as Mt,a4 as gt,a5 as Zt,a6 as Ra,a7 as Ma,a8 as ea,a9 as We,aa as Qe,ab as Va,ac as Na,ad as Ua,ae as Vt,af as Wa,ag as ta,ah as ja,ai as Ha,aj as aa,ak as qa,al as Ga,am as zt,an as $t,ao as At,ap as Nt,aq as ht,ar as St,as as Re,at as wt,au as xt,av as Ja,aw as Ya,ax as Qa,ay as Xa,az as Za,aA as Ka}from"./stepForm.b3fa141a.js";const ei={key:0,class:"am-dialog__title"},ti={inheritAttrs:!1},dt=Object.assign(ti,{props:{modelValue:{type:[String,Array,Object,Number,Boolean]},modalClass:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number],default:"50%"},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"15vh"},modal:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},customClass:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},center:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},closeIcon:{type:[Object,Function],default:ya},customStyles:{type:Object},usedForShortcode:{type:Boolean,default:!1}},emits:["close","open","closed","opened","update:modelValue"],setup(_,{emit:b}){const c=_,g=x(null);ha(()=>{C()}),Fe(()=>{c.usedForShortcode&&(g.value.rendered=!0),C()});function C(){c.customStyles&&Object.keys(c.customStyles).forEach(s=>{g.value.style[s]=c.customStyles[s]})}let{modelValue:T}=ba(c),d=h({get:()=>T.value,set:s=>{b("update:modelValue",s)}});return(s,m)=>{const k=ka;return t(),ye(k,{ref_key:"amDialogRef",ref:g,modelValue:e(d),"onUpdate:modelValue":m[0]||(m[0]=w=>de(d)?d.value=w:d=w),"modal-class":`am-dialog-popup ${c.modalClass}`,title:c.title,width:c.width,fullscreen:c.fullscreen,top:c.top,modal:c.modal,"append-to-body":c.appendToBody,"lock-scroll":c.lockScroll,"custom-class":c.customClass,"open-delay":c.openDelay,"close-delay":c.closeDelay,"close-on-click-modal":c.closeOnClickModal,"close-on-press-escape":c.closeOnPressEscape,"show-close":c.showClose,"before-close":c.beforeClose,center:c.center,"destroy-on-close":c.destroyOnClose,"close-icon":c.closeIcon,onClose:m[1]||(m[1]=w=>b("close")),onOpen:m[2]||(m[2]=w=>b("open")),onClosed:m[3]||(m[3]=w=>b("closed")),onOpened:m[4]||(m[4]=w=>b("opened"))},{title:O(()=>[_.title?(t(),i("span",ei,l(_.title),1)):it(s.$slots,"title",{key:1})]),footer:O(()=>[it(s.$slots,"footer")]),default:O(()=>[it(s.$slots,"default")]),_:3},8,["modelValue","modal-class","title","width","fullscreen","top","modal","append-to-body","lock-scroll","custom-class","open-delay","close-delay","close-on-click-modal","close-on-press-escape","show-close","before-close","center","destroy-on-close","close-icon"])}}}),ai={name:"IconComponent"},Pt=Object.assign(ai,{props:{icon:{type:String,required:!0}},setup(_){return(b,c)=>(t(),i("span",{class:R(`am-icon-${_.icon}`)},null,2))}});const ii={class:"am-cat__header-inner"},si={class:"am-cat__back-btn"},li={key:0,class:"am-cat__cart-btn"},oi={class:"am-cat__cart-number"},ni={name:"MainHeader"},Ut=Object.assign(ni,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(_,{emit:b}){const c=_;let g=kt({components:{IconComponent:Pt},template:'<IconComponent icon="arrow-left"></IconComponent>'}),C=kt({components:{IconComponent:Pt},template:'<IconComponent icon="cart"/>'});function T(){b("goBack")}const d=st();function s(){Rt(d),b("goToCart")}return(m,k)=>(t(),i("div",ii,[a("div",si,[e(c).backBtnVisibility?(t(),ye(Ae,{key:0,prefix:e(g),category:"secondary",type:_.btnType,size:_.btnSize,onClick:T},{default:O(()=>[me(l(e(c).btnString),1)]),_:1},8,["prefix","type","size"])):u("",!0)]),e(c).cartBtnVisibility?(t(),i("div",li,[a("span",oi,l(e(c).cartItemsNumber),1),J(Ae,{category:"secondary",type:_.btnType,size:_.btnSize,round:!0,"icon-only":!0,icon:e(C),onClick:s},null,8,["type","size","icon"])])):u("",!0)]))}});const ci={class:"am-cat__sidemenu-item__wrapper"},ri=["onClick"],ui={key:0,class:"am-cat__sidemenu-footer"},di={class:"am-cat__sidemenu-footer__text"},mi=["href"],pi={name:"SideMenu"},_i=Object.assign(pi,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(_,{emit:b}){const c=_;function g(d){b("click",d)}let C=A("amColors"),T=h(()=>({"--am-c-csm-text-op10":ie(C.value.colorSbText,.1),"--am-c-csm-primary-op10":ie(C.value.colorPrimary,.1),"--am-c-csm-text-op60":ie(C.value.colorSbText,.6),"--am-c-csm-text-op80":ie(C.value.colorSbText,.8)}));return(d,s)=>(t(),i("div",{class:"am-cat__sidemenu",style:re(e(T))},[a("div",ci,[(t(!0),i(X,null,he(_.menuItems,(m,k)=>(t(),i("div",{key:k,class:R(["am-cat__sidemenu-item",{"am-active":e(c).initSelection===m[e(c).identifier]}]),onClick:()=>g(m)},l(m[e(c).nameIdentifier]),11,ri))),128))]),e(c).companyEmail?(t(),i("div",ui,[a("span",di,l(e(c).footerString),1),a("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(c).companyEmail}`},l(e(c).companyEmail),9,mi)])):u("",!0)],4))}});const fi={name:"MainContent"},Wt=Object.assign(fi,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(_,{expose:b}){let c=x(null),g=x(0),C=x(null),T=x(0),d=x(null),s=x(0),m=x(null),k=x(null),w=x(0);window.addEventListener("resize",$);function $(){Le(()=>{c.value&&(g.value=c.value.offsetWidth),C.value&&(T.value=C.value.offsetWidth),d.value&&(s.value=d.value.offsetWidth)})}Fe(()=>{Le(()=>{if(d.value&&m.value){let U=d.value.offsetHeight-m.value.offsetHeight-2;w.value=U<=656?656:U}$()})}),b({catHeaderWidth:g,catFormWidth:s,catContainerWidth:T});let P=A("amColors"),f=h(()=>({"--am-h-cat-content":`${w.value}px`,"--am-c-scroll-op30":ie(P.value.colorPrimary,.3),"--am-c-scroll-op10":ie(P.value.colorPrimary,.1)}));return(U,te)=>(t(),i("div",{class:R(["am-cat__wrapper",_.wrapperClass])},[a("div",{ref_key:"catHeader",ref:c,class:"am-cat__header"},[it(U.$slots,"header")],512),a("div",{ref_key:"catContainer",ref:C,class:"am-cat__main"},[it(U.$slots,"side"),a("div",{ref_key:"catForm",ref:d,class:R(["am-cat__form",_.formClass]),style:re(e(f))},[a("div",{ref_key:"catHeading",ref:m,class:R(["am-cat__heading",_.headingClass])},[it(U.$slots,"heading")],2),a("div",{ref_key:"catContent",ref:k,class:R(["am-cat__content",_.contentClass])},[it(U.$slots,"content")],2)],6)],512)],2))}}),vi={name:"AmImagePlaceholder"},rt=Object.assign(vi,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(_){const b=_;function c(C){return C.pictureFullPath?{backgroundImage:`url(${C.pictureFullPath})`}:{backgroundColor:`${Xt.value[Math.floor(Math.random()*Xt.value.length)]}`}}function g(C){return C.pictureFullPath?"":("firstName"in C?`${C.firstName} ${C.lastName}`:C.name).split(" ").map(d=>d.charAt(0)).join("").toUpperCase().substring(0,b.trimString).replace(/[^\w\s]/g,"")}return(C,T)=>(t(),i("span",{class:R(e(b).itemClass),style:re(at({},c(e(b).itemData)))},l(g(e(b).itemData)),7))}}),Ot=lt(window.wpAmeliaSettings),Kt=lt(window.wpAmeliaLabels);function bt(_,b,c,g=null,C=null){let T=[],d=_&&_.service?_.service.split(",").map(s=>parseInt(s)):null;return b&&b.serviceList.forEach(s=>{g?g in c.entitiesRelations&&s.id in c.entitiesRelations[g]&&(C?c.entitiesRelations[g][s.id].find(m=>m===C):!0)&&s.status==="visible"&&s.show&&!T.filter(m=>m===s.id).length&&(!d||d.includes(s.id))&&T.push(s.id):c.employees.forEach(m=>{m.id in c.entitiesRelations&&s.id in c.entitiesRelations[m.id]&&(C?c.entitiesRelations[m.id][s.id].find(k=>k===C):!0)&&s.status==="visible"&&s.show&&!T.filter(k=>k===s.id).length&&(!d||d.includes(s.id))&&T.push(s.id)})}),T}function ia(_,b){let c=[],g=[];_.employees.forEach(d=>{if(d.id in _.entitiesRelations&&b in _.entitiesRelations[d.id]){let s=d.serviceList.find(m=>m.id===b);c.push(s.maxCapacity),g.push(s.minCapacity)}});let C=g.reduce((d,s)=>s<d?s:d,g[0]),T=c.reduce((d,s)=>s>d?s:d,c[0]);return C!==T?`${C}/${T}`:C}function sa(_){let b=Math.floor(_/3600),c=_/60%60;return(b?b+Kt.h+" ":"")+" "+(c?c+Kt.min:"")}function ut(_,b){let c=[];_.employees.forEach(T=>{if(T.id in _.entitiesRelations&&b in _.entitiesRelations[T.id]){let d=T.serviceList.find(s=>s.id===b);c.push(d.price)}});let g=c.reduce((T,d)=>d<T?d:T,c[0]),C=c.reduce((T,d)=>d>T?d:T,c[0]);return g!==C?{price:`${Ke(g,!Ot.payments.hideCurrencySymbolFrontend)} - ${Ke(C,!Ot.payments.hideCurrencySymbolFrontend)}`,min:g,max:C}:{price:Ke(g,Ot.payments.hideCurrencySymbolFrontend),min:g,max:C}}function ze(_,b){let c=[];return _.employees.forEach(g=>{g.id in _.entitiesRelations&&b in _.entitiesRelations[g.id]&&_.entitiesRelations[g.id][b].length&&_.locations.forEach(C=>{_.entitiesRelations[g.id][b].some(T=>T===C.id)&&!c.find(T=>T===C.id)&&c.push(C)})}),c}function jt(_,b){let c=[],g=Object.keys(_.entitiesRelations);return b.bookable.forEach(C=>{let T=[];g.forEach(d=>{_.entitiesRelations[d][C.service.id]&&!T.find(s=>s?s.id===parseInt(d):!0)&&T.push(_.employees.find(s=>s.id===parseInt(d)))}),T.length||c.push(!1)}),c.filter(C=>C===!1).length}function Ht(_,b,c){let g=[],C=Object.keys(_.entitiesRelations),T=c&&c.employee?c.employee.split(",").map(s=>parseInt(s)):null,d=x(T?_.unfilteredEmployees.filter(s=>T.map(m=>parseInt(m)).includes(s.id)):_.unfilteredEmployees);return b.bookable.forEach(s=>{let m=[];s.providers.length?s.providers.forEach(k=>{s.locations.length?s.locations.forEach(w=>{d.value.find($=>$.id===k.id)&&_.entitiesRelations[k.id][s.service.id]&&_.entitiesRelations[k.id][s.service.id].indexOf(w.id)!==-1&&!m.find($=>$.id===k.id)&&m.push(d.value.find($=>$.id===k.id))}):d.value.find(w=>w.id===k.id)&&!m.find(w=>w.id===k.id)&&m.push(d.value.find(w=>w.id===k.id))}):C.forEach(k=>{s.locations.length?s.locations.forEach(w=>{_.entitiesRelations[k][s.service.id]&&_.entitiesRelations[k][s.service.id].indexOf(w.id)!==-1&&d.value.find($=>$.id===parseInt(k))&&!m.find($=>$.id===parseInt(k))&&m.push(d.value.find($=>$.id===parseInt(k)))}):_.entitiesRelations[k][s.service.id]&&d.value.find(w=>w.id===parseInt(k))&&!m.find(w=>w.id===parseInt(k))&&m.push(d.value.find(w=>w.id===parseInt(k)))}),g.push(!!m.length)}),!g.filter(s=>s===!1).length}function la(_,b,c){let g=[],C=Object.keys(_.entitiesRelations),T=c&&c.employee?c.employee.split(",").map(s=>parseInt(s)):null,d=x(T?_.unfilteredEmployees.filter(s=>T.map(m=>parseInt(m)).includes(s.id)):_.unfilteredEmployees);return b.bookable.forEach(s=>{s.providers.length?s.providers.forEach(m=>{s.locations.length?s.locations.forEach(k=>{d.value.find(w=>w.id===m.id)&&_.entitiesRelations[m.id][s.service.id].indexOf(k.id)!==-1&&!g.find(w=>w.id===m.id)&&g.push(d.value.find(w=>w.id===m.id))}):d.value.find(k=>k.id===m.id)&&!g.find(k=>k.id===m.id)&&g.push(d.value.find(k=>k.id===m.id))}):C.forEach(m=>{s.locations.length?s.locations.forEach(k=>{_.entitiesRelations[m][s.service.id]&&_.entitiesRelations[m][s.service.id].indexOf(k.id)!==-1&&d.value.find(w=>w.id===parseInt(m))&&!g.find(w=>w.id===parseInt(m))&&g.push(d.value.find(w=>w.id===parseInt(m)))}):_.entitiesRelations[m][s.service.id]&&d.value.find(k=>k.id===parseInt(m))&&!g.find(k=>k.id===parseInt(m))&&g.push(d.value.find(k=>k.id===parseInt(m)))})}),g}function nt(_,b,c){let g=[],C=Object.keys(_.entitiesRelations),T=c&&c.location?c.location.split(",").map(s=>parseInt(s)):null,d=x(T?_.unfilteredLocations.filter(s=>T.map(m=>parseInt(m)).includes(s.id)):_.unfilteredLocations);return b.bookable.forEach(s=>{s.locations.length?s.locations.forEach(m=>{d.value.find(k=>k.id===m.id)&&!g.find(k=>k.id===m.id)&&g.push(d.value.find(k=>k.id===m.id))}):C.forEach(m=>{d.value.forEach(k=>{m in _.entitiesRelations&&s.service.id in _.entitiesRelations[m]&&_.entitiesRelations[m][s.service.id].indexOf(k.id)!==-1&&d.value.find(w=>w.id===k.id)&&!g.find(w=>w.id===parseInt(k.id))&&g.push(d.value.find(w=>w.id===k.id))})})}),g}function gi(_,b){let c=[];return _.categories.forEach(g=>{let C=bt(b,g,_);g.packageList=[],_.packages.forEach(T=>{C.forEach(d=>{T.bookable.filter(s=>s.service.id===d).length&&!g.packageList.filter(s=>s===T.id).length&&T.available&&T.status==="visible"&&!jt(_,T)&&Ht(_,T,b)&&g.packageList.push(T.id)})}),g.status==="visible"&&g.serviceList.length&&!!C.length&&(b.show==="packages"?!!g.packageList.length:!0)&&c.push(g)}),c}const yi={class:"am-fcl__item-inner"},hi={class:"am-fcl__item-name"},bi={class:"am-fcl__item-segments"},ki={key:0,class:"am-fcl__item-segments__item"},Ci=a("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),$i={class:"am-fcl__item-segments__item-count"},Si={key:1,class:"am-fcl__item-segments__item"},wi=a("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),xi={class:"am-fcl__item-segments__item-count"},Pi={class:"am-fcl__item-footer"},Ii=["src"],Di={class:"am-empty__heading"},Ei={class:"am-empty__subheading"},Li={class:"am-empty__text"},Ti={key:0},Bi={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Fi={key:1},zi={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Ai={name:"CategoriesList",key:"categoriesList"},Oi=Object.assign(Ai,{setup(_){const b=A("baseUrls");let c=x(null),g=x(0);window.addEventListener("resize",C);function C(){c.value&&(g.value=c.value.offsetWidth)}Fe(()=>{c.value&&(g.value=c.value.offsetWidth)});let T=h(()=>g.value<=500?"am-w100":g.value<=600?"am-w50":g.value<=768?"am-w33":""),{nextPage:d}=A("changingPageFunctions",{nextPage:()=>{}});const s=A("settings");let m=st(),k=A("amEntities"),w=A("customizedDataForm"),$=h(()=>w.value.categoriesList.options);const P=A("shortcodeData"),f=h(()=>m.getters["entities/getPreselected"]);let U=A("availableCategories"),te=h(()=>{let _e=[];return k.value.categories.forEach(Z=>{let p=bt(P.value,Z,k.value);Z.packageList=[],k.value.packages.forEach(ce=>{p.forEach(be=>{ce.bookable.filter(ue=>ue.service.id===be).length&&!Z.packageList.filter(ue=>ue===ce.id).length&&ce.available&&ce.status==="visible"&&!jt(k.value,ce)&&Ht(k.value,ce,P.value)&&Z.packageList.push(ce.id)})}),Z.status==="visible"&&Z.serviceList.length&&!!p.length&&(f.value.show==="packages"?!!Z.packageList.length:!0)&&_e.push(Z)}),Le(()=>{U.value=JSON.parse(JSON.stringify(_e))}),_e}),E=A("categorySelected");function z(_e){E.value=_e,m.commit("booking/setCategoryId",parseInt(_e)),yt(m,{},"SelectCategory","appointment",null,null),d()}let n=h(()=>te.value.length===0);const H=A("labels"),ne=A("localLanguage");let q=h(()=>s.general.usedLanguages.includes(ne.value)),ve=h(()=>{let _e=lt(at({},H));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let Z=s.customizedData.cbf.categoriesList.translations;Object.keys(Z).forEach(p=>{Z[p][ne.value]&&q.value?_e[p]=Z[p][ne.value]:Z[p].default&&(_e[p]=Z[p].default)})}return _e}),$e=A("amColors"),V=h(()=>({"--am-c-fcl-card-text-op80":ie($e.value.colorCardText,.8)}));return(_e,Z)=>e(n)?(t(),i("div",{key:1,ref_key:"ameliaContainer",ref:c,class:"am-empty"},[a("img",{src:e(b).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ii),a("div",Di,l(e(ve).oops),1),a("div",Ei,l(e(f).show!=="packages"?e(ve).no_services_employees:e(ve).no_package_services),1),a("div",Li,[e(f).show!=="packages"?(t(),i("span",Ti,l(e(ve).add_services_employees)+"\xA0 ",1)):u("",!0),a("a",Bi,l(e(ve).add_services_url)+"\xA0 ",1),e(f).show!=="packages"?(t(),i("span",Fi,l(e(ve).and)+"\xA0 ",1)):u("",!0),e(f).show!=="packages"?(t(),i("a",zi,l(e(ve).add_employees_url),1)):u("",!0)])],512)):(t(),i("div",{key:0,ref_key:"ameliaContainer",ref:c,class:"am-fcl",style:re(e(V))},[(t(!0),i(X,null,he(e(te),p=>(t(),i("div",{key:p.id,class:R(["am-fcl__item",e(T)])},[a("div",yi,[a("div",{class:"am-fcl__item-content",style:re(e($).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:p.color}:{})},[a("div",{class:"am-fcl__item-heading",style:re(e($).cardColor&&e($).cardColor.visibility?{backgroundColor:e(ie)(p.color,.1)}:{})},[p.pictureFullPath?(t(),i("div",{key:0,style:re({backgroundImage:`url(${p.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):u("",!0),a("div",hi,l(p.name),1),a("div",bi,[(!e(f).show||e(f).show==="services")&&e($).services.visibility?(t(),i("div",ki,[Ci,a("span",$i,l(e(bt)(e(P),p,e(k)).length),1)])):u("",!0),(!e(f).show||e(f).show==="packages")&&p.packageList.length&&e($).packages.visibility?(t(),i("div",Si,[wi,a("span",xi,l(p.packageList.length),1)])):u("",!0)])],4),a("div",Pi,[J(Ae,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e($).cardButton.buttonType,suffix:e(Ca),onClick:ce=>z(p.id)},{default:O(()=>[me(l(e(ve).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Ri=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Mi=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Vi=["href"],Ni={class:"am-fs-sb__step-wrapper"},Ui={class:"am-fs-sb__step-inner"},Wi={class:"am-fs-sb__step-icon"},ji={key:0,class:"am-icon-check"},Hi={key:0},qi={key:1},Gi={key:1},Ji={key:0,class:"am-fs-sb__step"},Yi={class:"am-fs-sb__step-inner"},Qi={class:"am-fs-sb__step-icon"},Xi={key:0,class:"am-icon-check"},Zi={key:0,class:"am-fs-sb__support"},Ki=["href"],es={key:1,class:"am-icon-phone"},ts=["href"],as={key:1,class:"am-icon-email"},is={key:0,class:"am-fs-sb__menu-text"},ss={key:2,class:"am-no-services"},ls=["src"],os={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ns={style:{"font-size":"14px"}},cs={href:"https://wpamelia.com/employees/",rel:"nofollow"},rs={name:"CategoryBooking"},qt=Object.assign(rs,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(_,{emit:b}){const c=_;let g=x(null),C=x();se("containerWidth",C);let T=x(!1);window.addEventListener("resize",d);function d(){g.value&&(C.value=g.value.offsetWidth)}Fe(()=>{Le(()=>{g.value&&(C.value=g.value.offsetWidth)}),yt(n,{containerWidth:C},"ContainerWidth","appointment",null,null)});const s=A("settings"),m=s.customizedData?s.customizedData.sbsNew:ct.sbsNew;m&&se("amCustomize",m);let k=h(()=>{let o={heading:!0,phone:!0,email:!0};return"supportHeading"in m.sidebar.options&&(o.heading=m.sidebar.options.supportHeading.visibility),"companyPhone"in m.sidebar.options&&(o.phone=m.sidebar.options.companyPhone.visibility),"companyEmail"in m.sidebar.options&&(o.email=m.sidebar.options.companyEmail.visibility),o});const w=x(s.customizedData?s.customizedData.fonts:ct.fonts);se("amFonts",w);let $=x(!1);se("sidebarCollapsed",$);let P=x(""),f=A("bookingDialogWidth");Ct($,o=>{o?setTimeout(()=>{P.value="am-collapsed",setTimeout(()=>{f.value="592px"},200)},1e3):(P.value="",f.value="760px")}),Fe(()=>{m.sidebar.options.self.visibility||(f.value="520px")});let U=x(null),te=x(0);Fe(()=>{setTimeout(()=>{Le(()=>{U.value&&setTimeout(()=>{U.value&&(te.value=U.value.offsetHeight)},200)})},800)});let E=x(m.sidebar?m.sidebar.options.self.visibility:!0);const z=A("baseUrls"),n=st();let H=h(()=>{let o=n.getters["entities/getOriginalPreselected"],y={category:n.state.booking.appointment.categoryId?[n.state.booking.appointment.categoryId]:[],counter:n.state.entities.preselected.counter,employee:n.state.booking.appointment.providerId?[n.state.booking.appointment.providerId]:[],hasApiCall:n.state.entities.preselected.hasApiCall,location:n.state.booking.appointment.locationId?[n.state.booking.appointment.locationId]:[],service:n.state.booking.appointment.serviceId?[n.state.booking.appointment.serviceId]:[],package:n.state.booking.packageId?[n.state.booking.packageId]:[],show:n.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(o).forEach(D=>{D in y||(y[D]=o[D])}),y});n.commit("entities/setPreselected",H.value);let ne=A("restoreFormData");const q=Pe($a),ve=Pe(Sa),$e=Pe(wa),V=Pe(xa),_e=Pe(Pa),Z=Pe(Ia),p=Pe(Da),ce=Pe(Ea),be=Pe(La),ue=Pe(Ta),ge=Pe(Ba),ee=Pe(Fa),Be=Pe(za),Oe=Pe(Aa),v=x(Ye(n)?[q,Z,ue,ge,be]:[q,Z,ge,be]);se("stepsArray",v);const j=A("labels"),le=A("localLanguage");let N=h(()=>s.general.usedLanguages.includes(le.value)),Ie=Ft(n),oe=h(()=>{let o=lt(at({},j));return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(y=>{if(y!=="colors"&&s.customizedData.sbsNew[y].translations){let D=s.customizedData.sbsNew[y].translations;Object.keys(D).forEach(Y=>{D[Y][le.value]&&N.value?o[Y]=D[Y][le.value]:D[Y].default&&(o[Y]=D[Y].default)})}}),o});se("amLabels",oe);let je=h(()=>{let o={};if(s.customizedData){let y=s.customizedData.sbsNew[v.value[S.value].key]?s.customizedData.sbsNew[v.value[S.value].key].translations:null;s.customizedData&&y&&Object.keys(y).forEach(D=>{y[D][le.value]&&N.value?o[D]=y[D][le.value]:y[D].default&&(o[D]=y[D].default)})}return Object.keys(o).length?o:j}),De=h(()=>{let o="filled";return s.customizedData&&s.customizedData.sbsNew[v.value[S.value].key]&&(o=s.customizedData.sbsNew[v.value[S.value].key].options.primaryFooterButton.buttonType),o});se("primFooterBtnType",De),se("primDescBtnType",De);let Q=h(()=>{let o="text";return s.customizedData&&s.customizedData.sbsNew[v.value[S.value].key]&&s.customizedData.sbsNew[v.value[S.value].key].options.secondaryFooterButton&&(o=s.customizedData.sbsNew[v.value[S.value].key].options.secondaryFooterButton.buttonType),o}),G=h(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),F=h(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function ae(o,y){let D="";if(s.customizedData){let Y=s.customizedData.sbsNew[y]?s.customizedData.sbsNew[y].translations:null;s.customizedData&&Y&&Y[o]&&(D===""&&Y[o][le.value]&&N.value?D=Y[o][le.value]:D===""&&Y[o].default&&(D=Y[o].default))}return D||j[o]}let mt=h(()=>Oa(n.getters["entities/getEmployeeServices"](n.getters["booking/getSelection"])));function Me(){let o=n.getters["entities/getPreselected"];if(o.show==="packages")o.package.length>0&&(v.value.splice(0,1),K.value.splice(0,1),Te()),Ne();else{I();let y=n.getters["entities/filteredEmployees"](n.getters["booking/getSelection"]).length<=1,D=!m.initStep.options.employee.visibility,Y=n.getters["entities/filteredLocations"](n.getters["booking/getSelection"]).length<=1,Ee=!m.initStep.options.location.visibility;o.service.length>0&&(o.employee.length>0||y||D)&&(o.location.length>0||Y||Ee)&&(mt.value.availability?(v.value.splice(0,1,Oe),K.value.splice(0,1)):(v.value.splice(0,1),K.value.splice(0,1)),Ne())}}function xe(o,y,D,Y){o.value.map((qe,Ze)=>y.includes(qe.name)?Ze:null).filter(qe=>qe!==null).reverse().forEach(qe=>{o.value.splice(qe,1)});let Je={value:Y};D.forEach(qe=>{o.value.indexOf(qe)===-1&&(n.getters["entities/getPreselected"].show==="packages"&&n.getters["entities/getPreselected"].package.length>0?o.value.splice(Je.value,0,qe):o.value.splice(Je.value+1,0,qe))})}se("goToPackageStep",{goToPackageStep:et});function et(o){n.commit("booking/setPackageId",o.id),n.commit("booking/setBookableType","package"),n.commit("booking/setMultipleAppointments",It(0,o)),n.commit("booking/setMultipleAppointmentsIndex",0);let y=o.bookable.reduce((Ee,Je)=>Ee+Je.maximumScheduled,0),D=[],Y=[];v.value[0]!==ve&&D.push("ExtrasStep"),v.value[0]!==Z&&D.push("DateTimeStep"),v.value[0]!==ue&&D.push("CartStep"),y>0?Y=Y.concat([ce,p,$e]):Y.push($e),xe(v,D,Y,S.value),xe(K,D,[],S.value),Ne(),ot()}function Te(){let y=n.state.entities.packages.find(Ee=>Ee.id===n.getters["booking/getPackageId"]).bookable.reduce((Ee,Je)=>Ee+Je.maximumScheduled,0),D=[],Y=[];v.value.find(Ee=>Ee.name==="ExtrasStep")&&D.push("ExtrasStep"),v.value.find(Ee=>Ee.name==="DateTimeStep")&&D.push("DateTimeStep"),y>0?Y=Y.concat([ce,p,$e]):Y.push($e),xe(v,D,Y,S.value),xe(K,D,[],S.value),Ne(),ot()}function pt(){n.commit("booking/setBookableType","appointment"),n.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),n.commit("booking/setPackageId",null),n.commit("booking/setMultipleAppointmentsIndex",0),gt(n);let o=[];v.value[0]!==Z&&(Ye(n)&&o.push(ue),o.push(Z)),v.value[0]!==ve&&B.value&&B.value.length&&o.push(ve),xe(v,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],o,S.value-1),xe(K,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],S.value),Ne()}se("goToRecurringStep",{goToRecurringStep:_t}),se("removeRecurringStep",{removeRecurringStep:W});function _t(){Ye(n)&&na();let o=0;for(let y=0;y<v.value.length;y++)if(v.value[y].name==="DateTimeStep"){o=y;break}v.value.splice(o+1,0,V),v.value.splice(o+2,0,_e),Ne(),ot()}function W(){for(let o=v.value.length-1;o>=0;o--)(v.value[o].name==="RecurringStep"||v.value[o].name==="RecurringSummary")&&v.value.splice(o+1,1);Ye(n)&&oa(S.value),Ne()}let B=h(()=>{let o=n.getters["entities/getService"](n.getters["booking/getServiceId"]);return o?o.extras:[]});function I(){B.value.length&&!v.value.find(o=>o.name==="ExtrasStep")&&(v.value.splice(S.value+1,0,ve),Ne()),K.value.find(o=>o.name==="ExtrasStep")&&!Object.keys(B.value).length&&(v.value.splice(1,1),K.value.splice(1,1)),c.showCart||gt(n)}se("initDataChanges",{changeInitStepDataService:I});const S=x(0);se("stepIndex",S);let He=A("stepName",x(""));Ct(S,(o,y)=>{o<K.value.length&&(K.value[y].selected=!1,K.value[o].selected=!0),o===K.value.length&&(K.value[y].selected=!1),He.value=v.value[o].name});let Ge=x(!1);se("goBackToPackageBooking",Ge);function Dt(){pe(!1),Ce.value||(v.value[S.value].name===$e.name&&pt(),v.value[S.value].name===V.name&&(v.value.splice(S.value,2),K.value.splice(S.value,2),Ye(n)&&(v.value.splice(S.value,0,ue),xe(K,[],[],S.value),Ne())),v.value[S.value].name===ce.name&&(Ge.value=!0),S.value=S.value-1),tt.value=!tt.value}function ot(){Ce.value||(K.value[S.value].finished=!0,S.value=S.value+1)}let ft=h(()=>n.getters["entities/getReady"]),Et=h(()=>n.getters["booking/getLoading"]),Xe=h(()=>n.getters["booking/getBooked"]),Lt=h(()=>n.getters["booking/getPaymentGateway"]),vt=x(!1),Se=x(!1),tt=x(!1);function Tt(){vt.value=!0}function M(){vt.value=!1}function L(){tt.value=!0}function r(){tt.value=!1}function pe(o){Se.value=o}function we(){Xe.value&&(Xe.value.customerCabinetUrl?window.location.href=Xe.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}se("secondButton",{secondButtonClick:we});let Ce=x(!1);se("changingStepsFunctions",{nextStep:ot,previousStep:Dt,footerButtonClick:Tt,footerButtonReset:M,footerBtnDisabledUpdater:pe,headerButtonPreviousClick:L,headerButtonPreviousReset:r,footerBtnDisabled:Se,footerButtonClicked:vt,headerButtonPreviousClicked:tt,navigateInsideStep:Ce});const K=x([]);se("sidebarSteps",K);function Ve(o){K.value[S.value].stepSelectedData.filter(y=>y.reference===o.reference).length?K.value[S.value].stepSelectedData.forEach((y,D,Y)=>{y.reference===o.reference&&o.value&&o.value!==y.value&&(y.value=o.value),y.reference===o.reference&&!o.value&&Y.splice(D,1)}):o.value&&K.value[S.value].stepSelectedData.push(o),K.value[S.value].stepSelectedData.sort((y,D)=>y.position-D.position)}function fe(){v.value.forEach((o,y)=>{if(o.name!=="CongratulationsStep"){let D=o.sidebarData.label,Y={name:o.name,key:o.key,label:oe.value[D],labelKey:D,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===S.value};K.value.splice(y,0,Y)}})}Mt(()=>{fe(),Me()}),Fe(()=>{switch(n.getters["booking/getBookableType"]){case"appointment":c.showCart||gt(n);break}if(c.showCart&&Zt(v,S),ne.value){v.value.splice(0,v.value.length),K.value.splice(0,K.value.length),S.value=0,ne.value.steps.forEach(y=>{switch(y){case"packageStep":v.value.push(Be);break;case"bringingAnyone":v.value.push(Oe);break;case"initStep":v.value.push(q);break;case"packageInfoStep":v.value.push($e);break;case"packageAppointmentsStep":v.value.push(p);break;case"packageAppointmentsListStep":v.value.push(ce);break;case"extrasStep":v.value.push(ve);break;case"dateTimeStep":v.value.push(Z);break;case"recurringStep":v.value.push(V);break;case"recurringSummary":v.value.push(_e);break;case"cartStep":v.value.push(ue);break;case"infoStep":v.value.push(ge);break;case"paymentStep":v.value.push(ee);break;case"congratulations":v.value.push(be);break}let D=ne.value.sidebar.find(Y=>Y.key===y);Ne(),typeof D!="undefined"&&D.data&&D.data.forEach(Y=>{Ve({reference:Y.reference,position:Y.position,value:Y.value})}),S.value++}),n.commit("booking/setLoading",!1);let o=-1;ne.value.result==="success"?o=v.value.length-1:(ne.value.result==="error"||ne.value.result==="canceled")&&(o=v.value.length-2);for(let y=0;y<=o;y++)v.value[y].finished=!0;for(let y=0;y<=o-1;y++)K.value[y].finished=!0,K.value[y].selected=!1;(ne.value.result==="error"||ne.value.result==="canceled")&&(K.value[o].finished=!1,K.value[o].selected=!0),S.value=o}});function Ne(){v.value.forEach((o,y)=>{if(o.name!=="CongratulationsStep"&&!K.value.find(D=>D.labelKey===o.sidebarData.label)){let D=o.sidebarData.label,Y={name:o.name,key:o.key,label:oe.value[D],labelKey:D,icon:o.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===S.value};K.value.splice(y,0,Y)}})}se("sidebarStepsFunctions",{sidebarDataCollector:Ve}),se("addPaymentsStep",{addPaymentsStep:Gt}),se("removePaymentsStep",{removePaymentsStep:Jt});function Gt(){v.value.splice(v.value.length-1,0,ee),Ne()}function Jt(){let o=["PaymentStep"];xe(v,o,[],S.value),xe(K,o,[],S.value)}function oa(o){xe(v,[],[ue],o),xe(K,[],[],o)}function na(){xe(v,["CartStep"],[],S.value),xe(K,["CartStep"],[],S.value)}function ca(){if(n.getters["entities/getPreselected"].show==="packages"){let y=n.getters["booking/getPackageId"]?[n.getters["entities/getPackage"](n.getters["booking/getPackageId"])]:n.getters["entities/getPackages"];return y.length>0&&y.filter(D=>D.price>0).length===y.length}if(!n.getters["booking/getPackageId"]){let y=n.getters["booking/getServiceId"]?[n.getters["entities/getService"](n.getters["booking/getServiceId"])]:n.getters["entities/getServices"],D=0;for(let Y of y){let Ee=n.getters["booking/getEmployeeId"]?n.getters["entities/getEmployee"](n.getters["booking/getEmployeeId"])?[n.getters["entities/getEmployee"](n.getters["booking/getEmployeeId"])]:[]:n.getters["entities/getEmployees"],Je=n.getters["booking/getBookingDuration"];if(Ee.filter(Ze=>Ze.serviceList.find(Ue=>Ue.id===Y.id&&(Ue.price>0||Ue.customPricing&&Ue.customPricing.enabled&&(Object.values(Ue.customPricing.durations).length===Object.values(Ue.customPricing.durations).filter(Bt=>Bt.price>0).length||Je&&Ue.customPricing.durations[Je].price>0)))).length===Ee.filter(Ze=>Ze.serviceList.find(Ue=>Ue.id===Y.id)).length)D++;else{let Ze=n.getters["booking/getSelectedExtras"].length?n.getters["booking/getSelectedExtras"]:[];Ze.length>0&&Ze.reduce((Ue,Bt)=>Ue+Bt.price,0)>0&&D++}}return y.length>0&&D===y.length}return n.getters["entities/getPackage"](n.getters["booking/getPackageId"]).price>0}let ra=h(()=>Ft(n).length?Ra(n)!==0:ca());Ma(()=>{let o=Ft(n);!o[0].serviceId&&Object.keys(o[0].services).length===0&&b("emptiedCart"),!ne.value&&!ra.value?Jt():ne.value||v.value.indexOf(ee)===-1&&Gt()},{flush:"post"});function ua(){K.value.forEach(o=>{o.finished=!1,o.selected=!1}),v.value.forEach(o=>{o.finished=!1,o.selected=!1}),S.value=0,aa(n,!0),qa(n),gt(n),b("addToCart")}function da(){let o=n.getters["booking/getCurrentCartItem"],y=n.getters["booking/getAllMultipleAppointments"];o?(n.commit("booking/setCartItem",o),n.commit("booking/setCartItemIndex",y.length-1),n.commit("booking/setCurrentCartItem",null)):(y.pop(),n.commit("booking/setCartItemIndex",y.length-1),n.commit("booking/setServiceId",y[y.length-1].serviceId),n.commit("booking/setEmployeeId",y[y.length-1].services[y[y.length-1].serviceId].providerId),n.commit("booking/setLocationId",y[y.length-1].services[y[y.length-1].serviceId].locationId)),Zt(v,S)}let ke=h(()=>s.customizedData?s.customizedData.sbsNew.colors:ct.sbsNew.colors);se("amColors",ke);let ma=h(()=>({"--am-c-primary":ke.value.colorPrimary,"--am-c-success":ke.value.colorSuccess,"--am-c-error":ke.value.colorError,"--am-c-warning":ke.value.colorWarning,"--am-c-main-bgr":ke.value.colorMainBgr,"--am-c-main-heading-text":ke.value.colorMainHeadingText,"--am-c-main-text":ke.value.colorMainText,"--am-c-sb-bgr":ke.value.colorSbBgr,"--am-c-sb-text":ke.value.colorSbText,"--am-c-inp-bgr":ke.value.colorInpBgr,"--am-c-inp-border":ke.value.colorInpBorder,"--am-c-inp-text":ke.value.colorInpText,"--am-c-inp-placeholder":ke.value.colorInpPlaceHolder,"--am-c-drop-bgr":ke.value.colorDropBgr,"--am-c-drop-text":ke.value.colorDropText,"--am-c-btn-prim":ke.value.colorBtnPrim,"--am-c-btn-prim-text":ke.value.colorBtnPrimText,"--am-c-btn-sec":ke.value.colorBtnSec,"--am-c-btn-sec-text":ke.value.colorBtnSecText,"--am-c-skeleton-op20":ie(ke.value.colorMainText,.2),"--am-c-skeleton-op60":ie(ke.value.colorMainText,.6),"--am-font-family":w.value.fontFamily,"--am-mw-main":E.value?$.value?"592px":"760px":"520px","--am-brad-main":E.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function pa(){let o=document.head||document.getElementsByTagName("head")[0];o.querySelector("#amCustomFont")&&o.querySelector("#amCustomFont").remove();let y=`@font-face {font-family: '${w.value.fontFamily}'; src: url(${w.value.fontUrl});}`,D=document.createElement("style");o.appendChild(D),D.setAttribute("type","text/css"),D.setAttribute("id","amCustomFont"),D.appendChild(document.createTextNode(y))}w.value.customFontSelected&&pa();let _a=h(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",_a),Fe(()=>{ea("renderForm",{ameliaContainer:g,containerWidth:C,empty:T,amCustomize:m,amFonts:w,sidebarCollapsed:$,sidebarCollapseItemsClass:P,sidebarFooterRef:U,sidebarFooterHeight:te,sidebarVisibility:E})}),(o,y)=>(t(),i(X,null,[w.value.customFontSelected?u("",!0):(t(),i(X,{key:0},[Ri,Mi,a("link",{rel:"stylesheet",type:"text/css",href:`${e(z).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Vi)],64)),e(T)?(t(),i("div",ss,[a("img",{src:e(z).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,ls),a("h1",null,l(e(oe).oops),1),a("h3",null,l(e(oe).no_services_employees),1),a("p",null,l(e(oe).add_services_employees),1),a("a",os,l(e(oe).add_services_url)+"\xA0 ",1),a("span",ns,l(e(oe).and)+"\xA0",1),a("a",cs,l(e(oe).add_employees_url),1)])):(t(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:g,class:R(["am-fs__wrapper",{"am-collapsed":e($)}]),style:re(e(ma))},[e(C)>560&&e(E)?(t(),ye(Ua,{key:0,class:R(["am-fs-sb",{"am-collapsed":e($)}]),style:re({width:e($)?"72px":"240px",paddingBottom:`${e(te)+16}px`})},{"step-list":O(()=>[a("div",Ni,[v.value[S.value]!==e(be)||!e(s).general.addToCalendar||e(Xe)&&e(Xe).data.length===0?(t(!0),i(X,{key:0},he(K.value,D=>(t(),i("div",{key:D.key,class:"am-fs-sb__step"},[a("div",Ui,[a("div",Wi,[a("span",{class:R(`am-icon-${D.icon}`)},null,2),D.key==="cartStep"&&e(We)(e(n))!==0?(t(),i("span",{key:0,class:R(["am-fs-sb__step-icon__number",e(P)])},l(e(We)(e(n))),3)):u("",!0)]),J(Qe,{name:"fade"},{default:O(()=>[e($)?u("",!0):(t(),i("p",{key:0,class:R(["am-fs-sb__step-heading",e(P)])},l(D.label),3))]),_:2},1024),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":D.selected},e(P)]])},[J(Qe,{name:"fade"},{default:O(()=>[D.finished?(t(),i("span",ji)):u("",!0)]),_:2},1024)],2)]),J(Va,{tag:"span",name:"fade",appear:"",class:R(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":D.key===e(p).key&&D.stepSelectedData.length>3}])},{default:O(()=>[e($)?u("",!0):(t(!0),i(X,{key:0},he(D.stepSelectedData,(Y,Ee)=>(t(),i("p",{key:Y.position,class:"am-fs-sb__step-selection"},[D.key!==e(p).key||Ee<3?(t(),i("span",Hi,l(Y.value),1)):(t(),i("span",qi,l(e(oe).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(t(),i("div",Gi,[J(Qe,{name:"fade"},{default:O(()=>[e($)?u("",!0):(t(),ye(Na,{key:0}))]),_:1}),e($)?(t(),i("div",Ji,[a("div",Yi,[a("div",Qi,[a("span",{class:R(`am-icon-${v.value[S.value].sidebarData.icon}`)},null,2)]),a("div",{class:R(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":v.value[S.value].sidebarData.selected},e(P)]])},[J(Qe,{name:"fade"},{default:O(()=>[v.value[S.value].sidebarData.finished?(t(),i("span",Xi)):u("",!0)]),_:1})],2)])])):u("",!0)]))])]),"support-info":O(()=>[a("div",{ref_key:"sidebarFooterRef",ref:U,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(k).heading||e(k).phone||e(k).email)?(t(),i("div",Zi,[J(Qe,{name:"fade"},{default:O(()=>[!e($)&&e(k).heading?(t(),i("div",{key:0,class:R(["am-fs-sb__support-heading",e(P)])},l(e(oe).get_in_touch),3)):u("",!0)]),_:1}),e(s).company.phone&&e(k).phone?(t(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e($)?(t(),i("span",es)):(t(),i(X,{key:0},[me(l(e(s).company.phone),1)],64))],8,Ki)):u("",!0),e(s).company.email&&e(k).email?(t(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e($)?(t(),i("span",as)):(t(),i(X,{key:0},[me(l(e(s).company.email),1)],64))],8,ts)):u("",!0)])):u("",!0),a("div",{class:R(["am-fs-sb__menu",e(P)]),onClick:y[0]||(y[0]=D=>de($)?$.value=!e($):$=!e($))},[J(Qe,{name:"fade"},{default:O(()=>[e($)?u("",!0):(t(),i("span",is,l(e(oe).collapse_menu),1))]),_:1}),a("span",{class:R(`am-icon-arrow-circle-${e($)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):u("",!0),J(Ha,null,Vt({step:O(()=>[(t(),ye(ta(v.value[S.value]),{"global-class":"am-fs__main-content"}))]),footer:O(()=>[J(e(ja),{"second-button-show":v.value[S.value]===e(be)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(Ye)(e(n))&&v.value[S.value]===e(ue),"back-to-cart-button-show":e(Ye)(e(n))&&e(Ie).length>1&&v.value[S.value]!==e(ue)&&v.value[S.value]!==e(ge)&&v.value[S.value]!==e(ee)&&v.value[S.value]!==e(be),booked:e(Xe),loading:e(Et),ready:e(ft),"payment-gateway":e(Lt),"customized-labels":e(je),"primary-footer-button-type":e(De),"secondary-footer-button-type":e(Q),"add-to-cart-button-type":e(G),"back-to-cart-button-type":e(F),"back-to-cart-label":ae("cancel","cartStep"),onAddToCart:ua,onBackToCart:da},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[v.value[S.value]!==e(be)?{name:"header",fn:O(()=>[J(Wa,{"sidebar-visible":e(E),ready:e(ft)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const us={class:"am-fcil__filter-buttons"},ds={class:"am-fcil__filter"},ms={class:"am-fcil__filter-item__btn-wrapper"},ps={class:"am-fcil__heading"},_s={key:0,class:"am-fcil__item-badge__wrapper"},fs={class:"am-fcil__item-badge am-package"},vs=a("span",{class:"am-icon-shipment"},null,-1),gs={class:"am-fcil__item-heading"},ys={class:"am-fcil__item-name"},hs={key:0,class:"am-fcil__item-cost"},bs={key:0,class:"am-fcil__item-discount"},ks={class:"am-fcil__item-price"},Cs={key:1,class:"am-fcil__item-price"},$s={class:"am-fcil__item-info"},Ss={key:0,class:"am-fcil__item-info__inner"},ws=a("span",{class:"am-icon-folder"},null,-1),xs={key:1,class:"am-fcil__item-info__inner"},Ps=a("span",{class:"am-icon-clock"},null,-1),Is={key:0},Ds={key:1},Es={key:2},Ls={key:2,class:"am-fcil__item-info__inner"},Ts=a("span",{class:"am-icon-user"},null,-1),Bs=a("span",null,"1/1",-1),Fs=[Ts,Bs],zs={key:3,class:"am-fcil__item-info__inner"},As=a("span",{class:"am-icon-locations"},null,-1),Os={key:2,class:"am-fcil__item-services"},Rs={key:0,class:"am-fcil__item-badge__wrapper"},Ms={class:"am-fcil__item-badge am-service"},Vs=a("span",{class:"am-icon-service"},null,-1),Ns={class:"am-fcil__item-heading"},Us={class:"am-fcil__item-name"},Ws={key:0,class:"am-fcil__item-cost"},js={key:0,class:"am-fcil__item-price"},Hs={key:1,class:"am-fcil__item-price"},qs={class:"am-fcil__item-info"},Gs={key:0,class:"am-fcil__item-info__inner"},Js=a("span",{class:"am-icon-folder"},null,-1),Ys={key:1,class:"am-fcil__item-info__inner"},Qs=a("span",{class:"am-icon-clock"},null,-1),Xs={key:2,class:"am-fcil__item-info__inner"},Zs=a("span",{class:"am-icon-user"},null,-1),Ks={key:3,class:"am-fcil__item-info__inner"},el=a("span",{class:"am-icon-locations"},null,-1),tl={class:"am-fcil-employee__header"},al={class:"am-fcil-employee__heading"},il={class:"am-fcil-employee__heading-left"},sl={class:"am-fcil-employee__name"},ll={key:0,class:"am-fcil-employee__heading-right"},ol={class:"am-fcil-employee__price"},nl=["innerHTML"],cl={key:1,ref:"ameliaContainer",class:"am-empty"},rl=["src"],ul={class:"am-empty__heading"},dl={class:"am-empty__subheading"},ml={class:"am-empty__text"},pl={key:0},_l={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},fl={key:1},vl={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},gl={name:"CategoryItemsList",key:"categoryItemsList"},yl=Object.assign(gl,{setup(_){let b=A("licence"),{nextPage:c,previousPage:g}=A("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const C=A("baseUrls");let T=x(!1),d=x(!1),s=x("760px");se("bookingDialogWidth",s);function m(){s.value="760px"}let k=x(!1),w=x(),$=A("containerWidth"),P=A("customizedDataForm"),f=h(()=>P.value.categoryItemsList.options),U=h(()=>"pageScroll"in f.value?f.value.pageScroll.visibility:!0);const te=A("settings");let E=st();const z=A("shortcodeData"),n=h(()=>E.getters["entities/getPreselected"]);let H=h(()=>{let M=Array.isArray(z.value.category)?z.value.category:z.value.category.split(",");return M=M.filter(L=>L),M.length}),ne=h(()=>{let M=w.value&&w.value.catContainerWidth?w.value.catContainerWidth>768:!0;return H.value!==1&&f.value.sidebar.visibility&&M}),q=A("amEntities"),ve=h(()=>Ye(E)&&We(E)>0),$e=h(()=>We(E));const V=A("labels"),_e=A("localLanguage");let Z=h(()=>te.general.usedLanguages.includes(_e.value)),p=h(()=>{let M=lt(at({},V));if(te.customizedData&&te.customizedData.cbf&&te.customizedData.cbf.categoryItemsList.translations){let L=te.customizedData.cbf.categoryItemsList.translations;Object.keys(L).forEach(r=>{L[r][_e.value]&&Z.value?M[r]=L[r][_e.value]:L[r].default&&(M[r]=L[r].default)})}return M}),ce=x(""),be=kt({components:{IconComponent:Pt},template:'<IconComponent icon="search"/>'}),ue=x(!0),ge=kt({components:{IconComponent:Pt},template:'<IconComponent icon="filter"/>'}),ee=h(()=>w.value&&w.value.catHeaderWidth?w.value.catHeaderWidth:0);window.addEventListener("resize",Be);function Be(){Le(()=>{ee.value>480&&(ue.value=!0)})}Fe(()=>{Be()});function Oe(M){let L=[];return ce.value.toLowerCase().split(" ").forEach(r=>{L.push(M.toLowerCase().includes(r))}),L.filter(r=>r===!1).length<=0}let v=A("availableCategories"),j=A("categorySelected"),le=h(()=>bt(z.value,q.value.categories.find(M=>M.id===j.value),q.value,oe.value,je.value)),N=h(()=>{let M=[];return q.value.packages.forEach(L=>{le.value.forEach(r=>{L.bookable.filter(pe=>pe.service.id===r).length&&!M.filter(pe=>pe.id===L.id).length&&L.available&&L.status==="visible"&&!jt(q.value,L)&&Ht(q.value,L,z.value)&&(ce.value?Oe(L.name):!0)&&M.push(L)})}),M}),Ie=h(()=>{let M=[];return q.value.services.forEach(L=>{le.value.forEach(r=>{L.id===r&&(ce.value?Oe(L.name):!0)&&M.push(L)})}),M}),oe=x(null),je=x(null),De=x(!0),Q=x(!0);function G(M){M==="all"&&(De.value=!0,Q.value=!0),M==="packages"&&(De.value=!0,Q.value=!1),M==="services"&&(De.value=!1,Q.value=!0)}Mt(()=>{n.value.show&&G(n.value.show)});let F=h(()=>{let M=z.value.employee,L=q.value.employees.length,r=z.value.location,pe=q.value.locations.length,we=f.value.searchInput.visibility,Ce=f.value.filterEmployee.visibility&&M.length!==1&&L>1&&!b.isLite,K=f.value.filterLocation.visibility&&r.length!==1&&pe>1&&!b.isLite&&!b.isStarter,Ve=f.value.filterButtons.visibility&&n.value.show!=="packages"&&n.value.show!=="services"&&N.value.length!==0&&Ie.value.length!==0&&!We(E),fe={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return ee.value>992?!we||!Ve?(fe.employee=!we&&!Ve?"am-w50":"am-w35",fe.location=!we&&!Ve?"am-w50":"am-w35",fe.search=!Ve&&!K&&!Ce?"am-w100":"am-w30",Ce||(fe.location=!we&&!Ve?"am-w100":"am-w70"),K||(fe.employee=!we&&!Ve?"am-w100":"am-w70")):(Ce||(fe.location="am-w40"),K||(fe.employee="am-w40"),!Ce&&!K&&(fe.search="am-w70")):ee.value>768||ee.value>480?(fe.search=Ve?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",fe.buttons=we?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",fe.employee=K?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",fe.location=Ce?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",fe.category="am-w100 am-tablet am-order5"):(fe.employee="am-w100 am-mobile",fe.location="am-w100 am-mobile",fe.search="am-w100 am-mobile",fe.buttons="am-w100 am-mobile",fe.category="am-w100 am-mobile"),fe}),ae=h(()=>w.value&&w.value.catContainerWidth?w.value.catContainerWidth:0),mt=h(()=>{let M=N.value.length&&!We(E)?N.value.length:0,L=Ie.value.length>1?p.value.heading_services:p.value.heading_service,r=M?M>1?p.value.packages:p.value.package:"";if(!Ie.value.length&&!M)return p.value.no_search_data;if(Q.value&&(!De.value||!M))return`${p.value.available} - ${Ie.value.length} ${L}`;if((!Q.value||!Ie.value.length)&&De.value)return`${p.value.available} - ${M} ${r}`;let pe=M?"/":"";return`${p.value.available} - ${Ie.value.length} ${L} ${pe} ${M} ${r}`});Fe(()=>{Le(()=>{T.value=N.value.length===0&&Ie.value.length===0})});function Me(M){j.value=M.id,E.commit("booking/setCategoryId",parseInt(M.id))}let xe=A("itemType");function et(M){E.commit("booking/setServiceId",parseInt(M)),E.commit("booking/setBookableType","appointment"),xe.value="appointment",yt(E,{},"SelectService","appointment",null,null),Le(()=>{c()})}function Te(M){E.commit("booking/setServiceId",null),E.commit("booking/setPackageId",M.id),E.commit("booking/setBookableType","package"),E.commit("booking/setMultipleAppointments",It(0,M)),E.commit("booking/setCartItemIndex",0),xe.value="package",yt(E,{},"SelectPackage","package",null,null),Le(()=>{c()})}function pt(){j.value=null,E.commit("booking/setCategoryId",null),g()}function _t(){Rt(E),k.value=!0,d.value=!0}let W=x(!1),B=x(""),I=x([]),S=x({}),He=x(null);function Ge(){B.value="",I.value=[],S.value={},He.value=null}function Dt(M){I.value=la(q.value,M,z.value),S.value=M,W.value=!0}function ot(M){let L=[];Object.keys(q.value.entitiesRelations).forEach(pe=>{pe in q.value.entitiesRelations&&M in q.value.entitiesRelations[pe]&&q.value.employees.find(we=>we.id===parseInt(pe))&&L.push(q.value.employees.find(we=>we.id===parseInt(pe)))}),I.value=L,B.value="service",W.value=!0,He.value=M}function ft(M){let L=q.value.services.find(pe=>pe.id===He.value).price,r=M.serviceList.find(pe=>pe.id===He.value).price;return r!==L?`${r-L>0?L>0?"+":"":"-"} ${Ke(r-L)}`:0}function Et(){B.value==="service"?et(He.value):Te(S.value),Ge()}function Xe(M,L){let r="";return M>1?(L==="day"&&(r=p.value.expires_days),L==="week"&&(r=p.value.expires_weeks),L==="month"&&(r=p.value.expires_months)):(L==="day"&&(r=p.value.expires_day),L==="week"&&(r=p.value.expires_week),L==="month"&&(r=p.value.expires_month)),r}function Lt(M,L){return ze(M,L).length===1?ze(M,L)[0].address?ze(M,L)[0].address:ze(M,L)[0].name:p.value.multiple_locations}let vt=A("amFonts",x({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),Se=A("amColors"),tt=h(()=>({"--am-c-fcil-text-op-10":ie(Se.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ie(Se.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ie(Se.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ie(Se.value.colorCardText,.8),"--am-c-fcil-primary-op20":ie(Se.value.colorPrimary,.2),"--am-c-fcil-success-op20":ie(Se.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ie(Se.value.colorInpText,.1),"--am-w-fcil-main":H.value!==1&&f.value.sidebar.visibility&&ne.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":w.value&&w.value.catFormWidth<580?"100%":"50%"})),Tt=h(()=>({"--am-f-fcil-employee-f":vt.value.fontFamily,"--am-c-fcil-employee-bgr":Se.value.colorMainBgr,"--am-c-fcil-employee-heading":Se.value.colorMainHeadingText,"--am-c-fcil-employee-text":Se.value.colorMainText,"--am-c-fcil-employee-text-op80":ie(Se.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ie(Se.value.colorMainText,.15),"--am-c-fcil-employee-primary":Se.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ie(Se.value.colorPrimary,.1),"--am-c-inp-border":Se.value.colorInpBorder,"--am-c-main-text":Se.value.colorMainText}));return(M,L)=>e(T)?(t(),i("div",cl,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,rl),a("div",ul,l(e(p).oops),1),a("div",dl,l(e(n).show!=="packages"?e(p).no_services_employees:e(p).no_package_services),1),a("div",ml,[e(n).show!=="packages"?(t(),i("span",pl,l(e(p).add_services_employees)+"\xA0 ",1)):u("",!0),a("a",_l,l(e(p).add_services_url)+"\xA0 ",1),e(n).show!=="packages"?(t(),i("span",fl,l(e(p).and)+"\xA0 ",1)):u("",!0),e(n).show!=="packages"?(t(),i("a",vl,l(e(p).add_employees_url),1)):u("",!0)])],512)):(t(),ye(Wt,{key:0,ref_key:"contentRef",ref:w,"wrapper-class":`am-fcil ${e($)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e($)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e($)<481?"am-mobile":""} ${e(U)?"":"no-scroll"}`,style:re(e(tt))},Vt({header:O(()=>[a("span",us,[e(H)!==1&&!e(z).categories_hidden?(t(),ye(Ut,{key:0,"btn-size":e(ee)<481?"medium":"mini","btn-string":e(p).back_btn,"btn-type":e(f).backBtn.buttonType,"cart-btn-visibility":e(ve),"cart-items-number":e($e),onGoBack:pt,onGoToCart:_t},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):u("",!0),e(ee)<481?(t(),ye(Ae,{key:1,size:"medium",category:"secondary",type:e(f).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(ge),onClick:L[0]||(L[0]=()=>de(ue)?ue.value=!e(ue):ue=!e(ue))},null,8,["type","icon"])):u("",!0)]),a("div",ds,[e(f).searchInput.visibility?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(F).search])},[J(Ga,{modelValue:e(ce),"onUpdate:modelValue":L[1]||(L[1]=r=>de(ce)?ce.value=r:ce=r),placeholder:e(p).filter_input,"icon-start":e(be)},null,8,["modelValue","placeholder","icon-start"])],2)):u("",!0),J(Qe,{name:"slide-fade"},{default:O(()=>[e(z).employee.length!==1&&e(q).employees.length>1&&e(f).filterEmployee.visibility&&e(ue)&&!e(b).isLite?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(F).employee])},[J(zt,{modelValue:e(oe),"onUpdate:modelValue":L[2]||(L[2]=r=>de(oe)?oe.value=r:oe=r),clearable:"",filterable:"",placeholder:e(p).filter_employee,"fit-input-width":!0},{default:O(()=>[(t(!0),i(X,null,he(e(q).employees,r=>(t(),ye(At,{key:r.id,value:r.id,label:`${r.firstName} ${r.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):u("",!0)]),_:1}),J(Qe,{name:"slide-fade"},{default:O(()=>[e(z).location.length!==1&&e(q).locations.length>1&&e(f).filterLocation.visibility&&e(ue)&&!e(b).isLite&&!e(b).isStarter?(t(),i("div",{key:0,class:R(["am-fcil__filter-item",e(F).location])},[J(zt,{modelValue:e(je),"onUpdate:modelValue":L[3]||(L[3]=r=>de(je)?je.value=r:je=r),clearable:"",filterable:"",placeholder:e(p).filter_location,"fit-input-width":!0},{default:O(()=>[(t(!0),i(X,null,he(e(q).locations,r=>(t(),ye(At,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):u("",!0)]),_:1}),J(Qe,{name:"slide-fade"},{default:O(()=>[e(H)!==1&&e(f).sidebar.visibility&&!e(ne)&&e(ue)?(t(),i("div",{key:0,class:R(["am-fcil__filter-item am-w100",e(F).category])},[J(zt,{modelValue:e(j),"onUpdate:modelValue":L[4]||(L[4]=r=>de(j)?j.value=r:j=r),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:O(()=>[(t(!0),i(X,null,he(e(v),r=>(t(),ye(At,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):u("",!0)]),_:1}),!e(n).show&&e(f).filterButtons.visibility&&e(N).length!==0&&e(Ie).length!==0&&!e(We)(e(E))?(t(),i("div",{key:1,class:R(["am-fcil__filter-item",e(F).buttons])},[a("div",ms,[a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(De)&&e(Q)}]),onClick:L[5]||(L[5]=r=>G("all"))},[a("span",null,l(e(p).filter_all),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":e(De)&&!e(Q)}]),onClick:L[6]||(L[6]=r=>G("packages"))},[a("span",null,l(e(p).filter_packages),1)],2),a("div",{class:R(["am-fcil__filter-item__btn",{"am-active":!e(De)&&e(Q)}]),onClick:L[7]||(L[7]=r=>G("services"))},[a("span",null,l(e(p).filter_services),1)],2)])],2)):u("",!0)])]),heading:O(()=>[a("div",ps,l(e(mt)),1)]),content:O(()=>[e(De)&&!e(We)(e(E))?(t(!0),i(X,{key:0},he(e(N),r=>{var pe,we;return t(),i("div",{key:r.id,class:R(["am-fcil__item",{"am-mobile":e(ae)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(ae)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(f).cardColor&&e(f).cardColor.visibility?{backgroundColor:e(ie)(r.color,.1)}:{})},[e(f).packageBadge.visibility?(t(),i("div",_s,[a("div",fs,[vs,a("span",null,l(e(p).package),1)])])):u("",!0),r.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${r.pictureFullPath})`})},null,4)):u("",!0),a("div",gs,[a("div",ys,l(r.name),1),e(f).packagePrice.visibility?(t(),i("div",hs,[r.discount?(t(),i("span",bs,l(`${e(p).save} ${r.discount}%`),1)):u("",!0),a("span",ks,l(r.price?e(Ke)(e(Nt)(r)):e(p).free),1),r.price&&((we=(pe=e(f).tax)==null?void 0:pe.visibility)!=null?we:!0)&&e(ht)(e(E),r.id,"package")?(t(),i("span",Cs,[e(te).payments.taxes.excluded?(t(),i(X,{key:0},[me(l(`+${e(p).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(l(e(p).incl_tax),1)],64))])):u("",!0)])):u("",!0)]),a("div",$s,[e(f).packageCategory.visibility?(t(),i("div",Ss,[ws,a("span",null,l(e(v).find(Ce=>Ce.id===e(j)).name),1)])):u("",!0),e(f).packageDuration.visibility?(t(),i("div",xs,[Ps,r.endDate?(t(),i("span",Is,l(`${e(p).expires_at} ${r.endDate.split(" ")[0]}`),1)):r.durationCount?(t(),i("span",Ds,l(`${e(p).expires_after} ${r.durationCount} ${Xe(r.durationCount,r.durationType)}`),1)):(t(),i("span",Es,l(e(p).without_expiration),1))])):u("",!0),e(f).packageCapacity.visibility?(t(),i("div",Ls,Fs)):u("",!0),e(nt)(e(q),r,e(z)).length&&e(f).packageLocation.visibility?(t(),i("div",zs,[As,a("span",null,l(e(nt)(e(q),r,e(z)).length===1?e(nt)(e(q),r,e(z))[0].address?e(nt)(e(q),r,e(z))[0].address:e(nt)(e(q),r,e(z))[0].name:e(p).multiple_locations),1)])):u("",!0)]),e(f).packageServices.visibility?(t(),i("div",Os,[a("span",null,l(`${e(p).in_package}:`),1),(t(!0),i(X,null,he(r.bookable,Ce=>(t(),i("span",{key:Ce.id},l(Ce.service.name),1))),128))])):u("",!0)],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(ae)<481},{"am-micro":e(ae)<320}]])},[e(f).cardEmployeeBtn.visibility?(t(),ye(Ae,{key:0,class:R({"am-w100":e(ae)<320}),size:"small",type:e(f).cardEmployeeBtn.buttonType,onClick:Ce=>Dt(r)},{default:O(()=>[me(l(e(p).view_employees),1)]),_:2},1032,["class","type","onClick"])):u("",!0),J(Ae,{class:R([{"am-w100":!e(f).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ae)<320}]),size:"small",type:e(f).cardContinueBtn.buttonType,onClick:Ce=>Te(r)},{default:O(()=>[me(l(e(p).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):u("",!0),e(Q)?(t(!0),i(X,{key:1},he(e(Ie),r=>{var pe,we;return t(),i("div",{key:r.id,class:R(["am-fcil__item",{"am-mobile":e(ae)<481}])},[a("div",{class:R(["am-fcil__item-inner",{"am-mobile":e(ae)<481}])},[a("div",{class:"am-fcil__item-content",style:re(e(f).cardColor&&e(f).cardColor.visibility?{backgroundColor:e(ie)(r.color,.1)}:{})},[e(f).serviceBadge.visibility?(t(),i("div",Rs,[a("div",Ms,[Vs,a("span",null,l(e(p).heading_service),1)])])):u("",!0),r.pictureFullPath?(t(),i("div",{key:1,class:"am-fcil__item-hero",style:re({backgroundImage:`url(${r.pictureFullPath})`})},null,4)):u("",!0),a("div",Ns,[a("div",Us,l(r.name),1),e(f).servicePrice.visibility?(t(),i("div",Ws,[e(ut)(e(q),r.id).min||e(ut)(e(q),r.id).max?(t(),i("span",js,l(e(ut)(e(q),r.id).price),1)):u("",!0),((we=(pe=e(f).tax)==null?void 0:pe.visibility)!=null?we:!0)&&e(ht)(e(E),r.id,"service")?(t(),i("span",Hs,[e(te).payments.taxes.excluded?(t(),i(X,{key:0},[me(l(`+${e(p).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(l(e(p).incl_tax),1)],64))])):u("",!0)])):u("",!0)]),a("div",qs,[e(f).serviceCategory.visibility?(t(),i("div",Gs,[Js,a("span",null,l(e(v).find(Ce=>Ce.id===e(j)).name),1)])):u("",!0),e(f).serviceDuration.visibility?(t(),i("div",Ys,[Qs,a("span",null,l(e(sa)(r.duration)),1)])):u("",!0),e(f).serviceCapacity.visibility&&!e(b).isLite?(t(),i("div",Xs,[Zs,a("span",null,l(e(ia)(e(q),r.id)),1)])):u("",!0),e(ze)(e(q),r.id).length&&e(f).serviceLocation.visibility?(t(),i("div",Ks,[el,a("span",null,l(Lt(e(q),r.id)),1)])):u("",!0)])],4),a("div",{class:R(["am-fcil__item-footer",[{"am-mobile":e(ae)<481},{"am-micro":e(ae)<320}]])},[e(f).cardEmployeeBtn.visibility&&!e(b).isLite?(t(),ye(Ae,{key:0,class:R({"am-w100":e(ae)<320}),size:"small",type:e(f).cardEmployeeBtn.buttonType,onClick:Ce=>ot(r.id)},{default:O(()=>[me(l(e(p).view_employees),1)]),_:2},1032,["class","type","onClick"])):u("",!0),J(Ae,{class:R([{"am-w100":!e(f).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ae)<320}]),size:"small",type:e(f).cardContinueBtn.buttonType,onClick:Ce=>et(r.id)},{default:O(()=>[me(l(e(p).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2)}),128)):u("",!0),J(dt,{modelValue:e(W),"onUpdate:modelValue":L[9]||(L[9]=r=>de(W)?W.value=r:W=r),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Tt),width:"648px",onClose:Ge},{title:O(()=>[a("div",tl,l(e(p).employee_info),1)]),default:O(()=>[a("div",null,[J($t,null,{default:O(()=>[(t(!0),i(X,null,he(e(I),(r,pe)=>(t(),ye(St,{key:pe,side:""},{heading:O(()=>[a("div",al,[a("div",il,[J(rt,{"item-class":"am-fcil-employee__img","item-data":r,"trim-string":2},null,8,["item-data"]),a("div",sl,[me(l(`${r.firstName} ${r.lastName}`)+" ",1),r.badge?(t(),i("span",{key:0,style:re({background:r.badge.color}),class:"am-fcil-employee__badge"},l(r.badge.content),5)):u("",!0)])]),e(B)==="service"&&ft(r)!==0?(t(),i("div",ll,[a("div",ol,l(ft(r)),1)])):u("",!0)])]),default:O(()=>[e(Re)(r.description)?(t(),i("div",{key:0,class:R(["am-fcil-employee__text",{"ql-description":r.description.includes("<!-- Content -->")}]),innerHTML:r.description},null,10,nl)):u("",!0)]),_:2},1024))),128))]),_:1})])]),footer:O(()=>[e(f).dialogEmployeeBtn.visibility?(t(),ye(Ae,{key:0,type:e(f).dialogEmployeeBtn.buttonType,category:"primary",onClick:L[8]||(L[8]=r=>Et())},{default:O(()=>[me(l(e(B)==="service"?e(p).book_service:e(p).book_package),1)]),_:1},8,["type"])):u("",!0)]),_:1},8,["modelValue","custom-styles"]),J(dt,{modelValue:e(d),"onUpdate:modelValue":L[10]||(L[10]=r=>de(d)?d.value=r:d=r),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:m},{default:O(()=>[J(qt,{"show-cart":e(k)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(H)!==1&&e(f).sidebar.visibility&&e(ne)?{name:"side",fn:O(()=>[J(_i,{"menu-items":e(v),"init-selection":e(j),identifier:"id","name-identifier":"name","footer-string":e(p).get_in_touch,"company-email":e(te).company.email,onClick:Me},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const hl={class:"am-fcis__header-text"},bl={class:"am-fcis__header-name"},kl={key:0,class:"am-fcis__badge am-service"},Cl=a("span",{class:"am-icon-service"},null,-1),$l={class:"am-fcis__header-action"},Sl={key:0,class:"am-fcis__header-price"},wl={key:1,class:"am-fcis__header-tax"},xl={class:"am-fcis__header-btn"},Pl={key:0,class:"am-fcis__header-bottom"},Il={class:"am-fcis__mini-info"},Dl={key:0,class:"am-fcis__mini-info__inner"},El=a("span",{class:"am-icon-folder"},null,-1),Ll={key:1,class:"am-fcis__mini-info__inner"},Tl=a("span",{class:"am-icon-clock"},null,-1),Bl={key:2,class:"am-fcis__mini-info__inner"},Fl=a("span",{class:"am-icon-user"},null,-1),zl={key:3,class:"am-fcis__mini-info__inner"},Al=a("span",{class:"am-icon-locations"},null,-1),Ol={key:0,class:"am-fcis__gallery"},Rl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Ml={class:"am-gd__display-wrapper"},Vl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Nl=["src","alt"],Ul={class:"am-gd__selection"},Wl={class:"am-gd__thumb-wrapper"},jl=["onClick"],Hl={key:1,class:"am-fcis__info"},ql={class:"am-fcis__info-tab__wrapper"},Gl={class:"am-fcis__info-content__wrapper"},Jl={key:0,class:"am-fcis__info-content"},Yl=["innerHTML"],Ql={key:1,class:"am-fcis__info-content"},Xl={class:"am-fcis__info-employee__hero"},Zl={class:"am-fcis__info-employee__heading"},Kl={class:"am-fcis__info-employee__name"},eo={key:0,class:"am-fcis__info-employee__price"},to=["innerHTML"],ao={key:2,class:"am-fcis__include-wrapper"},io={class:"am-fcis__include-heading"},so={class:"am-fcis__include-heading__text"},lo=["onClick"],oo={class:"am-fcis__include-hero"},no={key:0,class:"am-fcis__include-cost"},co={key:0,class:"am-fcis__include-discount"},ro={class:"am-fcis__include-price"},uo={key:1,class:"am-fcis__include-price"},mo={class:"am-fcis__include-info"},po={key:0,class:"am-fcis__include-info__inner"},_o=a("span",{class:"am-icon-folder"},null,-1),fo={key:1,class:"am-fcis__include-info__inner"},vo=a("span",{class:"am-icon-clock"},null,-1),go={key:0},yo={key:1},ho={key:2},bo={key:2,class:"am-fcis__include-info__inner"},ko=a("span",{class:"am-icon-user"},null,-1),Co=a("span",null,"1/1",-1),$o=[ko,Co],So={key:3,class:"am-fcis__include-info__inner"},wo=a("span",{class:"am-icon-locations"},null,-1),xo={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},Po={key:1,ref:"ameliaContainer",class:"am-empty"},Io=["src"],Do={class:"am-empty__heading"},Eo={class:"am-empty__subheading"},Lo={class:"am-empty__text"},To={key:0},Bo={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Fo={key:1},zo={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Ao={name:"CategoryService"},Oo=Object.assign(Ao,{setup(_){let b=A("licence"),{previousPage:c}=A("changingPageFunctions",{previousPage:()=>{}}),g=h(()=>U.getters["entities/getReady"]);const C=A("baseUrls");let T=x(),d=A("containerWidth");const s=A("settings");let m=A("amFonts");const k=A("labels"),w=A("localLanguage");let $=h(()=>s.general.usedLanguages.includes(w.value)),P=h(()=>{let W=lt(at({},k));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let B=s.customizedData.cbf.categoryService.translations;Object.keys(B).forEach(I=>{B[I][w.value]&&$.value?W[I]=B[I][w.value]:B[I].default&&(W[I]=B[I].default)})}return W}),f=x(0),U=st(),te=A("amEntities"),E=h(()=>Ye(U)&&We(U)>0),z=h(()=>We(U)),n=A("customizedDataForm"),H=h(()=>n.value.categoryService.options),ne=h(()=>"pageScroll"in H.value?H.value.pageScroll.visibility:!0),q=A("itemType"),ve=A("categorySelected"),$e=h(()=>te.value.categories.find(W=>W.id===ve.value)),V=h(()=>{let W=te.value.services.find(B=>B.id===U.getters["booking/getServiceId"]);return W||{}});function _e(W,B){return ze(W,B).length===1?ze(W,B)[0].address?ze(W,B)[0].address:ze(W,B)[0].name:P.value.multiple_locations}let Z=x("description"),p=h(()=>{let W=[];return Object.keys(te.value.entitiesRelations).forEach(I=>{te.value.entitiesRelations[I][V.value.id]&&te.value.employees.find(S=>S.id===parseInt(I))&&W.push(te.value.employees.find(S=>S.id===parseInt(I)))}),W});function ce(W){let B=W.serviceList.find(I=>I.id===V.value.id).price;return B-V.value.price!==0?`${B-V.value.price>0?V.value.price>0?"+":"":"-"} ${Ke(B-V.value.price)}`:""}Fe(()=>{H.value.serviceDescription.visibility||(Z.value="employees"),Re(V.value.description)||(Z.value="employees")});let be=h(()=>{let W=V.value.gallery.length?JSON.parse(JSON.stringify(V.value.gallery)):[];return V.value.gallery.length===1?[]:(W.shift(),W.length>2&&W.splice(2,W.length-2),W)}),ue=h(()=>{let W=[];return te.value.packages.forEach(B=>{B.bookable.filter(I=>I.service.id===V.value.id).length&&!W.filter(I=>I.id===B.id).length&&B.available&&B.status==="visible"&&W.push(B)}),W}),ge=x(!1),ee=h(()=>{let W=[...ue.value];return ge.value?W:W.slice(0,2)}),Be=h(()=>U.getters["entities/filteredLocations"](U.getters["booking/getSelection"]));function Oe(){q.value="",Le(()=>{c()})}let v=x(!1);function j(){Rt(U),v.value=!0,N.value=!0}function le(){N.value=!1,U.getters["entities/getPreselected"].service.length>1&&Oe()}let N=x(!1),Ie=x("760px");se("bookingDialogWidth",Ie);function oe(){let W=U.getters["entities/getPreselected"];p.value.length===1&&(U.commit("booking/setEmployeeId",parseInt(p.value[0].id)),W.employee=[parseInt(p.value[0].id)],U.commit("entities/setPreselected",W)),v.value=!1,N.value=!1,Ja(U),aa(U,!1),gt(U);let B=ze(te.value,V.value.id);B.length===1&&(U.commit("booking/setLocationId",parseInt(B[0].id)),W.location=[parseInt(B[0].id)],U.commit("entities/setPreselected",W)),U.commit("booking/setBookableType","appointment"),N.value=!0}A("restoreFormData").value&&oe();function De(W){U.commit("booking/setPackageId",W.id),U.commit("booking/setBookableType","package"),U.commit("booking/setMultipleAppointments",It(0,W)),U.commit("booking/setMultipleAppointmentsIndex",0),p.value.length===1&&U.commit("booking/setEmployeeId",parseInt(p.value[0].id)),ze(te.value,V.value.id).length===1&&U.commit("booking/setLocationId",parseInt(ze(te.value,V.value.id)[0].id)),Le(()=>{N.value=!0})}const Q=h(()=>U.getters["entities/getPreselected"]);let G=h(()=>te.value.services.length!==1&&Q.value.service.length!==1),F=x("");se("stepName",F);function ae(){let W=U.getters["entities/getBookableFromBookableEntities"](U.getters["booking/getSelection"]),B=W.settings?JSON.parse(W.settings):s;"general"in B&&"redirectUrlAfterAppointment"in B.general&&B.general.redirectUrlAfterAppointment?window.location.href=B.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function mt(){if(F.value&&F.value==="CongratulationsStep")ae();else{if(F.value&&F.value==="DateTimeStep"){let W=Ya(U);W&&console.log(W)}U.commit("booking/setEmployeeId",null),U.commit("booking/setLocationId",null),U.commit("entities/setPreselected",U.getters["entities/getOriginalPreselected"])}Ie.value="760px"}let Me=x(!1);function xe(W,B){let I="";return W>1?(B==="day"&&(I=P.value.expires_days),B==="week"&&(I=P.value.expires_weeks),B==="month"&&(I=P.value.expires_months)):(B==="day"&&(I=P.value.expires_day),B==="week"&&(I=P.value.expires_week),B==="month"&&(I=P.value.expires_month)),I}let et=h(()=>Object.keys(V.value).length===0||p.value.length===0),Te=A("amColors"),pt=h(()=>({"--am-c-fcis-success-op20":ie(Te.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ie(Te.value.colorPrimary,.2),"--am-c-fcis-text-op80":ie(Te.value.colorMainText,.8),"--am-c-fcis-text-op03":ie(Te.value.colorMainText,.03),"--am-c-fcis-btn-op50":ie(Te.value.colorBtnSec,.5)})),_t=h(()=>({"--am-c-fcis-bgr":Te.value.colorMainBgr,"--am-c-fcis-text":Te.value.colorMainText,"--am-c-fcis-success":Te.value.colorSuccess,"--am-c-fcis-primary":Te.value.colorPrimary,"--am-c-scroll-op30":ie(Te.value.colorPrimary,.3),"--am-c-scroll-op10":ie(Te.value.colorPrimary,.1),"--am-font-family":m.fontFamily}));return(W,B)=>e(g)?(t(),i(X,{key:0},[e(et)?u("",!0):(t(),ye(Wt,{key:0,ref_key:"contentRef",ref:T,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":`am-fcis__content ${e(ne)?"":"no-scroll"}`,style:re(e(pt))},{header:O(()=>[J(Ut,{"btn-string":e(P).back_btn,"btn-type":e(H).backBtn.buttonType,"back-btn-visibility":e(G),"cart-btn-visibility":e(E),"cart-items-number":e(z),onGoBack:Oe,onGoToCart:j},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:O(()=>{var I,S;return[a("div",{class:R([[{"am-tablet":e(d)<=678},{"am-mobile":e(d)<450}],"am-fcis__header-top"])},[a("div",hl,[a("span",bl,l(e(V).name),1),e(H).serviceBadge.visibility?(t(),i("div",kl,[Cl,a("span",null,l(e(P).heading_service),1)])):u("",!0)]),a("div",$l,[e(H).servicePrice.visibility?(t(),i("span",Sl,l(e(ut)(e(te),e(V).id).min||e(ut)(e(te),e(V).id).max?e(ut)(e(te),e(V).id).price:e(P).free),1)):u("",!0),((S=(I=e(H).tax)==null?void 0:I.visibility)!=null?S:!0)&&e(ht)(e(U),e(V).id,"service")?(t(),i("span",wl,[e(s).payments.taxes.excluded?(t(),i(X,{key:0},[me(l(`+${e(P).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(l(e(P).incl_tax),1)],64))])):u("",!0),a("span",xl,[J(Ae,{type:e(H).bookingBtn.buttonType,onClick:oe},{default:O(()=>[me(l(e(P).book_now),1)]),_:1},8,["type"])])])],2),e(H).serviceCategory.visibility||e(H).serviceDuration.visibility||e(H).serviceCapacity.visibility||e(H).serviceLocation.visibility?(t(),i("div",Pl,[a("div",Il,[e(H).serviceCategory.visibility?(t(),i("div",Dl,[El,a("span",null,l(e($e).name),1)])):u("",!0),e(H).serviceDuration.visibility?(t(),i("div",Ll,[Tl,a("span",null,l(e(sa)(e(V).duration)),1)])):u("",!0),e(H).serviceCapacity.visibility&&!e(b).isLite?(t(),i("div",Bl,[Fl,a("span",null,l(e(ia)(e(te),e(V).id)),1)])):u("",!0),e(ze)(e(te),e(V).id).length&&e(H).serviceLocation.visibility&&!e(b).isLite&&!e(b).isStarter?(t(),i("div",zl,[Al,a("span",null,l(_e(e(te),e(V).id)),1)])):u("",!0)])])):u("",!0)]}),content:O(()=>[e(V).gallery.length?(t(),i("div",Ol,[a("div",{class:R(["am-fcis__gallery-hero",[{w100:e(V).gallery.length===1},{"am-mobile w100":e(d)<678}]]),style:re({backgroundImage:`url(${e(V).gallery[0].pictureFullPath})`})},null,6),e(be).length&&e(d)>677?(t(),i("div",Rl,[(t(!0),i(X,null,he(e(be),(I,S)=>(t(),i("div",{key:S,class:R(["am-fcis__gallery-thumb",{"am-one-thumb":e(be).length===1}]),style:re({backgroundImage:`url(${I.pictureFullPath})`})},null,6))),128))])):u("",!0),J(Ae,{"custom-class":`am-fcis__gallery-btn${e(d)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:B[0]||(B[0]=()=>de(Me)?Me.value=!0:Me=!0)},{default:O(()=>[me(l(e(P).view_all_photos),1)]),_:1},8,["custom-class"])])):u("",!0),J(dt,{modelValue:e(Me),"onUpdate:modelValue":B[4]||(B[4]=I=>de(Me)?Me.value=I:Me=I),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:O(()=>[a("div",{class:"am-gd",style:re(e(_t))},[a("div",Ml,[a("div",Vl,[a("span",{class:"am-icon-arrow-left",onClick:B[1]||(B[1]=()=>de(f)?f.value=e(f)<=0?e(V).gallery.length-1:e(f)-1:f=e(f)<=0?e(V).gallery.length-1:e(f)-1)}),a("span",{class:"am-icon-arrow-right",onClick:B[2]||(B[2]=()=>de(f)?f.value=e(V).gallery.length-1===e(f)?0:e(f)+1:f=e(V).gallery.length-1===e(f)?0:e(f)+1)})]),(t(!0),i(X,null,he(e(V).gallery,(I,S)=>(t(),i("div",{key:S,class:"am-gd__display",style:re({display:S===e(f)?"flex":"none"}),onClick:B[3]||(B[3]=()=>de(f)?f.value=e(V).gallery.length-1===e(f)?0:e(f)+1:f=e(V).gallery.length-1===e(f)?0:e(f)+1)},[a("img",{src:I.pictureFullPath,alt:S},null,8,Nl)],4))),128))]),a("div",Ul,l(`${e(f)+1}/${e(V).gallery.length}`),1),a("div",Wl,[(t(!0),i(X,null,he(e(V).gallery,(I,S)=>(t(),i("div",{key:S,class:R(["am-gd__thumb",{"am-active":S===e(f)}]),style:re({backgroundImage:`url(${I.pictureFullPath})`}),onClick:()=>de(f)?f.value=S:f=S},null,14,jl))),128))])],4)]),_:1},8,["modelValue"]),e(H).serviceDescription.visibility&&e(Re)(e(V).description)||e(H).serviceEmployees.visibility?(t(),i("div",Hl,[a("div",ql,[e(Re)(e(V).description)&&e(H).serviceDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcis__info-tab",{"am-active":e(Z)==="description"}]),onClick:B[5]||(B[5]=()=>de(Z)?Z.value="description":Z="description")},l(e(P).about_service),3)):u("",!0),e(H).serviceEmployees.visibility&&!e(b).isLite?(t(),i("div",{key:1,class:R([{"am-active":e(Z)==="employees"},"am-fcis__info-tab"]),onClick:B[6]||(B[6]=()=>de(Z)?Z.value="employees":Z="employees")},l(e(P).tab_employees),3)):u("",!0)]),a("div",Gl,[e(Re)(e(V).description)&&e(H).serviceDescription.visibility?wt((t(),i("div",Jl,[a("div",{class:R(["am-fcis__info-service__desc",{"ql-description":e(V).description.includes("<!-- Content -->")}]),innerHTML:e(V).description},null,10,Yl)],512)),[[xt,e(Z)==="description"]]):u("",!0),e(H).serviceEmployees.visibility?wt((t(),i("div",Ql,[J($t,null,{default:O(()=>[(t(!0),i(X,null,he(e(p),I=>(t(),ye(St,{key:I.id,side:""},{heading:O(()=>[a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__info-employee"])},[a("div",Xl,[J(rt,{"item-class":"am-fcis__info-employee__img","item-data":I,"trim-string":3},null,8,["item-data"]),a("div",Zl,[a("div",Kl,[me(l(I.firstName)+" "+l(I.lastName)+" ",1),I.badge?(t(),i("span",{key:0,style:re({background:I.badge.color}),class:"am-fcis__info-employee__badge"},l(I.badge.content),5)):u("",!0)]),ce(I)&&e(H).serviceEmployeePrice.visibility?(t(),i("div",eo,l(ce(I)),1)):u("",!0)])])],2)]),default:O(()=>[e(Re)(I.description)?(t(),i("div",{key:0,class:R(["am-fcis__info-employee__description",{"ql-description":I.description.includes("<!-- Content -->")}]),innerHTML:I.description},null,10,to)):u("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(Z)==="employees"]]):u("",!0)])])):u("",!0),e(ue).length&&e(Q).show!=="services"&&e(H).servicePackages.visibility&&!e(We)(e(U))?(t(),i("div",ao,[a("div",io,[a("span",so,l(e(P).service_available_in_package),1),e(ue).length>2?(t(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:B[7]||(B[7]=()=>de(ge)?ge.value=!e(ge):ge=!e(ge))},[e(ge)?(t(),i(X,{key:1},[me(l(e(P).less_packages),1)],64)):(t(),i(X,{key:0},[me(l(e(P).more_packages),1)],64))])):u("",!0)]),(t(!0),i(X,null,he(e(ee),I=>{var S,He;return t(),i("div",{key:I.id,class:"am-fcis__include",onClick:Ge=>De(I)},[a("div",oo,[e(d)>450?(t(),ye(rt,{key:0,"item-class":"am-fcis__include-img","item-data":I,"trim-string":3},null,8,["item-data"])):u("",!0),a("div",{class:R([{"am-mobile":e(d)<451},"am-fcis__include-text"])},[a("div",{class:R(["am-fcis__include-header",{"am-mobile":e(d)<600}])},[a("div",{class:R(["am-fcis__include-name",{"am-mobile":e(d)<600}])},l(I.name),3),e(H).packagePrice.visibility?(t(),i("div",no,[I.discount?(t(),i("span",co,l(`${e(P).save} ${I.discount}%`),1)):u("",!0),a("span",ro,l(I.price?e(Ke)(e(Nt)(I)):e(P).free),1),((He=(S=e(H).tax)==null?void 0:S.visibility)!=null?He:!0)&&e(ht)(e(U),I.id,"package")?(t(),i("span",uo,[e(s).payments.taxes.excluded?(t(),i(X,{key:0},[me(l(`+${e(P).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(l(e(P).incl_tax),1)],64))])):u("",!0)])):u("",!0)],2),a("div",mo,[e(H).packageCategory.visibility?(t(),i("div",po,[_o,a("span",null,l(e($e).name),1)])):u("",!0),e(H).packageDuration.visibility?(t(),i("div",fo,[vo,I.endDate?(t(),i("span",go,l(`${e(P).expires_at} ${I.endDate.split(" ")[0]}`),1)):I.durationCount?(t(),i("span",yo,l(`${e(P).expires_after} ${I.durationCount} ${xe(I.durationCount,I.durationType)}`),1)):(t(),i("span",ho,l(e(P).without_expiration),1))])):u("",!0),e(H).packageCapacity.visibility?(t(),i("div",bo,$o)):u("",!0),e(H).packageLocation.visibility&&e(Be).length?(t(),i("div",So,[wo,a("span",null,l(e(Be).length===1?e(Be)[0].address?e(Be)[0].address:e(Be)[0].name:e(P).multiple_locations),1)])):u("",!0),e(H).packageServices.visibility?(t(),i("div",xo,[a("span",null,l(`${e(P).in_package}:`),1),(t(!0),i(X,null,he(I.bookable,Ge=>(t(),i("span",{key:Ge.id},l(Ge.service.name),1))),128))])):u("",!0)])],2)])],8,lo)}),128))])):u("",!0),J(dt,{modelValue:e(N),"onUpdate:modelValue":B[9]||(B[9]=I=>de(N)?N.value=I:N=I),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Ie),onClosed:mt},{default:O(()=>[J(qt,{"show-cart":e(v),onAddToCart:le,onEmptiedCart:B[8]||(B[8]=I=>de(N)?N.value=!1:N=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["content-class","style"])),e(et)?(t(),i("div",Po,[a("img",{src:e(C).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Io),a("div",Do,l(e(P).oops),1),a("div",Eo,l(e(Q).show!=="packages"?e(P).no_services_employees:e(P).no_package_services),1),a("div",Lo,[e(Q).show!=="packages"?(t(),i("span",To,l(e(P).add_services_employees)+"\xA0 ",1)):u("",!0),a("a",Bo,l(e(P).add_services_url)+"\xA0 ",1),e(Q).show!=="packages"?(t(),i("span",Fo,l(e(P).and)+"\xA0 ",1)):u("",!0),e(Q).show!=="packages"?(t(),i("a",zo,l(e(P).add_employees_url),1)):u("",!0)])],512)):u("",!0)],64)):u("",!0)}});const Ro={class:"am-fcip__header-text"},Mo={class:"am-fcip__header-name"},Vo={key:0,class:"am-fcip__badge am-package"},No=a("span",{class:"am-icon-shipment"},null,-1),Uo={class:"am-fcip__header-action"},Wo={key:0,class:"am-fcip__header-discount"},jo={key:1,class:"am-fcip__header-price"},Ho={key:2,class:"am-fcip__header-tax"},qo={class:"am-fcip__header-btn"},Go={key:0,class:"am-fcip__header-bottom"},Jo={class:"am-fcip__mini-info"},Yo={key:0,class:"am-fcip__mini-info__inner"},Qo=a("span",{class:"am-icon-folder"},null,-1),Xo={key:1,class:"am-fcip__mini-info__inner"},Zo=a("span",{class:"am-icon-clock"},null,-1),Ko={key:0},en={key:1},tn={key:2},an={key:2,class:"am-fcip__mini-info__inner"},sn=a("span",{class:"am-icon-user"},null,-1),ln=a("span",null,"1/1",-1),on=[sn,ln],nn={key:3,class:"am-fcip__mini-info__inner"},cn=a("span",{class:"am-icon-locations"},null,-1),rn={key:0,class:"am-fcip__gallery"},un={key:0,class:"am-fcip__gallery-thumb__wrapper"},dn=a("span",{class:"am-icon-gallery"},null,-1),mn={class:"am-gd__display-wrapper"},pn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},_n=["src","alt"],fn={class:"am-gd__selection"},vn={class:"am-gd__thumb-wrapper"},gn=["onClick"],yn={key:1,class:"am-fcip__info"},hn={class:"am-fcip__info-tab__wrapper"},bn={class:"am-fcip__info-content__wrapper"},kn={key:0,class:"am-fcip__info-content"},Cn=["innerHTML"],$n={key:1,class:"am-fcip__info-content"},Sn={class:"am-fcip__info-employee"},wn={class:"am-fcip__info-employee__hero"},xn={class:"am-fcip__info-employee__name"},Pn=["innerHTML"],In={key:2,class:"am-fcip__include-wrapper"},Dn={class:"am-fcip__include-heading"},En={class:"am-fcip__include-heading__text"},Ln={class:"am-fcip__include-service"},Tn={class:"am-fcip__include-service__info"},Bn={key:0},Fn=["innerHTML"],zn={class:"am-fcip__include-footer"},An={class:"am-fcip__include-footer__text"},On={key:1,ref:"ameliaContainer",class:"am-empty"},Rn=["src"],Mn={class:"am-empty__heading"},Vn={class:"am-empty__subheading"},Nn={class:"am-empty__text"},Un={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Wn={name:"CategoryPackage"},jn=Object.assign(Wn,{setup(_){let{previousPage:b}=A("changingPageFunctions",{previousPage:()=>{}}),c=x(),g=A("containerWidth");const C=A("settings"),T=A("baseUrls");let d=st();const s=A("shortcodeData"),m=h(()=>d.getters["entities/getPreselected"]);let k=A("amEntities"),w=A("customizedDataForm"),$=h(()=>w.value.categoryPackage.options),P=h(()=>"pageScroll"in $.value?$.value.pageScroll.visibility:!0),f=A("itemType"),U=A("categorySelected"),te=h(()=>k.value.categories.find(Q=>Q.id===U.value)),E=h(()=>k.value.packages.find(Q=>Q.id===d.getters["booking/getPackageId"])),z=x(0),n=x("description"),H=h(()=>la(k.value,E.value,s.value)),ne=h(()=>nt(k.value,E.value,s.value)),q=x(m.value.employee.length>0?k.value.unfilteredEmployees.filter(Q=>m.value.employee.map(G=>parseInt(G)).includes(Q.id)):k.value.unfilteredEmployees);function ve(Q){let G=[];return Q.providers.length?Q.providers.forEach(F=>{q.value.find(ae=>ae.id===parseInt(F.id))&&G.push(q.value.find(ae=>ae.id===parseInt(F.id)))}):G=q.value.filter(F=>F.serviceList.find(ae=>ae.id===Q.service.id)),G}Fe(()=>{$.value.packageDescription.visibility||(n.value="employees"),Re(E.value.description)||(n.value="employees")});let $e=x(!1);Mt(()=>{$e.value=d.getters["entities/getEmployees"].length===0||H.value.length===0});let V=x(!1),_e=h(()=>{let Q=E.value.gallery.length?JSON.parse(JSON.stringify(E.value.gallery)):[];return E.value.gallery.length===1?[]:(Q.shift(),Q.length>2&&Q.splice(2,Q.length-2),Q)});function Z(){f.value="",Le(()=>{b()})}let p=x(!1),ce=x("760px");se("bookingDialogWidth",ce);function be(){d.commit("booking/setPackageId",E.value.id),d.commit("booking/setMultipleAppointments",It(0,E.value)),d.commit("booking/setMultipleAppointmentsIndex",0),d.commit("booking/setBookableType","package"),Le(()=>{p.value=!0})}A("restoreFormData").value&&be();let ge=x("");se("stepName",ge);function ee(){let Q=d.getters["entities/getBookableFromBookableEntities"](d.getters["booking/getSelection"]),G=Q.settings?JSON.parse(Q.settings):C;"general"in G&&"redirectUrlAfterAppointment"in G.general&&G.general.redirectUrlAfterAppointment?window.location.href=G.general.redirectUrlAfterAppointment:C.general.redirectUrlAfterAppointment?window.location.href=C.general.redirectUrlAfterAppointment:window.location.reload()}function Be(){ge.value&&ge.value==="CongratulationsStep"?ee():d.commit("entities/setPreselected",d.getters["entities/getOriginalPreselected"]),ce.value="760px"}let Oe=A("amFonts");const v=A("labels"),j=A("localLanguage");let le=h(()=>C.general.usedLanguages.includes(j.value)),N=h(()=>{let Q=lt(at({},v));if(C.customizedData&&C.customizedData.cbf&&C.customizedData.cbf.categoryPackage.translations){let G=C.customizedData.cbf.categoryPackage.translations;Object.keys(G).forEach(F=>{G[F][j.value]&&le.value?Q[F]=G[F][j.value]:G[F].default&&(Q[F]=G[F].default)})}return Q});function Ie(Q,G){let F="";return Q>1?(G==="day"&&(F=N.value.expires_days),G==="week"&&(F=N.value.expires_weeks),G==="month"&&(F=N.value.expires_months)):(G==="day"&&(F=N.value.expires_day),G==="week"&&(F=N.value.expires_week),G==="month"&&(F=N.value.expires_month)),F}let oe=A("amColors"),je=h(()=>({"--am-c-fcip-success-op20":ie(oe.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ie(oe.value.colorPrimary,.2),"--am-c-fcip-text-op80":ie(oe.value.colorMainText,.8),"--am-c-fcip-text-op60":ie(oe.value.colorMainText,.6),"--am-c-fcip-text-op03":ie(oe.value.colorMainText,.03),"--am-c-fcip-btn-op50":ie(oe.value.colorBtnSec,.5)})),De=h(()=>({"--am-c-fcip-bgr":oe.value.colorMainBgr,"--am-c-fcip-text":oe.value.colorMainText,"--am-c-fcip-success":oe.value.colorSuccess,"--am-c-fcip-primary":oe.value.colorPrimary,"--am-c-scroll-op30":ie(oe.value.colorPrimary,.3),"--am-c-scroll-op10":ie(oe.value.colorPrimary,.1),"--am-font-family":Oe.fontFamily}));return(Q,G)=>(t(),i(X,null,[e($e)?u("",!0):(t(),ye(Wt,{key:0,ref_key:"contentRef",ref:c,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":`am-fcip__content ${e(P)?"":"no-scroll"}`,style:re(e(je))},Vt({heading:O(()=>{var F,ae;return[a("div",{class:R([[{"am-tablet":e(g)<=678},{"am-mobile":e(g)<450}],"am-fcip__header-top"])},[a("div",Ro,[a("span",Mo,[a("span",null,l(e(E).name),1)]),e($).packageBadge.visibility?(t(),i("div",Vo,[No,a("span",null,l(e(N).package),1)])):u("",!0)]),a("div",Uo,[e(E).discount&&e($).packagePrice.visibility?(t(),i("span",Wo,l(`${e(N).save} ${e(E).discount}%`),1)):u("",!0),e($).packagePrice.visibility?(t(),i("span",jo,l(e(E).price?e(Ke)(e(Nt)(e(E))):e(N).free),1)):u("",!0),e(E).price&&((ae=(F=e($).tax)==null?void 0:F.visibility)!=null?ae:!0)&&e(ht)(e(d),e(E).id,"package")?(t(),i("span",Ho,[e(C).payments.taxes.excluded?(t(),i(X,{key:0},[me(l(`+${e(N).total_tax_colon}`),1)],64)):(t(),i(X,{key:1},[me(l(e(N).incl_tax),1)],64))])):u("",!0),a("span",qo,[J(Ae,{type:e($).bookingBtn.buttonType,onClick:be},{default:O(()=>[me(l(e(N).book_now),1)]),_:1},8,["type"])])])],2),e($).packageCategory.visibility&&e(m).package.length!==1||e($).packageDuration.visibility||e($).packageCapacity.visibility||e($).packageLocation.visibility&&e(ne).length?(t(),i("div",Go,[a("div",Jo,[e(m).package.length!==1&&e($).packageBadge.visibility?(t(),i("div",Yo,[Qo,a("span",null,l(e(te).name),1)])):u("",!0),e($).packageDuration.visibility?(t(),i("div",Xo,[Zo,e(E).endDate?(t(),i("span",Ko,l(`${e(N).expires_at} ${e(E).endDate.split(" ")[0]}`),1)):e(E).durationCount?(t(),i("span",en,l(`${e(N).expires_after} ${e(E).durationCount} ${Ie(e(E).durationCount,e(E).durationType)}`),1)):(t(),i("span",tn,l(e(N).without_expiration),1))])):u("",!0),e($).packageCapacity.visibility?(t(),i("div",an,on)):u("",!0),e(ne).length&&e($).packageLocation.visibility?(t(),i("div",nn,[cn,a("span",null,l(e(ne).length===1?e(ne)[0].address?e(ne)[0].address:e(ne)[0].name:e(N).multiple_locations),1)])):u("",!0)])])):u("",!0)]}),content:O(()=>[e(E).gallery.length?(t(),i("div",rn,[a("div",{class:R(["am-fcip__gallery-hero",[{w100:e(E).gallery.length===1},{"am-mobile w100":e(g)<678}]]),style:re({backgroundImage:`url(${e(E).gallery[0].pictureFullPath})`})},null,6),e(_e).length&&e(g)>677?(t(),i("div",un,[(t(!0),i(X,null,he(e(_e),(F,ae)=>(t(),i("div",{key:ae,class:R(["am-fcip__gallery-thumb",{"am-one-thumb":e(_e).length===1}]),style:re({backgroundImage:`url(${F.pictureFullPath})`})},null,6))),128))])):u("",!0),J(Ae,{"custom-class":`am-fcip__gallery-btn${e(g)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:G[0]||(G[0]=()=>de(V)?V.value=!0:V=!0)},{default:O(()=>[dn,a("span",null,l(e(N).view_all_photos),1)]),_:1},8,["custom-class"])])):u("",!0),J(dt,{modelValue:e(V),"onUpdate:modelValue":G[4]||(G[4]=F=>de(V)?V.value=F:V=F),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:O(()=>[a("div",{class:"am-gd",style:re(e(De))},[a("div",mn,[a("div",pn,[a("span",{class:"am-icon-arrow-left",onClick:G[1]||(G[1]=()=>de(z)?z.value=e(z)<=0?e(E).gallery.length-1:e(z)-1:z=e(z)<=0?e(E).gallery.length-1:e(z)-1)}),a("span",{class:"am-icon-arrow-right",onClick:G[2]||(G[2]=()=>de(z)?z.value=e(E).gallery.length-1===e(z)?0:e(z)+1:z=e(E).gallery.length-1===e(z)?0:e(z)+1)})]),(t(!0),i(X,null,he(e(E).gallery,(F,ae)=>(t(),i("div",{key:ae,class:"am-gd__display",style:re({display:ae===e(z)?"flex":"none"}),onClick:G[3]||(G[3]=()=>de(z)?z.value=e(E).gallery.length-1===e(z)?0:e(z)+1:z=e(E).gallery.length-1===e(z)?0:e(z)+1)},[a("img",{src:F.pictureFullPath,alt:ae},null,8,_n)],4))),128))]),a("div",fn,l(`${e(z)+1}/${e(E).gallery.length}`),1),a("div",vn,[(t(!0),i(X,null,he(e(E).gallery,(F,ae)=>(t(),i("div",{key:ae,class:R(["am-gd__thumb",{"am-active":ae===e(z)}]),style:re({backgroundImage:`url(${F.pictureFullPath})`}),onClick:()=>de(z)?z.value=ae:z=ae},null,14,gn))),128))])],4)]),_:1},8,["modelValue"]),e($).packageDescription.visibility&&e(Re)(e(E).description)||e($).packageEmployees.visibility?(t(),i("div",yn,[a("div",hn,[e(Re)(e(E).description)&&e($).packageDescription.visibility?(t(),i("div",{key:0,class:R(["am-fcip__info-tab",{"am-active":e(n)==="description"}]),onClick:G[5]||(G[5]=()=>de(n)?n.value="description":n="description")},l(e(N).about_package),3)):u("",!0),e($).packageEmployees.visibility?(t(),i("div",{key:1,class:R([{"am-active":e(n)==="employees"},"am-fcip__info-tab"]),onClick:G[6]||(G[6]=()=>de(n)?n.value="employees":n="employees")},l(e(N).tab_employees),3)):u("",!0)]),a("div",bn,[e(Re)(e(E).description)&&e($).packageDescription.visibility?wt((t(),i("div",kn,[a("div",{class:R(["am-fcip__info-service__desc",{"ql-description":e(E).description.includes("<!-- Content -->")}]),innerHTML:e(E).description},null,10,Cn)],512)),[[xt,e(n)==="description"]]):u("",!0),e($).packageEmployees.visibility?wt((t(),i("div",$n,[J($t,null,{default:O(()=>[(t(!0),i(X,null,he(e(H),F=>(t(),ye(St,{key:F.id,side:""},{heading:O(()=>[a("div",Sn,[a("div",wn,[J(rt,{"item-class":"am-fcip__info-employee__img","item-data":F,"trim-string":3},null,8,["item-data"]),a("div",xn,[me(l(F.firstName)+" "+l(F.lastName)+" ",1),F.badge?(t(),i("span",{key:0,style:re({background:F.badge.color}),class:"am-fcip__info-employee__badge"},l(F.badge.content),5)):u("",!0)])])])]),default:O(()=>[e(Re)(F.description)?(t(),i("div",{key:0,class:R(["am-fcip__info-employee__description",{"ql-description":F.description.includes("<!-- Content -->")}]),innerHTML:F.description},null,10,Pn)):u("",!0)]),_:2},1024))),128))]),_:1})],512)),[[xt,e(n)==="employees"]]):u("",!0)])])):u("",!0),e($).packageServices.visibility?(t(),i("div",In,[a("div",Dn,[a("span",En,l(`${e(N).package_includes}:`),1)]),J($t,null,{default:O(()=>[(t(!0),i(X,null,he(e(E).bookable,F=>(t(),ye(St,{key:F.id,side:!0},{heading:O(()=>[a("div",Ln,[J(rt,{"item-class":"am-fcip__include-service__img","item-data":F.service},null,8,["item-data"]),me(" "+l(F.service.name+(e(E).sharedCapacity?"":" x"+F.quantity)),1)])]),default:O(()=>[a("div",Tn,[a("span",null,l(`${e(N).tab_employees}:`),1),(t(!0),i(X,null,he(ve(F).slice(0,6),ae=>(t(),ye(rt,{key:ae.id,"item-class":"am-fcip__include-service__info-name","item-data":ae,"trim-string":3},null,8,["item-data"]))),128)),ve(F).length>6?(t(),i("span",Bn," + "+l(ve(F).length-6),1)):u("",!0),e(Re)(F.service.description)?(t(),i("div",{key:1,class:R(["am-fcip__include-service__info-description",{"ql-description":F.service.description.includes("<!-- Content -->")}]),innerHTML:F.service.description},null,10,Fn)):u("",!0)])]),_:2},1024))),128))]),_:1}),a("div",zn,[a("span",An,l(e(N).package_book_service),1)])])):u("",!0),J(dt,{modelValue:e(p),"onUpdate:modelValue":G[7]||(G[7]=F=>de(p)?p.value=F:p=F),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(ce),onClosed:Be},{default:O(()=>[J(qt)]),_:1},8,["modelValue","width"])]),_:2},[e(m).package.length!==1?{name:"header",fn:O(()=>[J(Ut,{"btn-string":e(N).back_btn,"btn-type":e($).backBtn.buttonType,onGoBack:Z},null,8,["btn-string","btn-type"])])}:void 0]),1032,["content-class","style"])),e($e)?(t(),i("div",On,[a("img",{src:e(T).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Rn),a("div",Mn,l(e(N).oops),1),a("div",Vn,l(e(N).no_package_services),1),a("div",Nn,[a("a",Un,l(e(N).add_services_url)+"\xA0 ",1)])],512)):u("",!0)],64))}});const Hn={name:"CatalogSkeleton"},qn=Object.assign(Hn,{setup(_){let b=x(null),c=x(0);window.addEventListener("resize",g);function g(){b.value&&(c.value=b.value.offsetWidth)}Fe(()=>{b.value&&(c.value=b.value.offsetWidth)});let C=h(()=>c.value<=500?"am-w100":c.value<=600?"am-w50":c.value<=768?"am-w33":"");return(T,d)=>{const s=Xa,m=Qa;return t(),i("div",{ref_key:"amSkeletonContainer",ref:b,class:"am-skeleton-catalog__wrapper"},[J(m,{animated:"",class:"am-skeleton-catalog"},{template:O(()=>[(t(!0),i(X,null,he(new Array(8),k=>(t(),i("div",{key:k,class:R(["am-skeleton-catalog__item",e(C)])},[J(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Gn=a("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Jn=a("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Yn=["href"],Qn={name:"CatalogFormWrapper"},Xn=Object.assign(Qn,{emits:["isRestored"],setup(_,{emit:b}){let c=A("isMounted"),g=A("licence"),C=x(null),T=x(20);const d=A("baseUrls");let s=x(0);se("containerWidth",s),window.addEventListener("resize",m);function m(){C.value&&(s.value=C.value.offsetWidth)}Fe(()=>{P.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+$.value.counter).classList.add("amelia-v2-booking-"+$.value.counter+"-loaded"),yt(P,{},"ViewContent","appointment",null,null),m(),c.value=!0,ea("scrollForm",{offsetFromTop:T})});let k=x(!1);const w=A("settings"),$=A("shortcodeData"),P=st();P.commit("entities/setPreselected",$.value),P.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields","taxes"],licence:g,loadEntities:$.value.trigger||window.ameliaShortcodeData.filter(j=>!j.hasApiCall).length===window.ameliaShortcodeData.length?!0:$.value.hasApiCall,showHidden:!1});const f=Pe(Oi),U=Pe(yl),te=Pe(Oo),E=Pe(jn);let z=x([f,U]),n=x(0),H=x(null);se("categorySelected",H);let ne=x([]);se("availableCategories",ne);let q=x("");se("itemType",q),Ct(q,()=>{q.value==="appointment"&&z.value.push(te),q.value==="package"&&z.value.push(E),q.value===""&&z.value.forEach((j,le)=>{j.name==="CategoryService"&&ve(z.value,le),j.name==="CategoryPackage"&&ve(z.value,le)})});function ve(j,le){j.splice(le,1)}function $e(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function V(){if(n.value=n.value+1,$e())setTimeout(()=>{let j=C.value.getBoundingClientRect().top+window.pageYOffset-T.value;window.scrollTo({top:j,behavior:"smooth"})},500);else{let j=C.value.getBoundingClientRect().top+window.pageYOffset-T.value;window.scrollTo({top:j,behavior:"smooth"})}}function _e(){n.value=n.value-1}se("changingPageFunctions",{nextPage:V,previousPage:_e});let Z=h(()=>P.getters["entities/getReady"]),p=h(()=>P.state.entities);se("amEntities",p);function ce(){let j=P.getters["entities/getPreselected"];if($.value.categories_hidden&&j.category.length!==1&&(ne.value=JSON.parse(JSON.stringify(gi(p.value,$.value))),H.value=parseInt(ne.value.length?ne.value[0].id:null),P.commit("booking/setCategoryId",parseInt(H.value)),Le(()=>{let le=z.value.findIndex(N=>N.name==="CategoriesList");z.value.splice(le,1)})),j.category.length===1&&(P.commit("booking/setCategoryId",parseInt(j.category)),H.value=parseInt(j.category[0]),ne.value=JSON.parse(JSON.stringify(p.value.categories.filter(le=>le.id===parseInt(j.category[0])&&le.status==="visible"&&le.serviceList.length&&!!bt($,le,p.value).length))),Le(()=>{let le=z.value.findIndex(N=>N.name==="CategoriesList");z.value.splice(le,1)})),j.service.length===1){P.commit("booking/setServiceId",parseInt(j.service[0]));let le=P.getters["entities/getService"](parseInt(j.service[0]));H.value=le?parseInt(le.categoryId):null,P.commit("booking/setCategoryId",le?parseInt(le.categoryId):null),Le(()=>{z.value=[],z.value.push(te)})}j.employee.length===1&&P.commit("booking/setEmployeeId",parseInt(j.employee[0])),j.location.length===1&&P.commit("booking/setLocationId",parseInt(j.location[0])),j.package.length===1&&(P.commit("booking/setPackageId",parseInt(j.package[0])),z.value=[],z.value.push(E)),j.show==="packages"?P.commit("booking/setBookableType","package"):P.commit("booking/setBookableType","appointment")}let be=h(()=>Z.value?Ka(P,$.value):null);se("restoreFormData",be),Ct(Z,j=>{j&&(ce(),k.value=P.getters["entities/getServices"].length===0||P.getters["entities/getEmployees"].length===0,be.value&&(q.value=P.state.booking.appointment.type,Le(()=>{n.value=z.value.length-1,H.value=P.state.booking.appointment.categoryId,b("isRestored",be.value)})))});let ue=h(()=>w.customizedData&&"cbf"in w.customizedData?w.customizedData.cbf:ct.cbf);se("customizedDataForm",ue);const ge=x(w.customizedData?w.customizedData.fonts:ct.fonts);se("amFonts",ge);let ee=h(()=>w.customizedData&&"cbf"in w.customizedData?w.customizedData.cbf.colors:ct.cbf.colors);se("amColors",ee);let Be=h(()=>({"--am-c-primary":ee.value.colorPrimary,"--am-c-success":ee.value.colorSuccess,"--am-c-error":ee.value.colorError,"--am-c-warning":ee.value.colorWarning,"--am-c-main-bgr":ee.value.colorMainBgr,"--am-c-main-heading-text":ee.value.colorMainHeadingText,"--am-c-main-text":ee.value.colorMainText,"--am-c-sb-bgr":ee.value.colorSbBgr,"--am-c-sb-text":ee.value.colorSbText,"--am-c-inp-bgr":ee.value.colorInpBgr,"--am-c-inp-border":ee.value.colorInpBorder,"--am-c-inp-text":ee.value.colorInpText,"--am-c-inp-placeholder":ee.value.colorInpPlaceHolder,"--am-c-drop-bgr":ee.value.colorDropBgr,"--am-c-drop-text":ee.value.colorDropText,"--am-c-card-bgr":ee.value.colorCardBgr,"--am-c-card-text":ee.value.colorCardText,"--am-c-card-border":ee.value.colorCardBorder,"--am-c-btn-prim":ee.value.colorBtnPrim,"--am-c-btn-prim-text":ee.value.colorBtnPrimText,"--am-c-btn-sec":ee.value.colorBtnSec,"--am-c-btn-sec-text":ee.value.colorBtnSecText,"--am-c-skeleton-op20":ie(ee.value.colorMainText,.2),"--am-c-skeleton-op60":ie(ee.value.colorMainText,.6),"--am-font-family":ge.value.fontFamily}));function Oe(){let j=document.head||document.getElementsByTagName("head")[0];j.querySelector("#amCustomFont")&&j.querySelector("#amCustomFont").remove();let le=`@font-face {font-family: '${ge.value.fontFamily}'; src: url(${ge.value.fontUrl});}`,N=document.createElement("style");j.appendChild(N),N.setAttribute("type","text/css"),N.setAttribute("id","amCustomFont"),N.appendChild(document.createTextNode(le))}ge.value.customFontSelected&&Oe();let v=h(()=>({colorInputBorderRadius:"6px"}));return se("amDesignProperties",v),(j,le)=>(t(),i(X,null,[ge.value.customFontSelected?u("",!0):(t(),i(X,{key:0},[Gn,Jn,a("link",{rel:"stylesheet",type:"text/css",href:`${e(d).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Yn)],64)),a("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:C,class:"am-fc__wrapper",style:re(e(Be))},[e(Z)&&e(z).length?(t(),ye(ta(e(z)[e(n)]),{key:0})):(t(),ye(qn,{key:1}))],4),J(e(Za))],64))}});var ec=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"}));export{ec as C,dt as _,Pt as a,_i as b,Ut as c,rt as d,Wt as e,Xn as f};
