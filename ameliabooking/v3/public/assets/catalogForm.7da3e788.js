var pa=Object.defineProperty;var qt=Object.getOwnPropertySymbols;var _a=Object.prototype.hasOwnProperty,fa=Object.prototype.propertyIsEnumerable;var Gt=(_,h,r)=>h in _?pa(_,h,{enumerable:!0,configurable:!0,writable:!0,value:r}):_[h]=r,et=(_,h)=>{for(var r in h||(h={}))_a.call(h,r)&&Gt(_,r,h[r]);if(qt)for(var r of qt(h))fa.call(h,r)&&Gt(_,r,h[r]);return _};import{A as va,r as S,o as ga,a as Be,t as ya,c as C,E as ha,b as a,d as ve,w as A,e as i,f as n,g as tt,u as e,i as re,n as M,h as bt,j as at,k as t,l as Se,_ as ze,m as d,p as G,q as At,s as B,v as ee,F as se,x as ge,y as ce,z as De,B as Jt,C as it,D as Qe,I as ba,G as _t,H as te,J as nt,K as kt,L as we,M as ka,N as Ca,P as $a,R as wa,O as Sa,Q as xa,S as Ia,T as Pa,U as Da,V as Ea,W as La,X as Ta,Y as Ba,Z as Fa,$ as He,a0 as Tt,a1 as za,a2 as It,a3 as Rt,a4 as pt,a5 as Yt,a6 as Aa,a7 as Ra,a8 as Xt,a9 as Ve,aa as qe,ab as Oa,ac as Ma,ad as Na,ae as Ot,af as Va,ag as Zt,ah as Ua,ai as Wa,aj as Kt,ak as ja,al as Ha,am as Bt,an as Ct,ao as Ft,ap as $t,aq as Ae,ar as wt,as as St,at as qa,au as Ga,av as Ja,aw as Ya,ax as Qa,ay as Xa}from"./stepForm.3383dabc.js";const Za={key:0,class:"am-dialog__title"},Ka={inheritAttrs:!1},ut=Object.assign(Ka,{props:{modelValue:{type:[String,Array,Object,Number,Boolean]},modalClass:{type:String,default:""},title:{type:String,default:""},width:{type:[String,Number],default:"50%"},fullscreen:{type:Boolean,default:!1},top:{type:String,default:"15vh"},modal:{type:Boolean,default:!0},appendToBody:{type:Boolean,default:!1},alignCenter:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},customClass:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},beforeClose:{type:Function},center:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},closeIcon:{type:[Object,Function],default:va},customStyles:{type:Object},usedForShortcode:{type:Boolean,default:!1}},emits:["close","open","closed","opened","update:modelValue"],setup(_,{emit:h}){const r=_,f=S(null);ga(()=>{k()}),Be(()=>{r.usedForShortcode&&(f.value.rendered=!0),k()});function k(){r.customStyles&&Object.keys(r.customStyles).forEach(s=>{f.value.style[s]=r.customStyles[s]})}let{modelValue:L}=ya(r),m=C({get:()=>L.value,set:s=>{h("update:modelValue",s)}});return(s,p)=>{const b=ha;return a(),ve(b,{ref_key:"amDialogRef",ref:f,modelValue:e(m),"onUpdate:modelValue":p[0]||(p[0]=$=>re(m)?m.value=$:m=$),"modal-class":`am-dialog-popup ${r.modalClass}`,title:r.title,width:r.width,fullscreen:r.fullscreen,top:r.top,modal:r.modal,"append-to-body":r.appendToBody,"lock-scroll":r.lockScroll,"custom-class":r.customClass,"open-delay":r.openDelay,"close-delay":r.closeDelay,"close-on-click-modal":r.closeOnClickModal,"close-on-press-escape":r.closeOnPressEscape,"show-close":r.showClose,"before-close":r.beforeClose,center:r.center,"destroy-on-close":r.destroyOnClose,"close-icon":r.closeIcon,onClose:p[1]||(p[1]=$=>h("close")),onOpen:p[2]||(p[2]=$=>h("open")),onClosed:p[3]||(p[3]=$=>h("closed")),onOpened:p[4]||(p[4]=$=>h("opened"))},{title:A(()=>[_.title?(a(),i("span",Za,n(_.title),1)):tt(s.$slots,"title",{key:1})]),footer:A(()=>[tt(s.$slots,"footer")]),default:A(()=>[tt(s.$slots,"default")]),_:3},8,["modelValue","modal-class","title","width","fullscreen","top","modal","append-to-body","lock-scroll","custom-class","open-delay","close-delay","close-on-click-modal","close-on-press-escape","show-close","before-close","center","destroy-on-close","close-icon"])}}}),ei={name:"IconComponent"},xt=Object.assign(ei,{props:{icon:{type:String,required:!0}},setup(_){return(h,r)=>(a(),i("span",{class:M(`am-icon-${_.icon}`)},null,2))}});const ti={class:"am-cat__header-inner"},ai={class:"am-cat__back-btn"},ii={key:0,class:"am-cat__cart-btn"},si={class:"am-cat__cart-number"},li={name:"MainHeader"},Mt=Object.assign(li,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"},backBtnVisibility:{type:Boolean,default:!0},cartBtnVisibility:{type:Boolean,default:!1},cartItemsNumber:{type:Number,default:0}},emits:["goBack","goToCart"],setup(_,{emit:h}){const r=_;let f=bt({components:{IconComponent:xt},template:'<IconComponent icon="arrow-left"></IconComponent>'}),k=bt({components:{IconComponent:xt},template:'<IconComponent icon="cart"/>'});function L(){h("goBack")}const m=at();function s(){At(m),h("goToCart")}return(p,b)=>(a(),i("div",ti,[t("div",ai,[e(r).backBtnVisibility?(a(),ve(ze,{key:0,prefix:e(f),category:"secondary",type:_.btnType,size:_.btnSize,onClick:L},{default:A(()=>[Se(n(e(r).btnString),1)]),_:1},8,["prefix","type","size"])):d("",!0)]),e(r).cartBtnVisibility?(a(),i("div",ii,[t("span",si,n(e(r).cartItemsNumber),1),G(ze,{category:"secondary",type:_.btnType,size:_.btnSize,round:!0,"icon-only":!0,icon:e(k),onClick:s},null,8,["type","size","icon"])])):d("",!0)]))}});const oi={class:"am-cat__sidemenu-item__wrapper"},ni=["onClick"],ci={key:0,class:"am-cat__sidemenu-footer"},ri={class:"am-cat__sidemenu-footer__text"},ui=["href"],di={name:"SideMenu"},mi=Object.assign(di,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(_,{emit:h}){const r=_;function f(m){h("click",m)}let k=B("amColors"),L=C(()=>({"--am-c-csm-text-op10":ee(k.value.colorSbText,.1),"--am-c-csm-primary-op10":ee(k.value.colorPrimary,.1),"--am-c-csm-text-op60":ee(k.value.colorSbText,.6),"--am-c-csm-text-op80":ee(k.value.colorSbText,.8)}));return(m,s)=>(a(),i("div",{class:"am-cat__sidemenu",style:ce(e(L))},[t("div",oi,[(a(!0),i(se,null,ge(_.menuItems,(p,b)=>(a(),i("div",{key:b,class:M(["am-cat__sidemenu-item",{"am-active":e(r).initSelection===p[e(r).identifier]}]),onClick:()=>f(p)},n(p[e(r).nameIdentifier]),11,ni))),128))]),e(r).companyEmail?(a(),i("div",ci,[t("span",ri,n(e(r).footerString),1),t("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(r).companyEmail}`},n(e(r).companyEmail),9,ui)])):d("",!0)],4))}});const pi={name:"MainContent"},Nt=Object.assign(pi,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(_,{expose:h}){let r=S(null),f=S(0),k=S(null),L=S(0),m=S(null),s=S(0),p=S(null),b=S(null),$=S(0);window.addEventListener("resize",w);function w(){De(()=>{r.value&&(f.value=r.value.offsetWidth),k.value&&(L.value=k.value.offsetWidth),m.value&&(s.value=m.value.offsetWidth)})}Be(()=>{De(()=>{if(m.value&&p.value){let N=m.value.offsetHeight-p.value.offsetHeight-2;$.value=N<=656?656:N}w()})}),h({catHeaderWidth:f,catFormWidth:s,catContainerWidth:L});let P=B("amColors"),v=C(()=>({"--am-h-cat-content":`${$.value}px`,"--am-c-scroll-op30":ee(P.value.colorPrimary,.3),"--am-c-scroll-op10":ee(P.value.colorPrimary,.1)}));return(N,D)=>(a(),i("div",{class:M(["am-cat__wrapper",_.wrapperClass])},[t("div",{ref_key:"catHeader",ref:r,class:"am-cat__header"},[tt(N.$slots,"header")],512),t("div",{ref_key:"catContainer",ref:k,class:"am-cat__main"},[tt(N.$slots,"side"),t("div",{ref_key:"catForm",ref:m,class:M(["am-cat__form",_.formClass]),style:ce(e(v))},[t("div",{ref_key:"catHeading",ref:p,class:M(["am-cat__heading",_.headingClass])},[tt(N.$slots,"heading")],2),t("div",{ref_key:"catContent",ref:b,class:M(["am-cat__content",_.contentClass])},[tt(N.$slots,"content")],2)],6)],512)],2))}}),_i={name:"AmImagePlaceholder"},ct=Object.assign(_i,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(_){const h=_;function r(k){return k.pictureFullPath?{backgroundImage:`url(${k.pictureFullPath})`}:{backgroundColor:`${Jt.value[Math.floor(Math.random()*Jt.value.length)]}`}}function f(k){return k.pictureFullPath?"":("firstName"in k?`${k.firstName} ${k.lastName}`:k.name).split(" ").map(m=>m.charAt(0)).join("").toUpperCase().substring(0,h.trimString).replace(/[^\w\s]/g,"")}return(k,L)=>(a(),i("span",{class:M(e(h).itemClass),style:ce(et({},r(e(h).itemData)))},n(f(e(h).itemData)),7))}}),zt=it(window.wpAmeliaSettings),Qt=it(window.wpAmeliaLabels);function ft(_,h,r,f=null,k=null){let L=[],m=_&&_.service?_.service.split(",").map(s=>parseInt(s)):null;return h&&h.serviceList.forEach(s=>{f?f in r.entitiesRelations&&s.id in r.entitiesRelations[f]&&(k?r.entitiesRelations[f][s.id].find(p=>p===k):!0)&&s.status==="visible"&&s.show&&!L.filter(p=>p===s.id).length&&(!m||m.includes(s.id))&&L.push(s.id):r.employees.forEach(p=>{p.id in r.entitiesRelations&&s.id in r.entitiesRelations[p.id]&&(k?r.entitiesRelations[p.id][s.id].find(b=>b===k):!0)&&s.status==="visible"&&s.show&&!L.filter(b=>b===s.id).length&&(!m||m.includes(s.id))&&L.push(s.id)})}),L}function ea(_,h){let r=[],f=[];_.employees.forEach(m=>{if(m.id in _.entitiesRelations&&h in _.entitiesRelations[m.id]){let s=m.serviceList.find(p=>p.id===h);r.push(s.maxCapacity),f.push(s.minCapacity)}});let k=f.reduce((m,s)=>s<m?s:m,f[0]),L=r.reduce((m,s)=>s>m?s:m,r[0]);return k!==L?`${k}/${L}`:k}function ta(_){let h=Math.floor(_/3600),r=_/60%60;return(h?h+Qt.h+" ":"")+" "+(r?r+Qt.min:"")}function rt(_,h){let r=[];_.employees.forEach(L=>{if(L.id in _.entitiesRelations&&h in _.entitiesRelations[L.id]){let m=L.serviceList.find(s=>s.id===h);r.push(m.price)}});let f=r.reduce((L,m)=>m<L?m:L,r[0]),k=r.reduce((L,m)=>m>L?m:L,r[0]);return f!==k?{price:`${Qe(f,!zt.payments.hideCurrencySymbolFrontend)} - ${Qe(k,!zt.payments.hideCurrencySymbolFrontend)}`,min:f,max:k}:{price:Qe(f,zt.payments.hideCurrencySymbolFrontend),min:f,max:k}}function Fe(_,h){let r=[];return _.employees.forEach(f=>{f.id in _.entitiesRelations&&h in _.entitiesRelations[f.id]&&_.entitiesRelations[f.id][h].length&&_.locations.forEach(k=>{_.entitiesRelations[f.id][h].some(L=>L===k.id)&&!r.find(L=>L===k.id)&&r.push(k)})}),r}function Vt(_,h){let r=[],f=Object.keys(_.entitiesRelations);return h.bookable.forEach(k=>{let L=[];f.forEach(m=>{_.entitiesRelations[m][k.service.id]&&!L.find(s=>s?s.id===parseInt(m):!0)&&L.push(_.employees.find(s=>s.id===parseInt(m)))}),L.length||r.push(!1)}),r.filter(k=>k===!1).length}function Ut(_,h,r){let f=[],k=Object.keys(_.entitiesRelations),L=r&&r.employee?r.employee.split(",").map(s=>parseInt(s)):null,m=S(L?_.unfilteredEmployees.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredEmployees);return h.bookable.forEach(s=>{let p=[];s.providers.length?s.providers.forEach(b=>{s.locations.length?s.locations.forEach($=>{m.value.find(w=>w.id===b.id)&&_.entitiesRelations[b.id][s.service.id]&&_.entitiesRelations[b.id][s.service.id].indexOf($.id)!==-1&&!p.find(w=>w.id===b.id)&&p.push(m.value.find(w=>w.id===b.id))}):m.value.find($=>$.id===b.id)&&!p.find($=>$.id===b.id)&&p.push(m.value.find($=>$.id===b.id))}):k.forEach(b=>{s.locations.length?s.locations.forEach($=>{_.entitiesRelations[b][s.service.id]&&_.entitiesRelations[b][s.service.id].indexOf($.id)!==-1&&m.value.find(w=>w.id===parseInt(b))&&!p.find(w=>w.id===parseInt(b))&&p.push(m.value.find(w=>w.id===parseInt(b)))}):_.entitiesRelations[b][s.service.id]&&m.value.find($=>$.id===parseInt(b))&&!p.find($=>$.id===parseInt(b))&&p.push(m.value.find($=>$.id===parseInt(b)))}),f.push(!!p.length)}),!f.filter(s=>s===!1).length}function aa(_,h,r){let f=[],k=Object.keys(_.entitiesRelations),L=r&&r.employee?r.employee.split(",").map(s=>parseInt(s)):null,m=S(L?_.unfilteredEmployees.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredEmployees);return h.bookable.forEach(s=>{s.providers.length?s.providers.forEach(p=>{s.locations.length?s.locations.forEach(b=>{m.value.find($=>$.id===p.id)&&_.entitiesRelations[p.id][s.service.id].indexOf(b.id)!==-1&&!f.find($=>$.id===p.id)&&f.push(m.value.find($=>$.id===p.id))}):m.value.find(b=>b.id===p.id)&&!f.find(b=>b.id===p.id)&&f.push(m.value.find(b=>b.id===p.id))}):k.forEach(p=>{s.locations.length?s.locations.forEach(b=>{_.entitiesRelations[p][s.service.id]&&_.entitiesRelations[p][s.service.id].indexOf(b.id)!==-1&&m.value.find($=>$.id===parseInt(p))&&!f.find($=>$.id===parseInt(p))&&f.push(m.value.find($=>$.id===parseInt(p)))}):_.entitiesRelations[p][s.service.id]&&m.value.find(b=>b.id===parseInt(p))&&!f.find(b=>b.id===parseInt(p))&&f.push(m.value.find(b=>b.id===parseInt(p)))})}),f}function ot(_,h,r){let f=[],k=Object.keys(_.entitiesRelations),L=r&&r.location?r.location.split(",").map(s=>parseInt(s)):null,m=S(L?_.unfilteredLocations.filter(s=>L.map(p=>parseInt(p)).includes(s.id)):_.unfilteredLocations);return h.bookable.forEach(s=>{s.locations.length?s.locations.forEach(p=>{m.value.find(b=>b.id===p.id)&&!f.find(b=>b.id===p.id)&&f.push(m.value.find(b=>b.id===p.id))}):k.forEach(p=>{m.value.forEach(b=>{p in _.entitiesRelations&&s.service.id in _.entitiesRelations[p]&&_.entitiesRelations[p][s.service.id].indexOf(b.id)!==-1&&m.value.find($=>$.id===b.id)&&!f.find($=>$.id===parseInt(b.id))&&f.push(m.value.find($=>$.id===b.id))})})}),f}function fi(_,h){let r=[];return _.categories.forEach(f=>{let k=ft(h,f,_);f.packageList=[],_.packages.forEach(L=>{k.forEach(m=>{L.bookable.filter(s=>s.service.id===m).length&&!f.packageList.filter(s=>s===L.id).length&&L.available&&L.status==="visible"&&!Vt(_,L)&&Ut(_,L,h)&&f.packageList.push(L.id)})}),f.status==="visible"&&f.serviceList.length&&!!k.length&&(h.show==="packages"?!!f.packageList.length:!0)&&r.push(f)}),r}const vi={class:"am-fcl__item-inner"},gi={class:"am-fcl__item-name"},yi={class:"am-fcl__item-segments"},hi={key:0,class:"am-fcl__item-segments__item"},bi=t("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),ki={class:"am-fcl__item-segments__item-count"},Ci={key:1,class:"am-fcl__item-segments__item"},$i=t("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),wi={class:"am-fcl__item-segments__item-count"},Si={class:"am-fcl__item-footer"},xi=["src"],Ii={class:"am-empty__heading"},Pi={class:"am-empty__subheading"},Di={class:"am-empty__text"},Ei={key:0},Li={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Ti={key:1},Bi={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Fi={name:"CategoriesList",key:"categoriesList"},zi=Object.assign(Fi,{setup(_){const h=B("baseUrls");let r=S(null),f=S(0);window.addEventListener("resize",k);function k(){r.value&&(f.value=r.value.offsetWidth)}Be(()=>{r.value&&(f.value=r.value.offsetWidth)});let L=C(()=>f.value<=500?"am-w100":f.value<=600?"am-w50":f.value<=768?"am-w33":""),{nextPage:m}=B("changingPageFunctions",{nextPage:()=>{}});const s=B("settings");let p=at(),b=B("amEntities"),$=B("customizedDataForm"),w=C(()=>$.value.categoriesList.options);const P=B("shortcodeData"),v=C(()=>p.getters["entities/getPreselected"]);let N=B("availableCategories"),D=C(()=>{let ie=[];return b.value.categories.forEach(g=>{let Z=ft(P.value,g,b.value);g.packageList=[],b.value.packages.forEach(_e=>{Z.forEach(fe=>{_e.bookable.filter(le=>le.service.id===fe).length&&!g.packageList.filter(le=>le===_e.id).length&&_e.available&&_e.status==="visible"&&!Vt(b.value,_e)&&Ut(b.value,_e,P.value)&&g.packageList.push(_e.id)})}),g.status==="visible"&&g.serviceList.length&&!!Z.length&&(v.value.show==="packages"?!!g.packageList.length:!0)&&ie.push(g)}),De(()=>{N.value=JSON.parse(JSON.stringify(ie))}),ie}),J=B("categorySelected");function V(ie){J.value=ie,p.commit("booking/setCategoryId",parseInt(ie)),_t(p,{},"SelectCategory","appointment",null,null),m()}let u=C(()=>D.value.length===0);const j=B("labels"),U=B("localLanguage");let ke=C(()=>s.general.usedLanguages.includes(U.value)),pe=C(()=>{let ie=it(et({},j));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoriesList.translations){let g=s.customizedData.cbf.categoriesList.translations;Object.keys(g).forEach(Z=>{g[Z][U.value]&&ke.value?ie[Z]=g[Z][U.value]:g[Z].default&&(ie[Z]=g[Z].default)})}return ie}),R=B("amColors"),xe=C(()=>({"--am-c-fcl-card-text-op80":ee(R.value.colorCardText,.8)}));return(ie,g)=>e(u)?(a(),i("div",{key:1,ref_key:"ameliaContainer",ref:r,class:"am-empty"},[t("img",{src:e(h).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,xi),t("div",Ii,n(e(pe).oops),1),t("div",Pi,n(e(v).show!=="packages"?e(pe).no_services_employees:e(pe).no_package_services),1),t("div",Di,[e(v).show!=="packages"?(a(),i("span",Ei,n(e(pe).add_services_employees)+"\xA0 ",1)):d("",!0),t("a",Li,n(e(pe).add_services_url)+"\xA0 ",1),e(v).show!=="packages"?(a(),i("span",Ti,n(e(pe).and)+"\xA0 ",1)):d("",!0),e(v).show!=="packages"?(a(),i("a",Bi,n(e(pe).add_employees_url),1)):d("",!0)])],512)):(a(),i("div",{key:0,ref_key:"ameliaContainer",ref:r,class:"am-fcl",style:ce(e(xe))},[(a(!0),i(se,null,ge(e(D),Z=>(a(),i("div",{key:Z.id,class:M(["am-fcl__item",e(L)])},[t("div",vi,[t("div",{class:"am-fcl__item-content",style:ce(e(w).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:Z.color}:{})},[t("div",{class:"am-fcl__item-heading",style:ce(e(w).cardColor&&e(w).cardColor.visibility?{backgroundColor:e(ee)(Z.color,.1)}:{})},[Z.pictureFullPath?(a(),i("div",{key:0,style:ce({backgroundImage:`url(${Z.pictureFullPath})`}),class:"am-fcl__item-hero"},null,4)):d("",!0),t("div",gi,n(Z.name),1),t("div",yi,[(!e(v).show||e(v).show==="services")&&e(w).services.visibility?(a(),i("div",hi,[bi,t("span",ki,n(e(ft)(e(P),Z,e(b)).length),1)])):d("",!0),(!e(v).show||e(v).show==="packages")&&Z.packageList.length&&e(w).packages.visibility?(a(),i("div",Ci,[$i,t("span",wi,n(Z.packageList.length),1)])):d("",!0)])],4),t("div",Si,[G(ze,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(w).cardButton.buttonType,suffix:e(ba),onClick:_e=>V(Z.id)},{default:A(()=>[Se(n(e(pe).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Ai=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Ri=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Oi=["href"],Mi={class:"am-fs-sb__step-wrapper"},Ni={class:"am-fs-sb__step-inner"},Vi={class:"am-fs-sb__step-icon"},Ui={key:0,class:"am-icon-check"},Wi={key:0},ji={key:1},Hi={key:1},qi={key:0,class:"am-fs-sb__step"},Gi={class:"am-fs-sb__step-inner"},Ji={class:"am-fs-sb__step-icon"},Yi={key:0,class:"am-icon-check"},Qi={key:0,class:"am-fs-sb__support"},Xi=["href"],Zi={key:1,class:"am-icon-phone"},Ki=["href"],es={key:1,class:"am-icon-email"},ts={key:0,class:"am-fs-sb__menu-text"},as={key:2,class:"am-no-services"},is=["src"],ss={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},ls={style:{"font-size":"14px"}},os={href:"https://wpamelia.com/employees/",rel:"nofollow"},ns={name:"CategoryBooking"},Wt=Object.assign(ns,{props:{newBooking:{type:Boolean,default:!1},showCart:{type:Boolean,default:!1}},emits:["addToCart","emptiedCart"],setup(_,{emit:h}){const r=_;let f=S(null),k=S();te("containerWidth",k);let L=S(!1);window.addEventListener("resize",m);function m(){f.value&&(k.value=f.value.offsetWidth)}Be(()=>{De(()=>{f.value&&(k.value=f.value.offsetWidth)}),_t(u,{containerWidth:k},"ContainerWidth","appointment",null,null)});const s=B("settings"),p=s.customizedData?s.customizedData.sbsNew:nt.sbsNew;p&&te("amCustomize",p);let b=C(()=>{let l={heading:!0,phone:!0,email:!0};return"supportHeading"in p.sidebar.options&&(l.heading=p.sidebar.options.supportHeading.visibility),"companyPhone"in p.sidebar.options&&(l.phone=p.sidebar.options.companyPhone.visibility),"companyEmail"in p.sidebar.options&&(l.email=p.sidebar.options.companyEmail.visibility),l});const $=S(s.customizedData?s.customizedData.fonts:nt.fonts);te("amFonts",$);let w=S(!1);te("sidebarCollapsed",w);let P=S(""),v=B("bookingDialogWidth");kt(w,l=>{l?setTimeout(()=>{P.value="am-collapsed",setTimeout(()=>{v.value="592px"},200)},1e3):(P.value="",v.value="760px")}),Be(()=>{p.sidebar.options.self.visibility||(v.value="520px")});let N=S(null),D=S(0);Be(()=>{setTimeout(()=>{De(()=>{N.value&&setTimeout(()=>{N.value&&(D.value=N.value.offsetHeight)},200)})},800)});let J=S(p.sidebar?p.sidebar.options.self.visibility:!0);const V=B("baseUrls"),u=at();let j=C(()=>{let l=u.getters["entities/getOriginalPreselected"],y={category:u.state.booking.appointment.categoryId?[u.state.booking.appointment.categoryId]:[],counter:u.state.entities.preselected.counter,employee:u.state.booking.appointment.providerId?[u.state.booking.appointment.providerId]:[],hasApiCall:u.state.entities.preselected.hasApiCall,location:u.state.booking.appointment.locationId?[u.state.booking.appointment.locationId]:[],service:u.state.booking.appointment.serviceId?[u.state.booking.appointment.serviceId]:[],package:u.state.booking.packageId?[u.state.booking.packageId]:[],show:u.state.booking.appointment.type==="package"?"packages":"services",trigger:""};return Object.keys(l).forEach(I=>{I in y||(y[I]=l[I])}),y});u.commit("entities/setPreselected",j.value);let U=B("restoreFormData");const ke=we(ka),pe=we(Ca),R=we($a),xe=we(wa),ie=we(Sa),g=we(xa),Z=we(Ia),_e=we(Pa),fe=we(Da),le=we(Ea),K=we(La),Ie=we(Ta),Re=we(Ba),Ee=we(Fa),o=S(He(u)?[ke,g,le,K,fe]:[ke,g,K,fe]);te("stepsArray",o);const oe=B("labels"),O=B("localLanguage");let $e=C(()=>s.general.usedLanguages.includes(O.value)),ye=Tt(u),be=C(()=>{let l=it(et({},oe));return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(y=>{if(y!=="colors"&&s.customizedData.sbsNew[y].translations){let I=s.customizedData.sbsNew[y].translations;Object.keys(I).forEach(Q=>{I[Q][O.value]&&$e.value?l[Q]=I[Q][O.value]:I[Q].default&&(l[Q]=I[Q].default)})}}),l});te("amLabels",be);let Le=C(()=>{let l={};if(s.customizedData){let y=s.customizedData.sbsNew[o.value[z.value].key]?s.customizedData.sbsNew[o.value[z.value].key].translations:null;s.customizedData&&y&&Object.keys(y).forEach(I=>{y[I][O.value]&&$e.value?l[I]=y[I][O.value]:y[I].default&&(l[I]=y[I].default)})}return Object.keys(l).length?l:oe}),Y=C(()=>{let l="filled";return s.customizedData&&s.customizedData.sbsNew[o.value[z.value].key]&&(l=s.customizedData.sbsNew[o.value[z.value].key].options.primaryFooterButton.buttonType),l});te("primFooterBtnType",Y),te("primDescBtnType",Y);let H=C(()=>{let l="text";return s.customizedData&&s.customizedData.sbsNew[o.value[z.value].key]&&s.customizedData.sbsNew[o.value[z.value].key].options.secondaryFooterButton&&(l=s.customizedData.sbsNew[o.value[z.value].key].options.secondaryFooterButton.buttonType),l}),F=C(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.addToCart.buttonType:"text"),ae=C(()=>s.customizedData&&s.customizedData.sbsNew.cartStep?s.customizedData.sbsNew.cartStep.options.backToCart.buttonType:"text");function Oe(l,y){let I="";if(s.customizedData){let Q=s.customizedData.sbsNew[y]?s.customizedData.sbsNew[y].translations:null;s.customizedData&&Q&&Q[l]&&(I===""&&Q[l][O.value]&&$e.value?I=Q[l][O.value]:I===""&&Q[l].default&&(I=Q[l].default))}return I||oe[l]}let dt=C(()=>za(u.getters["entities/getEmployeeServices"](u.getters["booking/getSelection"])));function Xe(){let l=u.getters["entities/getPreselected"];if(l.show==="packages")l.package.length>0&&(o.value.splice(0,1),X.value.splice(0,1),mt()),Me();else{lt();let y=u.getters["entities/filteredEmployees"](u.getters["booking/getSelection"]).length<=1,I=!p.initStep.options.employee.visibility,Q=u.getters["entities/filteredLocations"](u.getters["booking/getSelection"]).length<=1,Pe=!p.initStep.options.location.visibility;l.service.length>0&&(l.employee.length>0||y||I)&&(l.location.length>0||Q||Pe)&&(dt.value.availability?(o.value.splice(0,1,Ee),X.value.splice(0,1)):(o.value.splice(0,1),X.value.splice(0,1)),Me())}}function ue(l,y,I,Q){l.value.map((We,Ye)=>y.includes(We.name)?Ye:null).filter(We=>We!==null).reverse().forEach(We=>{l.value.splice(We,1)});let je={value:Q};I.forEach(We=>{l.value.indexOf(We)===-1&&(u.getters["entities/getPreselected"].show==="packages"&&u.getters["entities/getPreselected"].package.length>0?l.value.splice(je.value,0,We):l.value.splice(je.value+1,0,We))})}te("goToPackageStep",{goToPackageStep:st});function st(l){u.commit("booking/setPackageId",l.id),u.commit("booking/setBookableType","package"),u.commit("booking/setMultipleAppointments",It(0,l)),u.commit("booking/setMultipleAppointmentsIndex",0);let y=l.bookable.reduce((Pe,je)=>Pe+je.maximumScheduled,0),I=[],Q=[];o.value[0]!==pe&&I.push("ExtrasStep"),o.value[0]!==g&&I.push("DateTimeStep"),o.value[0]!==le&&I.push("CartStep"),y>0?Q=Q.concat([_e,Z,R]):Q.push(R),ue(o,I,Q,z.value),ue(X,I,[],z.value),Me(),Ze()}function mt(){let y=u.state.entities.packages.find(Pe=>Pe.id===u.getters["booking/getPackageId"]).bookable.reduce((Pe,je)=>Pe+je.maximumScheduled,0),I=[],Q=[];o.value.find(Pe=>Pe.name==="ExtrasStep")&&I.push("ExtrasStep"),o.value.find(Pe=>Pe.name==="DateTimeStep")&&I.push("DateTimeStep"),y>0?Q=Q.concat([_e,Z,R]):Q.push(R),ue(o,I,Q,z.value),ue(X,I,[],z.value),Me(),Ze()}function q(){u.commit("booking/setBookableType","appointment"),u.commit("booking/setMultipleAppointments",[{packageId:null,serviceId:null,index:0,services:{}}]),u.commit("booking/setPackageId",null),u.commit("booking/setMultipleAppointmentsIndex",0),pt(u);let l=[];o.value[0]!==g&&(He(u)&&l.push(le),l.push(g)),o.value[0]!==pe&&de.value&&de.value.length&&l.push(pe),ue(o,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],l,z.value-1),ue(X,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[],z.value),Me()}te("goToRecurringStep",{goToRecurringStep:T}),te("removeRecurringStep",{removeRecurringStep:x});function T(){He(u)&&la();let l=0;for(let y=0;y<o.value.length;y++)if(o.value[y].name==="DateTimeStep"){l=y;break}o.value.splice(l+1,0,xe),o.value.splice(l+2,0,ie),Me(),Ze()}function x(){for(let l=o.value.length-1;l>=0;l--)(o.value[l].name==="RecurringStep"||o.value[l].name==="RecurringSummary")&&o.value.splice(l+1,1);He(u)&&sa(z.value),Me()}let de=C(()=>{let l=u.getters["entities/getService"](u.getters["booking/getServiceId"]);return l?l.extras:[]});function lt(){de.value.length&&!o.value.find(l=>l.name==="ExtrasStep")&&(o.value.splice(z.value+1,0,pe),Me()),X.value.find(l=>l.name==="ExtrasStep")&&!Object.keys(de.value).length&&(o.value.splice(1,1),X.value.splice(1,1)),r.showCart||pt(u)}te("initDataChanges",{changeInitStepDataService:lt});const z=S(0);te("stepIndex",z);let vt=B("stepName",S(""));kt(z,(l,y)=>{l<X.value.length&&(X.value[y].selected=!1,X.value[l].selected=!0),l===X.value.length&&(X.value[y].selected=!1),vt.value=o.value[l].name});let gt=S(!1);te("goBackToPackageBooking",gt);function Pt(){Te(!1),Ue.value||(o.value[z.value].name===R.name&&q(),o.value[z.value].name===xe.name&&(o.value.splice(z.value,2),X.value.splice(z.value,2),He(u)&&(o.value.splice(z.value,0,le),ue(X,[],[],z.value),Me())),o.value[z.value].name===_e.name&&(gt.value=!0),z.value=z.value-1),Ke.value=!Ke.value}function Ze(){Ue.value||(X.value[z.value].finished=!0,z.value=z.value+1)}let yt=C(()=>u.getters["entities/getReady"]),Dt=C(()=>u.getters["booking/getLoading"]),Ge=C(()=>u.getters["booking/getBooked"]),Et=C(()=>u.getters["booking/getPaymentGateway"]),Ce=S(!1),ht=S(!1),Ke=S(!1);function W(){Ce.value=!0}function E(){Ce.value=!1}function c(){Ke.value=!0}function ne(){Ke.value=!1}function Te(l){ht.value=l}function Je(){Ge.value&&(Ge.value.customerCabinetUrl?window.location.href=Ge.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}te("secondButton",{secondButtonClick:Je});let Ue=S(!1);te("changingStepsFunctions",{nextStep:Ze,previousStep:Pt,footerButtonClick:W,footerButtonReset:E,footerBtnDisabledUpdater:Te,headerButtonPreviousClick:c,headerButtonPreviousReset:ne,footerBtnDisabled:ht,footerButtonClicked:Ce,headerButtonPreviousClicked:Ke,navigateInsideStep:Ue});const X=S([]);te("sidebarSteps",X);function me(l){X.value[z.value].stepSelectedData.filter(y=>y.reference===l.reference).length?X.value[z.value].stepSelectedData.forEach((y,I,Q)=>{y.reference===l.reference&&l.value&&l.value!==y.value&&(y.value=l.value),y.reference===l.reference&&!l.value&&Q.splice(I,1)}):l.value&&X.value[z.value].stepSelectedData.push(l),X.value[z.value].stepSelectedData.sort((y,I)=>y.position-I.position)}function ia(){o.value.forEach((l,y)=>{if(l.name!=="CongratulationsStep"){let I=l.sidebarData.label,Q={name:l.name,key:l.key,label:be.value[I],labelKey:I,icon:l.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===z.value};X.value.splice(y,0,Q)}})}Rt(()=>{ia(),Xe()}),Be(()=>{switch(u.getters["booking/getBookableType"]){case"appointment":r.showCart||pt(u);break}if(r.showCart&&Yt(o,z),U.value){o.value.splice(0,o.value.length),X.value.splice(0,X.value.length),z.value=0,U.value.steps.forEach(y=>{switch(y){case"packageStep":o.value.push(Re);break;case"bringingAnyone":o.value.push(Ee);break;case"initStep":o.value.push(ke);break;case"packageInfoStep":o.value.push(R);break;case"packageAppointmentsStep":o.value.push(Z);break;case"packageAppointmentsListStep":o.value.push(_e);break;case"extrasStep":o.value.push(pe);break;case"dateTimeStep":o.value.push(g);break;case"recurringStep":o.value.push(xe);break;case"recurringSummary":o.value.push(ie);break;case"cartStep":o.value.push(le);break;case"infoStep":o.value.push(K);break;case"paymentStep":o.value.push(Ie);break;case"congratulations":o.value.push(fe);break}let I=U.value.sidebar.find(Q=>Q.key===y);Me(),typeof I!="undefined"&&I.data&&I.data.forEach(Q=>{me({reference:Q.reference,position:Q.position,value:Q.value})}),z.value++}),u.commit("booking/setLoading",!1);let l=-1;U.value.result==="success"?l=o.value.length-1:(U.value.result==="error"||U.value.result==="canceled")&&(l=o.value.length-2);for(let y=0;y<=l;y++)o.value[y].finished=!0;for(let y=0;y<=l-1;y++)X.value[y].finished=!0,X.value[y].selected=!1;(U.value.result==="error"||U.value.result==="canceled")&&(X.value[l].finished=!1,X.value[l].selected=!0),z.value=l}});function Me(){o.value.forEach((l,y)=>{if(l.name!=="CongratulationsStep"&&!X.value.find(I=>I.labelKey===l.sidebarData.label)){let I=l.sidebarData.label,Q={name:l.name,key:l.key,label:be.value[I],labelKey:I,icon:l.sidebarData.icon,stepSelectedData:[],finished:!1,selected:y===z.value};X.value.splice(y,0,Q)}})}te("sidebarStepsFunctions",{sidebarDataCollector:me}),te("addPaymentsStep",{addPaymentsStep:jt}),te("removePaymentsStep",{removePaymentsStep:Ht});function jt(){o.value.splice(o.value.length-1,0,Ie),Me()}function Ht(){let l=["PaymentStep"];ue(o,l,[],z.value),ue(X,l,[],z.value)}function sa(l){ue(o,[],[le],l),ue(X,[],[],l)}function la(){ue(o,["CartStep"],[],z.value),ue(X,["CartStep"],[],z.value)}function oa(){if(u.getters["entities/getPreselected"].show==="packages"){let y=u.getters["booking/getPackageId"]?[u.getters["entities/getPackage"](u.getters["booking/getPackageId"])]:u.getters["entities/getPackages"];return y.length>0&&y.filter(I=>I.price>0).length===y.length}if(!u.getters["booking/getPackageId"]){let y=u.getters["booking/getServiceId"]?[u.getters["entities/getService"](u.getters["booking/getServiceId"])]:u.getters["entities/getServices"],I=0;for(let Q of y){let Pe=u.getters["booking/getEmployeeId"]?u.getters["entities/getEmployee"](u.getters["booking/getEmployeeId"])?[u.getters["entities/getEmployee"](u.getters["booking/getEmployeeId"])]:[]:u.getters["entities/getEmployees"],je=u.getters["booking/getBookingDuration"];if(Pe.filter(Ye=>Ye.serviceList.find(Ne=>Ne.id===Q.id&&(Ne.price>0||Ne.customPricing&&Ne.customPricing.enabled&&(Object.values(Ne.customPricing.durations).length===Object.values(Ne.customPricing.durations).filter(Lt=>Lt.price>0).length||je&&Ne.customPricing.durations[je].price>0)))).length===Pe.filter(Ye=>Ye.serviceList.find(Ne=>Ne.id===Q.id)).length)I++;else{let Ye=u.getters["booking/getSelectedExtras"].length?u.getters["booking/getSelectedExtras"]:[];Ye.length>0&&Ye.reduce((Ne,Lt)=>Ne+Lt.price,0)>0&&I++}}return y.length>0&&I===y.length}return u.getters["entities/getPackage"](u.getters["booking/getPackageId"]).price>0}let na=C(()=>Tt(u).length?Aa(u)!==0:oa());Ra(()=>{let l=Tt(u);!l[0].serviceId&&Object.keys(l[0].services).length===0&&h("emptiedCart"),!U.value&&!na.value?Ht():U.value||o.value.indexOf(Ie)===-1&&jt()},{flush:"post"});function ca(){X.value.forEach(l=>{l.finished=!1,l.selected=!1}),o.value.forEach(l=>{l.finished=!1,l.selected=!1}),z.value=0,Kt(u,!0),ja(u),pt(u),h("addToCart")}function ra(){let l=u.getters["booking/getCurrentCartItem"],y=u.getters["booking/getAllMultipleAppointments"];l?(u.commit("booking/setCartItem",l),u.commit("booking/setCartItemIndex",y.length-1),u.commit("booking/setCurrentCartItem",null)):(y.pop(),u.commit("booking/setCartItemIndex",y.length-1),u.commit("booking/setServiceId",y[y.length-1].serviceId),u.commit("booking/setEmployeeId",y[y.length-1].services[y[y.length-1].serviceId].providerId),u.commit("booking/setLocationId",y[y.length-1].services[y[y.length-1].serviceId].locationId)),Yt(o,z)}let he=C(()=>s.customizedData?s.customizedData.sbsNew.colors:nt.sbsNew.colors);te("amColors",he);let ua=C(()=>({"--am-c-primary":he.value.colorPrimary,"--am-c-success":he.value.colorSuccess,"--am-c-error":he.value.colorError,"--am-c-warning":he.value.colorWarning,"--am-c-main-bgr":he.value.colorMainBgr,"--am-c-main-heading-text":he.value.colorMainHeadingText,"--am-c-main-text":he.value.colorMainText,"--am-c-sb-bgr":he.value.colorSbBgr,"--am-c-sb-text":he.value.colorSbText,"--am-c-inp-bgr":he.value.colorInpBgr,"--am-c-inp-border":he.value.colorInpBorder,"--am-c-inp-text":he.value.colorInpText,"--am-c-inp-placeholder":he.value.colorInpPlaceHolder,"--am-c-drop-bgr":he.value.colorDropBgr,"--am-c-drop-text":he.value.colorDropText,"--am-c-btn-prim":he.value.colorBtnPrim,"--am-c-btn-prim-text":he.value.colorBtnPrimText,"--am-c-btn-sec":he.value.colorBtnSec,"--am-c-btn-sec-text":he.value.colorBtnSecText,"--am-c-skeleton-op20":ee(he.value.colorMainText,.2),"--am-c-skeleton-op60":ee(he.value.colorMainText,.6),"--am-font-family":$.value.fontFamily,"--am-mw-main":J.value?w.value?"592px":"760px":"520px","--am-brad-main":J.value?"0 0.5rem 0.5rem 0":"0.5rem"}));function da(){let l=document.head||document.getElementsByTagName("head")[0];l.querySelector("#amCustomFont")&&l.querySelector("#amCustomFont").remove();let y=`@font-face {font-family: '${$.value.fontFamily}'; src: url(${$.value.fontUrl});}`,I=document.createElement("style");l.appendChild(I),I.setAttribute("type","text/css"),I.setAttribute("id","amCustomFont"),I.appendChild(document.createTextNode(y))}$.value.customFontSelected&&da();let ma=C(()=>({colorInputBorderRadius:"6px"}));return te("amDesignProperties",ma),Be(()=>{Xt("renderForm",{ameliaContainer:f,containerWidth:k,empty:L,amCustomize:p,amFonts:$,sidebarCollapsed:w,sidebarCollapseItemsClass:P,sidebarFooterRef:N,sidebarFooterHeight:D,sidebarVisibility:J})}),(l,y)=>(a(),i(se,null,[$.value.customFontSelected?d("",!0):(a(),i(se,{key:0},[Ai,Ri,t("link",{rel:"stylesheet",type:"text/css",href:`${e(V).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Oi)],64)),e(L)?(a(),i("div",as,[t("img",{src:e(V).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,is),t("h1",null,n(e(be).oops),1),t("h3",null,n(e(be).no_services_employees),1),t("p",null,n(e(be).add_services_employees),1),t("a",ss,n(e(be).add_services_url)+"\xA0 ",1),t("span",ls,n(e(be).and)+"\xA0",1),t("a",os,n(e(be).add_employees_url),1)])):(a(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:f,class:M(["am-fs__wrapper",{"am-collapsed":e(w)}]),style:ce(e(ua))},[e(k)>560&&e(J)?(a(),ve(Na,{key:0,class:M(["am-fs-sb",{"am-collapsed":e(w)}]),style:ce({width:e(w)?"72px":"240px",paddingBottom:`${e(D)+16}px`})},{"step-list":A(()=>[t("div",Mi,[o.value[z.value]!==e(fe)||!e(s).general.addToCalendar||e(Ge)&&e(Ge).data.length===0?(a(!0),i(se,{key:0},ge(X.value,I=>(a(),i("div",{key:I.key,class:"am-fs-sb__step"},[t("div",Ni,[t("div",Vi,[t("span",{class:M(`am-icon-${I.icon}`)},null,2),I.key==="cartStep"&&e(Ve)(e(u))!==0?(a(),i("span",{key:0,class:M(["am-fs-sb__step-icon__number",e(P)])},n(e(Ve)(e(u))),3)):d("",!0)]),G(qe,{name:"fade"},{default:A(()=>[e(w)?d("",!0):(a(),i("p",{key:0,class:M(["am-fs-sb__step-heading",e(P)])},n(I.label),3))]),_:2},1024),t("div",{class:M(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":I.selected},e(P)]])},[G(qe,{name:"fade"},{default:A(()=>[I.finished?(a(),i("span",Ui)):d("",!0)]),_:2},1024)],2)]),G(Oa,{tag:"span",name:"fade",appear:"",class:M(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":I.key===e(Z).key&&I.stepSelectedData.length>3}])},{default:A(()=>[e(w)?d("",!0):(a(!0),i(se,{key:0},ge(I.stepSelectedData,(Q,Pe)=>(a(),i("p",{key:Q.position,class:"am-fs-sb__step-selection"},[I.key!==e(Z).key||Pe<3?(a(),i("span",Wi,n(Q.value),1)):(a(),i("span",ji,n(e(be).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(a(),i("div",Hi,[G(qe,{name:"fade"},{default:A(()=>[e(w)?d("",!0):(a(),ve(Ma,{key:0}))]),_:1}),e(w)?(a(),i("div",qi,[t("div",Gi,[t("div",Ji,[t("span",{class:M(`am-icon-${o.value[z.value].sidebarData.icon}`)},null,2)]),t("div",{class:M(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":o.value[z.value].sidebarData.selected},e(P)]])},[G(qe,{name:"fade"},{default:A(()=>[o.value[z.value].sidebarData.finished?(a(),i("span",Yi)):d("",!0)]),_:1})],2)])])):d("",!0)]))])]),"support-info":A(()=>[t("div",{ref_key:"sidebarFooterRef",ref:N,class:"am-fs-sb__footer"},[(e(s).company.email||e(s).company.phone)&&(e(b).heading||e(b).phone||e(b).email)?(a(),i("div",Qi,[G(qe,{name:"fade"},{default:A(()=>[!e(w)&&e(b).heading?(a(),i("div",{key:0,class:M(["am-fs-sb__support-heading",e(P)])},n(e(be).get_in_touch),3)):d("",!0)]),_:1}),e(s).company.phone&&e(b).phone?(a(),i("a",{key:0,class:"am-fs-sb__support-email",href:`tel:${e(s).company.phone}`},[e(w)?(a(),i("span",Zi)):(a(),i(se,{key:0},[Se(n(e(s).company.phone),1)],64))],8,Xi)):d("",!0),e(s).company.email&&e(b).email?(a(),i("a",{key:1,class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(w)?(a(),i("span",es)):(a(),i(se,{key:0},[Se(n(e(s).company.email),1)],64))],8,Ki)):d("",!0)])):d("",!0),t("div",{class:M(["am-fs-sb__menu",e(P)]),onClick:y[0]||(y[0]=I=>re(w)?w.value=!e(w):w=!e(w))},[G(qe,{name:"fade"},{default:A(()=>[e(w)?d("",!0):(a(),i("span",ts,n(e(be).collapse_menu),1))]),_:1}),t("span",{class:M(`am-icon-arrow-circle-${e(w)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):d("",!0),G(Wa,null,Ot({step:A(()=>[(a(),ve(Zt(o.value[z.value]),{"global-class":"am-fs__main-content"}))]),footer:A(()=>[G(e(Ua),{"second-button-show":o.value[z.value]===e(fe)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,"add-to-cart-button-show":e(He)(e(u))&&o.value[z.value]===e(le),"back-to-cart-button-show":e(He)(e(u))&&e(ye).length>1&&o.value[z.value]!==e(le)&&o.value[z.value]!==e(K)&&o.value[z.value]!==e(Ie)&&o.value[z.value]!==e(fe),booked:e(Ge),loading:e(Dt),ready:e(yt),"payment-gateway":e(Et),"customized-labels":e(Le),"primary-footer-button-type":e(Y),"secondary-footer-button-type":e(H),"add-to-cart-button-type":e(F),"back-to-cart-button-type":e(ae),"back-to-cart-label":Oe("cancel","cartStep"),onAddToCart:ca,onBackToCart:ra},null,8,["second-button-show","add-to-cart-button-show","back-to-cart-button-show","booked","loading","ready","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type","add-to-cart-button-type","back-to-cart-button-type","back-to-cart-label"])]),_:2},[o.value[z.value]!==e(fe)?{name:"header",fn:A(()=>[G(Va,{"sidebar-visible":e(J),ready:e(yt)},null,8,["sidebar-visible","ready"])])}:void 0]),1024)],6))],64))}});const cs={class:"am-fcil__filter-buttons"},rs={class:"am-fcil__filter"},us={class:"am-fcil__filter-item__btn-wrapper"},ds={class:"am-fcil__heading"},ms={key:0,class:"am-fcil__item-badge__wrapper"},ps={class:"am-fcil__item-badge am-package"},_s=t("span",{class:"am-icon-shipment"},null,-1),fs={class:"am-fcil__item-heading"},vs={class:"am-fcil__item-name"},gs={key:0,class:"am-fcil__item-cost"},ys={key:0,class:"am-fcil__item-discount"},hs={class:"am-fcil__item-price"},bs={class:"am-fcil__item-info"},ks={key:0,class:"am-fcil__item-info__inner"},Cs=t("span",{class:"am-icon-folder"},null,-1),$s={key:1,class:"am-fcil__item-info__inner"},ws=t("span",{class:"am-icon-clock"},null,-1),Ss={key:0},xs={key:1},Is={key:2},Ps={key:2,class:"am-fcil__item-info__inner"},Ds=t("span",{class:"am-icon-user"},null,-1),Es=t("span",null,"1/1",-1),Ls=[Ds,Es],Ts={key:3,class:"am-fcil__item-info__inner"},Bs=t("span",{class:"am-icon-locations"},null,-1),Fs={key:2,class:"am-fcil__item-services"},zs={key:0,class:"am-fcil__item-badge__wrapper"},As={class:"am-fcil__item-badge am-service"},Rs=t("span",{class:"am-icon-service"},null,-1),Os={class:"am-fcil__item-heading"},Ms={class:"am-fcil__item-name"},Ns={key:0,class:"am-fcil__item-cost"},Vs={key:0,class:"am-fcil__item-price"},Us={class:"am-fcil__item-info"},Ws={key:0,class:"am-fcil__item-info__inner"},js=t("span",{class:"am-icon-folder"},null,-1),Hs={key:1,class:"am-fcil__item-info__inner"},qs=t("span",{class:"am-icon-clock"},null,-1),Gs={key:2,class:"am-fcil__item-info__inner"},Js=t("span",{class:"am-icon-user"},null,-1),Ys={key:3,class:"am-fcil__item-info__inner"},Qs=t("span",{class:"am-icon-locations"},null,-1),Xs={class:"am-fcil-employee__header"},Zs={class:"am-fcil-employee__heading"},Ks={class:"am-fcil-employee__heading-left"},el={class:"am-fcil-employee__name"},tl={key:0,class:"am-fcil-employee__heading-right"},al={class:"am-fcil-employee__price"},il=["innerHTML"],sl={key:1,ref:"ameliaContainer",class:"am-empty"},ll=["src"],ol={class:"am-empty__heading"},nl={class:"am-empty__subheading"},cl={class:"am-empty__text"},rl={key:0},ul={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},dl={key:1},ml={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},pl={name:"CategoryItemsList",key:"categoryItemsList"},_l=Object.assign(pl,{setup(_){let h=B("licence"),{nextPage:r,previousPage:f}=B("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const k=B("baseUrls");let L=S(!1),m=S(!1),s=S("760px");te("bookingDialogWidth",s);function p(){s.value="760px"}let b=S(!1),$=S(),w=B("containerWidth"),P=B("customizedDataForm"),v=C(()=>P.value.categoryItemsList.options),N=C(()=>(Array.isArray(u.value.category)?u.value.category:u.value.category.split(",")).length),D=C(()=>{let W=$.value&&$.value.catContainerWidth?$.value.catContainerWidth>768:!0;return N.value!==1&&v.value.sidebar.visibility&&W});const J=B("settings");let V=at();const u=B("shortcodeData"),j=C(()=>V.getters["entities/getPreselected"]);let U=B("amEntities"),ke=C(()=>He(V)&&Ve(V)>0),pe=C(()=>Ve(V));const R=B("labels"),xe=B("localLanguage");let ie=C(()=>J.general.usedLanguages.includes(xe.value)),g=C(()=>{let W=it(et({},R));if(J.customizedData&&J.customizedData.cbf&&J.customizedData.cbf.categoryItemsList.translations){let E=J.customizedData.cbf.categoryItemsList.translations;Object.keys(E).forEach(c=>{E[c][xe.value]&&ie.value?W[c]=E[c][xe.value]:E[c].default&&(W[c]=E[c].default)})}return W}),Z=S(""),_e=bt({components:{IconComponent:xt},template:'<IconComponent icon="search"/>'}),fe=S(!0),le=bt({components:{IconComponent:xt},template:'<IconComponent icon="filter"/>'}),K=C(()=>$.value&&$.value.catHeaderWidth?$.value.catHeaderWidth:0);window.addEventListener("resize",Ie);function Ie(){De(()=>{K.value>480&&(fe.value=!0)})}Be(()=>{Ie()});function Re(W){let E=[];return Z.value.toLowerCase().split(" ").forEach(c=>{E.push(W.toLowerCase().includes(c))}),E.filter(c=>c===!1).length<=0}let Ee=B("availableCategories"),o=B("categorySelected"),oe=C(()=>ft(u.value,U.value.categories.find(W=>W.id===o.value),U.value,ye.value,be.value)),O=C(()=>{let W=[];return U.value.packages.forEach(E=>{oe.value.forEach(c=>{E.bookable.filter(ne=>ne.service.id===c).length&&!W.filter(ne=>ne.id===E.id).length&&E.available&&E.status==="visible"&&!Vt(U.value,E)&&Ut(U.value,E,u.value)&&(Z.value?Re(E.name):!0)&&W.push(E)})}),W}),$e=C(()=>{let W=[];return U.value.services.forEach(E=>{oe.value.forEach(c=>{E.id===c&&(Z.value?Re(E.name):!0)&&W.push(E)})}),W}),ye=S(null),be=S(null),Le=S(!0),Y=S(!0);function H(W){W==="all"&&(Le.value=!0,Y.value=!0),W==="packages"&&(Le.value=!0,Y.value=!1),W==="services"&&(Le.value=!1,Y.value=!0)}Rt(()=>{j.value.show&&H(j.value.show)});let F=C(()=>{let W=u.value.employee,E=U.value.employees.length,c=u.value.location,ne=U.value.locations.length,Te=v.value.searchInput.visibility,Je=v.value.filterEmployee.visibility&&W.length!==1&&E>1&&!h.isLite,Ue=v.value.filterLocation.visibility&&c.length!==1&&ne>1&&!h.isLite&&!h.isStarter,X=v.value.filterButtons.visibility&&j.value.show!=="packages"&&j.value.show!=="services"&&O.value.length!==0&&$e.value.length!==0&&!Ve(V),me={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return K.value>992?!Te||!X?(me.employee=!Te&&!X?"am-w50":"am-w35",me.location=!Te&&!X?"am-w50":"am-w35",me.search=!X&&!Ue&&!Je?"am-w100":"am-w30",Je||(me.location=!Te&&!X?"am-w100":"am-w70"),Ue||(me.employee=!Te&&!X?"am-w100":"am-w70")):(Je||(me.location="am-w40"),Ue||(me.employee="am-w40"),!Je&&!Ue&&(me.search="am-w70")):K.value>768||K.value>480?(me.search=X?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",me.buttons=Te?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",me.employee=Ue?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",me.location=Je?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",me.category="am-w100 am-tablet am-order5"):(me.employee="am-w100 am-mobile",me.location="am-w100 am-mobile",me.search="am-w100 am-mobile",me.buttons="am-w100 am-mobile",me.category="am-w100 am-mobile"),me}),ae=C(()=>$.value&&$.value.catContainerWidth?$.value.catContainerWidth:0),Oe=C(()=>{let W=O.value.length&&!Ve(V)?O.value.length:0,E=$e.value.length>1?g.value.heading_services:g.value.heading_service,c=W?W>1?g.value.packages:g.value.package:"";if(!$e.value.length&&!W)return g.value.no_search_data;if(Y.value&&(!Le.value||!W))return`${g.value.available} - ${$e.value.length} ${E}`;if((!Y.value||!$e.value.length)&&Le.value)return`${g.value.available} - ${W} ${c}`;let ne=W?"/":"";return`${g.value.available} - ${$e.value.length} ${E} ${ne} ${W} ${c}`});Be(()=>{De(()=>{L.value=O.value.length===0&&$e.value.length===0})});function dt(W){o.value=W.id,V.commit("booking/setCategoryId",parseInt(W.id))}let Xe=B("itemType");function ue(W){V.commit("booking/setServiceId",parseInt(W)),V.commit("booking/setBookableType","appointment"),Xe.value="appointment",_t(V,{},"SelectService","appointment",null,null),De(()=>{r()})}function st(W){V.commit("booking/setServiceId",null),V.commit("booking/setPackageId",W.id),V.commit("booking/setBookableType","package"),V.commit("booking/setMultipleAppointments",It(0,W)),V.commit("booking/setCartItemIndex",0),Xe.value="package",_t(V,{},"SelectPackage","package",null,null),De(()=>{r()})}function mt(){o.value=null,V.commit("booking/setCategoryId",null),f()}function q(){At(V),b.value=!0,m.value=!0}let T=S(!1),x=S(""),de=S([]),lt=S({}),z=S(null);function vt(){x.value="",de.value=[],lt.value={},z.value=null}function gt(W){de.value=aa(U.value,W,u.value),lt.value=W,T.value=!0}function Pt(W){let E=[];Object.keys(U.value.entitiesRelations).forEach(ne=>{ne in U.value.entitiesRelations&&W in U.value.entitiesRelations[ne]&&U.value.employees.find(Te=>Te.id===parseInt(ne))&&E.push(U.value.employees.find(Te=>Te.id===parseInt(ne)))}),de.value=E,x.value="service",T.value=!0,z.value=W}function Ze(W){let E=U.value.services.find(ne=>ne.id===z.value).price,c=W.serviceList.find(ne=>ne.id===z.value).price;return c!==E?`${c-E>0?E>0?"+":"":"-"} ${Qe(c-E)}`:0}function yt(){x.value==="service"?ue(z.value):st(lt.value),vt()}function Dt(W,E){let c="";return W>1?(E==="day"&&(c=g.value.expires_days),E==="week"&&(c=g.value.expires_weeks),E==="month"&&(c=g.value.expires_months)):(E==="day"&&(c=g.value.expires_day),E==="week"&&(c=g.value.expires_week),E==="month"&&(c=g.value.expires_month)),c}function Ge(W,E){return Fe(W,E).length===1?Fe(W,E)[0].address?Fe(W,E)[0].address:Fe(W,E)[0].name:g.value.multiple_locations}let Et=B("amFonts",S({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),Ce=B("amColors"),ht=C(()=>({"--am-c-fcil-text-op-10":ee(Ce.value.colorSbText,.1),"--am-c-fcil-main-text-op15":ee(Ce.value.colorMainText,.15),"--am-c-fcil-card-text-op15":ee(Ce.value.colorCardText,.15),"--am-c-fcil-card-text-op80":ee(Ce.value.colorCardText,.8),"--am-c-fcil-primary-op20":ee(Ce.value.colorPrimary,.2),"--am-c-fcil-success-op20":ee(Ce.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":ee(Ce.value.colorInpText,.1),"--am-w-fcil-main":N.value!==1&&v.value.sidebar.visibility&&D.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":$.value&&$.value.catFormWidth<580?"100%":"50%"})),Ke=C(()=>({"--am-f-fcil-employee-f":Et.value.fontFamily,"--am-c-fcil-employee-bgr":Ce.value.colorMainBgr,"--am-c-fcil-employee-heading":Ce.value.colorMainHeadingText,"--am-c-fcil-employee-text":Ce.value.colorMainText,"--am-c-fcil-employee-text-op80":ee(Ce.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":ee(Ce.value.colorMainText,.15),"--am-c-fcil-employee-primary":Ce.value.colorPrimary,"--am-c-fcil-employee-primary-op10":ee(Ce.value.colorPrimary,.1),"--am-c-inp-border":Ce.value.colorInpBorder,"--am-c-main-text":Ce.value.colorMainText}));return(W,E)=>e(L)?(a(),i("div",sl,[t("img",{src:e(k).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,ll),t("div",ol,n(e(g).oops),1),t("div",nl,n(e(j).show!=="packages"?e(g).no_services_employees:e(g).no_package_services),1),t("div",cl,[e(j).show!=="packages"?(a(),i("span",rl,n(e(g).add_services_employees)+"\xA0 ",1)):d("",!0),t("a",ul,n(e(g).add_services_url)+"\xA0 ",1),e(j).show!=="packages"?(a(),i("span",dl,n(e(g).and)+"\xA0 ",1)):d("",!0),e(j).show!=="packages"?(a(),i("a",ml,n(e(g).add_employees_url),1)):d("",!0)])],512)):(a(),ve(Nt,{key:0,ref_key:"contentRef",ref:$,"wrapper-class":`am-fcil ${e(w)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(w)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(w)<481?"am-mobile":""}`,style:ce(e(ht))},Ot({header:A(()=>[t("span",cs,[e(N)!==1&&!e(u).categories_hidden?(a(),ve(Mt,{key:0,"btn-size":e(K)<481?"medium":"mini","btn-string":e(g).back_btn,"btn-type":e(v).backBtn.buttonType,"cart-btn-visibility":e(ke),"cart-items-number":e(pe),onGoBack:mt,onGoToCart:q},null,8,["btn-size","btn-string","btn-type","cart-btn-visibility","cart-items-number"])):d("",!0),e(K)<481?(a(),ve(ze,{key:1,size:"medium",category:"secondary",type:e(v).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(le),onClick:E[0]||(E[0]=()=>re(fe)?fe.value=!e(fe):fe=!e(fe))},null,8,["type","icon"])):d("",!0)]),t("div",rs,[e(v).searchInput.visibility?(a(),i("div",{key:0,class:M(["am-fcil__filter-item",e(F).search])},[G(Ha,{modelValue:e(Z),"onUpdate:modelValue":E[1]||(E[1]=c=>re(Z)?Z.value=c:Z=c),placeholder:e(g).filter_input,"icon-start":e(_e)},null,8,["modelValue","placeholder","icon-start"])],2)):d("",!0),G(qe,{name:"slide-fade"},{default:A(()=>[e(u).employee.length!==1&&e(U).employees.length>1&&e(v).filterEmployee.visibility&&e(fe)&&!e(h).isLite?(a(),i("div",{key:0,class:M(["am-fcil__filter-item",e(F).employee])},[G(Bt,{modelValue:e(ye),"onUpdate:modelValue":E[2]||(E[2]=c=>re(ye)?ye.value=c:ye=c),clearable:"",filterable:"",placeholder:e(g).filter_employee,"fit-input-width":!0},{default:A(()=>[(a(!0),i(se,null,ge(e(U).employees,c=>(a(),ve(Ft,{key:c.id,value:c.id,label:`${c.firstName} ${c.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):d("",!0)]),_:1}),G(qe,{name:"slide-fade"},{default:A(()=>[e(u).location.length!==1&&e(U).locations.length>1&&e(v).filterLocation.visibility&&e(fe)&&!e(h).isLite&&!e(h).isStarter?(a(),i("div",{key:0,class:M(["am-fcil__filter-item",e(F).location])},[G(Bt,{modelValue:e(be),"onUpdate:modelValue":E[3]||(E[3]=c=>re(be)?be.value=c:be=c),clearable:"",filterable:"",placeholder:e(g).filter_location,"fit-input-width":!0},{default:A(()=>[(a(!0),i(se,null,ge(e(U).locations,c=>(a(),ve(Ft,{key:c.id,value:c.id,label:c.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):d("",!0)]),_:1}),G(qe,{name:"slide-fade"},{default:A(()=>[e(N)!==1&&e(v).sidebar.visibility&&!e(D)&&e(fe)?(a(),i("div",{key:0,class:M(["am-fcil__filter-item am-w100",e(F).category])},[G(Bt,{modelValue:e(o),"onUpdate:modelValue":E[4]||(E[4]=c=>re(o)?o.value=c:o=c),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:A(()=>[(a(!0),i(se,null,ge(e(Ee),c=>(a(),ve(Ft,{key:c.id,value:c.id,label:c.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):d("",!0)]),_:1}),!e(j).show&&e(v).filterButtons.visibility&&e(O).length!==0&&e($e).length!==0&&!e(Ve)(e(V))?(a(),i("div",{key:1,class:M(["am-fcil__filter-item",e(F).buttons])},[t("div",us,[t("div",{class:M(["am-fcil__filter-item__btn",{"am-active":e(Le)&&e(Y)}]),onClick:E[5]||(E[5]=c=>H("all"))},[t("span",null,n(e(g).filter_all),1)],2),t("div",{class:M(["am-fcil__filter-item__btn",{"am-active":e(Le)&&!e(Y)}]),onClick:E[6]||(E[6]=c=>H("packages"))},[t("span",null,n(e(g).filter_packages),1)],2),t("div",{class:M(["am-fcil__filter-item__btn",{"am-active":!e(Le)&&e(Y)}]),onClick:E[7]||(E[7]=c=>H("services"))},[t("span",null,n(e(g).filter_services),1)],2)])],2)):d("",!0)])]),heading:A(()=>[t("div",ds,n(e(Oe)),1)]),content:A(()=>[e(Le)&&!e(Ve)(e(V))?(a(!0),i(se,{key:0},ge(e(O),c=>(a(),i("div",{key:c.id,class:M(["am-fcil__item",{"am-mobile":e(ae)<481}])},[t("div",{class:M(["am-fcil__item-inner",{"am-mobile":e(ae)<481}])},[t("div",{class:"am-fcil__item-content",style:ce(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ee)(c.color,.1)}:{})},[e(v).packageBadge.visibility?(a(),i("div",ms,[t("div",ps,[_s,t("span",null,n(e(g).package),1)])])):d("",!0),c.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ce({backgroundImage:`url(${c.pictureFullPath})`})},null,4)):d("",!0),t("div",fs,[t("div",vs,n(c.name),1),e(v).packagePrice.visibility?(a(),i("div",gs,[c.discount?(a(),i("span",ys,n(`${e(g).save} ${c.discount}%`),1)):d("",!0),t("span",hs,n(c.price?e(Qe)(c.calculatedPrice?c.price:c.price-c.price/100*c.discount):e(g).free),1)])):d("",!0)]),t("div",bs,[e(v).packageCategory.visibility?(a(),i("div",ks,[Cs,t("span",null,n(e(Ee).find(ne=>ne.id===e(o)).name),1)])):d("",!0),e(v).packageDuration.visibility?(a(),i("div",$s,[ws,c.endDate?(a(),i("span",Ss,n(`${e(g).expires_at} ${c.endDate.split(" ")[0]}`),1)):c.durationCount?(a(),i("span",xs,n(`${e(g).expires_after} ${c.durationCount} ${Dt(c.durationCount,c.durationType)}`),1)):(a(),i("span",Is,n(e(g).without_expiration),1))])):d("",!0),e(v).packageCapacity.visibility?(a(),i("div",Ps,Ls)):d("",!0),e(ot)(e(U),c,e(u)).length&&e(v).packageLocation.visibility?(a(),i("div",Ts,[Bs,t("span",null,n(e(ot)(e(U),c,e(u)).length===1?e(ot)(e(U),c,e(u))[0].address?e(ot)(e(U),c,e(u))[0].address:e(ot)(e(U),c,e(u))[0].name:e(g).multiple_locations),1)])):d("",!0)]),e(v).packageServices.visibility?(a(),i("div",Fs,[t("span",null,n(`${e(g).in_package}:`),1),(a(!0),i(se,null,ge(c.bookable,ne=>(a(),i("span",{key:ne.id},n(ne.service.name),1))),128))])):d("",!0)],4),t("div",{class:M(["am-fcil__item-footer",[{"am-mobile":e(ae)<481},{"am-micro":e(ae)<320}]])},[e(v).cardEmployeeBtn.visibility?(a(),ve(ze,{key:0,class:M({"am-w100":e(ae)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:ne=>gt(c)},{default:A(()=>[Se(n(e(g).view_employees),1)]),_:2},1032,["class","type","onClick"])):d("",!0),G(ze,{class:M([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ae)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:ne=>st(c)},{default:A(()=>[Se(n(e(g).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):d("",!0),e(Y)?(a(!0),i(se,{key:1},ge(e($e),c=>(a(),i("div",{key:c.id,class:M(["am-fcil__item",{"am-mobile":e(ae)<481}])},[t("div",{class:M(["am-fcil__item-inner",{"am-mobile":e(ae)<481}])},[t("div",{class:"am-fcil__item-content",style:ce(e(v).cardColor&&e(v).cardColor.visibility?{backgroundColor:e(ee)(c.color,.1)}:{})},[e(v).serviceBadge.visibility?(a(),i("div",zs,[t("div",As,[Rs,t("span",null,n(e(g).heading_service),1)])])):d("",!0),c.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:ce({backgroundImage:`url(${c.pictureFullPath})`})},null,4)):d("",!0),t("div",Os,[t("div",Ms,n(c.name),1),e(v).servicePrice.visibility?(a(),i("div",Ns,[e(rt)(e(U),c.id).min||e(rt)(e(U),c.id).max?(a(),i("span",Vs,n(e(rt)(e(U),c.id).price),1)):d("",!0)])):d("",!0)]),t("div",Us,[e(v).serviceCategory.visibility?(a(),i("div",Ws,[js,t("span",null,n(e(Ee).find(ne=>ne.id===e(o)).name),1)])):d("",!0),e(v).serviceDuration.visibility?(a(),i("div",Hs,[qs,t("span",null,n(e(ta)(c.duration)),1)])):d("",!0),e(v).serviceCapacity.visibility&&!e(h).isLite?(a(),i("div",Gs,[Js,t("span",null,n(e(ea)(e(U),c.id)),1)])):d("",!0),e(Fe)(e(U),c.id).length&&e(v).serviceLocation.visibility?(a(),i("div",Ys,[Qs,t("span",null,n(Ge(e(U),c.id)),1)])):d("",!0)])],4),t("div",{class:M(["am-fcil__item-footer",[{"am-mobile":e(ae)<481},{"am-micro":e(ae)<320}]])},[e(v).cardEmployeeBtn.visibility&&!e(h).isLite?(a(),ve(ze,{key:0,class:M({"am-w100":e(ae)<320}),size:"small",type:e(v).cardEmployeeBtn.buttonType,onClick:ne=>Pt(c.id)},{default:A(()=>[Se(n(e(g).view_employees),1)]),_:2},1032,["class","type","onClick"])):d("",!0),G(ze,{class:M([{"am-w100":!e(v).cardEmployeeBtn.visibility},{"am-micro am-w100":e(ae)<320}]),size:"small",type:e(v).cardContinueBtn.buttonType,onClick:ne=>ue(c.id)},{default:A(()=>[Se(n(e(g).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):d("",!0),G(ut,{modelValue:e(T),"onUpdate:modelValue":E[9]||(E[9]=c=>re(T)?T.value=c:T=c),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(Ke),width:"648px",onClose:vt},{title:A(()=>[t("div",Xs,n(e(g).employee_info),1)]),default:A(()=>[t("div",null,[G(Ct,null,{default:A(()=>[(a(!0),i(se,null,ge(e(de),(c,ne)=>(a(),ve($t,{key:ne,side:""},{heading:A(()=>[t("div",Zs,[t("div",Ks,[G(ct,{"item-class":"am-fcil-employee__img","item-data":c,"trim-string":2},null,8,["item-data"]),t("div",el,[Se(n(`${c.firstName} ${c.lastName}`)+" ",1),c.badge?(a(),i("span",{key:0,style:ce({background:c.badge.color}),class:"am-fcil-employee__badge"},n(c.badge.content),5)):d("",!0)])]),e(x)==="service"&&Ze(c)!==0?(a(),i("div",tl,[t("div",al,n(Ze(c)),1)])):d("",!0)])]),default:A(()=>[e(Ae)(c.description)?(a(),i("div",{key:0,class:M(["am-fcil-employee__text",{"ql-description":c.description.includes("<!-- Content -->")}]),innerHTML:c.description},null,10,il)):d("",!0)]),_:2},1024))),128))]),_:1})])]),footer:A(()=>[e(v).dialogEmployeeBtn.visibility?(a(),ve(ze,{key:0,type:e(v).dialogEmployeeBtn.buttonType,category:"primary",onClick:E[8]||(E[8]=c=>yt())},{default:A(()=>[Se(n(e(x)==="service"?e(g).book_service:e(g).book_package),1)]),_:1},8,["type"])):d("",!0)]),_:1},8,["modelValue","custom-styles"]),G(ut,{modelValue:e(m),"onUpdate:modelValue":E[10]||(E[10]=c=>re(m)?m.value=c:m=c),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(s),onClosed:p},{default:A(()=>[G(Wt,{"show-cart":e(b)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:2},[e(N)!==1&&e(v).sidebar.visibility&&e(D)?{name:"side",fn:A(()=>[G(mi,{"menu-items":e(Ee),"init-selection":e(o),identifier:"id","name-identifier":"name","footer-string":e(g).get_in_touch,"company-email":e(J).company.email,onClick:dt},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const fl={class:"am-fcis__header-text"},vl={class:"am-fcis__header-name"},gl={key:0,class:"am-fcis__badge am-service"},yl=t("span",{class:"am-icon-service"},null,-1),hl={class:"am-fcis__header-action"},bl={key:0,class:"am-fcis__header-price"},kl={class:"am-fcis__header-btn"},Cl={key:0,class:"am-fcis__header-bottom"},$l={class:"am-fcis__mini-info"},wl={key:0,class:"am-fcis__mini-info__inner"},Sl=t("span",{class:"am-icon-folder"},null,-1),xl={key:1,class:"am-fcis__mini-info__inner"},Il=t("span",{class:"am-icon-clock"},null,-1),Pl={key:2,class:"am-fcis__mini-info__inner"},Dl=t("span",{class:"am-icon-user"},null,-1),El={key:3,class:"am-fcis__mini-info__inner"},Ll=t("span",{class:"am-icon-locations"},null,-1),Tl={key:0,class:"am-fcis__gallery"},Bl={key:0,class:"am-fcis__gallery-thumb__wrapper"},Fl={class:"am-gd__display-wrapper"},zl={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Al=["src","alt"],Rl={class:"am-gd__selection"},Ol={class:"am-gd__thumb-wrapper"},Ml=["onClick"],Nl={key:1,class:"am-fcis__info"},Vl={class:"am-fcis__info-tab__wrapper"},Ul={class:"am-fcis__info-content__wrapper"},Wl={key:0,class:"am-fcis__info-content"},jl=["innerHTML"],Hl={key:1,class:"am-fcis__info-content"},ql={class:"am-fcis__info-employee__hero"},Gl={class:"am-fcis__info-employee__heading"},Jl={class:"am-fcis__info-employee__name"},Yl={key:0,class:"am-fcis__info-employee__price"},Ql=["innerHTML"],Xl={key:2,class:"am-fcis__include-wrapper"},Zl={class:"am-fcis__include-heading"},Kl={class:"am-fcis__include-heading__text"},eo=["onClick"],to={class:"am-fcis__include-hero"},ao={key:0,class:"am-fcis__include-cost"},io={key:0,class:"am-fcis__include-discount"},so={class:"am-fcis__include-price"},lo={class:"am-fcis__include-info"},oo={key:0,class:"am-fcis__include-info__inner"},no=t("span",{class:"am-icon-folder"},null,-1),co={key:1,class:"am-fcis__include-info__inner"},ro=t("span",{class:"am-icon-clock"},null,-1),uo={key:0},mo={key:1},po={key:2},_o={key:2,class:"am-fcis__include-info__inner"},fo=t("span",{class:"am-icon-user"},null,-1),vo=t("span",null,"1/1",-1),go=[fo,vo],yo={key:3,class:"am-fcis__include-info__inner"},ho=t("span",{class:"am-icon-locations"},null,-1),bo={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},ko={key:1,ref:"ameliaContainer",class:"am-empty"},Co=["src"],$o={class:"am-empty__heading"},wo={class:"am-empty__subheading"},So={class:"am-empty__text"},xo={key:0},Io={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},Po={key:1},Do={key:2,href:"https://wpamelia.com/employees/",rel:"nofollow"},Eo={name:"CategoryService"},Lo=Object.assign(Eo,{setup(_){let h=B("licence"),{previousPage:r}=B("changingPageFunctions",{previousPage:()=>{}}),f=C(()=>N.getters["entities/getReady"]);const k=B("baseUrls");let L=S(),m=B("containerWidth");const s=B("settings");let p=B("amFonts");const b=B("labels"),$=B("localLanguage");let w=C(()=>s.general.usedLanguages.includes($.value)),P=C(()=>{let q=it(et({},b));if(s.customizedData&&s.customizedData.cbf&&s.customizedData.cbf.categoryService.translations){let T=s.customizedData.cbf.categoryService.translations;Object.keys(T).forEach(x=>{T[x][$.value]&&w.value?q[x]=T[x][$.value]:T[x].default&&(q[x]=T[x].default)})}return q}),v=S(0),N=at(),D=B("amEntities"),J=C(()=>He(N)&&Ve(N)>0),V=C(()=>Ve(N)),u=B("customizedDataForm"),j=C(()=>u.value.categoryService.options),U=B("itemType"),ke=B("categorySelected"),pe=C(()=>D.value.categories.find(q=>q.id===ke.value)),R=C(()=>{let q=D.value.services.find(T=>T.id===N.getters["booking/getServiceId"]);return q||{}});function xe(q,T){return Fe(q,T).length===1?Fe(q,T)[0].address?Fe(q,T)[0].address:Fe(q,T)[0].name:P.value.multiple_locations}let ie=S("description"),g=C(()=>{let q=[];return Object.keys(D.value.entitiesRelations).forEach(x=>{D.value.entitiesRelations[x][R.value.id]&&D.value.employees.find(de=>de.id===parseInt(x))&&q.push(D.value.employees.find(de=>de.id===parseInt(x)))}),q});function Z(q){let T=q.serviceList.find(x=>x.id===R.value.id).price;return T-R.value.price!==0?`${T-R.value.price>0?R.value.price>0?"+":"":"-"} ${Qe(T-R.value.price)}`:""}Be(()=>{j.value.serviceDescription.visibility||(ie.value="employees"),Ae(R.value.description)||(ie.value="employees")});let _e=C(()=>{let q=R.value.gallery.length?JSON.parse(JSON.stringify(R.value.gallery)):[];return R.value.gallery.length===1?[]:(q.shift(),q.length>2&&q.splice(2,q.length-2),q)}),fe=C(()=>{let q=[];return D.value.packages.forEach(T=>{T.bookable.filter(x=>x.service.id===R.value.id).length&&!q.filter(x=>x.id===T.id).length&&T.available&&T.status==="visible"&&q.push(T)}),q}),le=S(!1),K=C(()=>{let q=[...fe.value];return le.value?q:q.slice(0,2)}),Ie=C(()=>N.getters["entities/filteredLocations"](N.getters["booking/getSelection"]));function Re(){U.value="",De(()=>{r()})}let Ee=S(!1);function o(){At(N),Ee.value=!0,O.value=!0}function oe(){O.value=!1,N.getters["entities/getPreselected"].service.length>1&&Re()}let O=S(!1),$e=S("760px");te("bookingDialogWidth",$e);function ye(){let q=N.getters["entities/getPreselected"];g.value.length===1&&(N.commit("booking/setEmployeeId",parseInt(g.value[0].id)),q.employee=[parseInt(g.value[0].id)],N.commit("entities/setPreselected",q)),Ee.value=!1,O.value=!1,qa(N),Kt(N,!1),pt(N);let T=Fe(D.value,R.value.id);T.length===1&&(N.commit("booking/setLocationId",parseInt(T[0].id)),q.location=[parseInt(T[0].id)],N.commit("entities/setPreselected",q)),N.commit("booking/setBookableType","appointment"),O.value=!0}B("restoreFormData").value&&ye();function Le(q){N.commit("booking/setPackageId",q.id),N.commit("booking/setBookableType","package"),N.commit("booking/setMultipleAppointments",It(0,q)),N.commit("booking/setMultipleAppointmentsIndex",0),g.value.length===1&&N.commit("booking/setEmployeeId",parseInt(g.value[0].id)),Fe(D.value,R.value.id).length===1&&N.commit("booking/setLocationId",parseInt(Fe(D.value,R.value.id)[0].id)),De(()=>{O.value=!0})}B("shortcodeData");const Y=C(()=>N.getters["entities/getPreselected"]);let H=S("");te("stepName",H);function F(){let q=N.getters["entities/getBookableFromBookableEntities"](N.getters["booking/getSelection"]),T=q.settings?JSON.parse(q.settings):s;"general"in T&&"redirectUrlAfterAppointment"in T.general&&T.general.redirectUrlAfterAppointment?window.location.href=T.general.redirectUrlAfterAppointment:s.general.redirectUrlAfterAppointment?window.location.href=s.general.redirectUrlAfterAppointment:window.location.reload()}function ae(){if(H.value&&H.value==="CongratulationsStep")F();else{if(H.value&&H.value==="DateTimeStep"){let q=Ga(N);q&&console.log(q)}N.commit("booking/setEmployeeId",null),N.commit("booking/setLocationId",null),N.commit("entities/setPreselected",N.getters["entities/getOriginalPreselected"])}$e.value="760px"}let Oe=S(!1);function dt(q,T){let x="";return q>1?(T==="day"&&(x=P.value.expires_days),T==="week"&&(x=P.value.expires_weeks),T==="month"&&(x=P.value.expires_months)):(T==="day"&&(x=P.value.expires_day),T==="week"&&(x=P.value.expires_week),T==="month"&&(x=P.value.expires_month)),x}let Xe=C(()=>Object.keys(R.value).length===0||g.value.length===0),ue=B("amColors"),st=C(()=>({"--am-c-fcis-success-op20":ee(ue.value.colorSuccess,.2),"--am-c-fcis-primary-op20":ee(ue.value.colorPrimary,.2),"--am-c-fcis-text-op80":ee(ue.value.colorMainText,.8),"--am-c-fcis-text-op03":ee(ue.value.colorMainText,.03),"--am-c-fcis-btn-op50":ee(ue.value.colorBtnSec,.5)})),mt=C(()=>({"--am-c-fcis-bgr":ue.value.colorMainBgr,"--am-c-fcis-text":ue.value.colorMainText,"--am-c-fcis-success":ue.value.colorSuccess,"--am-c-fcis-primary":ue.value.colorPrimary,"--am-c-scroll-op30":ee(ue.value.colorPrimary,.3),"--am-c-scroll-op10":ee(ue.value.colorPrimary,.1),"--am-font-family":p.fontFamily}));return(q,T)=>e(f)?(a(),i(se,{key:0},[e(Xe)?d("",!0):(a(),ve(Nt,{key:0,ref_key:"contentRef",ref:L,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":"am-fcis__content",style:ce(e(st))},{header:A(()=>[G(Mt,{"btn-string":e(P).back_btn,"btn-type":e(j).backBtn.buttonType,"back-btn-visibility":e(Y).service.length!==1,"cart-btn-visibility":e(J),"cart-items-number":e(V),onGoBack:Re,onGoToCart:o},null,8,["btn-string","btn-type","back-btn-visibility","cart-btn-visibility","cart-items-number"])]),heading:A(()=>[t("div",{class:M([[{"am-tablet":e(m)<=678},{"am-mobile":e(m)<450}],"am-fcis__header-top"])},[t("div",fl,[t("span",vl,n(e(R).name),1),e(j).serviceBadge.visibility?(a(),i("div",gl,[yl,t("span",null,n(e(P).heading_service),1)])):d("",!0)]),t("div",hl,[e(j).servicePrice.visibility?(a(),i("span",bl,n(e(rt)(e(D),e(R).id).min||e(rt)(e(D),e(R).id).max?e(rt)(e(D),e(R).id).price:e(P).free),1)):d("",!0),t("span",kl,[G(ze,{type:e(j).bookingBtn.buttonType,onClick:ye},{default:A(()=>[Se(n(e(P).book_now),1)]),_:1},8,["type"])])])],2),e(j).serviceCategory.visibility||e(j).serviceDuration.visibility||e(j).serviceCapacity.visibility||e(j).serviceLocation.visibility?(a(),i("div",Cl,[t("div",$l,[e(j).serviceCategory.visibility?(a(),i("div",wl,[Sl,t("span",null,n(e(pe).name),1)])):d("",!0),e(j).serviceDuration.visibility?(a(),i("div",xl,[Il,t("span",null,n(e(ta)(e(R).duration)),1)])):d("",!0),e(j).serviceCapacity.visibility&&!e(h).isLite?(a(),i("div",Pl,[Dl,t("span",null,n(e(ea)(e(D),e(R).id)),1)])):d("",!0),e(Fe)(e(D),e(R).id).length&&e(j).serviceLocation.visibility&&!e(h).isLite&&!e(h).isStarter?(a(),i("div",El,[Ll,t("span",null,n(xe(e(D),e(R).id)),1)])):d("",!0)])])):d("",!0)]),content:A(()=>[e(R).gallery.length?(a(),i("div",Tl,[t("div",{class:M(["am-fcis__gallery-hero",[{w100:e(R).gallery.length===1},{"am-mobile w100":e(m)<678}]]),style:ce({backgroundImage:`url(${e(R).gallery[0].pictureFullPath})`})},null,6),e(_e).length&&e(m)>677?(a(),i("div",Bl,[(a(!0),i(se,null,ge(e(_e),(x,de)=>(a(),i("div",{key:de,class:M(["am-fcis__gallery-thumb",{"am-one-thumb":e(_e).length===1}]),style:ce({backgroundImage:`url(${x.pictureFullPath})`})},null,6))),128))])):d("",!0),G(ze,{"custom-class":`am-fcis__gallery-btn${e(m)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:T[0]||(T[0]=()=>re(Oe)?Oe.value=!0:Oe=!0)},{default:A(()=>[Se(n(e(P).view_all_photos),1)]),_:1},8,["custom-class"])])):d("",!0),G(ut,{modelValue:e(Oe),"onUpdate:modelValue":T[4]||(T[4]=x=>re(Oe)?Oe.value=x:Oe=x),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ce(e(mt))},[t("div",Fl,[t("div",zl,[t("span",{class:"am-icon-arrow-left",onClick:T[1]||(T[1]=()=>re(v)?v.value=e(v)<=0?e(R).gallery.length-1:e(v)-1:v=e(v)<=0?e(R).gallery.length-1:e(v)-1)}),t("span",{class:"am-icon-arrow-right",onClick:T[2]||(T[2]=()=>re(v)?v.value=e(R).gallery.length-1===e(v)?0:e(v)+1:v=e(R).gallery.length-1===e(v)?0:e(v)+1)})]),(a(!0),i(se,null,ge(e(R).gallery,(x,de)=>(a(),i("div",{key:de,class:"am-gd__display",style:ce({display:de===e(v)?"flex":"none"}),onClick:T[3]||(T[3]=()=>re(v)?v.value=e(R).gallery.length-1===e(v)?0:e(v)+1:v=e(R).gallery.length-1===e(v)?0:e(v)+1)},[t("img",{src:x.pictureFullPath,alt:de},null,8,Al)],4))),128))]),t("div",Rl,n(`${e(v)+1}/${e(R).gallery.length}`),1),t("div",Ol,[(a(!0),i(se,null,ge(e(R).gallery,(x,de)=>(a(),i("div",{key:de,class:M(["am-gd__thumb",{"am-active":de===e(v)}]),style:ce({backgroundImage:`url(${x.pictureFullPath})`}),onClick:()=>re(v)?v.value=de:v=de},null,14,Ml))),128))])],4)]),_:1},8,["modelValue"]),e(j).serviceDescription.visibility&&e(Ae)(e(R).description)||e(j).serviceEmployees.visibility?(a(),i("div",Nl,[t("div",Vl,[e(Ae)(e(R).description)&&e(j).serviceDescription.visibility?(a(),i("div",{key:0,class:M(["am-fcis__info-tab",{"am-active":e(ie)==="description"}]),onClick:T[5]||(T[5]=()=>re(ie)?ie.value="description":ie="description")},n(e(P).about_service),3)):d("",!0),e(j).serviceEmployees.visibility&&!e(h).isLite?(a(),i("div",{key:1,class:M([{"am-active":e(ie)==="employees"},"am-fcis__info-tab"]),onClick:T[6]||(T[6]=()=>re(ie)?ie.value="employees":ie="employees")},n(e(P).tab_employees),3)):d("",!0)]),t("div",Ul,[e(Ae)(e(R).description)&&e(j).serviceDescription.visibility?wt((a(),i("div",Wl,[t("div",{class:M(["am-fcis__info-service__desc",{"ql-description":e(R).description.includes("<!-- Content -->")}]),innerHTML:e(R).description},null,10,jl)],512)),[[St,e(ie)==="description"]]):d("",!0),e(j).serviceEmployees.visibility?wt((a(),i("div",Hl,[G(Ct,null,{default:A(()=>[(a(!0),i(se,null,ge(e(g),x=>(a(),ve($t,{key:x.id,side:""},{heading:A(()=>[t("div",{class:M([{"am-mobile":e(m)<451},"am-fcis__info-employee"])},[t("div",ql,[G(ct,{"item-class":"am-fcis__info-employee__img","item-data":x,"trim-string":3},null,8,["item-data"]),t("div",Gl,[t("div",Jl,[Se(n(x.firstName)+" "+n(x.lastName)+" ",1),x.badge?(a(),i("span",{key:0,style:ce({background:x.badge.color}),class:"am-fcis__info-employee__badge"},n(x.badge.content),5)):d("",!0)]),Z(x)&&e(j).serviceEmployeePrice.visibility?(a(),i("div",Yl,n(Z(x)),1)):d("",!0)])])],2)]),default:A(()=>[e(Ae)(x.description)?(a(),i("div",{key:0,class:M(["am-fcis__info-employee__description",{"ql-description":x.description.includes("<!-- Content -->")}]),innerHTML:x.description},null,10,Ql)):d("",!0)]),_:2},1024))),128))]),_:1})],512)),[[St,e(ie)==="employees"]]):d("",!0)])])):d("",!0),e(fe).length&&e(Y).show!=="services"&&e(j).servicePackages.visibility&&!e(Ve)(e(N))?(a(),i("div",Xl,[t("div",Zl,[t("span",Kl,n(e(P).service_available_in_package),1),e(fe).length>2?(a(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:T[7]||(T[7]=()=>re(le)?le.value=!e(le):le=!e(le))},[e(le)?(a(),i(se,{key:1},[Se(n(e(P).less_packages),1)],64)):(a(),i(se,{key:0},[Se(n(e(P).more_packages),1)],64))])):d("",!0)]),(a(!0),i(se,null,ge(e(K),x=>(a(),i("div",{key:x.id,class:"am-fcis__include",onClick:de=>Le(x)},[t("div",to,[e(m)>450?(a(),ve(ct,{key:0,"item-class":"am-fcis__include-img","item-data":x,"trim-string":3},null,8,["item-data"])):d("",!0),t("div",{class:M([{"am-mobile":e(m)<451},"am-fcis__include-text"])},[t("div",{class:M(["am-fcis__include-header",{"am-mobile":e(m)<600}])},[t("div",{class:M(["am-fcis__include-name",{"am-mobile":e(m)<600}])},n(x.name),3),e(j).packagePrice.visibility?(a(),i("div",ao,[x.discount?(a(),i("span",io,n(`${e(P).save} ${x.discount}%`),1)):d("",!0),t("span",so,n(x.price?e(Qe)(x.calculatedPrice?x.price:x.price-x.price/100*x.discount):e(P).free),1)])):d("",!0)],2),t("div",lo,[e(j).packageCategory.visibility?(a(),i("div",oo,[no,t("span",null,n(e(pe).name),1)])):d("",!0),e(j).packageDuration.visibility?(a(),i("div",co,[ro,x.endDate?(a(),i("span",uo,n(`${e(P).expires_at} ${x.endDate.split(" ")[0]}`),1)):x.durationCount?(a(),i("span",mo,n(`${e(P).expires_after} ${x.durationCount} ${dt(x.durationCount,x.durationType)}`),1)):(a(),i("span",po,n(e(P).without_expiration),1))])):d("",!0),e(j).packageCapacity.visibility?(a(),i("div",_o,go)):d("",!0),e(j).packageLocation.visibility&&e(Ie).length?(a(),i("div",yo,[ho,t("span",null,n(e(Ie).length===1?e(Ie)[0].address?e(Ie)[0].address:e(Ie)[0].name:e(P).multiple_locations),1)])):d("",!0),e(j).packageServices.visibility?(a(),i("div",bo,[t("span",null,n(`${e(P).in_package}:`),1),(a(!0),i(se,null,ge(x.bookable,de=>(a(),i("span",{key:de.id},n(de.service.name),1))),128))])):d("",!0)])],2)])],8,eo))),128))])):d("",!0),G(ut,{modelValue:e(O),"onUpdate:modelValue":T[9]||(T[9]=x=>re(O)?O.value=x:O=x),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e($e),onClosed:ae},{default:A(()=>[G(Wt,{"show-cart":e(Ee),onAddToCart:oe,onEmptiedCart:T[8]||(T[8]=x=>re(O)?O.value=!1:O=!1)},null,8,["show-cart"])]),_:1},8,["modelValue","width"])]),_:1},8,["style"])),e(Xe)?(a(),i("div",ko,[t("img",{src:e(k).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Co),t("div",$o,n(e(P).oops),1),t("div",wo,n(e(Y).show!=="packages"?e(P).no_services_employees:e(P).no_package_services),1),t("div",So,[e(Y).show!=="packages"?(a(),i("span",xo,n(e(P).add_services_employees)+"\xA0 ",1)):d("",!0),t("a",Io,n(e(P).add_services_url)+"\xA0 ",1),e(Y).show!=="packages"?(a(),i("span",Po,n(e(P).and)+"\xA0 ",1)):d("",!0),e(Y).show!=="packages"?(a(),i("a",Do,n(e(P).add_employees_url),1)):d("",!0)])],512)):d("",!0)],64)):d("",!0)}});const To={class:"am-fcip__header-text"},Bo={class:"am-fcip__header-name"},Fo={key:0,class:"am-fcip__badge am-package"},zo=t("span",{class:"am-icon-shipment"},null,-1),Ao={class:"am-fcip__header-action"},Ro={key:0,class:"am-fcip__header-discount"},Oo={key:1,class:"am-fcip__header-price"},Mo={class:"am-fcip__header-btn"},No={key:0,class:"am-fcip__header-bottom"},Vo={class:"am-fcip__mini-info"},Uo={key:0,class:"am-fcip__mini-info__inner"},Wo=t("span",{class:"am-icon-folder"},null,-1),jo={key:1,class:"am-fcip__mini-info__inner"},Ho=t("span",{class:"am-icon-clock"},null,-1),qo={key:0},Go={key:1},Jo={key:2},Yo={key:2,class:"am-fcip__mini-info__inner"},Qo=t("span",{class:"am-icon-user"},null,-1),Xo=t("span",null,"1/1",-1),Zo=[Qo,Xo],Ko={key:3,class:"am-fcip__mini-info__inner"},en=t("span",{class:"am-icon-locations"},null,-1),tn={key:0,class:"am-fcip__gallery"},an={key:0,class:"am-fcip__gallery-thumb__wrapper"},sn=t("span",{class:"am-icon-gallery"},null,-1),ln={class:"am-gd__display-wrapper"},on={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},nn=["src","alt"],cn={class:"am-gd__selection"},rn={class:"am-gd__thumb-wrapper"},un=["onClick"],dn={key:1,class:"am-fcip__info"},mn={class:"am-fcip__info-tab__wrapper"},pn={class:"am-fcip__info-content__wrapper"},_n={key:0,class:"am-fcip__info-content"},fn=["innerHTML"],vn={key:1,class:"am-fcip__info-content"},gn={class:"am-fcip__info-employee"},yn={class:"am-fcip__info-employee__hero"},hn={class:"am-fcip__info-employee__name"},bn=["innerHTML"],kn={key:2,class:"am-fcip__include-wrapper"},Cn={class:"am-fcip__include-heading"},$n={class:"am-fcip__include-heading__text"},wn={class:"am-fcip__include-service"},Sn={class:"am-fcip__include-service__info"},xn={key:0},In=["innerHTML"],Pn={class:"am-fcip__include-footer"},Dn={class:"am-fcip__include-footer__text"},En={key:1,ref:"ameliaContainer",class:"am-empty"},Ln=["src"],Tn={class:"am-empty__heading"},Bn={class:"am-empty__subheading"},Fn={class:"am-empty__text"},zn={href:"https://wpamelia.com/services-and-categories/",rel:"nofollow"},An={name:"CategoryPackage"},Rn=Object.assign(An,{setup(_){let{previousPage:h}=B("changingPageFunctions",{previousPage:()=>{}}),r=S(),f=B("containerWidth");const k=B("settings"),L=B("baseUrls");let m=at();const s=B("shortcodeData"),p=C(()=>m.getters["entities/getPreselected"]);let b=B("amEntities"),$=B("customizedDataForm"),w=C(()=>$.value.categoryPackage.options),P=B("itemType"),v=B("categorySelected"),N=C(()=>b.value.categories.find(Y=>Y.id===v.value)),D=C(()=>b.value.packages.find(Y=>Y.id===m.getters["booking/getPackageId"])),J=S(0),V=S("description"),u=C(()=>aa(b.value,D.value,s.value)),j=C(()=>ot(b.value,D.value,s.value)),U=S(p.value.employee.length>0?b.value.unfilteredEmployees.filter(Y=>p.value.employee.map(H=>parseInt(H)).includes(Y.id)):b.value.unfilteredEmployees);function ke(Y){let H=[];return Y.providers.length?Y.providers.forEach(F=>{U.value.find(ae=>ae.id===parseInt(F.id))&&H.push(U.value.find(ae=>ae.id===parseInt(F.id)))}):H=U.value.filter(F=>F.serviceList.find(ae=>ae.id===Y.service.id)),H}Be(()=>{w.value.packageDescription.visibility||(V.value="employees"),Ae(D.value.description)||(V.value="employees")});let pe=S(!1);Rt(()=>{pe.value=m.getters["entities/getEmployees"].length===0||u.value.length===0});let R=S(!1),xe=C(()=>{let Y=D.value.gallery.length?JSON.parse(JSON.stringify(D.value.gallery)):[];return D.value.gallery.length===1?[]:(Y.shift(),Y.length>2&&Y.splice(2,Y.length-2),Y)});function ie(){P.value="",De(()=>{h()})}let g=S(!1),Z=S("760px");te("bookingDialogWidth",Z);function _e(){m.commit("booking/setPackageId",D.value.id),m.commit("booking/setMultipleAppointments",It(0,D.value)),m.commit("booking/setMultipleAppointmentsIndex",0),m.commit("booking/setBookableType","package"),De(()=>{g.value=!0})}B("restoreFormData").value&&_e();let le=S("");te("stepName",le);function K(){let Y=m.getters["entities/getBookableFromBookableEntities"](m.getters["booking/getSelection"]),H=Y.settings?JSON.parse(Y.settings):k;"general"in H&&"redirectUrlAfterAppointment"in H.general&&H.general.redirectUrlAfterAppointment?window.location.href=H.general.redirectUrlAfterAppointment:k.general.redirectUrlAfterAppointment?window.location.href=k.general.redirectUrlAfterAppointment:window.location.reload()}function Ie(){le.value&&le.value==="CongratulationsStep"?K():m.commit("entities/setPreselected",m.getters["entities/getOriginalPreselected"]),Z.value="760px"}let Re=B("amFonts");const Ee=B("labels"),o=B("localLanguage");let oe=C(()=>k.general.usedLanguages.includes(o.value)),O=C(()=>{let Y=it(et({},Ee));if(k.customizedData&&k.customizedData.cbf&&k.customizedData.cbf.categoryPackage.translations){let H=k.customizedData.cbf.categoryPackage.translations;Object.keys(H).forEach(F=>{H[F][o.value]&&oe.value?Y[F]=H[F][o.value]:H[F].default&&(Y[F]=H[F].default)})}return Y});function $e(Y,H){let F="";return Y>1?(H==="day"&&(F=O.value.expires_days),H==="week"&&(F=O.value.expires_weeks),H==="month"&&(F=O.value.expires_months)):(H==="day"&&(F=O.value.expires_day),H==="week"&&(F=O.value.expires_week),H==="month"&&(F=O.value.expires_month)),F}let ye=B("amColors"),be=C(()=>({"--am-c-fcip-success-op20":ee(ye.value.colorSuccess,.2),"--am-c-fcip-primary-op20":ee(ye.value.colorPrimary,.2),"--am-c-fcip-text-op80":ee(ye.value.colorMainText,.8),"--am-c-fcip-text-op60":ee(ye.value.colorMainText,.6),"--am-c-fcip-text-op03":ee(ye.value.colorMainText,.03),"--am-c-fcip-btn-op50":ee(ye.value.colorBtnSec,.5)})),Le=C(()=>({"--am-c-fcip-bgr":ye.value.colorMainBgr,"--am-c-fcip-text":ye.value.colorMainText,"--am-c-fcip-success":ye.value.colorSuccess,"--am-c-fcip-primary":ye.value.colorPrimary,"--am-c-scroll-op30":ee(ye.value.colorPrimary,.3),"--am-c-scroll-op10":ee(ye.value.colorPrimary,.1),"--am-font-family":Re.fontFamily}));return(Y,H)=>(a(),i(se,null,[e(pe)?d("",!0):(a(),ve(Nt,{key:0,ref_key:"contentRef",ref:r,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":"am-fcip__content",style:ce(e(be))},Ot({heading:A(()=>[t("div",{class:M([[{"am-tablet":e(f)<=678},{"am-mobile":e(f)<450}],"am-fcip__header-top"])},[t("div",To,[t("span",Bo,[t("span",null,n(e(D).name),1)]),e(w).packageBadge.visibility?(a(),i("div",Fo,[zo,t("span",null,n(e(O).package),1)])):d("",!0)]),t("div",Ao,[e(D).discount&&e(w).packagePrice.visibility?(a(),i("span",Ro,n(`${e(O).save} ${e(D).discount}%`),1)):d("",!0),e(w).packagePrice.visibility?(a(),i("span",Oo,n(e(D).price?e(Qe)(e(D).calculatedPrice?e(D).price:e(D).price-e(D).price/100*e(D).discount):e(O).free),1)):d("",!0),t("span",Mo,[G(ze,{type:e(w).bookingBtn.buttonType,onClick:_e},{default:A(()=>[Se(n(e(O).book_now),1)]),_:1},8,["type"])])])],2),e(w).packageCategory.visibility&&e(p).package.length!==1||e(w).packageDuration.visibility||e(w).packageCapacity.visibility||e(w).packageLocation.visibility&&e(j).length?(a(),i("div",No,[t("div",Vo,[e(p).package.length!==1&&e(w).packageBadge.visibility?(a(),i("div",Uo,[Wo,t("span",null,n(e(N).name),1)])):d("",!0),e(w).packageDuration.visibility?(a(),i("div",jo,[Ho,e(D).endDate?(a(),i("span",qo,n(`${e(O).expires_at} ${e(D).endDate.split(" ")[0]}`),1)):e(D).durationCount?(a(),i("span",Go,n(`${e(O).expires_after} ${e(D).durationCount} ${$e(e(D).durationCount,e(D).durationType)}`),1)):(a(),i("span",Jo,n(e(O).without_expiration),1))])):d("",!0),e(w).packageCapacity.visibility?(a(),i("div",Yo,Zo)):d("",!0),e(j).length&&e(w).packageLocation.visibility?(a(),i("div",Ko,[en,t("span",null,n(e(j).length===1?e(j)[0].address?e(j)[0].address:e(j)[0].name:e(O).multiple_locations),1)])):d("",!0)])])):d("",!0)]),content:A(()=>[e(D).gallery.length?(a(),i("div",tn,[t("div",{class:M(["am-fcip__gallery-hero",[{w100:e(D).gallery.length===1},{"am-mobile w100":e(f)<678}]]),style:ce({backgroundImage:`url(${e(D).gallery[0].pictureFullPath})`})},null,6),e(xe).length&&e(f)>677?(a(),i("div",an,[(a(!0),i(se,null,ge(e(xe),(F,ae)=>(a(),i("div",{key:ae,class:M(["am-fcip__gallery-thumb",{"am-one-thumb":e(xe).length===1}]),style:ce({backgroundImage:`url(${F.pictureFullPath})`})},null,6))),128))])):d("",!0),G(ze,{"custom-class":`am-fcip__gallery-btn${e(f)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:H[0]||(H[0]=()=>re(R)?R.value=!0:R=!0)},{default:A(()=>[sn,t("span",null,n(e(O).view_all_photos),1)]),_:1},8,["custom-class"])])):d("",!0),G(ut,{modelValue:e(R),"onUpdate:modelValue":H[4]||(H[4]=F=>re(R)?R.value=F:R=F),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:A(()=>[t("div",{class:"am-gd",style:ce(e(Le))},[t("div",ln,[t("div",on,[t("span",{class:"am-icon-arrow-left",onClick:H[1]||(H[1]=()=>re(J)?J.value=e(J)<=0?e(D).gallery.length-1:e(J)-1:J=e(J)<=0?e(D).gallery.length-1:e(J)-1)}),t("span",{class:"am-icon-arrow-right",onClick:H[2]||(H[2]=()=>re(J)?J.value=e(D).gallery.length-1===e(J)?0:e(J)+1:J=e(D).gallery.length-1===e(J)?0:e(J)+1)})]),(a(!0),i(se,null,ge(e(D).gallery,(F,ae)=>(a(),i("div",{key:ae,class:"am-gd__display",style:ce({display:ae===e(J)?"flex":"none"}),onClick:H[3]||(H[3]=()=>re(J)?J.value=e(D).gallery.length-1===e(J)?0:e(J)+1:J=e(D).gallery.length-1===e(J)?0:e(J)+1)},[t("img",{src:F.pictureFullPath,alt:ae},null,8,nn)],4))),128))]),t("div",cn,n(`${e(J)+1}/${e(D).gallery.length}`),1),t("div",rn,[(a(!0),i(se,null,ge(e(D).gallery,(F,ae)=>(a(),i("div",{key:ae,class:M(["am-gd__thumb",{"am-active":ae===e(J)}]),style:ce({backgroundImage:`url(${F.pictureFullPath})`}),onClick:()=>re(J)?J.value=ae:J=ae},null,14,un))),128))])],4)]),_:1},8,["modelValue"]),e(w).packageDescription.visibility&&e(Ae)(e(D).description)||e(w).packageEmployees.visibility?(a(),i("div",dn,[t("div",mn,[e(Ae)(e(D).description)&&e(w).packageDescription.visibility?(a(),i("div",{key:0,class:M(["am-fcip__info-tab",{"am-active":e(V)==="description"}]),onClick:H[5]||(H[5]=()=>re(V)?V.value="description":V="description")},n(e(O).about_package),3)):d("",!0),e(w).packageEmployees.visibility?(a(),i("div",{key:1,class:M([{"am-active":e(V)==="employees"},"am-fcip__info-tab"]),onClick:H[6]||(H[6]=()=>re(V)?V.value="employees":V="employees")},n(e(O).tab_employees),3)):d("",!0)]),t("div",pn,[e(Ae)(e(D).description)&&e(w).packageDescription.visibility?wt((a(),i("div",_n,[t("div",{class:M(["am-fcip__info-service__desc",{"ql-description":e(D).description.includes("<!-- Content -->")}]),innerHTML:e(D).description},null,10,fn)],512)),[[St,e(V)==="description"]]):d("",!0),e(w).packageEmployees.visibility?wt((a(),i("div",vn,[G(Ct,null,{default:A(()=>[(a(!0),i(se,null,ge(e(u),F=>(a(),ve($t,{key:F.id,side:""},{heading:A(()=>[t("div",gn,[t("div",yn,[G(ct,{"item-class":"am-fcip__info-employee__img","item-data":F,"trim-string":3},null,8,["item-data"]),t("div",hn,[Se(n(F.firstName)+" "+n(F.lastName)+" ",1),F.badge?(a(),i("span",{key:0,style:ce({background:F.badge.color}),class:"am-fcip__info-employee__badge"},n(F.badge.content),5)):d("",!0)])])])]),default:A(()=>[e(Ae)(F.description)?(a(),i("div",{key:0,class:M(["am-fcip__info-employee__description",{"ql-description":F.description.includes("<!-- Content -->")}]),innerHTML:F.description},null,10,bn)):d("",!0)]),_:2},1024))),128))]),_:1})],512)),[[St,e(V)==="employees"]]):d("",!0)])])):d("",!0),e(w).packageServices.visibility?(a(),i("div",kn,[t("div",Cn,[t("span",$n,n(`${e(O).package_includes}:`),1)]),G(Ct,null,{default:A(()=>[(a(!0),i(se,null,ge(e(D).bookable,F=>(a(),ve($t,{key:F.id,side:!0},{heading:A(()=>[t("div",wn,[G(ct,{"item-class":"am-fcip__include-service__img","item-data":F.service},null,8,["item-data"]),Se(" "+n(F.service.name+(e(D).sharedCapacity?"":" x"+F.quantity)),1)])]),default:A(()=>[t("div",Sn,[t("span",null,n(`${e(O).tab_employees}:`),1),(a(!0),i(se,null,ge(ke(F).slice(0,6),ae=>(a(),ve(ct,{key:ae.id,"item-class":"am-fcip__include-service__info-name","item-data":ae,"trim-string":3},null,8,["item-data"]))),128)),ke(F).length>6?(a(),i("span",xn," + "+n(ke(F).length-6),1)):d("",!0),e(Ae)(F.service.description)?(a(),i("div",{key:1,class:M(["am-fcip__include-service__info-description",{"ql-description":F.service.description.includes("<!-- Content -->")}]),innerHTML:F.service.description},null,10,In)):d("",!0)])]),_:2},1024))),128))]),_:1}),t("div",Pn,[t("span",Dn,n(e(O).package_book_service),1)])])):d("",!0),G(ut,{modelValue:e(g),"onUpdate:modelValue":H[7]||(H[7]=F=>re(g)?g.value=F:g=F),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(Z),onClosed:Ie},{default:A(()=>[G(Wt)]),_:1},8,["modelValue","width"])]),_:2},[e(p).package.length!==1?{name:"header",fn:A(()=>[G(Mt,{"btn-string":e(O).back_btn,"btn-type":e(w).backBtn.buttonType,onGoBack:ie},null,8,["btn-string","btn-type"])])}:void 0]),1032,["style"])),e(pe)?(a(),i("div",En,[t("img",{src:e(L).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ln),t("div",Tn,n(e(O).oops),1),t("div",Bn,n(e(O).no_package_services),1),t("div",Fn,[t("a",zn,n(e(O).add_services_url)+"\xA0 ",1)])],512)):d("",!0)],64))}});const On={name:"CatalogSkeleton"},Mn=Object.assign(On,{setup(_){let h=S(null),r=S(0);window.addEventListener("resize",f);function f(){h.value&&(r.value=h.value.offsetWidth)}Be(()=>{h.value&&(r.value=h.value.offsetWidth)});let k=C(()=>r.value<=500?"am-w100":r.value<=600?"am-w50":r.value<=768?"am-w33":"");return(L,m)=>{const s=Ya,p=Ja;return a(),i("div",{ref_key:"amSkeletonContainer",ref:h,class:"am-skeleton-catalog__wrapper"},[G(p,{animated:"",class:"am-skeleton-catalog"},{template:A(()=>[(a(!0),i(se,null,ge(new Array(8),b=>(a(),i("div",{key:b,class:M(["am-skeleton-catalog__item",e(k)])},[G(s,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Nn=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),Vn=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),Un=["href"],Wn={name:"CatalogFormWrapper"},jn=Object.assign(Wn,{emits:["isRestored"],setup(_,{emit:h}){let r=B("isMounted"),f=B("licence"),k=S(null),L=S(20);const m=B("baseUrls");let s=S(0);te("containerWidth",s),window.addEventListener("resize",p);function p(){k.value&&(s.value=k.value.offsetWidth)}Be(()=>{P.commit("shortcodeParams/setForm","catalogForm"),document.getElementById("amelia-v2-booking-"+w.value.counter).classList.add("amelia-v2-booking-"+w.value.counter+"-loaded"),_t(P,{},"ViewContent","appointment",null,null),p(),r.value=!0,Xt("scrollForm",{offsetFromTop:L})});let b=S(!1);const $=B("settings"),w=B("shortcodeData"),P=at();P.commit("entities/setPreselected",w.value),P.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields"],licence:f,loadEntities:w.value.trigger||window.ameliaShortcodeData.filter(o=>!o.hasApiCall).length===window.ameliaShortcodeData.length?!0:w.value.hasApiCall});const v=we(zi),N=we(_l),D=we(Lo),J=we(Rn);let V=S([v,N]),u=S(0),j=S(null);te("categorySelected",j);let U=S([]);te("availableCategories",U);let ke=S("");te("itemType",ke),kt(ke,()=>{ke.value==="appointment"&&V.value.push(D),ke.value==="package"&&V.value.push(J),ke.value===""&&V.value.forEach((o,oe)=>{o.name==="CategoryService"&&pe(V.value,oe),o.name==="CategoryPackage"&&pe(V.value,oe)})});function pe(o,oe){o.splice(oe,1)}function R(){u.value=u.value+1;let o=k.value.getBoundingClientRect().top+window.pageYOffset-L.value;window.scrollTo({top:o,behavior:"smooth"})}function xe(){u.value=u.value-1}te("changingPageFunctions",{nextPage:R,previousPage:xe});let ie=C(()=>P.getters["entities/getReady"]),g=C(()=>P.state.entities);te("amEntities",g);function Z(){let o=P.getters["entities/getPreselected"];if(w.value.categories_hidden&&o.category.length!==1&&(U.value=JSON.parse(JSON.stringify(fi(g.value,w.value))),j.value=parseInt(U.value.length?U.value[0].id:null),P.commit("booking/setCategoryId",parseInt(j.value)),De(()=>{let oe=V.value.findIndex(O=>O.name==="CategoriesList");V.value.splice(oe,1)})),o.category.length===1&&(P.commit("booking/setCategoryId",parseInt(o.category)),j.value=parseInt(o.category[0]),U.value=JSON.parse(JSON.stringify(g.value.categories.filter(oe=>oe.id===parseInt(o.category[0])&&oe.status==="visible"&&oe.serviceList.length&&!!ft(w,oe,g.value).length))),De(()=>{let oe=V.value.findIndex(O=>O.name==="CategoriesList");V.value.splice(oe,1)})),o.service.length===1){P.commit("booking/setServiceId",parseInt(o.service[0]));let oe=P.getters["entities/getService"](parseInt(o.service[0]));j.value=oe?parseInt(oe.categoryId):null,P.commit("booking/setCategoryId",oe?parseInt(oe.categoryId):null),De(()=>{V.value=[],V.value.push(D)})}o.employee.length===1&&P.commit("booking/setEmployeeId",parseInt(o.employee[0])),o.location.length===1&&P.commit("booking/setLocationId",parseInt(o.location[0])),o.package.length===1&&(P.commit("booking/setPackageId",parseInt(o.package[0])),V.value=[],V.value.push(J)),o.show==="packages"?P.commit("booking/setBookableType","package"):P.commit("booking/setBookableType","appointment")}let _e=C(()=>ie.value?Xa(P,w.value):null);te("restoreFormData",_e),kt(ie,o=>{o&&(Z(),b.value=P.getters["entities/getServices"].length===0||P.getters["entities/getEmployees"].length===0,_e.value&&(ke.value=P.state.booking.appointment.type,De(()=>{u.value=V.value.length-1,j.value=P.state.booking.appointment.categoryId,h("isRestored",_e.value)})))});let fe=C(()=>$.customizedData&&"cbf"in $.customizedData?$.customizedData.cbf:nt.cbf);te("customizedDataForm",fe);const le=S($.customizedData?$.customizedData.fonts:nt.fonts);te("amFonts",le);let K=C(()=>$.customizedData&&"cbf"in $.customizedData?$.customizedData.cbf.colors:nt.cbf.colors);te("amColors",K);let Ie=C(()=>({"--am-c-primary":K.value.colorPrimary,"--am-c-success":K.value.colorSuccess,"--am-c-error":K.value.colorError,"--am-c-warning":K.value.colorWarning,"--am-c-main-bgr":K.value.colorMainBgr,"--am-c-main-heading-text":K.value.colorMainHeadingText,"--am-c-main-text":K.value.colorMainText,"--am-c-sb-bgr":K.value.colorSbBgr,"--am-c-sb-text":K.value.colorSbText,"--am-c-inp-bgr":K.value.colorInpBgr,"--am-c-inp-border":K.value.colorInpBorder,"--am-c-inp-text":K.value.colorInpText,"--am-c-inp-placeholder":K.value.colorInpPlaceHolder,"--am-c-drop-bgr":K.value.colorDropBgr,"--am-c-drop-text":K.value.colorDropText,"--am-c-card-bgr":K.value.colorCardBgr,"--am-c-card-text":K.value.colorCardText,"--am-c-card-border":K.value.colorCardBorder,"--am-c-btn-prim":K.value.colorBtnPrim,"--am-c-btn-prim-text":K.value.colorBtnPrimText,"--am-c-btn-sec":K.value.colorBtnSec,"--am-c-btn-sec-text":K.value.colorBtnSecText,"--am-c-skeleton-op20":ee(K.value.colorMainText,.2),"--am-c-skeleton-op60":ee(K.value.colorMainText,.6),"--am-font-family":le.value.fontFamily}));function Re(){let o=document.head||document.getElementsByTagName("head")[0];o.querySelector("#amCustomFont")&&o.querySelector("#amCustomFont").remove();let oe=`@font-face {font-family: '${le.value.fontFamily}'; src: url(${le.value.fontUrl});}`,O=document.createElement("style");o.appendChild(O),O.setAttribute("type","text/css"),O.setAttribute("id","amCustomFont"),O.appendChild(document.createTextNode(oe))}le.value.customFontSelected&&Re();let Ee=C(()=>({colorInputBorderRadius:"6px"}));return te("amDesignProperties",Ee),(o,oe)=>(a(),i(se,null,[le.value.customFontSelected?d("",!0):(a(),i(se,{key:0},[Nn,Vn,t("link",{rel:"stylesheet",type:"text/css",href:`${e(m).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,Un)],64)),t("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:k,class:"am-fc__wrapper",style:ce(e(Ie))},[e(ie)&&e(V).length?(a(),ve(Zt(e(V)[e(u)]),{key:0})):(a(),ve(Mn,{key:1}))],4),G(e(Qa))],64))}});var Gn=Object.freeze(Object.defineProperty({__proto__:null,default:jn},Symbol.toStringTag,{value:"Module"}));export{Gn as C,ut as _,xt as a,mi as b,Mt as c,ct as d,Nt as e,jn as f};
