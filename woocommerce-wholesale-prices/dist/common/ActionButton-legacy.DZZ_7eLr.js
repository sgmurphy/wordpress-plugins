System.register(["../apps/settings/index-legacy.DPQ6n18a.js","./index-legacy.D14KrnAq.js"],(function(e,t){"use strict";var n,u,o,l,i,r,s,a,c,v;return{setters:[e=>{n=e.q,u=e.ab,o=e.d,l=e.v,i=e.aA,r=e.b,s=e.D,a=e.k},e=>{c=e.c,v=e.B}],execute:function(){const t={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:a(),emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function f(e){return!(!e||!e.then)}e("A",o({compatConfig:{MODE:3},name:"ActionButton",props:t,setup(e,t){let{slots:o}=t;const a=n(!1),p=n(),d=n(!1);let g;const m=(()=>{const e=n(!1);return u((()=>{e.value=!0})),e})();l((()=>{e.autofocus&&(g=setTimeout((()=>{var e,t;return null===(t=null===(e=i(p.value))||void 0===e?void 0:e.focus)||void 0===t?void 0:t.call(e)})))})),u((()=>{clearTimeout(g)}));const y=function(){for(var t,n=arguments.length,u=new Array(n),o=0;o<n;o++)u[o]=arguments[o];null===(t=e.close)||void 0===t||t.call(e,...u)},h=t=>{const{actionFn:n}=e;if(a.value)return;if(a.value=!0,!n)return void y();let u;if(e.emitEvent){if(u=n(t),e.quitOnNullishReturnValue&&!f(u))return a.value=!1,void y(t)}else if(n.length)u=n(e.close),a.value=!1;else if(u=n(),!u)return void y();(e=>{f(e)&&(d.value=!0,e.then((function(){m.value||(d.value=!1),y(...arguments),a.value=!1}),(e=>(m.value||(d.value=!1),a.value=!1,Promise.reject(e)))))})(u)};return()=>{const{type:t,prefixCls:n,buttonProps:u}=e;return r(v,s(s(s({},c(t)),{},{onClick:h,loading:d.value,prefixCls:n},u),{},{ref:p}),o)}}}))}}}));
