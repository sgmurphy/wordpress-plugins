import{d as x,t as j,aZ as q,r as p,S as B,o as d,c as D,V as I,e as y,w as C,b as K,W as O,X as U,u as E,Y as N,Z as P,i as W,U as Z}from"../apps/settings/index.7e5fa022.js";import{_ as $}from"./LeadCaptureRecommended.vue_vue_type_style_index_0_lang.f28e2b60.js";const X=x({__name:"DynamicComponents",props:{sectionParent:{type:String,required:!0},sectionChild:{type:String,required:!0},sectionKey:{type:String,required:!0}},emits:["fieldData"],setup(k,{emit:s}){const S=k,{sectionParent:i,sectionChild:f,sectionKey:b}=j(S),c=q.settings;let _=null;typeof c.controls[i.value][f.value]<"u"&&c.controls[i.value][f.value]!==null&&(_=c.controls[i.value][f.value][b.value]);const u=p(_),r=B({controls:u.value}),e=p([]),h=p([]);typeof u.value<"u"&&u.value!==null&&(r.controls=u.value.filter(t=>typeof t.hide<"u"&&t.hide?!1:(typeof e.value[t.id]<"u"&&(t.default=e.value[t.id]),!0)));const V=t=>{Object.entries(t).forEach(([a,n])=>{e.value[a]=n}),s("fieldData",e.value)},w=(t,a)=>{const n=t;a.type==="checkbox"&&(n.target.value=n.target.checked),e.value[a.id]=n.target.value,s("fieldData",e.value)},g=t=>{let a="",n="";for(const[l,o]of Object.entries(t)){let v=o;a=l,n=v}r.controls=u.value.filter(l=>{if(typeof l.condition<"u"){const o=l.condition.find(v=>v.key===a);return o.value==="yes"&&n==="yes"||o.value==="no"&&n==="no"?(typeof e.value[l.id]<"u"&&(l.default=e.value[l.id]),!0):!1}else return typeof e.value[l.id]<"u"&&(l.default=e.value[l.id]),!0}),h.value[a]=n,e.value[a]=n,s("fieldData",e.value)},F=t=>{r.controls=u.value.filter(a=>typeof a.hide<"u"&&a.hide!==null&&a.hide?!1:(typeof e.value[a.id]<"u"&&e.value[a.id]!==null&&(a.default=e.value[a.id]),!0))};return(t,a)=>(d(!0),D(Z,null,I(r.controls,(n,l)=>(d(),D("div",{key:l},[(d(),y(P,null,{fallback:C(()=>[K(O)]),default:C(()=>[(d(),y(U(E(N)(n.type)),{params:n,"conditional-values":h.value,onInput:o=>w(o,n),onFieldData:V,onConditionalData:g,onSelectedCondition:g,onFieldUpdatedData:F},null,40,["params","conditional-values","onInput"]))]),_:2},1024)),n.show_lead_upgrade!=null&&n.show_lead_upgrade?(d(),y($,{key:0})):W("",!0)]))),128))}});export{X as _};
