!function(){var e={4184:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var l=i.apply(null,n);l&&e.push(l)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var r in n)o.call(n,r)&&n[r]&&e.push(r)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.hooks;const t={offlineEnabled:{type:"boolean",default:!0},offlineUseGlobalInstructions:{type:"boolean",default:!0},offlineDonationInstructions:{type:"string",default:window.giveOfflineGatewaySettings.defaultInstructions}};var o=window.wp.element,i=window.wp.compose,a=window.wp.blockEditor,l=window.wp.i18n,r=window.wp.components,s=n(4184),c=n.n(s);function p(){return(0,o.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none"},(0,o.createElement)(r.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.069 2.251H8.25a.75.75 0 1 1 0 1.5H5.1c-.642 0-1.08 0-1.417.028-.329.027-.497.076-.614.136a1.5 1.5 0 0 0-.656.655c-.06.117-.108.286-.135.614-.027.338-.028.775-.028 1.417v6.3c0 .643 0 1.08.028 1.417.027.329.076.497.135.614a1.5 1.5 0 0 0 .656.656c.117.06.285.108.614.135.338.028.775.028 1.417.028h6.3c.642 0 1.08 0 1.417-.028.329-.027.497-.076.614-.135a1.5 1.5 0 0 0 .655-.656c.06-.117.109-.285.136-.614.027-.338.028-.774.028-1.417v-3.15a.75.75 0 0 1 1.5 0v3.181c0 .604 0 1.102-.033 1.508-.035.422-.109.81-.294 1.173a3 3 0 0 1-1.311 1.311c-.364.186-.752.26-1.173.294-.406.033-.904.033-1.508.033H5.069c-.604 0-1.102 0-1.508-.033-.421-.034-.809-.108-1.173-.294a3 3 0 0 1-1.311-1.31c-.185-.365-.26-.752-.294-1.174-.033-.406-.033-.904-.033-1.508V6.57c0-.604 0-1.102.033-1.508.035-.421.109-.809.294-1.173a3 3 0 0 1 1.311-1.31c.364-.186.752-.26 1.173-.295.406-.033.904-.033 1.508-.033z",fill:"#737373"}),(0,o.createElement)(r.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M13.345 1.346a2.34 2.34 0 1 1 3.31 3.31L9.483 11.83l-.044.044c-.215.216-.406.406-.635.547-.201.123-.42.214-.65.269-.261.063-.53.063-.836.062H6a.75.75 0 0 1-.75-.75v-1.318c0-.305 0-.574.062-.836.055-.23.146-.449.27-.65.14-.23.33-.42.546-.635l.045-.044 7.172-7.172z",fill:"#737373"}))}function d({id:e,help:t,heading:n,buttonCaption:i,children:a,onButtonClick:l,isButtonActive:s}){return(0,o.createElement)(r.BaseControl,{id:e,help:t},(0,o.createElement)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},(0,o.createElement)("span",null,n),(0,o.createElement)(r.Button,{className:c()("givewp-control-popover-setting-button",{"givewp-control-popover-setting-button--active":s,"givewp-control-popover-setting-button--has-caption":""!==i}),onClick:l,icon:i?null:p,children:i||null})),a)}var u=window.wp.primitives,g=(0,o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(u.Path,{d:"M20.2 8v11c0 .7-.6 1.2-1.2 1.2H6v1.5h13c1.5 0 2.7-1.2 2.7-2.8V8zM18 16.4V4.6c0-.9-.7-1.6-1.6-1.6H4.6C3.7 3 3 3.7 3 4.6v11.8c0 .9.7 1.6 1.6 1.6h11.8c.9 0 1.6-.7 1.6-1.6zm-13.5 0V4.6c0-.1.1-.1.1-.1h11.8c.1 0 .1.1.1.1v11.8c0 .1-.1.1-.1.1H4.6l-.1-.1z"})),m=(0,o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(u.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})),f=window.wp.keycodes;const{wp:v}=window;function w({id:e,label:t,content:n,setContent:a,rows:l=20}){const s=(0,o.useRef)(!1),[c,p]=(0,o.useState)(n);return(0,o.useEffect)((()=>{s.current&&a(c)}),[c]),(0,o.useEffect)((()=>{function t(e){let t;c&&e.on("loadContent",(()=>{e._lastChange&&e._lastChange!==c?e.setContent(e.getContent()):e.setContent(c)})),e.on("blur",(()=>{t=e.selection.getBookmark(2,!0);const n=document.querySelector(".interface-interface-skeleton__content"),o=n.scrollTop;return e.once("focus",(()=>{t&&(e.selection.moveToBookmark(t),n.scrollTop!==o&&(n.scrollTop=o))})),!1})),e.on("mousedown touchstart",(()=>{t=null}));const n=(0,i.debounce)((()=>{const t=e.getContent();t!==e._lastChange&&(e._lastChange=t,p(t))}),250);e.on("Paste Change input Undo Redo",n),e.on("remove",n.cancel),e.on("keydown",(t=>{f.isKeyboardEvent.primary(t,"z")&&t.stopPropagation(),t.keyCode!==f.BACKSPACE&&t.keyCode!==f.DELETE||!function(e){const t=e.getBody();return!(t.childNodes.length>1)&&(0===t.childNodes.length||!(t.childNodes[0].childNodes.length>1)&&/^\n?$/.test(t.innerText||t.textContent))}(e)||(t.preventDefault(),t.stopImmediatePropagation());const{altKey:n}=t;n&&t.keyCode===f.F10&&t.stopPropagation()})),e.on("init",(()=>{const t=e.getBody();t.ownerDocument.activeElement===t&&(t.blur(),e.focus())}))}function n(){setTimeout((()=>{v.editor.initialize(`editor-${e}`,{mediaButtons:!0,tinymce:{tinymce:!0,plugins:"charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wplink,wpdialogs,wptextpattern,wpview",toolbar1:"formatselect,bold,italic,bullist,numlist,blockquote,alignleft,aligncenter,alignright,link,unlink,wp_more,fullscreen,wp_adv",toolbar2:"wp_add_media,strikethrough,hr,forecolor,pastetext,removeformat,charmap,outdent,indent,undo,redo,wp_help",setup:t},quicktags:!0})}),250)}function o(){"complete"===document.readyState&&n()}return s.current=!0,"complete"===document.readyState?n():document.addEventListener("readystatechange",o),()=>{document.removeEventListener("readystatechange",o),v.editor.remove(`editor-${e}`)}}),[]),(0,o.createElement)("div",{className:"givewp-classic-editor"},(0,o.createElement)(r.BaseControl,{id:`editor-base-control-${e}`,label:t},(0,o.createElement)("textarea",{rows:l,id:`editor-${e}`,onChange:t=>{window.tinymce.get(`editor-${e}`)._lastChange=t.target.value,p(t.target.value)}})))}function h({textToCopy:e}){const[t,n]=(0,o.useState)(!1),a=(0,i.useCopyToClipboard)(e,(()=>(n(!0),setTimeout((()=>n(!1)),1e3))));return(0,o.createElement)(r.Button,{className:"givewp-popover-content-settings__copy-button",isSmall:!0,variant:"tertiary",ref:a,icon:g},t?(0,l.__)("Copied!","give"):(0,l.__)("Copy Tag","give"))}function E({content:e,onContentChange:t,onClose:n,templateTags:i,heading:a,richText:s}){return(0,o.createElement)(r.Popover,{className:"givewp-popover-content-settings",resize:!1,shift:!0,placement:"left",offset:30},(0,o.createElement)("div",{className:"givewp-popover-content-settings__header"},(0,o.createElement)("div",{className:"givewp-popover-content-settings__heading"},(0,o.createElement)("span",null,a)),(0,o.createElement)(r.Button,{icon:m,className:"givewp-popover-content-settings__close-button",onClick:n})),s?(0,o.createElement)(w,{id:"givewp-popover-content-with-template-tags",label:(0,l.__)("","give"),content:e,setContent:e=>{t(e)}}):(0,o.createElement)(r.TextareaControl,{className:"givewp-popover-content-settings__textarea",value:e,onChange:e=>{t(e)}}),(0,o.createElement)("div",{className:"givewp-popover-content-settings__template-tags-heading"},(0,o.createElement)("span",null,(0,l.__)("Template tags","give"))),(0,o.createElement)("ul",{className:"givewp-popover-content-settings__template-tags-list"},i.map((({id:e,description:t})=>{const n=`{${e}}`;return(0,o.createElement)("li",{className:"givewp-popover-content-settings__template-tag-list-item",key:e},(0,o.createElement)("div",{className:"givewp-popover-content-settings__template-tag-list-item-top"},(0,o.createElement)("span",{className:"givewp-popover-content-settings__template-tag"},n),(0,o.createElement)(h,{textToCopy:n})),(0,o.createElement)("div",{className:"givewp-popover-content-settings__template-tag-list-item-bottom"},(0,o.createElement)("span",{className:"givewp-popover-content-settings__template-description"},t)))}))))}const _=[{id:"offline_mailing_address",description:(0,l.__)("The mailing address provided to the donor to send their payment to.","give")},{id:"sitename",description:(0,l.__)("The name of this website.","give")}];function y({attributes:e,setAttributes:n}){const{isOpen:i,toggle:s,close:c}=function(){const[e,t]=(0,o.useState)(!1);return{isOpen:e,setIsOpen:t,toggle:()=>t((e=>!e)),open:()=>t(!0),close:()=>t(!1)}}();!function(e,t,n){(0,o.useEffect)((()=>{const o=Object.keys(n).reduce(((t,o)=>(!e.hasOwnProperty(o)&&n[o].hasOwnProperty("default")&&(t[o]=n[o].default),t)),{});t(o)}),[])}(e,n,t);const p=window.giveOfflineGatewaySettings,u=(g=(0,l.__)("Global instructions are defined in the <a>Global Settings</a>. When disabled, custom instructions can be written for this form","give"),(0,o.createInterpolateElement)(g,{a:(0,o.createElement)("a",{href:p.offlineSettingsUrl,target:"_blank"})}));var g;return(0,o.createElement)(a.InspectorControls,null,(0,o.createElement)(r.PanelBody,{title:(0,l.__)("Offline Donations","give")},(0,o.createElement)(r.PanelRow,null,(0,o.createElement)(r.ToggleControl,{label:(0,l.__)("Enable offline donations","give"),checked:e.offlineEnabled,onChange:e=>n({offlineEnabled:e})})),e.offlineEnabled&&(0,o.createElement)(r.PanelRow,null,(0,o.createElement)(r.ToggleControl,{label:(0,l.__)("Use global instructions","give"),checked:e.offlineUseGlobalInstructions,onChange:e=>n({offlineUseGlobalInstructions:e}),help:u})),e.offlineEnabled&&!e.offlineUseGlobalInstructions&&(0,o.createElement)(r.PanelRow,null,(0,o.createElement)(d,{id:"offline-donation-instructions",help:(0,l.__)("Enter the instructions you want to display to the donor during the donation process. Most likely this would include important information like mailing address and who to make the check out to","give"),heading:(0,l.__)("Donation Instructions","give"),onButtonClick:s,isButtonActive:i},i&&(0,o.createElement)(E,{onContentChange:e=>n({offlineDonationInstructions:e}),heading:(0,l.__)("Donation Instructions","give"),content:e.offlineDonationInstructions,templateTags:_,onClose:c,richText:!0})))))}var b=(0,i.createHigherOrderComponent)((e=>t=>"givewp/payment-gateways"===t.name?(0,o.createElement)(o.Fragment,null,(0,o.createElement)(e,{...t}),(0,o.createElement)(y,{...t})):(0,o.createElement)(e,{...t})),"withInspectorControl");(0,e.addFilter)("blocks.registerBlockType","givewp/stripe-payment-element",(function(e,n){return"givewp/payment-gateways"===n&&(e.attributes={...e.attributes,offlineAttributes:t}),e})),window.giveOfflineGatewaySettings.offlineEnabled&&(0,e.addFilter)("editor.BlockEdit","givewp/stripe-payment-element",b)}()}();